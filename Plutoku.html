<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width" />
    <title>âš¡ Pluto.jl âš¡</title>
    <meta charset="utf-8" />
    <script>
        console.log(
            "Pluto.jl, by Fons van der Plas (https://github.com/fonsp), MikoÅ‚aj Bochenski (https://github.com/malyvsen), Michiel Dral (https://github.com/dralletje) and friends ðŸŒˆ"
        )
    </script>
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#2a2928">
    <meta name="color-scheme" content="light dark">

    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-96x96.png" />
    <meta name="description" content="Pluto.jl notebooks" />
    <link rel="pluto-logo-big" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/logo.svg" />
    <link rel="pluto-logo-small" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon_unsaturated.svg" />

    <link rel="pluto-sw" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/sw.js" />
    <script>
        navigator.serviceWorker?.register(document.head.querySelector("link[rel='pluto-sw']").getAttribute("href"), { scope: "./" }).catch(console.warn)
    </script>

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@observablehq/stdlib@3.3.1/dist/stdlib.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/iframe-resizer@4.2.11/js/iframeResizer.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/ansi_up@5.0.1/ansi_up.min.js" defer></script>

    <!-- This doesn't do anything unless activated, and it makes sure parcel bundles this -->
    <script id="iframe-resizer-content-window-script" src="https://cdn.jsdelivr.net/npm/iframe-resizer@4.2.11/js/iframeResizer.contentWindow.min.js" crossorigin="anonymous" defer></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/editor.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/hide-ui.css" type="text/css" media="all" data-pluto-file="hide-ui" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/binder.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/treeview.css" type="text/css" />
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/juliamono.css" as="style" />
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/vollkorn.css" as="style" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/highlightjs.css" type="text/css">

    <script data-pluto-file="launch-parameters">
window.pluto_notebook_id = undefined;
window.pluto_isolated_cell_ids = undefined;
window.pluto_notebookfile = "data:text/julia;charset=utf-8;base64,IyMjIEEgUGx1dG8uamwgbm90ZWJvb2sgIyMjCiMgdjAuMTkuMjYKCnVzaW5nIE1hcmtkb3duCnVzaW5nIEludGVyYWN0aXZlVXRpbHMKCiMgVGhpcyBQbHV0byBub3RlYm9vayB1c2VzIEBiaW5kIGZvciBpbnRlcmFjdGl2aXR5LiBXaGVuIHJ1bm5pbmcgdGhpcyBub3RlYm9vayBvdXRzaWRlIG9mIFBsdXRvLCB0aGUgZm9sbG93aW5nICdtb2NrIHZlcnNpb24nIG9mIEBiaW5kIGdpdmVzIGJvdW5kIHZhcmlhYmxlcyBhIGRlZmF1bHQgdmFsdWUgKGluc3RlYWQgb2YgYW4gZXJyb3IpLgptYWNybyBiaW5kKGRlZiwgZWxlbWVudCkKICAgIHF1b3RlCiAgICAgICAgbG9jYWwgaXYgPSB0cnkgQmFzZS5sb2FkZWRfbW9kdWxlc1tCYXNlLlBrZ0lkKEJhc2UuVVVJRCgiNmU2OTZjNzItNjU0Mi0yMDY3LTcyNjUtNDIyMDZjNzU2MTUwIiksICJBYnN0cmFjdFBsdXRvRGluZ2V0amVzIildLkJvbmRzLmluaXRpYWxfdmFsdWUgY2F0Y2g7IGIgLT4gbWlzc2luZzsgZW5kCiAgICAgICAgbG9jYWwgZWwgPSAkKGVzYyhlbGVtZW50KSkKICAgICAgICBnbG9iYWwgJChlc2MoZGVmKSkgPSBDb3JlLmFwcGxpY2FibGUoQmFzZS5nZXQsIGVsKSA/IEJhc2UuZ2V0KGVsKSA6IGl2KGVsKQogICAgICAgIGVsCiAgICBlbmQKZW5kCgojIOKVlOKVkOKVoSBhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTEKYmVnaW4gCgkjIEBiaW5kIGJpbmRKU3Vkb2t1IFN1ZGluaSAjIGV0IHNvbiBqYXZhc2NyaXB0IGVzdCBpbmNsdXMgYXUgcGx1cyBoYXV0CgkjIHN0eWzDqWzDoGJhc2F2ZWNib251cyEgIyMgdm9pciBqdXN0ZSBkYW5zIGxhIGNlbGx1bGUgI0JvbnVzIGF1IGRlc3N1cyDihpEKCWNvbnN0IHBsdXTDtHR2b2lyID0gZmFsc2UgIyB0cnVlICMgUGx1dMO0dCB2b2lyIGwnaW50ZXJmYWNlIGRlIFBsdXRvLmpsICh0cnVlIHZvaXIpCgljb25zdCDDoGNvcnJpZ2VyID0gIvCfmJwgTWVyY2kgZGUgY29ycmlnZXIgbGUgU3Vkb2t1IiwgbWQiIiIjIyMjIyMg8J+YnCBNZXJjaSBkZSByZXZvaXIgbGUgU3Vkb2t1IG1vZGlmaWFibGUsIGlsIG4nZXN0IHBhcyBjb25mb3JtZSA6IAoJCUVuIGVmZmV0LCBpbCBkb2l0IHkgYXZvaXIgKip1biBjaGlmZnJlIGVuIGRvdWJsZSoqIGF1IG1vaW5zIHN1ciB1bmUgbGlnbmUgb3UgY29sb25uZSBvdSBjYXJyw6kg8J+YhCIiIgoJY29uc3QgaW1wb3NzaWJsZSA9ICLwn6eQIFN1ZG9rdSBmYXV4IGV0IGltcG9zc2libGUiLCBtZCIiIiMjIyMjIyDwn6eQIFN1ZG9rdSBmYXV4IGV0IGltcG9zc2libGUgw6AgcsOpc291ZHJlIDoKCQlTaSBjZSBuJ2VzdCBwYXMgbGUgY2FzLCByZXbDqXJpZmllciBsZSBTdWRva3UgbW9kaWZpYWJsZSwgY2FyIGNlbHVpLWNpIG4nYSBwYXMgZGUgc29sdXRpb24iIiIKCXRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKSA9IG1hdHJpY2XDoGxpc3RlSlMobVMpLCBtZCIqKlN0YXRpc3RpcXVlc8KgOioqIGNlIHByb2dyYW1tZSBmYWl0ICoqJG5iQ2hvaXhmYWl0IGNob2l4KiogZXQgXyRuYlRvdXJzVG90YWwgJCgobmJUb3Vyc1RvdGFsPjEpID8gOnRvdXJzIDogOnRvdXIpXyBwb3VyIHLDqXNvdWRyZSBjZSBzdWRva3UiCgljb25zdCBmb290aXggPSAiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXNmb290XCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNsaWNrXCIpKSIKCQoJY29uc3Qgc2V0MTkgPSBTZXQoMTo5KSAjIFBvdXIgbmUgcGFzIGxlIHJlY2FsY3VsZXIgw6AgY2hhcXVlIGZvaXMKCWNvbnN0IGNvb2wgPSBodG1sIjxzcGFuIGlkPSdCTicgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyc+8J+Yjjwvc3Bhbj4iCglqc3ZkKCkgPSBmaWxsKGZpbGwoMCw5KSw5KSAjIEpTdmlkZSBvdSBKQ1ZEIF5eIHBzZXVkbyBjb25zdAoJYWRpbmkoKSA9IFtbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCwwLDAsMCwwLDAsMF0sWzAsMSwyLDMsNCw1LDAsMCwwXSxbMCwyLDAsMCwzLDAsNiwwLDBdLFswLDMsNCw1LDYsMCwwLDcsMF0sWzAsNiwwLDAsNywwLDgsMCwwXSxbMCw3LDAsMCw4LDksMCwwLDBdLFswLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXV0gIyBTdWRva3UgYXZlYyBkZXV4IGxldHRyZXPigKYgCgl1c2luZyBSYW5kb206IHNodWZmbGUhICMgQXN0dWNlIHBvdXIgw6p0cmUgZW5jb3JlIHBsdXMgcmFwaWRlID0gRmFzdCAmIEZ1cmlvdXMKCSMjIHNodWZmbGUhKHgpID0geCAjIyBTaSBiZXNvaW4sIG1haXPigKYgRXZlcnlkYXkgSSBzaHVmZmxpbmcgISAoZGl4aXQgTE1GQU8pCgkKCXN0cnVjdCBCb25kSmFtZXNCb25kICMgQm9uZERlZmF1bHQoZWxlbWVudCwgZGVmYXVsdCkgIyMgcG91ciBCYXNlLmdldCgpIGV0IEBiaW5kCgkJb283ICMgZWxlbWVudCAJIAkJIyMgQm9uZCAow6AgYmluZGVyKQoJCXZvZGthTWFydGluaSAjIGRlZmF1bHQgCSMjIHVuIGTDqWZhdXQgXl4KCWVuZCAjIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci9wdWxsLzExCglCYXNlLnNob3coaW86OklPLCBtOjpNSU1FInRleHQvaHRtbCIsIGJkOjpCb25kSmFtZXNCb25kKSA9IAoJCUJhc2Uuc2hvdyhpbyxtLCBiZC5vbzcpCglCYXNlLmdldChiZDo6Qm9uZEphbWVzQm9uZCkgPSBiZC52b2RrYU1hcnRpbmkgIyDDqXZpdGUgRG9jdG9yIE5vKHRoaW5nIG91IG1pc3NpbmcpCgoJU3Vkb2t1TcOpbW8gPSBwdXNoZmlyc3QhKHJlcGVhdChbYWRpbmkoKV0sIDMpLCBqc3ZkKCkpICMgZ2FyZGVyIG1lcyBpbml0aWFsKGUpcyBeXgoJbGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1OjpWZWN0b3J7VmVjdG9ye0ludH19KSA9IGhjYXQoSlN1ZG9rdS4uLikgIycgZW4gcGluYWlsbGFudAoJCWpzbSA9IGxpc3RlSlPDoG1hdHJpY2UgIyMgbWluaSB2ZXJzaW9uCgltYXRyaWNlw6BsaXN0ZUpTKG1hdCxkPTkpID0gW21hdFs6LGldIGZvciBpIGluIDE6ZF0gI0kgd2lsbCBiZSBiYWNrISAjIyBtYXQzIGF1c3NpCgkJbWpzID0gbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24KCSMjIyBtYXRyaWNlw6BsaXN0ZUpTKGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkpID09IEpTdWRva3UgIyMgRXQgaW52ZXJzZW1lbnQKCSMgbmJjbShtYXQpID0gY291bnQoPigwKSwgbWF0ICkgIyBOb21icmUgZGUgY2hpZmZyZXMgPiAwIGRhbnMgdW5lIG1hdHJpY2UKCSMgbmJjaihsanMpID0gY291bnQoPigwKSwgbGlzdGVKU8OgbWF0cmljZShsanMpICkgIyBpZGVtIHBvdXIgdW5lIGxpc3RlIEpTCglrZWxjYXJyw6koaTo6SW50LGo6OkludCkgPSAxKyAzKmRpdihpLTEsMykgKyBkaXYoai0xLDMpICMgbsKwIGR1IGNhcnLDqSBkdSBzdWRva3UKCWNhcnLDqShpOjpJbnQsajo6SW50KT0gMStkaXYoaS0xLDMpKjM6MytkaXYoaS0xLDMpKjMsIDErZGl2KGotMSwzKSozOjMrZGl2KGotMSwzKSozICMgcGVybWV0IGRlIGZhYnJpcXVlciBsZXMgZmlsdHJlcyBwb3VyIG5lIHJlZ2FyZGVyIHF1J3VuIHNldWwgY2FycsOpCgljYXJyKGk6OkludCk9IDErZGl2KGktMSwzKSozOjMrZGl2KGktMSwzKSozICMgZmlsdHJlIGNhcnLDqSDDoCBtb2l0aSAgICDDqSAhCgl2dWVzKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSAodmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSApICMgbGlzdGUgY2hpZmZyZXMgcG9zc2libGVzIHBhciBsaWduZXMvY29sb25uZXMvY2FycsOpcwoJbGlzdGVjYXJyw6kobWF0OjpBcnJheXtJbnQsMn0pPSBbdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSBmb3IgaSBpbiAxOjM6OSBmb3IgaiBpbiAxOjM6OV0gIyBMYSBsaXN0ZSBkZSB0b3VzIGxlcyBjYXJyw6lzIGR1IHN1ZG9rdQoJdHVwbGVjYXJyw6koaWk6OlVuaXRSYW5nZXtJbnR9LGpqOjpVbml0UmFuZ2V7SW50fSAjPSxzZXRpajo6U2V0e1R1cGxle0ludCxJbnR9fT0jKT0gWyhpLGopIGZvciBpIGluIGlpLCBqIGluIGpqXSAjaWYgKGksaikg4oiJIHNldGlqXQoJc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSBzZXRkaWZmKHNldDE5LHZpZXcobWF0LGksOiksIHZpZXcobWF0LDosaiksIHZpZXcobWF0LGNhcnIoaSksY2FycihqKSkpICMgY2FzZSBpLGoKCSMjIyBzZXRkaWZmKHNldDE5LHZ1ZXMobWF0LGksaikuLi4pICMgUG91ciB1bmUgY2FzZSBlbiBpLGoKCWNoaWZmcmVQb3NzaWJsZShtYXQ6OkFycmF5e0ludCwyfSxpOjpJbnQsajo6SW50LGxpbXA6OlNldHtJbnR9LCBpaT1jYXJyKGkpOjpVbml0UmFuZ2V7SW50fSwgamo9Y2FycihqKTo6VW5pdFJhbmdle0ludH0pPSBzZXRkaWZmKHNldDE5LGxpbXAsdmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsIGlpLGpqKSkgIyBQbHVzIGZpbgoKCWZ1bmN0aW9uIHbDqXJpZlN1ZG9rdUJvbihtYXQ6OkFycmF5e0ludCwyfSkgIyBWw6lyaWZpZSBzaSBsZSBzdWRva3UgZXN0IHLDqWdsbwoJCWxlc2NhcnLDqXMgPSBsaXN0ZWNhcnLDqShtYXQpCgkJZm9yIHggaW4gMTo5ICMgUG91ciB0b3VzIGxlcyBjaGlmZnJlcyBkZSAxIMOgIDnigKYKCQkJZm9yIGkgaW4gMTo5ICMg4oCmZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1bmUgbGlnbmUgb3UgdW5lIGNvbG9ubmUgPwoJCQkJaWYgY291bnQoPT0oeCksIG1hdFtpLDpdKT4xIHx8IGNvdW50KD09KHgpLCBtYXRbOixpXSk+MQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVuZAoJCQlmb3IgYyBpbiBsZXNjYXJyw6lzICMg4oCmZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1biBjYXJyw6kgPwoJCQkJaWYgY291bnQoPT0oeCksIGMpPjEKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCWVuZAoJCQllbmQKCQllbmQKCQlyZXR1cm4gdHJ1ZSAjIExlIHN1ZG9rdSBzZW1ibGUgY29uZm9ybWUgKG1haXMgaWwgcGV1dCDDqnRyZSBpbXBvc3NpYmxlKQoJZW5kIAoJZnVuY3Rpb24gc2FjIShuOjpJbnQsIGw6OkludCwgazo6SW50LCBpaTo6VW5pdFJhbmdle0ludH0sIGpqOjpVbml0UmFuZ2V7SW50fSwgbGlzdGVwb3NzaWJsZXM6OlNldHtJbnR9LCBmdXNpYmxlczo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljbzo6RGljdHtJbnQsRGljdHtJbnQsSW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAjIGNvbXB0ZSBsJ29jY3VyZW5jZSBkJ3VuIGNoaWZmcmUgcG91cuKApiAodW5pY2xrISkKCSAjIHBvdXIgbGlnbmUgZXQgY29sb25uZQoJIGdldCEoZGljbywgbiwgRGljdHtJbnQsSW50fSgpICkgIyBkaWNvIDogcG9zaWJpbGl0w6lzIHBhciBjb2xvbm5lL2xpZ25lCgkgZ2V0IShkaWxvLCBuLCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19IH0oKSApICMgZGlsbyA6IGxpZ25lL2NvbG9ubmUg4pm7CgkgZ2V0IShkaWtvLCBuLCBEaWN0e0ludCxJbnR9KCkgKSAjIGRpa28gOiBjYXJyw6kgcXVpIGRldnJhIHN1cHByLiBsYSBwb3NzaWJpbGl0w6kKCSBnZXQhKGZ1c2libGVzLCBuLCBTZXR7SW50fSgpICkgIyBmdXNpYmxlcyA6IG7CsCBkw6lqw6AgZ3JpbGzDqXMKCSBmb3IgbmUgaW4gc2V0ZGlmZihsaXN0ZXBvc3NpYmxlcyxmdXNpYmxlc1tuXSkgIwoJCWRpY29bbl1bbmVdID0gZ2V0KGRpY29bbl0sIG5lLCAwKSArIDEKCQlpZiBkaWNvW25dW25lXSA9PSAxIAoJCQlkaWtvW25dW25lXSA9IGsgCgkJCWRpbG9bbl1bbmVdID0gKGwsIGlpLCBqaikKCQllbHNlaWYgZGljb1tuXVtuZV0gPiAzIHx8IGRpa29bbl1bbmVdICE9IGsgCgkJCXB1c2ghKGZ1c2libGVzW25dLCBuZSkgCgkJCWRlbGV0ZSEoZGljb1tuXSwgbmUpIAoJCWVuZAoJIGVuZAoJZW5kCglmdW5jdGlvbiBzYWshKGk6OkludCwgajo6SW50LCBrOjpJbnQsIGlpOjpVbml0UmFuZ2V7SW50fSwgamo6OlVuaXRSYW5nZXtJbnR9LCBsaXN0ZXBvc3NpYmxlczo6U2V0e0ludH0sIGZ1c2libGVzOjpEaWN0e0ludCwgU2V0e0ludH19LCBkaWxvOjpEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19LCBkaWNvOjpEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19LCBkaWtvOjpEaWN0e0ludCxEaWN0e0ludCxJbnR9fSkgCgkgIyBpZGVtIHBvdXIgbGVzIGthcnLDqXMgOykKCSBnZXQhKGRpa28sIGssIERpY3R7SW50LEludH0oKSApICMgZGlrbyA6IHBvc3NpYmlsaXTDqSBwYXIga2FycsOpCgkgZ2V0IShkaWNvLCBrLCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH0oKSApICMgZGljbyA6IGNvbG9ubmUg4pm7CgkgZ2V0IShkaWxvLCBrLCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH0oKSApICMgZGlsbyA6IGxpZ25lIOKZuwoJIGdldCEoZnVzaWJsZXMsIGssIFNldHtJbnR9KCkgKSAjIGZ1c2libGVzIDogbsKwIGTDqWrDoCBncmlsbMOpcwoJIGZvciBuZSBpbiBzZXRkaWZmKGxpc3RlcG9zc2libGVzLGZ1c2libGVzW2tdKSAjCgkJZGlrb1trXVtuZV0gPSBnZXQoZGlrb1trXSwgbmUsIDApICsgMQoJCWlmIGRpa29ba11bbmVdID09IDEgCgkJCWRpY29ba11bbmVdID0gKGosIGlpKQoJCQlkaWxvW2tdW25lXSA9IChpLCBqaikKCQllbHNlaWYgZGlrb1trXVtuZV0gPiAzIHx8IChkaWNvW2tdW25lXVsxXSAhPSBqICYmIGRpbG9ba11bbmVdWzFdICE9IGkpCgkJCXB1c2ghKGZ1c2libGVzW2tdLCBuZSkgCgkJCWRlbGV0ZSEoZGlrb1trXSwgbmUpIAoJCWVsc2VpZiBkaWNvW2tdW25lXVsxXSAhPSBqCgkJCWRpY29ba11bbmVdID0gKDAgLCAwOjApICMgcGFzIHBvdXIgbGEgY29sb25uZQoJCWVsc2VpZiBkaWxvW2tdW25lXVsxXSAhPSBpCgkJCWRpbG9ba11bbmVdID0gKDAgLCAwOjApICMgcGFzIHBvdXIgbGEgbGlnbmUKCQllbmQKCSBlbmQKCWVuZAoJZnVuY3Rpb24gdW5pY2xrIShkaWNsbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSAsZGljY286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlja286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlsbG86OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlsY286OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0sIGRpbGtvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpa2xvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fX19LCBkaWtjbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX19fSwgZGlra286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgbWF0OjpBcnJheXtJbnQsMn0sIGRpbXA6OkRpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSwgZGljb3LDqXpsaWc6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y29sOjpEaWN0e0ludCwgU2V0e0ludH19LCBkaWNvcsOpemNhcjo6RGljdHtJbnQsIFNldHtUdXBsZXtJbnQsSW50fX19LCBsZXNaw6lyb3PDoFN1cHByOjpTZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSwgw6dhTmF2YW5jZVBhczo6Qm9vbCkgI+KApiB2b2lyIHNpIHVuIGNoaWZmcmUgZXN0IHNldWwgKG91IHVuaXF1ZW1lbnQgc3VyIHVuZSBtw6ptZSBsaWduZSwgY29s4oCmKS4gQ2FyIHBhciBleGVtcGxlLCBzJ2lsIGFwcGFyYcOudCB1bmUgc2V1bGUgZm9pcyBzdXIgbGEgbGlnbmUgOiBjJ2VzdCBxdSdpbCBuZSBwZXV0IHF1J8OqdHJlIGzDoCBeXgoJIyBBdXRyZXMgZXhlbXBsZSwgc2kgZGFucyB1bmUgbGlnbmUsIGlsIG4neSBhIGQnb2NjdXJlbmNlIHF1ZSBkYW5zIHVuIGRlcyAzIGNhcnLDqSwgaWwgbmUgcG91cnJhIHBhcyDDqnRyZSBhaWxsZXVycyBkYW5zIGxlIGNhcnLDqS4KCSBmb3IgKGosZGMpIGluIGRpY2NvICMgcG91ciBsZXMgY29sb25uZXMKCQlmb3IgKG4sdikgaW4gZGMKCQkJaWYgdiA9PSAxCgkJCQlpID0gZGljbG9bal1bbl1bMV0KCQkJCWlmIG4g4oiJIGNoaWZmcmVQb3NzaWJsZShtYXQsaSxqLGdldCEoZGltcCwoaSxqKSxTZXR7SW50fSgpICkpCgkJCQkJcmV0dXJuIGZhbHNlICMgcGFzIDNhIGJvbCBeXgoJCQkJZW5kICMjIG91IHBsdXTDtHQgIyMgbiDiiIkgc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1hdCxpLGopIAoJCQkJbWF0W2ksal0gPSBuCgkJCQlwdXNoIShsZXNaw6lyb3PDoFN1cHByLCAoaSwgaiwgZGlja29bal1bbl0sIGRpY2xvW2pdW25dWzJdLCBkaWNsb1tqXVtuXVszXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2ldLCBqKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtqXSwgaSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpjYXJbZGlja29bal1bbl1dLCAoaSwgaikgKQoJCQkJaGFza2V5KGRpbGxvLCBpKSAmJiBkZWxldGUhKGRpbGxvW2ldLCBuKQoJCQkJaGFza2V5KGRpa2tvLCBkaWNrb1tqXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWNrb1tqXVtuXV0sIG4pCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWZvciAobGlnLCBjb2wpIGluIHNldGRpZmYoZGljb3LDqXpjYXJbZGlja29bal1bbl1dLCAoKGksIGopIGZvciBpIGluIGRpY2xvW2pdW25dWzJdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikgIyDDp2FOYXZhbmNlUGFzICYgZGltcCA/CgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgZm9yIChpLGRsKSBpbiBkaWxsbyAjIHBvdXIgbGVzIGxpZ25lcwoJCWZvciAobix2KSBpbiBkbAoJCQlpZiB2ID09IDEKCQkJCWogPSBkaWxjb1tpXVtuXVsxXQoJCQkJaWYgbiDiiIkgY2hpZmZyZVBvc3NpYmxlKG1hdCxpLGosZ2V0IShkaW1wLChpLGopLFNldHtJbnR9KCkgKSkKCQkJCQlyZXR1cm4gZmFsc2UgIyBwYXMgM2IgYm9sIF5eCgkJCQllbmQgCgkJCQltYXRbaSxqXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChpLCBqLCBkaWxrb1tpXVtuXSwgZGlsY29baV1bbl1bMl0sIGRpbGNvW2ldW25dWzNdKSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0sIGopCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pdLCBpKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltkaWxrb1tpXVtuXV0sKGksIGopICkKCQkJCSMgaGFza2V5KGRpY2NvLGRpY29baV1bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1tpXVtuXVsxXV0sIG4pI3NpbwoJCQkJaGFza2V5KGRpa2tvLGRpbGtvW2ldW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpbGtvW2ldW25dXSwgbikKCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsIGNvbCkgaW4gc2V0ZGlmZihkaWNvcsOpemNhcltkaWxrb1tpXVtuXV0sICgoaSwgaikgZm9yIGogaW4gZGlsY29baV1bbl1bM10pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoayxkaykgaW4gZGlra28gIyBwb3VyIGxlcyBrYXJyw6kKCQlmb3IgKG4sdikgaW4gZGsKCQkJaWYgdiA9PSAxCgkJCQlpLGogPSBkaWtsb1trXVtuXVsxXSxkaWtjb1trXVtuXVsxXQoJCQkJaWYgbiDiiIkgY2hpZmZyZVBvc3NpYmxlKG1hdCxpLGosZ2V0IShkaW1wLChpLGopLFNldHtJbnR9KCkgKSkKCQkJCQlyZXR1cm4gZmFsc2UgIyBwYXMgM2MgYm9sIF5eCgkJCQllbmQgCgkJCQltYXRbaSxqXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChpLGosIGssIGRpa2NvW2tdW25dWzJdLCBkaWtsb1trXVtuXVsyXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2ldLCBqKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtqXSwgaSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpjYXJba10sIChpLCBqKSApCgkJCQkjIGhhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSNzaW8KCQkJCSMgaGFza2V5KGRpY2NvLGRpY29ba11bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1trXVtuXVsxXV0sIG4pI3JkZQoJCQkJw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlpZiBkaWtjb1trXVtuXVsxXSA9PSAwIAoJCQkJCWZvciBjb2wgaW4gc2V0ZGlmZihkaWNvcsOpemxpZ1tkaWtsb1trXVtuXVsxXV0sIGRpa2xvW2tdW25dWzJdKQoJCQkJCQlwdXNoIShnZXQhKGRpbXAsKGRpa2xvW2tdW25dWzFdLGNvbCksU2V0e0ludH0oKSApLCBuKQoJCQkJCWVuZAoJCQkJZWxzZQoJCQkJCWZvciBsaWcgaW4gc2V0ZGlmZihkaWNvcsOpemNvbFtkaWtjb1trXVtuXVsxXV0sIGRpa2NvW2tdW25dWzJdKQoJCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxkaWtjb1trXVtuXVsxXSksU2V0e0ludH0oKSApLCBuKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIHJldHVybiDDp2FOYXZhbmNlUGFzCgllbmQKCWZ1bmN0aW9uIExVbmljbGshKGRpY2xvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19LCBkaWNjbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWNrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxsbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxjbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSwgZGlsa286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlrbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2NvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fX19LCBkaWtrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaW1wOjpEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0pICMgdW5pY2xrISBwb3VyIGh0bWxTdWRva3VQcm9wYWwKCSBmb3IgKGosZGMpIGluIGRpY2NvICMgcG91ciBsZXMgY29sb25uZXMKCQlmb3IgKG4sdikgaW4gZGMKCQkJaWYgdiA9PSAxCgkJCQkjIChkaWNsb1tqXVtuXVsxXSxqLGRpY2tvW2pdW25dLGRpY2xvW2pdW25dWzJdLGRpY2xvW2pdW25dWzNdKQoJCQkJaSxrLCBpaSxqaiA9IGRpY2xvW2pdW25dWzFdLGRpY2tvW2pdW25dLGRpY2xvW2pdW25dWzJdLGRpY2xvW2pdW25dWzNdCgkJCQlmb3IgaWlpIGluIDE6OSAjIOKApm9uIHJldGlyZSBzdXIgbGEgbGlnbmUgZXQgbGEgY29sb25uZQoJCQkJCWdldCEoZGltcCwoaSxpaWkpLFNldHtJbnR9KCkgKQoJCQkJCWdldCEoZGltcCwoaWlpLGopLFNldHtJbnR9KCkgKQoJCQkJCWlpaSAhPSBqICYmIHB1c2ghKGRpbXBbaSxpaWldLG4pCgkJCQkJaWlpICE9IGkgJiYgcHVzaCEoZGltcFtpaWksal0sbikKCQkJCWVuZAoJCQkJZm9yIGpqaiBpbiBqaiwgaWlpIGluIGlpICMg4oCmZXQgc3VyIGxlIGNhcnLDqQoJCQkJCWpqaiAhPSBqICYmIGlpaSAhPSBpICYmIHB1c2ghKGdldCEoZGltcCwoaWlpLGpqaiksU2V0e0ludH0oKSApLG4pCgkJCQllbmQKCQkJCWhhc2tleShkaWxsbyxkaWNsb1tqXVtuXVsxXSkgJiYgZGVsZXRlIShkaWxsb1tkaWNsb1tqXVtuXVsxXV0sIG4pCgkJCQloYXNrZXkoZGlra28sZGlja29bal1bbl0pICYmIGRlbGV0ZSEoZGlra29bZGlja29bal1bbl1dLCBuKQoJCQkJIyDDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWZvciAobGlnLGNvbCkgaW4gc2V0ZGlmZih0dXBsZWNhcnLDqShkaWNsb1tqXVtuXVsyXSxkaWNsb1tqXVtuXVszXSksICgoaSxqKSBmb3IgaSBpbiBkaWNsb1tqXVtuXVsyXSkpCgkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsY29sKSxTZXR7SW50fSgpICksIG4pICMgw6dhTmF2YW5jZVBhcyBkaW1wID8KCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGksZGwpIGluIGRpbGxvICMgcG91ciBsZXMgbGlnbmVzCgkJZm9yIChuLHYpIGluIGRsCgkJCWlmIHYgPT0gMQoJCQkJIyAoaSxkaWxjb1tpXVtuXVsxXSxkaWxrb1tpXVtuXSxkaWxjb1tpXVtuXVsyXSxkaWxjb1tpXVtuXVszXSkKCQkJCWosIGssIGlpLCBqaiA9IGRpbGNvW2ldW25dWzFdLGRpbGtvW2ldW25dLGRpbGNvW2ldW25dWzJdLGRpbGNvW2ldW25dWzNdCgkJCQlmb3IgaWlpIGluIDE6OSAjIOKApm9uIHJldGlyZSBzdXIgbGEgbGlnbmUgZXQgbGEgY29sb25uZQoJCQkJCWdldCEoZGltcCwoaSxpaWkpLFNldHtJbnR9KCkgKQoJCQkJCWdldCEoZGltcCwoaWlpLGopLFNldHtJbnR9KCkgKQoJCQkJCWlpaSAhPSBqICYmIHB1c2ghKGRpbXBbaSxpaWldLG4pCgkJCQkJaWlpICE9IGkgJiYgcHVzaCEoZGltcFtpaWksal0sbikKCQkJCWVuZAoJCQkJZm9yIGpqaiBpbiBqaiwgaWlpIGluIGlpICMg4oCmZXQgc3VyIGxlIGNhcnLDqQoJCQkJCWpqaiAhPSBqICYmIGlpaSAhPSBpICYmIHB1c2ghKGdldCEoZGltcCwoaWlpLGpqaiksU2V0e0ludH0oKSApLG4pCgkJCQllbmQKCQkJCSMgaGFza2V5KGRpY2NvLGRpY29baV1bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1tpXVtuXVsxXV0sIG4pI3NpbwoJCQkJaGFza2V5KGRpa2tvLGRpbGtvW2ldW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpbGtvW2ldW25dXSwgbikKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlmb3IgKGxpZyxjb2wpIGluIHNldGRpZmYodHVwbGVjYXJyw6koZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10pLCAoKGksaikgZm9yIGogaW4gZGlsY29baV1bbl1bM10pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoayxkaykgaW4gZGlra28gIyBwb3VyIGxlcyBrYXJyw6kKCQlmb3IgKG4sdikgaW4gZGsKCQkJaWYgdiA9PSAxCgkJCQkjIChkaWtsb1trXVtuXVsxXSxkaWtjb1trXVtuXVsxXSxrLGRpa2NvW2tdW25dWzJdLGRpa2xvW2tdW25dWzJdKQoJCQkJaSwgaiwgaWksIGpqID0gZGlrbG9ba11bbl1bMV0sZGlrY29ba11bbl1bMV0sZGlrY29ba11bbl1bMl0sZGlrbG9ba11bbl1bMl0KCQkJCWZvciBpaWkgaW4gMTo5ICMg4oCmb24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyDigKZldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJIyBoYXNrZXkoZGlsbG8sZGlsb1trXVtuXVsxXSkgJiYgZGVsZXRlIShkaWxsb1tkaWxvW2tdW25dWzFdXSwgbikjc2lvCgkJCQkjIGhhc2tleShkaWNjbyxkaWNvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpY2NvW2RpY29ba11bbl1bMV1dLCBuKSNyZGUKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlpZiBkaWtjb1trXVtuXVsxXSA9PSAwIAoJCQkJCWZvciBjb2wgaW4gc2V0ZGlmZihzZXQxOSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKHNldDE5LCBkaWtjb1trXVtuXVsyXSkKCQkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsZGlrY29ba11bbl1bMV0pLFNldHtJbnR9KCkgKSwgbikKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQgIyByZXR1cm4gw6dhTmF2YW5jZVBhcwoJIHJldHVybiBub3RoaW5nCgllbmQKCWZ1bmN0aW9uIHBhc0Fzc2V6RGVQcm9wYWwhKGk6OkludCxqOjpJbnQsIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSxkaWN0Q2hlY2tMaTo6RGljdHtTZXR7SW50fSwgU2V0e0ludH19LGRpY3RDaGVja0NqOjpEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0sZGljdENoZWNrQ2FycsOpOjpEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19fSxOaW1wOjpEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0pICMsIHNldGxpZzo6U2V0e0ludH09c2V0MTksIHNldGNvbDo6U2V0e0ludH09c2V0MTkpICMjLCBpaTo6VW5pdFJhbmdle0ludH09Y2FycihpKSwgamo6OlVuaXRSYW5nZXtJbnR9PWNhcnIoaiksIHNldGNhcjo6U2V0e1R1cGxle0ludCxJbnR9fT1TZXQodHVwbGVjYXJyw6koaWksamopKSApIAoJIyBJY2kgbCdpZMOpZSBlc3QgZGUgdm9pciBzJ2lsIHkgYSBwbHVzIGNoaWZmcmVzIMOgIG1ldHRyZSBxdWUgZGUgY2FzZXMgOiBlbiByZWdhcmRhbnQgdG91dCAhIGVudHJlIGRldXggY2FzZXMsIHRyb2lzIGNhc2Vz4oCmIHN1ciBsYSBsaWduZSwgY29sb25uZSwgY2FycsOpIF5eCgkjIEJyZWYsIHMnaWwgbid5IGEgcGFzIGFzc2V6IGRlIHByb3Bvc2l0aW9ucyBwb3VyIGxlcyBjaGlmZnJlcyDDoCBjYXNlciA6IGMnZXN0IHZyYWkKCSMgQydlc3QgcGFzIGZhdXggOiBkb25jIMOnYSB2YS4gCgkjIERlIHBsdXMsIHNpIHVuIChlbnNlbWJsZSBkZSkgY2hpZmZyZSBlc3QgcG9zc2libGUgcXVlIHN1ciBjZXJ0YWluZXMgY2VsbHVsZXMsIGNlbGEgbGUgcmV0aXJlIGR1IHJlc3RlIChlbiBnYXJkYW50IHZpYSBsYSBtYXRyaWNlIE5pbXApLiBQYXIgZXhlbXBsZSwgc3VyIHVuZSBsaWduZSwgb24gYSAxIMOgIDgsIGxhIGRlcm5pw6hyZSBjZWxsdWxlIG5lIHBldXQgcXVlIMOqdHJlIDkgLT4gZ3LDomNlIMOgIE5pbXAsIG9uIHJldGlyZSBsZSA5IGRlcyBwb3NzaWJpbGl0w6lzIGRlIHRvdXRlcyBsZXMgY2VsbHVsZXMgZGUgbGEgY29sb25uZSwgZHUgY2FycsOpIChldCBkZSBsYSBsaWduZeKApikgc2F1ZiBwb3VyIGNldHRlIGRlcm5pw6hyZSBjZWxsdWxlIGp1c3RlbWVudCBeXgoJIyBDZWxhIHBlcm1ldCBkZSBsaW1pdGVyIGxlcyBwb3NzaWJpbGl0w6lzIHBvdXIgw6l2aXRlciBhdSBtaWV1eCBsZXMgY3VscyBkZSBzYWMhCgkjIEV0YW50IHF1YW5kLW3Dqm1lIHVuIHBldSB0cm9wIGxvdXJkLCBpbCBmYXV0IGwndXRpbGlzZXIgcXVlIHNpIGJlc29pbgoJCWZvciAoayx2KSBpbiBjb3B5KGRpY3RDaGVja0NqKSAjIGRpY28gIyBQb3VyIGxlcyBjb2xvbm5lcwoJCQlrayA9IHVuaW9uKGssbGlzdGVwb3NzaWJsZXMpCgkJCWlmIGxlbmd0aChraykgPiBsZW5ndGgodikKCQkJCXZ2ID0gdW5pb24odiwgU2V0KGkpLCBnZXQoZGljdENoZWNrQ2osIGtrLCBTZXR7SW50fSgpICkpIAoJCQkJaWYgbGVuZ3RoKGtrKSA9PSBsZW5ndGgodnYpCgkJCQkJIyBMZXMgY2hpZmZyZXMga2sgc29udCDDoCByZXRpcmVyIGRlIHRvdXRlIGxhIGNvbG9ubmUgc2F1ZiBhdXgga2sKCQkJCQlmb3IgbGltcCBpbiBzZXRkaWZmKHNldDE5LCB2dikKCQkJCQkJdW5pb24hKGdldCEoTmltcCwobGltcCxqKSxTZXR7SW50fSgpICksIGtrKQoJCQkJCWVuZAoJCQkJZW5kCgkJCQlkaWN0Q2hlY2tDaltra10gPSB2dgoJCQllbHNlIAoJCQkJcmV0dXJuIHRydWUKCQkJZW5kCgkJZW5kCQoJCWZvciAoayx2KSBpbiBjb3B5KGRpY3RDaGVja0xpKSAjIGRpbGkgIyBQb3VyIGxlcyBsaWduZXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChqKSwgZ2V0KGRpY3RDaGVja0xpLCBraywgU2V0e0ludH0oKSApICkgCgkJCQlpZiBsZW5ndGgoa2spID09IGxlbmd0aCh2dikKCQkJCQkjIExlcyBjaGlmZnJlcyBrayBzb250IMOgIHJldGlyZXIgZGUgdG91dGUgbGEgbGlnbmUgc2F1ZiBhdXgga2sgCgkJCQkJZm9yIGxpbXAgaW4gc2V0ZGlmZihzZXQxOSwgdnYpCgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGksbGltcCksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrTGlba2tdID0gdnYKCQkJZWxzZSAKCQkJCXJldHVybiB0cnVlCgkJCWVuZAoJCWVuZAoJCWZvciAoayx2KSBpbiBjb3B5KGRpY3RDaGVja0NhcnLDqSkgIyBkaWNhICMgUG91ciBsZXMgY2FycsOpcwoJCQlrayA9IHVuaW9uKGssbGlzdGVwb3NzaWJsZXMpCgkJCWlmIGxlbmd0aChraykgPiBsZW5ndGgodikKCQkJCXZ2ID0gdW5pb24odiwgU2V0KFsoaSxqKV0pLCBnZXQoZGljdENoZWNrQ2FycsOpLCBraywgU2V0e1R1cGxle0ludCxJbnR9fSgpICkgKSAKCQkJCWlmIGxlbmd0aChraykgPT0gbGVuZ3RoKHZ2KQoJCQkJCWZvciAobGltcCxsam1wKSBpbiBzZXRkaWZmKFNldCh0dXBsZWNhcnLDqShjYXJyKGkpLGNhcnIoaikpKSwgdnYpICNzZXRjYXIsdnYKCQkJCQkJdW5pb24hKGdldCEoTmltcCwobGltcCxsam1wKSxTZXR7SW50fSgpICksIGtrKQoJCQkJCWVuZAoJCQkJZW5kCgkJCQlkaWN0Q2hlY2tDYXJyw6lba2tdID0gdnYKCQkJZWxzZSAKCQkJCXJldHVybiB0cnVlCgkJCWVuZAoJCWVuZAkKCQlnZXQhKGRpY3RDaGVja0xpLGxpc3RlcG9zc2libGVzLCBTZXQoIGogKSApCgkJZ2V0IShkaWN0Q2hlY2tDaixsaXN0ZXBvc3NpYmxlcywgU2V0KCBpICkgKQoJCWdldCEoZGljdENoZWNrQ2FycsOpLGxpc3RlcG9zc2libGVzLCBTZXQoIFsoaSxqKV0gKSApCgkJcmV0dXJuIGZhbHNlCgllbmQKCWZ1bmN0aW9uIHB1Y2VzKGxpc3RlLCB2YWxkw6lmYXV0PW5vdGhpbmcgOyBpZFB1Y2VzPSJwIipzdHJpbmcocmFuZChJbnQpKSwgY2xhc3NlPSIiKSAjIFBlcm1ldCBkZSBmYWlyZSBkZXMgcHVjZXMgZW4gSFRNTCBwb3VyIGZhaXJlIHVuIGNob2l4IHVuaXF1ZQoJIyBTaSAi8J+kq8KgQ2FjaMOpZSIgY29jaMOpZSwgY2VsYSBmbG91dGUgbGVzIHB1Y2VzIGR1IGRlc3NvdXMgKFBvc3NpYmxlc0V0U29sdXRpb24pCgkJZMOpYnV0ID0gIjxzcGFuIGlkPSckaWRQdWNlcycgIiAqKGNsYXNzZT09IiIgPyAiPiIgOiAiY2xhc3M9JyRjbGFzc2UnPiIpCgkJZmluID0gIjwvc3Bhbj48c2NyaXB0PmNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnJGlkUHVjZXMnKQoJZm9ybS5vbmlucHV0ID0gKGUpID0+IHsgZm9ybS52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOyAiICoKCQkoaWRQdWNlcz09IkNhY2hlclLDqXN1bHRhdCIgPyByYXciaWYgKGUudGFyZ2V0LnZhbHVlPT0n8J+kq8KgQ2FjaMOpZScpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUG9zc2libGVzRXRTb2x1dGlvbicpLmNsYXNzTGlzdC5hZGQoJ3Bhc2xhJyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmVycycpLmNsYXNzTGlzdC5hZGQoJ3Bhc2xhJyk7CgkJfSBlbHNlIGlmIChlLnRhcmdldC52YWx1ZT09J1BvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2Fyb2xpZ25lJykuY2xhc3NMaXN0LmFkZCgnbWFpc3Rlc291Jyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QucmVtb3ZlKCdwYXNsYScpOwoJCX0gZWxzZSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QucmVtb3ZlKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QucmVtb3ZlKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNhcm9saWduZScpLmNsYXNzTGlzdC5yZW1vdmUoJ21haXN0ZXNvdScpOwoJCX07IiA6ICIiKSAqCgkJKGlkUHVjZXM9PSJQb3NzaWJsZXNFdFNvbHV0aW9uIiA/IHJhdyJpZiAoZS50YXJnZXQudmFsdWU9PSfigKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKScpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjaG9peMOgbWV0dHJlZW5oYXV0JykuY2xhc3NMaXN0LmFkZCgnbWFpc3Rlc291Jyk7CgkJfSBlbHNlIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjaG9peMOgbWV0dHJlZW5oYXV0JykuY2xhc3NMaXN0LnJlbW92ZSgnbWFpc3Rlc291Jyk7CgkJfTsiIDogIiIpICogIn08L3NjcmlwdD4iCgkJaW5wdXRzID0gIiIKCQlmb3IgaXRlbSBpbiBsaXN0ZQoJCQlpbnB1dHMgKj0gIiIiPHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nJGlkUHVjZXMkaXRlbScgbmFtZT0nJGlkUHVjZXMnIHZhbHVlPSckaXRlbScgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyAkKGl0ZW0gPT0gdmFsZMOpZmF1dCA/ICJjaGVja2VkIiA6ICIiKT48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nJGlkUHVjZXMkaXRlbSc+JGl0ZW08L2xhYmVsPjwvc3Bhbj4iIiIKCQllbmQKCQkjIGZvciAoaXRlbSx2YWxldXIpIGluIGxpc3RlICMjIyBzaSBsaXN0ZTo6QXJyYXl7UGFpcntTdHJpbmcsU3RyaW5nfSwxfQoJCSMgCWlucHV0cyAqPSAiIiI8aW5wdXQgdHlwZT0icmFkaW8iIGlkPSIkaWRQdWNlcyRpdGVtIiBuYW1lPSIkaWRQdWNlcyIgdmFsdWU9IiRpdGVtIiBzdHlsZT0ibWFyZ2luOiAwIDRweCAwIDIwcHg7IiAkKGl0ZW0gPT0gdmFsZMOpZmF1dCA/ICJjaGVja2VkIiA6ICIiKT48bGFiZWwgZm9yPSIkaWRQdWNlcyRpdGVtIj4kdmFsZXVyPC9sYWJlbD4iIiIKCQkjIGVuZAoJCXJldHVybiBEb2NzLkhUTUwoZMOpYnV0ICogaW5wdXRzICogZmluKQoJZW5kCgl2YWV0dmllbnQgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+IHZhciB2aWVpbGxlY29waWUgPSBmYWxzZTsKCglmdW5jdGlvbiBkw6lqw6B2dSgpIHsgCgkJdmFyIHDDqHJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLnBhcmVudEVsZW1lbnQ7CgkJdmFyIGZpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29waWVmaW5pZScpOwoJCXZhciBhbmNpZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2t1ZmluaScpOwoJCWlmICh2aWVpbGxlY29waWUuaXNFcXVhbE5vZGUoYW5jaWVuKSkgewoJCQlhbmNpZW4uaW5uZXJIVE1MID0gZmlscy5pbm5lckhUTUw7CgkJCWFuY2llbi5yZW1vdmVDaGlsZChhbmNpZW4ucXVlcnlTZWxlY3RvcigndGZvb3QnKSk7CgkJCW1zZ2EoYW5jaWVuKTsKCQl9CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLmhpZGRlbiA9IGZhbHNlOwoJCXDDqHJlLnJlbW92ZUNoaWxkKGZpbHMpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmlubmVySFRNTCA9IGBTdWRva3UgaW5pdGlhbMKg4qS0IChtb2RpZmlhYmxlKSBldCBzYSBzb2x1dGlvbsKgOiBgCgl9OwoKCWZ1bmN0aW9uIGzDoGhhdXQoKSB7IAoJCXZhciBww6hyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5wYXJlbnRFbGVtZW50OwoJCXZhciBmaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKTsKCQl2YXIgY29waWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2t1ZmluaScpOwoJCWZpbHMgPyBww6hyZS5yZW1vdmVDaGlsZCggZmlscyApIDogdHJ1ZTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykuaGlkZGVuID0gdHJ1ZTsKCQl2YXIgdGFibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7CgkJdmllaWxsZWNvcGllID0gKGNvcGllID8gY29waWUuY2xvbmVOb2RlKHRydWUpIDogdGFibCk7CgkJdGFibC5pZCA9ICdjb3BpZWZpbmllJzsKCQl0YWJsLmNsYXNzTGlzdC5hZGQoJ3N1ZG9rb29sJyk7CgkJdGFibC5pbm5lckhUTUwgPSAoY29waWUgPyBjb3BpZS5pbm5lckhUTUwgOiBgPHRoZWFkIGlkPSd0YWlkZSc+PHRyPjx0ZCBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3dpZHRoOiAzNDBweDtwYWRkaW5nOiAyNnB4IDA7Ym9yZGVyOiAwOyc+UmllbiDDoCBtb250cmVyLCBjJ2VzdCBjb2Now6nCoMKgPGNvZGU+8J+kq8KgQ2FjaMOpZTwvY29kZT48L3RkPjwvdHI+PC90aGVhZD5gKSArIGA8dGZvb3QgaWQ9J3Rlc2Zvb3QnPjx0ciBpZD0nbGlnbmVub252aXNpYmxlJz48dGggY29sc3Bhbj0nOSc+4oaqIENsaXF1ZXIgaWNpIHBvdXIgcmV2ZW5pciBhdSBzdWRva3UgbW9kaWZpYWJsZTwvdGg+PC90cj48L3Rmb290PmA7CgkJcMOocmUuYXBwZW5kQ2hpbGQodGFibCk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhaWRlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZMOpasOgdnUpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXNmb290JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkw6lqw6B2dSk7CgkJY29waWUgPyBtc2dhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJykpIDogdHJ1ZTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU29sdXRpb27CoOKGkSAoYXUgbGlldSBkdSBzdWRva3UgbW9kaWZpYWJsZcKgaW5pdGlhbClgCgl9OwoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsw6BoYXV0KTsKCgk8L3NjcmlwdD48c3BhbiBpZD0ndmFfZXRfdmllbnQnPiIpICMgUG91ciBsZSB0ZXh0ZSBlbnRyZSBsZXMgZGV1eCBzdWRva3UgKGluaXRhdXggZXQgc29sdXRpb24pLiBDZWxhIHBlcm1ldCBkZSByZW1vbnRlciBsYSBzb2x1dGlvbiBlbiBjbGlxdWFudCBkZXNzdXMKCSMgaW50ZXJ2YWwobWluaSxtYXhpLHZhbCkgPSBEb2NzLkhUTUwoIjxpbnB1dCB0eXBlPSdyYW5nZScgbWluPSckKG1pbmkpJyBtYXg9JyQobWF4aSknIHZhbHVlPSckKHZhbCknIG9uaW5wdXQ9J3RoaXMubmV4dEVsZW1lbnRTaWJsaW5nLnZhbHVlPXRoaXMudmFsdWUnPjxvdXRwdXQ+wqAkKHZhbCk8L291dHB1dD4iKSAjIHNsaWRlcgoJaW50ZXJ2YWwobWluaT0xLG1heGk9MSx2YWw9bWF4aSxpZD1zdHJpbmcocmFuZChJbnQpKSkgPSBEb2NzLkhUTUwoIjxpbnB1dCB0eXBlPSdyYW5nZScgbWluPSckKG1pbmkpJyBtYXg9JyQobWF4aSknIHZhbHVlPSckKHZhbCknIGlkPSdpJChpZCknIG9uaW5wdXQ9J3RoaXMubmV4dEVsZW1lbnRTaWJsaW5nLnZhbHVlPXRoaXMudmFsdWU7Jy8+PGlucHV0IHR5cGU9J251bWJlcicgbWluPSckKG1pbmkpJyBtYXg9JyQobWF4aSknIHZhbHVlPSckKHZhbCknIGlkPSdvJChpZCknIG9uaW5wdXQ9J3RoaXMucHJldmlvdXNFbGVtZW50U2libGluZy52YWx1ZT10aGlzLnZhbHVlOycvPiIpICMgc2xpZGVyCgkKCVN1ZGluaShtw6ltbywgY2hvaXgpID0gRG9jcy5IVE1MKCI8c2NyaXB0PiAvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgljb25zdCBwcmVtaWVyID0gSlNPTi5zdHJpbmdpZnkoICQobcOpbW9bMV0pICk7Cgljb25zdCBkZXV4acOobWUgPSBKU09OLnN0cmluZ2lmeSggJChtw6ltb1syXSkgKTsKCWNvbnN0IGRlZmF1bHRGaXhlZFZhbHVlcyA9ICQobcOpbW9bY2hvaXhdKSIgKiByYXciIiIKCQkJCQoJLy8gY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gW1swLDAsMCw3LDAsMCwwLDAsMF0sWzEsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsNCwzLDAsMiwwLDBdLFswLDAsMCwwLDAsMCwwLDAsNl0sWzAsMCwwLDUsMCw5LDAsMCwwXSxbMCwwLDAsMCwwLDAsNCwxLDhdLFswLDAsMCwwLDgsMSwwLDAsMF0sWzAsMCwyLDAsMCwwLDAsNSwwXSxbMCw0LDAsMCwwLDAsMywwLDBdXTsKCQkJCgl3aW5kb3cuY3JlYXRlU3Vkb2t1SHRtbCA9ICh2YWx1ZXMpID0+IHsKCSAgY29uc3QgZGF0YSA9IFtdOwoJICBjb25zdCBodG1sRGF0YSA9IFtdOwoJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkgICAgbGV0IGh0bWxSb3cgPSBbXTsKCSAgICBkYXRhLnB1c2goW10pOwoJICAgIGZvcihsZXQgaj0wOyBqPDk7aisrKXsKCSAgICAgIGNvbnN0IHZhbHVlc0xpbmUgPSB2YWx1ZXNbaV07CgkgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc0xpbmU/dmFsdWVzTGluZVtqXTowOwoJICAgICAgY29uc3QgaHRtbElucHV0ID0gaHRtbGA8aW5wdXQgdHlwZT0ndGV4dCcgCgkgICAgICAgIGRhdGEtcm93PScke2l9JwoJICAgICAgICBkYXRhLWNvbD0nJHtqfScKCSAgICAgICAgbWF4bGVuZ3RoPScxJyAKCSAgICAgICAgdmFsdWU9JyR7KHZhbHVlfHwnJyl9JwoJICAgICAgPmA7CgkJICBjb25zdCBpc01lZGl1bSA9IChqJTMgPT09IDApOwoJCSAgY29uc3QgYmxvY2sgPSBbTWF0aC5mbG9vcihpLzMpLCBNYXRoLmZsb29yKGovMyldOyAvLyBmb25kIGVuIGRhbWllcgoJCSAgY29uc3QgY2xhc3NvdXBhcyA9ICgoYmxvY2tbMF0rYmxvY2tbMV0pJTIgIT09IDApPyhpc01lZGl1bT8nY2xhc3M9ImRhbWllciB0cm9pc2QiJzonY2xhc3M9ImRhbWllciInKTooaXNNZWRpdW0/J2NsYXNzPSJ0cm9pc2QiJzonJyk7CgkgICAgICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkICR7Y2xhc3NvdXBhc30+JHtodG1sSW5wdXR9PC90ZD5gCgkgICAgICBkYXRhW2ldW2pdID0gdmFsdWV8fDA7CgkgICAgICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJICAgIH0KCQkKCSAgICBjb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwoJICAgIGh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOiIifT4ke2h0bWxSb3d9PC90cj5gKTsKCSAgfQoJICBjb25zdCBfc3Vkb2t1ID0gaHRtbGA8dGFibGUgaWQ9InN1ZG9raW5jaXBpdCIgc3VkYXRhPSR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9IGNsYXNzPSdzdWRva29vbCc+CgkgICAgICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJICAgIDwvdGFibGU+YCAgCgkgIHJldHVybiB7X3N1ZG9rdSxkYXRhfTsKCSAgLy8gLy8gcmV0dXJuIF9zdWRva3UgOwoJICAKCX0KCQoJd2luZG93LnN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlID0gKHtfc3Vkb2t1Omh0bWwsIGRhdGF9KSA9PiB7CgkgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSk9PnsKCSAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IAoJICAgIGh0bWwudmFsdWUgPSBkYXRhOwoJICAgIHJldHVybiBmYWxzZTsKCSAgfSk7IAoJICAKCSAgbGV0IGlucHV0cyA9IGh0bWwucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTsKCSAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gewoJCQoJCWNvbnN0IGRhbGlnbmUgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCWNvbnN0IGRhY29sID0gKGUpID0+IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsKCQljb25zdCBldHAyID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKCQljb25zdCBldHAzID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCgkJY29uc3QgbW92ZURvd24gPSAoZSkgPT4geyAKCQkJaWYgKGV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsgCgkJCWV0cDMoZSkuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7IAoJCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gCgkJfQoJCWNvbnN0IG1vdmVVcCA9IChlKSA9PiB7CgkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgeyAKCQkJZXRwMyhlKS5sYXN0Q2hpbGQuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IGVsc2UgeyAKCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZUxlZnQgPSAoZSkgPT4gewoJCQlpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJCWV0cDMoZSkubGFzdENoaWxkLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCQl9IGVsc2UgewoJCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gfSBlbHNlIHsKCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZVJpZ2h0ID0gKGUpID0+IHsgCgkJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQlpZiAoZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJCWV0cDMoZSkuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJCX0gZWxzZSB7CgkJCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSB9IGVsc2UgeyAKCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQkJCgkJaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsKGUpID0+IHsKCQkgIC8vIGUudGFyZ2V0LmZvY3VzKCk7CgkJICBlLnRhcmdldC5zZWxlY3QoKTsKCQkJCgkJICBzd2l0Y2ggKGUua2V5KSB7CgkJCWNhc2UgIkFycm93RG93biI6CgkJCQltb3ZlRG93bihlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd1VwIjoKCQkJCW1vdmVVcChlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd0xlZnQiOgoJCQkJbW92ZUxlZnQoZSk7IGJyZWFrOyAKCQkJY2FzZSAiQXJyb3dSaWdodCI6CgkJCQltb3ZlUmlnaHQoZSk7IGJyZWFrOyAKCQkJY2FzZSAiU2hpZnQiOgoJCQljYXNlICJDYXBzTG9jayI6CgkJCWNhc2UgIk51bUxvY2siOgoJCQkJYnJlYWs7IC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1rZXkvI2tleXMtbW9kaWZpZXIKCQkJY2FzZSAiQmFja3NwYWNlIjoKCQkJY2FzZSAiRGVsZXRlIjoKCQkJCWlmIChkYXRhW2RhbGlnbmUoZSldW2RhY29sKGUpXSAhPT0gMCkgewoJCQkJCWRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldID0gMDsKCQkJCQllLnRhcmdldC52YWx1ZSA9ICIiOwoJCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCQlmb3IodmFyIG5pPTA7bmk8ZWxlLmxlbmd0aDtuaSsrKQoJCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJCWlmIChqZGF0YSA9PSBwcmVtaWVyKSB7CgkJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7CgkJCQkJfQoJCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQkJaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkJCQl9CgkJCQkoZS5rZXk9PT0iRGVsZXRlIik/bW92ZVJpZ2h0KGUpOm1vdmVMZWZ0KGUpOwoJCQkJdmFyIGRhID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCQkJCShlLmtleT09PSJEZWxldGUiKT8oZGEuc2VsZWN0aW9uU3RhcnQgPSBkYS5zZWxlY3Rpb25FbmQgPSBkYS52YWx1ZS5sZW5ndGgpOihkYS5zZWxlY3Rpb25TdGFydCA9IGRhLnNlbGVjdGlvbkVuZCA9IDApOyAvL3NlbGVjdCBLTyA6KAoJCQkJYnJlYWs7CgkJCWRlZmF1bHQ6CgkJCQlyZXR1cm47CgkJCX0gfSkgCgkJCQoJICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywoZSkgPT4gewoJCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCQkgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlIC8vcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpOwoJCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCQoJCSAgY29uc3QgYmlkb3VpbGxpc3RlID0ge2E6MSx6OjIsZTozLHI6NCx0OjUseTo2LHU6NyxpOjgsbzo5LAoJCQlBOjEsWjoyLEU6MyxSOjQsVDo1LFk6NixVOjcsSTo4LE86OSwKCQkJJ1wmJzoxLMOpOjIsJ1wiJzozLCJcJyI6NCwnXCgnOjUsJ1wtJzo2LMOoOjcsXzo4LMOnOjksCgkJCSfCpyc6NiwnISc6OCwgICAgcToxLFE6MSwgdzoyLFc6Mn07CgkKCQkgIGNvbnN0IGFuZHJvaWRDaHJvbWVFc3RDaGlhbnQgPSB7J2InOm1vdmVEb3duLCdCJzptb3ZlRG93biwKCQkJJ2gnOm1vdmVVcCwnSCc6bW92ZVVwLCAgICAgICAgJ2onOm1vdmVSaWdodCwnSic6bW92ZVJpZ2h0LAoJCQknZyc6bW92ZUxlZnQsJ0cnOm1vdmVMZWZ0LCd2Jzptb3ZlTGVmdCwnVic6bW92ZUxlZnQsCgkJCSdkJzptb3ZlUmlnaHQsJ0QnOm1vdmVSaWdodCwnbic6bW92ZVJpZ2h0LCdOJzptb3ZlUmlnaHR9OwoJCgkJICBpZiAodmFsIGluIGJpZG91aWxsaXN0ZSkgewoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPSBiaWRvdWlsbGlzdGVbdmFsXTsKCQkgIH0gZWxzZSBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCQlkYXRhW2ldW2pdID0gcGFyc2VJbnQodmFsKTsKCQkgIH0gZWxzZSBpZiAoKHZhbCA9PSAwKXx8KHZhbCA9PSAnw6AnKXx8KHZhbCA9PSAncCcpfHwodmFsID09ICdQJykpIHsKCQkJZGF0YVtpXVtqXSA9IDA7CgkJCWUudGFyZ2V0LnZhbHVlID0gJyc7CgkJICB9IGVsc2UgeyAKCQkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJCSAgfQoJCgkJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkJCX0gZWxzZSB7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJCgkJCWlmICh2YWwgaW4gYW5kcm9pZENocm9tZUVzdENoaWFudCkgewoJCQkJYW5kcm9pZENocm9tZUVzdENoaWFudFt2YWxdKGUpOwoJCQl9IGVsc2UgewoJCQkJbW92ZVJpZ2h0KGUpOwoJCQl9CgkJCWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2VsZWN0KCk7CgkgICAgfSkKCQkJCgkgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY3RvcCcsKGUpID0+IHsgLy8gbWlzIMOgIGpvdXIgcGFyIGNoaWZmcmUgc8OpbGVjdGlvbm7DqQoJCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCQkgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlIC8vcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpOwoJCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCQoJCSAgaWYgKHZhbCA8PSA5ICYmIHZhbCA+PTEpIHsKCQkJZGF0YVtpXVtqXSA9IHBhcnNlSW50KHZhbCk7CgkJICB9IGVsc2UgaWYgKHZhbCA9PSAwKSB7CgkJCWRhdGFbaV1bal0gPSAwOwoJCQllLnRhcmdldC52YWx1ZSA9ICcnOwoJCSAgfSBlbHNlIHsgCgkJCWUudGFyZ2V0LnZhbHVlID0gZGF0YVtpXVtqXSA9PT0gMCA/ICcnIDogZGF0YVtpXVtqXTsKCQkgIH0KCQkJCgkJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkJCX0gZWxzZSB7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJICAgIH0pCgkJCQoJICB9KSAKCSAgdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCSAgY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKCSAgaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkgIH0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOyAvLyDigKZdLmNsaWNrKCk7IC8vIMOpdGFpdCBLT+KApgoJICB9CgkgIGh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkgIGh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJICByZXR1cm4gaHRtbDsKCQoJfTsKCQoJcmV0dXJuIHN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlKGNyZWF0ZVN1ZG9rdUh0bWwoZGVmYXVsdEZpeGVkVmFsdWVzKSk7Cgk8L3NjcmlwdD4iIiIpCglmdW5jdGlvbiBodG1sU3Vkb2t1KEpTdWRva3VGaW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKSxKU3Vkb2t1aW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKTsgdG91dFZvaXI6OkJvb2w9dHJ1ZSkKCSMgUG91ciBzb3J0aXIgZGUgbGEgbWF0cmljZSAoY29udmVyc2lvbiBlbiB0YWJsZWF1IGVuIEhUTUwpIGR1IHN1ZG9rdQoJIyBMZSBKU3Vkb2t1aW5pIHBlcm1ldCBkZSBtZXR0cmUgbGVzIGNoaWZmcmVzIGVuIGJsZXUgKHNhdm9pciBkJ2/DuSBsJ29uIHZpZW50KQoJIyBFbmZpbiwgb24gcGV1dCBjaG9pc2lyIGRlIHZvaXIgcGV0aXQgw6AgcGV0aXQgZW4gY2xpcXVhbnQgb3UgdG91dFZvaXIgZCd1biBjb3VwCgkjIyMgaWYgaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcp4oCmIGF2YWl0IHVuIGJ1ZyBkJ2FmZmljaGFnZSBwb3VyIGxlIHJlc3RlIGR1IGNvZGXigKYKCQlpc2EoSlN1ZG9rdUZpbmksIFN0cmluZykgPyAocmV0dXJuIERvY3MuSFRNTCgiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7bWFyZ2luLWJvdHRvbTogNnB4O3VzZXItc2VsZWN0OiBub25lOycgb25jbGljaz0nJGZvb3RpeCc+IOKaoSBBdHRlbnRpb24sIHN1ZG9rdSBpbml0aWFsIMOgIHJldm9pciAhIDwvaDU+PHRhYmxlIGlkPSdzdWRva3VmaW5pJyBjbGFzcz0nc3Vkb2tvb2wnIHN0eWxlPSd1c2VyLXNlbGVjdDogbm9uZTsnIDx0Ym9keT48dHI+PHRkIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7d2lkdGg6IDM0MHB4Oycgb25jbGljaz0nJGZvb3RpeCc+JEpTdWRva3VGaW5pPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4iKSkgOiAocmV0dXJuIERvY3MuSFRNTChyYXciIiI8c2NyaXB0IGlkPSJzY3JpcHRmaW5pIj4KCQkvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgkJCQkKCQljb25zdCBjcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcywgdmFsdWVzX2luaSkgPT4gewkKCQkgIGNvbnN0IGRhdGEgPSBbXTsKCQkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkJCWxldCBodG1sUm93ID0gW107CgkJCWRhdGEucHVzaChbXSk7CgkJCWZvcihsZXQgaj0wOyBqPDk7aisrKXsKCQkJICBjb25zdCB2YWx1ZXNMaW5lID0gdmFsdWVzW2ldOwoJCQkgIGNvbnN0IHZhbHVlID0gdmFsdWVzTGluZT92YWx1ZXNMaW5lW2pdOjA7CgkJCSAgY29uc3QgaXNJbml0aWFsID0gdmFsdWVzX2luaVtpXVtqXT4wOwoJCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJCSAgY29uc3QgaHRtbENlbGwgPSBodG1sYDx0ZCBjbGFzcz0nIiIiKih0b3V0Vm9pciA/IHJhdyIiIiR7aXNJbml0aWFsPyJpbmkiOiJ2aWRlIn0iIiIgOiByYXciIiIke2lzSW5pdGlhbD8iaW5pIjoidmlkZSBjYWNow6llIn0iIiIpKnJhdyIiIiR7aXNNZWRpdW0/JyB0cm9pc2QnOicnfScgZGF0YS1yb3c9JyR7aX0nIGRhdGEtY29sPScke2p9Jz4keyh2YWx1ZXx8J8KgJyl9PC90ZD5gOwoJCQkgIGRhdGFbaV1bal0gPSB2YWx1ZXx8MDsKCQkJICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJCQl9CgkJCWNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CiAgICAJCWh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOiIifT4ke2h0bWxSb3d9PC90cj5gKTsKCQkgIH0KCQkgIGNvbnN0IF9zdWRva3UgPSBodG1sYDx0YWJsZSBpZD0ic3Vkb2t1ZmluaSIgIiIiKih0b3V0Vm9pciA/ICIiIDogcmF3IiIic3R5bGU9InVzZXItc2VsZWN0OiBub25lOyIgIiIiKSpyYXciIiIgY2xhc3M9J3N1ZG9rb29sJz4KCQkJICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJCQk8L3RhYmxlPmAgIAoJCSAgLy8gcmV0dXJuIHtfc3Vkb2t1LGRhdGF9OwoJCWNvbnN0IGpkYXRhaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzX2luaSk7CgkJY29uc3QgamRhdGFGaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFpbmknLCBqZGF0YWluaSk7CiAgCQlfc3Vkb2t1LnNldEF0dHJpYnV0ZSgnc3VkYXRhZmluaScsIGpkYXRhRmluaSk7CgkJdmFyIHN1ZG9rdWluacOgdsOpcmlmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJCWlmIChzdWRva3VpbmnDoHbDqXJpZiAmJiBzdWRva3VpbmnDoHbDqXJpZi5nZXRBdHRyaWJ1dGUoJ3N1ZGF0YScpICE9IGpkYXRhaW5pKSB7CgkJCXJldHVybiBodG1sYDxoNSBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3VzZXItc2VsZWN0OiBub25lOyc+8J+agCBSZWNhbGN1bCByYXBpZGXCoDspPC9oNT5gOwoJCX07IC8vIHYwLjE5IHNlbWJsZSBkZSBub3V2ZWF1IE9rIC0+IGh0dHBzOi8vbXliaW5kZXIub3JnL3YyL2doL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci92MC4xNC43P3VybHBhdGg9cGx1dG8KCQlyZXR1cm4gX3N1ZG9rdTsKCQkJCX07CgkJd2luZG93Lm1zZ2EgPSAoX3N1ZG9rdSkgPT4gewoJCQkJIiIiKih0b3V0Vm9pciA/IHJhdyIiIiAKCQlsZXQgdGRzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC52aWRlJyk7CiAgCQl0ZHMuZm9yRWFjaCh0ZCA9PiB7CgkJCQkKCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0IikpIHsKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKS5jaGVja2VkKSB7CgkJCQkJCWNvbnN0IGxpZ24gPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtcm93IikpICsgMTsKCQkJCQkJY29uc3QgY29sbyA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1jb2wiKSkgKyAxOwoJCQkJCQljb25zdCB2YWxlID0gZS50YXJnZXQuaW5uZXJIVE1MOwoJCQkJCQl2YXIgY2libGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3Vkb2tpbmNpcGl0ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoIisgbGlnbiArIikgPiB0ZDpudGgtY2hpbGQoIisgY29sbyArIikgPiBpbnB1dFt0eXBlPXRleHRdIik7CgkJCQkJCWlmICghKGlzTmFOKHZhbGUpKSkgewoJCQkJCQkJY2libGUudmFsdWUgPSBjaWJsZS52YWx1ZSA9PSB2YWxlID8gMCA6IHZhbGUgOyAKCQkJCQkJCS8vIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoInZpZGUiKTsKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImluaSIpOyAvLyBpbmkgYmxldSBvdSBjYWNow6llCgkJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJncmlzIik7IAoJCQkJCQkJLyogY2libGUudmFsdWUgPSB2YWxlOyAKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoInZpZGUiKTsKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoImluaSIpOyAqLwoJCQkJCQkJLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc2Zvb3QiKT8uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImNsaWNrIikpOwoJCQkJCQkJY2libGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2N0b3AnKSk7IAoJCQkJCQl9OwoJCQkJfX07IAoJCQkJCgkJCX0pOwoJCX0pOyIiIiA6IHJhdyIiIgoJCWxldCB0ZGJsZXVzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5pbmknKTsKICAJCXRkYmxldXMuZm9yRWFjaCh0ZGJsZXUgPT4gewoJCQl0ZGJsZXUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJdmFyIGdyYW50YiA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKCQkJCWZvcihsZXQgZ3Jhbmk9MDsgZ3Jhbmk8OTtncmFuaSsrKXsgCgkJCQlmb3IobGV0IGdyYW5qPTA7IGdyYW5qPDk7Z3JhbmorKyl7IAoJCQkJIGlmICggIShncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2xhc3NMaXN0LmNvbnRhaW5zKCJpbmkiKSkgKSB7CgkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2xhc3NMaXN0LmFkZCgiY2FjaMOpZSIpOwoJCQkJZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdLmNsYXNzTGlzdC5yZW1vdmUoImdyaXMiKTsKCQkJCQoJCQkJfSB9fTsKCQkJfSk7CgkJfSk7CgkJCgkJbGV0IHRkcyA9IF9zdWRva3UucXVlcnlTZWxlY3RvckFsbCgndGQudmlkZScpOwogIAkJdGRzLmZvckVhY2godGQgPT4gewoJCQkJCgkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIik/LmNoZWNrZWQpIHsJCgkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQljb25zdCBvck5pY2FyID0gKGxpZ24sIGNvbG8pID0+IE1hdGguZmxvb3IoaWxpZy8zKT09TWF0aC5mbG9vcihsaWduLzMpICYmIE1hdGguZmxvb3IoamNvbC8zKT09TWF0aC5mbG9vcihjb2xvLzMpIDsKCQkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJCWZvcihsZXQgZ3Jhbmk9MDsgZ3Jhbmk8OTtncmFuaSsrKXsgCgkJCQkJZm9yKGxldCBncmFuaj0wOyBncmFuajw5O2dyYW5qKyspeyAKCQkJCQkgdmFyIHRkZiA9IGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXTsKCQkJCQkgaWYgKHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gaWxpZyB8fCB0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGpjb2wgfHwgb3JOaWNhcih0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkgewoJCQkJCSAgdGRmLmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsgLy8gY2llbCBncmlzCgkJCQkJfSB9fTsKCQkJCX0gZWxzZSB7CgkJCQllLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpPy5jaGVja2VkPT1mYWxzZSAmJiAhKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiaW5pIikpICl7ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgiZ3JpcyIpfTsgfTsKCQkJCS8vIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCQoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0Iik/LmNoZWNrZWQpIHsKCQkJCQljb25zdCBsaWduID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLXJvdyIpKSArIDE7CgkJCQkJY29uc3QgY29sbyA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1jb2wiKSkgKyAxOwoJCQkJCWNvbnN0IHZhbGUgPSBlLnRhcmdldC5pbm5lckhUTUw7CgkJCQkJdmFyIGNpYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3N1ZG9raW5jaXBpdCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKCIrIGxpZ24gKyIpID4gdGQ6bnRoLWNoaWxkKCIrIGNvbG8gKyIpID4gaW5wdXRbdHlwZT10ZXh0XSIpOwoJCQkJCWlmICghKGlzTmFOKHZhbGUpKSkgewoJCQkJCQljaWJsZS52YWx1ZSA9IGNpYmxlLnZhbHVlID09IHZhbGUgPyAwIDogdmFsZSA7IAoJCQkJCQkvLyBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCJ2aWRlIik7CgkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsKCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiaW5pIik7IC8vIGluaSBibGV1IG91IGNhY2jDqWUKCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiZ3JpcyIpOyAKCQkJCQkJLyogY2libGUudmFsdWUgPSB2YWxlOyAKCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgidmlkZSIpOwoJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJpbmkiKTsgKi8KCQkJCQkJLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc2Zvb3QiKT8uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImNsaWNrIikpOwoJCQkJCQljaWJsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY3RvcCcpKTsgCgkJCQkJfTsKCQkJCX07IAoJCQkJCgkJCX0pOwoJCX0pOwkiIiIpKnJhdyIiIgoJCSAgcmV0dXJuIF9zdWRva3U7CgoJCX07CgkJCgkJLy8gc2lub24gOiByZXR1cm4gY3JlYXRlU3Vkb2t1SHRtbCjigKYpLl9zdWRva3U7CgkJcmV0dXJuIG1zZ2EoY3JlYXRlU3Vkb2t1SHRtbCgiIiIgKiIkSlN1ZG9rdUZpbmkiKiIsICIqIiRKU3Vkb2t1aW5pIioiIiIpICk7CgkJPC9zY3JpcHQ+IiIiKQoJCSkjIyMgZW5kICMjIyBpZiBpc2EoSlN1ZG9rdUZpbmksIFN0cmluZynigKYgc3VpdGUgZXQgZmluIGR1IGJ1ZyBkJ2FmZmljaGFnZQoJZW5kCglodG1scyA9IGh0bWxTdWRva3UgIyMgbWluaSB2ZXJzaW9uIChvdSBhbGlhcyBwbHVzIGNvdXJ0IHNpIGJlc29pbikKCWh0bWF0ID0gaHRtbFN1ZG9rdSDiiJggbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24gCgoJY29uc3QgcHQxID0gIsK3IiAjICIuIiAjIyBDYXJhY3TDqHJlcyBkZSByZW1wbGlzc2FnZSBwb3VyIG1pZXV4IHZvaXIgbGUgbmJQcm9wYWwKCWNvbnN0IHB0MiA9ICLil4wiICMgIuKXiyIgIyAi4peYIiAjICItIiAjICI6IgoJY29uc3QgcHQzID0gIuKXjyIgIyAi4pagIiAjICLilqwiICMgIuKAlCIgIyAi4oGWIiAjICLiq7YiCglmdW5jdGlvbiBjaGlmZnJlUHJvcGFsKG1hdDo6QXJyYXl7SW50LDJ9LGxpbXA6OlNldHtJbnR9LGk6OkludCxqOjpJbnQsdmlkZTo6Qm9vbCkgIyBSZW1wbGl0IHVuZSBjYXNlIGF2ZWMgdG91cyBzZXMgY2hpZmZyZXMgcG9zc2libGVzLCBlbiBtZXR0YW50IGxlIDEgZW4gaGF1dCDDoCBnYXVjaGUgZXQgbGUgOSBlbiBiYXMgw6AgZHJvaXRlIChsZSA1IGVzdCBkb25jIGF1IGNlbnRyZSkuIFMnaWwgbid5IGEgYXVjdW5lIHBvc3NpYmlsaXTDqSwgb24gcmVtcGxpdCB0b3V0IGF2ZWMgZGVzIGNhcmFjdMOocmVzIGJpemFycmVzIOKAvQoJIyBQb3VyIG1pc2UgZW4gZm9ybWUgZW4gSFRNTCBtYXQzIDogM3gzICh1bmUgbWF0cmljZSBkZSAzIGxpZ25lcyBldCAzIGNvbG9ubmVzKQoJCWNwID0gY2hpZmZyZVBvc3NpYmxlKG1hdCxpLGosbGltcCkKCQlpZiBpc2VtcHR5KGNwKQoJCQlyZXR1cm4gW1si4pecIiwi4oC9Iiwi4pedIl0sWyLCoSIsIi8iLCIhIl0sWyLil58iLCJfIiwi4peeIl1dCgkJCSMgcmV0dXJuIFtbIuKoryIsIuKoryIsIuKoryJdLFsi4qivIiwi4qivIiwi4qivIl0sWyLiqK8iLCLiqK8iLCLiqK8iXV0KCQllbmQKCQkjIGxjcCA9IGxlbmd0aChjcCkKCQkjIHZpID0gKHZpZGUgPyAiwqAiIDogKGxjcDw0ID8gcHQxIDogKGxjcDw3ID8gcHQyIDogcHQzKSkpCgkJdmkgPSAodmlkZSA/ICLCoCIgOiAiwrciKSAjIuKXpiIpICMgIuKoryIpICMgcHQxKSAjIyByZXRvdXIgw6AgcHQxIF5eCgkJcmV0dXJuIG1hdHJpY2XDoGxpc3RlSlMocmVzaGFwZShbKCh4IGluIGNwKSA/IHN0cmluZyh4KSA6IHZpKSBmb3IgeCBpbiAxOjldLCAoMywzKSksMykKCWVuZAoJZnVuY3Rpb24gbmJQcm9wYWwobWF0OjpBcnJheXtJbnQsMn0sbGltcDo6U2V0e0ludH0saTo6SW50LGo6OkludCkgIyBBc3NleiBwcm9jaGUgZGUgY2hpZmZyZVByb3BhbCBjaS1kZXNzdXMsIG1haXMgbmUgbW9udHJlIHBhcyBsZXMgY2hpZmZyZXMgcG9zc2libGVzLiBDZWxhIG1vbnRyZSBsZSBub21icmVzIGRlIGNoaWZmcmVzIHBvc3NpYmxlcywgZW4gcmVtcGxpc3NhbnQgcGV0aXQgw6AgcGV0aXQgYXZlYyBwdDEgw6AgcHQzIHN1aXZhbnQuCgkjIFBvdXIgbWlzZSBlbiBmb3JtZSBlbiBIVE1MIG1hdDMgOiAzeDMKCQlsY3AgPSBsZW5ndGgoY2hpZmZyZVBvc3NpYmxlKG1hdCxpLGosbGltcCkpCgkJaWYgbGNwID09IDAKCQkJcmV0dXJuIFtbIuKGmCIsIuKGkyIsIuKGmSJdLFsi4oaSIiwiMCIsIuKGkCJdLFsi4oaXIiwi4oaRIiwi4oaWIl1dLCAwCgkJZWxzZQoJCQlyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhyZXNoYXBlKFsoeCA9PSBsY3AgPyBzdHJpbmcoeCkgOiAoeDxsY3AgPyAobGNwPDQgPyBwdDEgOiAobGNwPDcgPyBwdDIgOiBwdDMpKSA6ICLCoCIpKSBmb3IgeCBpbiAxOjldLCAoMywzKSksMyksIGxjcAoJCWVuZAoJZW5kCglmdW5jdGlvbiBodG1sU3Vkb2t1UHJvcGFsKEpTdWRva3Vpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpLEpTdWRva3VGaW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKSA7IHRvdXRWb2lyOjpCb29sPXRydWUsIHBhckNhc2U6OkJvb2w9dHJ1ZSwgc29tbWU6OkJvb2w9dHJ1ZSkKCSMgQXNzZXogcHJvY2hlIGRlIGh0bWxTdWRva3UsIG1haXMgbidhIHBhcyBiZXNvaW4gZCdhdm9pciB1biBzdWRva3UgcsOpc29sdSBlbiBlbnRyw6llLiBFbiBlZmZldCwgaWwgbmUgbW9udHJlIHF1ZSBsZXMgY2hpZmZyZXMgKG91IGxldXIgbm9tYnJlID0gc29tbWUpIHBvc3NpYmxlcyBwb3VyIGxlIG1vbWVudC4KCSMgSWwgeSBhIHBsdXNpZXVycyBjYXMgOiAoY2VsYSBlc3QgcGV1dMOqdHJlIMOgIGNoYW5nZXIpCgkJIyB0b3V0Vm9pciBvdSBub24gOiBkw6ljb3V2cmUgdG91cyBsZXMgY2VsbHVsZXMgc2kgdG91dFZvaXIgKHNpbm9uIMOgIGNsaXF1ZXIpCgkJIyBwYXJDYXNlIDogZMOpY291dnJlIHVuZSBjZWxsZSBjZWxsdWxlIChzaW5vbiBwbHVzaWV1cnMpCgkJIyBzb21tZSA6IHZvaXIganVzdGUgbGUgbm9tYnJlIGRlIHBvc3NpYmlsaXTDqSwgc2lub24sIHZvaXIgbGVzIHBvc3NpYmlsaXTDqXMKCQltUzo6QXJyYXl7SW50LDJ9ID0gbGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1aW5pKQoJCSMgbUltcCA9IFsgU2V0e0ludH0oKSBmb3IgXyA9IDE6OSwgXyA9IDE6OSBdCgkJbUltcCA9IERpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSgpCgkJd2hpbGUgdHJ1ZQoJCQluQXdhayA9IGRlZXBjb3B5KG1JbXApCgkJCXbDqXJpZmxpZ25lID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNvbCA9IFsgRGljdHtTZXR7SW50fSwgU2V0e0ludH19KCkgZm9yIF8gPSAxOjkgXQoJCQl2w6lyaWZjYXJyw6kgPSBbIERpY3R7U2V0e0ludH0sIFNldHtUdXBsZXtJbnQsSW50fX0gfSgpIGZvciBfID0gMTo5IF0KCQkJZGlsbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlsa28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGljY28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlja28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlra28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlsY28gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWNsbyA9IERpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSgpCgkJCWRpa2NvID0gRGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0oKQoJCQlkaWtsbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZnVzaWJsZXNsaWcgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJZnVzaWJsZXNjb2wgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJZnVzaWJsZXNjYXIgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJZm9yIGogaW4gMTo5LCBpIGluIDE6OQoJCQkJaWYgbVNbaSxqXSA9PSAwCgkJCQkJZ2V0IShtSW1wLChpLGopLFNldHtJbnR9KCkgKQoJCQkJCWxjcCA9IGNoaWZmcmVQb3NzaWJsZShtUyxpLGosbUltcFtpLGpdKQoJCQkJCWsgPSBrZWxjYXJyw6koaSxqKQoJCQkJCWlpID0gY2FycihpKQoJCQkJCWpqID0gY2FycihqKQoJCQkJCXNhYyEoaixpLGssaWksamosbGNwLGZ1c2libGVzY29sLGRpY2NvLGRpY2xvLGRpY2tvKQoJCQkJCXNhYyEoaSxqLGssaWksamosbGNwLGZ1c2libGVzbGlnLGRpbGxvLGRpbGNvLGRpbGtvKQoJCQkJCXNhayEoaSxqLGssaWksamosbGNwLGZ1c2libGVzY2FyLGRpa2xvLGRpa2NvLGRpa2tvKQoJCQkJCWlmIGxlbmd0aChsY3ApID09IDEKCQkJCQkJZm9yIGlpaSBpbiAxOjkgIyDigKZvbiByZXRpcmUgc3VyIGxhIGxpZ25lIGV0IGxhIGNvbG9ubmUKCQkJCQkJCWdldCEobUltcCwoaSxpaWkpLFNldHtJbnR9KCkgKQoJCQkJCQkJZ2V0IShtSW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJCQlpaWkgIT0gaiAmJiB1bmlvbiEobUltcFtpLGlpaV0sbGNwKQoJCQkJCQkJaWlpICE9IGkgJiYgdW5pb24hKG1JbXBbaWlpLGpdLGxjcCkKCQkJCQkJZW5kCgkJCQkJCSMgZm9yIGpqIGluIGNhcnIoaiksIGlpIGluIGNhcnIoaSkgIyDigKZldCBzdXIgbGUgY2FycsOpCgkJCQkJCWZvciBqamogaW4gamosIGlpaSBpbiBpaSAjIOKApmV0IHN1ciBsZSBjYXJyw6kKCQkJCQkJCSMgamogIT0gaiAmJiBpaSAhPSBpICYmIHVuaW9uIShtSW1wW2lpLGpqXSxTZXQobGNwKSkKCQkJCQkJCWpqaiAhPSBqICYmIGlpaSAhPSBpICYmIHVuaW9uIShnZXQhKG1JbXAsKGlpaSxqamopLFNldHtJbnR9KCkgKSxsY3ApCgkJCQkJCWVuZAoJCQkJCWVsc2UgcGFzQXNzZXpEZVByb3BhbCEoaSwgaiwgbGNwLCB2w6lyaWZsaWduZVtpXSwgdsOpcmlmY29sW2pdLCB2w6lyaWZjYXJyw6lba10sIG1JbXAgKSAKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQkJTFVuaWNsayEoZGljbG8sZGljY28sZGlja28sZGlsbG8sZGlsY28sZGlsa28sZGlrbG8sZGlrY28sZGlra28sbUltcCkKCQkJaWYgbUltcCA9PSBuQXdhawoJCQkJYnJlYWsKCQkJZW5kCgkJZW5kCgkJaWYgc29tbWUJCgkJCW1uUHJvcGFsID0gZmlsbChmaWxsKCBmaWxsKCIwIiwzKSwzKSAsICg5LDkpICkKCQkJbWluZSA9IDEwCgkJCWdyaXNlbWluZSA9IFR1cGxle0ludCxJbnR9W10KCQkJZm9yIGogaW4gMTo5LCBpIGluIDE6OQoJCQkJaWYgbVNbaSxqXSA9PSAwCgkJCQltblByb3BhbFtpLGpdLCBsY3AgPSBuYlByb3BhbChtUywgbUltcFtpLGpdLCBpLCBqKQoJCQkJCWlmIGxjcCA8IG1pbmUKCQkJCQkJbWluZSA9IGxjcAoJCQkJCQlncmlzZW1pbmUgPSBbKGksaildCgkJCQkJZWxzZWlmIGxjcCA9PSBtaW5lCgkJCQkJCXB1c2ghKGdyaXNlbWluZSwgKGksaikpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJCXBhckNhc2UgPSB0b3V0Vm9pciAjIGJpZG91aWxsZSDDoCBjaGFuZ2VyID8KCQkJdG91dFZvaXIgPSB0cnVlCgkJCWlmIDAgPCBtaW5lIDwgOQoJCQkJZm9yIChpLGopIGluIGdyaXNlbWluZQoJCQkJCW1uUHJvcGFsW2ksal1bM11bM10gPSAi4pyUIgoJCQkJZW5kCgkJCWVuZAoJCQlKUHJvcGFsID0gbWF0cmljZcOgbGlzdGVKUyhtblByb3BhbCkKCQllbHNlCgkJCW1Qcm9wYWwgPSBmaWxsKGZpbGwoIGZpbGwoIjAiLDMpLDMpICwgKDksOSkgKQoJCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5CgkJCQlpZiBtU1tpLGpdID09IDAKCQkJCQltUHJvcGFsW2ksal0gPSBjaGlmZnJlUHJvcGFsKG1TLCBtSW1wW2ksal0sIGksIGosIHBhckNhc2UpCgkJCQllbmQKCQkJZW5kCgkJCUpQcm9wYWwgPSBtYXRyaWNlw6BsaXN0ZUpTKG1Qcm9wYWwpCgkJZW5kCgkJCQoJCXJldHVybiBEb2NzLkhUTUwocmF3IiIiPHNjcmlwdCBpZD0ic2NyaXB0ZmluaSI+CgkJLy8gc3R5bMOpbMOgYmFzYXZlY2JvbnVzIQoJCQoJCS8vIGNvbnN0IGtlbGNhckpTID0gKGxpZywgY29sKSA9PiBbTWF0aC5mbG9vcihsaWcvMyksIE1hdGguZmxvb3IoY29sLzMpXTsKCQljb25zdCBNTWNhciA9IChsaWcsIGNvbCwgbGlnbiwgY29sbykgPT4gTWF0aC5mbG9vcihsaWcvMyk9PU1hdGguZmxvb3IobGlnbi8zKSAmJiBNYXRoLmZsb29yKGNvbC8zKT09TWF0aC5mbG9vcihjb2xvLzMpIDsKCQkKCQljb25zdCBjcmVhdGVTdWRva3VIdG1sID0gKG12YWx1ZXMsIHZhbHVlc19pbmkpID0+IHsJCgkJICBjb25zdCBkYXRhID0gW107CgkJICBjb25zdCBodG1sRGF0YSA9IFtdOwoJCSAgZm9yKGxldCBpPTA7IGk8OTtpKyspewoJCQlsZXQgaHRtbFJvdyA9IFtdOwoJCQlkYXRhLnB1c2goW10pOwoJCQlmb3IobGV0IGo9MDsgajw5O2orKyl7CgkJCQkKCQkJICAJY29uc3QgaHRtbE1pbmlEYXRhID0gW107CgkJCQljb25zdCBpc0luaXRpYWwgPSB2YWx1ZXNfaW5pW2ldW2pdPjA7CgkJCQl2YXIgbWluaV9zdWRva3UgPSB2YWx1ZXNfaW5pW2ldW2pdOwoJCQkJaWYgKCEoaXNJbml0aWFsKSkgewoJCQkJICBmb3IobGV0IHBsPTA7IHBsPDM7cGwrKyl7CgkJCQkJbGV0IGh0bWxNaW5pUm93ID0gW107CgkJCQkJZm9yKGxldCBwaj0wOyBwajwzO3BqKyspewoJCQkJCWNvbnN0IG1pbmlWYWx1ZSA9IG12YWx1ZXNbaV1bal1bcGxdW3BqXTsKCQkJCQljb25zdCBodG1sTWluaUNlbGwgPSBodG1sYDx0ZCBjbGFzcz0ibWluaSIiIioodG91dFZvaXIgJiYgcGFyQ2FzZSA/ICJcIiIgOiByYXciIiIke2lzSW5pdGlhbD8nIHByb3AnOicgdmlkZSBjYWNow6llJ30iICIiIikqcmF3IiIiIGRhdGEtcm93PSIke3BsfSIgZGF0YS1jb2w9IiR7cGp9Ij4keyhtaW5pVmFsdWV8fCfCoCcpfTwvdGQ+YDsgCgkJCQkJaHRtbE1pbmlSb3cucHVzaChodG1sTWluaUNlbGwpOwoJCQkJCX0KCQkJCQlodG1sTWluaURhdGEucHVzaChodG1sYDx0ciBzdHlsZT0iYm9yZGVyLXN0eWxlOiBub25lICFpbXBvcnRhbnQ7Ij4ke2h0bWxNaW5pUm93fTwvdHI+YCk7CgkJCQkgIH0KCQkJCXZhciBtaW5pX3N1ZG9rdSA9IGh0bWxgPHRhYmxlIGNsYXNzPSJzdWRva29vbG1pbmkiIHN0eWxlPSJ1c2VyLXNlbGVjdDogbm9uZTsiPgoJCQkgIDx0Ym9keT4ke2h0bWxNaW5pRGF0YX08L3Rib2R5PgoJCQk8L3RhYmxlPmAKCQkJCX0KCQkJICBjb25zdCB2YWx1ZWUgPSBtaW5pX3N1ZG9rdTsKCQkJICBjb25zdCBpc01lZGl1bSA9IChqJTMgPT09IDApOwoJCQkgIGNvbnN0IGh0bWxDZWxsID0gaHRtbGA8dGQgY2xhc3M9IiR7aXNJbml0aWFsPydpbmknOidwcm9wcyd9ICR7aXNNZWRpdW0/JyB0cm9pc2QnOicnfSIgZGF0YS1yb3c9IiR7aX0iIGRhdGEtY29sPSIke2p9Ij4keyh2YWx1ZWV8fCfCoCcpfTwvdGQ+YDsKCQkJICBkYXRhW2ldW2pdID0gdmFsdWVlfHwwOwoJCQkgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CgkJCX0KCQkJY29uc3QgaXNNZWRpdW1CaXMgPSAoaSUzID09PSAwKTsKICAgIAkJaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6Jyd9PiR7aHRtbFJvd308L3RyPmApOwoJCSAgfQoJCSAgY29uc3QgX3N1ZG9rdSA9IGh0bWxgIiIiICogKGlzYShKU3Vkb2t1RmluaSwgU3RyaW5nKSA/ICI8aDUgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt1c2VyLXNlbGVjdDogbm9uZTsnIG9uY2xpY2s9JyRmb290aXgnPiDimqEgQXR0ZW50aW9uLCBzdWRva3UgaW5pdGlhbCDDoCByZXZvaXIgISA8L2g1PiIgOiAiIikgKiByYXciIiI8dGFibGUgaWQ9InN1ZG9rdWZpbmkiIGNsYXNzPSJzdWRva29vbCIgc3R5bGU9InVzZXItc2VsZWN0OiBub25lOyI+CgkJCSAgPHRib2R5PiR7aHRtbERhdGF9PC90Ym9keT4KCQkJPC90YWJsZT5gICAKCQkJCgkJY29uc3QgamRhdGFpbmkgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXNfaW5pKTsKCQljb25zdCBqZGF0YUZpbmkgPSBKU09OLnN0cmluZ2lmeShtdmFsdWVzKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFpbmknLCBqZGF0YWluaSk7CiAgCQlfc3Vkb2t1LnNldEF0dHJpYnV0ZSgnc3VkYXRhZmluaScsIGpkYXRhRmluaSk7CgkJdmFyIHN1ZG9rdWluacOgdsOpcmlmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJCWlmIChzdWRva3VpbmnDoHbDqXJpZiAmJiBzdWRva3VpbmnDoHbDqXJpZi5nZXRBdHRyaWJ1dGUoJ3N1ZGF0YScpICE9IGpkYXRhaW5pKSB7CgkJCXJldHVybiBodG1sYDxoNSBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3VzZXItc2VsZWN0OiBub25lOyc+8J+agCBSZWNhbGN1bCByYXBpZGXCoDspPC9oNT5gOwoJCX07IC8vIGVudHJlIFBsdXRvID52MC4xNC43IGV0IDAuMTkgY2YuIHBsdXMgaGF1dAoJCXJldHVybiBfc3Vkb2t1OwoJCQl9OwoJCQl3aW5kb3cubXNnYSA9IChfc3Vkb2t1KSA9PiB7CgkJCQljb25zdCBqdXN0ZXJlbW9udGUgPSAodGRtaW5pKSA9PiB7IC8vIDMgZXQgMiszCgkJCQkiIiIqKHNvbW1lID8gcmF3IiIgOiByYXciIiIKCQkJCXRkbWluaS5mb3JFYWNoKHRkID0+IHsKCQkJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQkJCQoJCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKT8uY2hlY2tlZCkgewoJCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpKSArIDE7IC8vIDMgZXQgMiszCgkJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICsgMTsKCQkJCQkJCWNvbnN0IHZhbGUgPSBlLnRhcmdldC5pbm5lckhUTUw7IC8vIE5hTiDihpIgcGFzIGJlc29pbgoJCQkJCQkJdmFyIGNpYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3N1ZG9raW5jaXBpdCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKCIrIGxpZ24gKyIpID4gdGQ6bnRoLWNoaWxkKCIrIGNvbG8gKyIpID4gaW5wdXRbdHlwZT10ZXh0XSIpOwoJCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQkJY2libGUudmFsdWUgPSBjaWJsZS52YWx1ZSA9PSB2YWxlID8gMCA6IHZhbGUgOyAKCQkJCQkJCQkvLyBlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJpbmkiKTsgLy8gaW5pIGJsZXUKCQkJCQkJCQlpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJpbmkiKSkgewoJCQkJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCJpbmkiKTt9IGVsc2UgewplLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKHRyID0+IHsKCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoJCQkJCQkJCQl0ZGQuY2xhc3NMaXN0LnJlbW92ZSgiaW5pIik7CgkJCQkJCQkJCX0pfSk7IGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoImluaSIpO307CgkJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiZ3JpcyIpOyAKCQkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQkJY2libGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2N0b3AnKSk7IAoJCQkJCQkJfTsKCQkJCQkJfTsJCgkJCQkJCQoJCQkJfSl9KTsgIiIiKSpyYXciIiJ9OwoKCQkJCWNvbnN0IGNhcm9saWduID0gKGUpID0+IHsgLy8gMyBldCAx4oCmIMOgIGxhIGJhc2UKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IGdyYW5saWcgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBncmFuY29sID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IG9yTmljYXIgPSAodGxpZyx0Y29sKSA9PiBNTWNhcihncmFubGlnLGdyYW5jb2wsdGxpZyx0Y29sKTsKCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJCQkJCQl0ci5jaGlsZE5vZGVzLmZvckVhY2godGRkID0+IHsKCQkJCQkJCWlmICgodGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgJiYgKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gZ3JhbmxpZyB8fCB0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGdyYW5jb2wgfHwgb3JOaWNhcih0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkpewoJCQkJCQkJCXRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1tpbGlnXS5jaGlsZE5vZGVzW2pjb2xdLmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsgLy8gY2llbCBncmlzCgkJCQkJCQl9IH0pOwoJCQkJCX0pOwoJCQkJfTsgCgoJCQkJY29uc3QgY2FzZWNhcm9saWduID0gKGUpID0+IHsgLy8gMiBldCAyIGJvbnVzCgkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQljb25zdCBncmFubGlnID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgZ3JhbmNvbCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQljb25zdCBvck5pY2FyID0gKHRsaWcsdGNvbCkgPT4gTU1jYXIoZ3JhbmxpZyxncmFuY29sLHRsaWcsdGNvbCk7CgkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKHRyID0+IHsKCQkJCQkJdHIuY2hpbGROb2Rlcy5mb3JFYWNoKHRkZCA9PiB7CgkJCQkJCQlpZiAoKHRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpICYmICh0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpID09IGdyYW5saWcgfHwgdGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSA9PSBncmFuY29sIHx8IG9yTmljYXIodGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSx0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpKSApKXsKCQkJCQkJCQl0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXMuZm9yRWFjaChsaWduZSA9PiB7CgkJCQkJCQkJICBsaWduZS5jaGlsZE5vZGVzLmZvckVhY2goY29sb24gPT4gewoJCQkJCQkJCQljb2xvbi5jbGFzc0xpc3QucmVtb3ZlKCJjYWNow6llIik7IC8vIGNpZWwgZ3JpcwoJCQkJCQkJCSAgfSk7CgkJCQkJCQkJfSk7IAoJCQkJCQkJfSB9KTsKCQkJCQl9KTsKCQkJCX07IAoJCQkJCgkJCQljb25zdCB0b3VzbGVzw6lnYWxpdCA9IChlKSA9PiB7CgkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAJCgkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKHRyID0+IHsKCQkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoJCQkJCQkJCWlmICh0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdIT1udWxsKXsKCQkJCQkJCQkJdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2lsaWddLmNoaWxkTm9kZXNbamNvbF0uY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJCQkJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpPy5jaGVja2VkPT1mYWxzZSl7dGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2lsaWddLmNoaWxkTm9kZXNbamNvbF0uY2xhc3NMaXN0LnJlbW92ZSgiZ3JpcyIpfTsKCQkJCQkJCX19KTsKCQkJCQl9KTsJCQoJCQkJfTsKCgkJCQljb25zdCBqdXN0ZXVuZWNhc2UgPSAodGRtaW5pKSA9PiB7IC8vIDIgZXQgMgoJCQkJanVzdGVyZW1vbnRlKHRkbWluaSk7CgkJCQl0ZG1pbmkuZm9yRWFjaCh0ZCA9PiB7CgkJCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewkJCgkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKT8uY2hlY2tlZCkgewkKCQkJCQkJY2FzZWNhcm9saWduKGUpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2gobGlnbmUgPT4gewoJCQkJCQkgIGxpZ25lLmNoaWxkTm9kZXMuZm9yRWFjaChjb2xvbiA9PiB7CgkJCQkJCQljb2xvbi5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQkJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpPy5jaGVja2VkPT1mYWxzZSl7Y29sb24uY2xhc3NMaXN0LnJlbW92ZSgiZ3JpcyIpfTsKCQkJCQkJICB9KTsKCQkJCQkJfSk7IAoJCQkJCX0gfSk7CQoJCQkJfSkgfTsKCQkJCQoJCQkJY29uc3QgdG91c2xlc8OpZ2FsaXRpb3MgPSAodGRtaW5pKSA9PiB7IC8vIDIgZXQgMQoJCQkJanVzdGVyZW1vbnRlKHRkbWluaSk7CgkJCQl0ZG1pbmkuZm9yRWFjaCh0ZCA9PiB7CgkJCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJCQkiIiIqKHNvbW1lID8gcmF3IiIiaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKT8uY2hlY2tlZCkgewkKCQkJCQkJCQljYXJvbGlnbihlKTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJdG91c2xlc8OpZ2FsaXQoZSkgfTsKCQkJCQkJIiIiIDogcmF3IiIidG91c2xlc8OpZ2FsaXQoZSk7ICIiIikqcmF3IiIiCgkJCQl9KX0pIH07CgkJCQkKCQkJCWNvbnN0IGNhcm9saWduaW9zID0gKHRkbWluaSkgPT4geyAvLyAzIGV0IDEKCQkJCWp1c3RlcmVtb250ZSh0ZG1pbmkpOwoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpPy5jaGVja2VkKSB7CgkJCQkJCWNhcm9saWduKGUpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKT8uY2hlY2tlZD09ZmFsc2Upe2UudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoImdyaXMiKX0gfTsKCQkJCX0pIH0pIH07IAoJCQkJCgkJCQljb25zdCB0b3V0ZWZmYWNlciA9ICh0ZGJsZXVzKSA9PiB7CgkJCQkJdGRibGV1cy5mb3JFYWNoKHRkYmxldSA9PiB7CgkJCQkJCXRkYmxldS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJCQkJZm9yKGxldCBncmFuaT0wOyBncmFuaTw5O2dyYW5pKyspeyAKCQkJCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkJCQkgaWYgKGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpIHsKCQkJCQkJCWZvcihsZXQgbWluaWk9MDsgbWluaWk8MzttaW5paSsrKXsgCgkJCQkJCQlmb3IobGV0IG1pbmlqPTA7IG1pbmlqPDM7bWluaWorKyl7IAoJCQkJCQkJZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW21pbmlpXS5jaGlsZE5vZGVzW21pbmlqXS5jbGFzc0xpc3QuYWRkKCJjYWNow6llIik7CgkJCQkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbbWluaWldLmNoaWxkTm9kZXNbbWluaWpdLmNsYXNzTGlzdC5yZW1vdmUoImdyaXMiKTsKCQkJCQkJCQoJCQkJCQkJfX0gfSB9fTsKCQkJCQkJfSk7CgkJCQkJfSk7IH07CgkJCQkKCQkJCQoJCWxldCB0ZG1pbmkgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLm1pbmknKTsgCgkJLy8gL3BhckNhc2UgPSB0b3V0Vm9pciAjIGJpZG91aWxsZSDDoCBjaGFuZ2VyID8gL3RvdXRWb2lyID0gdHJ1ZSAvLy8gcGx1cyBoYXV0CiAgCQkiIiIqKHRvdXRWb2lyICYmIHBhckNhc2UgPyByYXciIiJqdXN0ZXJlbW9udGUodGRtaW5pKTsvKiAzIGV0IDIrMyAqLwoJCQkiIiIgOiByYXciIiIgbGV0IHRkYmxldXMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmluaScpOyB0b3V0ZWZmYWNlcih0ZGJsZXVzKTsgCgkJCQkiIiIqKHBhckNhc2UgPyByYXciIiJqdXN0ZXVuZWNhc2UodGRtaW5pKTsgLyogMiBldCAyICovIAoJCQkJCSIiIiA6ICh0b3V0Vm9pciA/IHJhdyIiInRvdXNsZXPDqWdhbGl0aW9zKHRkbWluaSk7IC8qIDMgZXQgMSArIDIgZXQgMyAqLyAiIiIgOiByYXciIiJjYXJvbGlnbmlvcyh0ZG1pbmkpOyAvKiAyIGV0IDEgKi8gIiIiKSkpKiByYXciIiIKCQkgIHJldHVybiBfc3Vkb2t1OwoJCX07CgkJLy8gc2lub24gOiByZXR1cm4gY3JlYXRlU3Vkb2t1SHRtbCjigKYpLl9zdWRva3U7CgkJcmV0dXJuIG1zZ2EoY3JlYXRlU3Vkb2t1SHRtbCgiIiIgKiIkSlByb3BhbCIqIiwgIioiJEpTdWRva3VpbmkiKiIiIikpOwoJCTwvc2NyaXB0PiIiIikKCWVuZAoJaHRtbHNwID0gaHRtbFN1ZG9rdVByb3BhbCAjIyBtaW5pIHZlcnNpb24KCWh0bWF0cCA9IGh0bWxTdWRva3VQcm9wYWwg4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uIAoJCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBGb25jdGlvbiBwcmljaXBhbGUgcXVpIHLDqXNvdXQgbidpbXBvcnRlIHF1ZWwgc3Vkb2t1IChtw6ptZSBmYXV4KSAjIyMjIyMjIyMjIyMjIyMjIyMjCiMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMKICBmdW5jdGlvbiByw6lzb3V0U3Vkb2t1TWF4KG1TOjpBcnJheXtJbnQsMn0sIGxlc1rDqXJvczo6U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0sIGRpY29yw6l6bGlnOjpEaWN0e0ludCwgU2V0e0ludH19LCBkaWNvcsOpemNvbDo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjYXI6OkRpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fSA7IHRvdXJzOjpJbnQgPSAwKSAKCW5iVG91cnNUb3RhbCA9IHRvdXJzICMgY2Ugbm9tYnJlIHJlcHJlbmQgbGUgcGFzc2FnZSB2aWEgcsOpc291dFN1ZG9rdQoJIyBsZXNaw6lyb3MgPSBTZXQodlrDqXJvcykgIyMgYXZhbnQgU2V0KHNodWZmbGUhKHZaw6lyb3MpKSAjIFNldCB1bmUgYm9ubmUgXl4KCWxpc3RlZGVjaG9peCA9IFR1cGxle0ludCxJbnQsSW50LEludCxTZXR7SW50fX1bXQoJbGlzdGVkYW5jaWVubmVNYXQgPSBBcnJheXtJbnQsMn1bXQoJbGlzdGVkZXNaw6lyb3MgPSBTZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fVtdCglsZVrDqXJvw6BTdXBwciA9ICgwLDAsMCwwOjAsMDowKSAjIFR1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fQoJbmJDaG9peGZhaXQgPSAwCgltaW5DaG9peGRlc1rDqXJvcyA9IDEwCglhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZSA9ICgwLDAsMCwwLFNldHtJbnR9KCkpIAoJbGlzdGVkYW5jaWVuSW1wID0gRGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19W10gIyBzaSBkaWNPayAKCWxpc3RlZGljb3LDqXpsaWcgPSBEaWN0e0ludCwgU2V0e0ludH19W10KCWxpc3RlZGljb3LDqXpjb2wgPSBEaWN0e0ludCwgU2V0e0ludH19W10KCWxpc3RlZGljb3LDqXpjYXIgPSBEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX1bXSAKCW1JbXAgPSBEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0oKQoJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyBQZXJtZXQgZGUgdm9pciBzaSByaWVuIG5lIHNlIHJlbXBsaXQgZW4gdW4gdG91cgoJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgl3aGlsZSAhaXNlbXB0eShsZXNaw6lyb3MpICMgJiYgbmJUb3Vyc1RvdGFsIDwgbmJUb3Vyc01heAoJCWlmICFhbGxlckF1Q2hvaXhTdWl2YW50CgkJCW5iVG91cnNUb3RhbCArPSAxCgkJCcOnYU5hdmFuY2VQYXMgPSB0cnVlICMgcmVzZXQgw6AgY2hhcXVlIHRvdXIKCQkJbWluQ2hvaXhkZXNaw6lyb3MgPSAxMAoJCQlkaWxsbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNjbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWtrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxjbyA9IERpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSgpCgkJCWRpY2xvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGlrY28gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWRpa2xvID0gRGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0oKQoJCQlmdXNpYmxlc2xpZyA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NvbCA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NhciA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQl2w6lyaWZsaWduZSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e0ludH19KCkgZm9yIF8gPSAxOjkgXQoJCQl2w6lyaWZjb2wgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY2FycsOpID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19IH0oKSBmb3IgXyA9IDE6OSBdCgkJCWZvciAoaSxqLGssaWksamopIGluIGxlc1rDqXJvcwoJCQkJbGlzdGVjaGlmZnJlID0gY2hpZmZyZVBvc3NpYmxlKG1TLGksaixnZXQhKG1JbXAsKGksaiksU2V0e0ludH0oKSApLGlpLGpqKSAKCQkJCXNhYyEoaixpLGssaWksamosbGlzdGVjaGlmZnJlLGZ1c2libGVzY29sLGRpY2NvLGRpY2xvLGRpY2tvKQoJCQkJc2FjIShpLGosayxpaSxqaixsaXN0ZWNoaWZmcmUsZnVzaWJsZXNsaWcsZGlsbG8sZGlsY28sZGlsa28pCgkJCQlzYWshKGksaixrLGlpLGpqLGxpc3RlY2hpZmZyZSxmdXNpYmxlc2NhcixkaWtsbyxkaWtjbyxkaWtrbykKCQkJCWlmIGlzZW1wdHkobGlzdGVjaGlmZnJlKSB8fCBwYXNBc3NlekRlUHJvcGFsIShpLGosbGlzdGVjaGlmZnJlLCB2w6lyaWZsaWduZVtpXSwgdsOpcmlmY29sW2pdLCB2w6lyaWZjYXJyw6lba10sbUltcCkKCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gdHJ1ZSAjIGRvbmMgbWF1dmFpcyBjaG9peAoJCQlsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19KCkKCQkJCQlicmVhawoJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWNoaWZmcmUpID09IDEgIyBMJ2lkw6lhbCwgdW5lIHNldWxlIHBvc3NpYmlsaXTDqQoJCQkJCW1TW2ksal09Y29sbGVjdChsaXN0ZWNoaWZmcmUpWzFdICMgbGUgU2V0IGVuIGxpc3RlCgkJCQkJIyBtU1tpLGpdPXBvcCEobGlzdGVjaGlmZnJlKSAjIyBuZSBmb25jdGlvbm5lIHBhcwoJCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChpLGosayxpaSxqaikpCgkJCQkJZGVsZXRlIShkaWNvcsOpemxpZ1tpXSxqKQoJCQkJCWRlbGV0ZSEoZGljb3LDqXpjb2xbal0saSkKCQkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2tdLChpLGopICkKCQkJCQloYXNrZXkoZGlsbG8saSkgJiYgZGVsZXRlIShkaWxsb1tpXSwgbVNbaSxqXSkgIyB1dGlsZSBldCBzw7tyCgkJCQkJaGFza2V5KGRpY2NvLGopICYmIGRlbGV0ZSEoZGljY29bal0sIG1TW2ksal0pCgkJCQkJaGFza2V5KGRpa2tvLGspICYmIGRlbGV0ZSEoZGlra29ba10sIG1TW2ksal0pCgkJCQkJw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCQllbHNlaWYgw6dhTmF2YW5jZVBhcyAmJiBsZW5ndGgobGlzdGVjaGlmZnJlKSA8IG1pbkNob2l4ZGVzWsOpcm9zCgkJCQkJbWluQ2hvaXhkZXNaw6lyb3MgPSBsZW5ndGgobGlzdGVjaGlmZnJlKQoJCQkJCWNob2l4QWZhaXJlID0gKGksaiwgMSwgbWluQ2hvaXhkZXNaw6lyb3MsIGxpc3RlY2hpZmZyZSkgCgkJCQkJbGVaw6lyb8OgU3VwcHIgPSAoaSxqLGssaWksamopICMgT24gZ2FyZGUgbGVzIGNlbGx1bGVzIGF2ZWMg4oCmIAoJCQkJZW5kICMg4oCmIGxlIG1vaW5zIGRlIGNob2l4IMOgIGZhaXJlLCBzaSDDp2EgbidhdmFuY2UgcGFzCgkJCWVuZAoJCWVuZCAjIGlmIGFsbGVyQXVDaG9peFN1aXZhbnQgfHwgw6dhTmF2YW5jZVBhcyAmJiAoZEltcCA9PSBtSW1wKSAjIGVuIG1pZXV4IF5eCgkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCB8fCB1bmljbGshKGRpY2xvLGRpY2NvLGRpY2tvLGRpbGxvLGRpbGNvLGRpbGtvLGRpa2xvLGRpa2NvLGRpa2tvLG1TLG1JbXAsZGljb3LDqXpsaWcsZGljb3LDqXpjb2wsZGljb3LDqXpjYXIsbGVzWsOpcm9zw6BTdXBwcizDp2FOYXZhbmNlUGFzKQoJCQlpZiBhbGxlckF1Q2hvaXhTdWl2YW50ICMgU2kgbGUgY2hvaXggZW4gY291cnMgbidlc3QgcGFzIGJvbgoJCQkJaWYgaXNlbXB0eShsaXN0ZWRlY2hvaXgpICMgcGFzIGRlIGJvbCBoZWluCgkJCQkJIyBAaW5mbyAiMW1wICRuYlRvdXJzVG90YWwgJG5iQ2hvaXhmYWl0IgoJCQkJCXJldHVybiBpbXBvc3NpYmxlICMgZmF1eCBjYXIgdHJvcCBjb250cmFpbnQg4oaSIGV4OiAxMjM0NTY3OCs5ICMjLCAodG91cj1uYlRvdXJzLHR0PW5iVG91cnNUb3RhbCxlc3NhaT1lc3NhaSxub2l4PW5iQ2hvaXhmYWl0LHRvdXJzPWxpc3RlVG91cnMsY2hvaXg9bGlzdGVkZWNob2l4LCB6w6lyb3M9bGlzdGVkZXNaw6lyb3MsbWF0aHM9bGlzdGVkYW5jaWVubmVNYXQpIAoJCQkJZWxzZWlmIGNob2l4UHLDqWPDqWRlbnRbM10gPCBjaG9peFByw6ljw6lkZW50WzRdICMgQWxsZXIgYXUgc3VpdmFudAoJCQkJCSMjIHB1c2ghKGxpc3RlSGlzdG9NYXQgLCBjb3B5KG1TKSkgIyMgaGlzdG9pcmUgMSAKCQkJCQkjIyBwdXNoIShsaXN0ZUhpc3RvQ2hvaXggLCBjaG9peFByw6ljw6lkZW50KSAjIyBoaXN0b2lyZSAxIAoJCQkJCSMjIHB1c2ghKGxpc3RlSGlzdG9Ub3Vyc1RvdGFsICwgKG5iVG91cnMsIG5iVG91cnNUb3RhbCkpICMjIGhpMSAKCQkJCQkjIyBuYkhpc3RvVG90ICs9IDEgIyMgaGlzdG9pcmUgMQoJCQkJCShpLGosIGNob2l4LCBsLCBsYykgPSBjaG9peFByw6ljw6lkZW50CgkJCQkJY2hvaXhQcsOpY8OpZGVudCA9IChpLGosIGNob2l4KzEsIGwsIGxjKQoJCQkJCWxpc3RlZGVjaG9peFtuYkNob2l4ZmFpdF0gPSBjaG9peFByw6ljw6lkZW50CgkJCQkJbVMgPSBjb3B5KGxpc3RlZGFuY2llbm5lTWF0W25iQ2hvaXhmYWl0XSkKCQkJCQltSW1wID0gZGVlcGNvcHkobGlzdGVkYW5jaWVuSW1wW25iQ2hvaXhmYWl0XSkKCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCQkJCQltU1tpLGpdID0gcG9wIShsYykKCQkJCQlsZXNaw6lyb3MgPSBjb3B5KGxpc3RlZGVzWsOpcm9zW25iQ2hvaXhmYWl0XSkKCQkJCQlkaWNvcsOpemxpZyA9IGRlZXBjb3B5KGxpc3RlZGljb3LDqXpsaWdbbmJDaG9peGZhaXRdKQoJCQkJCWRpY29yw6l6Y29sID0gZGVlcGNvcHkobGlzdGVkaWNvcsOpemNvbFtuYkNob2l4ZmFpdF0pCgkJCQkJZGljb3LDqXpjYXIgPSBkZWVwY29weShsaXN0ZWRpY29yw6l6Y2FyW25iQ2hvaXhmYWl0XSkKCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVkZWNob2l4KSA8IDIgIyBwYXMgMiBib2wKCQkJCQkjIEBpbmZvICIyYmFsICRuYlRvdXJzVG90YWwgJG5iQ2hvaXhmYWl0IgoJCQkJCXJldHVybiBpbXBvc3NpYmxlCgkJCQllbHNlICMgSWwgZmF1dCByZXZlbmlyIGQndW4gY3JhbiBkYW5zIGxhIGxpc3RlIGhpc3RvcmlxdWUKCQkJCQltYXAocG9wISwobGlzdGVkZWNob2l4LGxpc3RlZGFuY2llbm5lTWF0LGxpc3RlZGFuY2llbkltcCwgbGlzdGVkZXNaw6lyb3MsbGlzdGVkaWNvcsOpemxpZyxsaXN0ZWRpY29yw6l6Y29sLGxpc3RlZGljb3LDqXpjYXIpKQoJCQkJCW5iQ2hvaXhmYWl0IC09IDEKCQkJCQljaG9peFByw6ljw6lkZW50ID0gbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XQoJCQkJZW5kCgkJCWVsc2UgIyBOb3V2ZWF1IGNob2l4IMOgIGZhaXJlIGV0IMOgIGdhcmRlciBlbiBtw6ltb2lyZQoJCQkJcHVzaCEobGlzdGVkZWNob2l4LCBjaG9peEFmYWlyZSkgIyBpY2kgcGFzIGJlc29pbiBkZSBjb3BpZQoJCQkJcHVzaCEobGlzdGVkYW5jaWVubmVNYXQgLCBjb3B5KG1TKSkgIyBjb3BpZSBlbiBkdXIKCQkJCXB1c2ghKGxpc3RlZGFuY2llbkltcCAsIGRlZXBjb3B5KG1JbXApKSAjIGNvcGllIGVuIGR1cgoJCQkJZGVsZXRlIShsZXNaw6lyb3MsIGxlWsOpcm/DoFN1cHByKSAjIE9uIHJldGlyZSBjZXV44oCmIGlkZW0gc2V0CgkJCQlwdXNoIShsaXN0ZWRlc1rDqXJvcyAsIGNvcHkobGVzWsOpcm9zKSkgIyBjb3BpZSBlbiBkdXIgYXVzc2kKCQkJCW5iQ2hvaXhmYWl0ICs9IDEKCgkJCQlpc3VwcHIgPSBsZVrDqXJvw6BTdXBwclsxXQoJCQkJanN1cHByID0gbGVaw6lyb8OgU3VwcHJbMl0KCQkJCWtzdXBwciA9IGxlWsOpcm/DoFN1cHByWzNdCgkJCQkjIyBtU1tjaG9peEFmYWlyZVsxOjJdLi4uXSA9IHBvcCEoY2hvaXhBZmFpcmVbNV0pCgkJCQltU1tpc3VwcHIsIGpzdXBwcl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaXN1cHByXSxqc3VwcHIpCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pzdXBwcl0saXN1cHByKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltrc3VwcHJdLChpc3VwcHIsanN1cHByKSApCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6bGlnLCBkZWVwY29weShkaWNvcsOpemxpZykpCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6Y29sLCBkZWVwY29weShkaWNvcsOpemNvbCkpCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6Y2FyLCBkZWVwY29weShkaWNvcsOpemNhcikpCgoJCQkJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlCgkJCWVuZCAKCQllbHNlICMgIcOnYU5hdmFuY2VQYXMgJiYgIWFsbGVyQXVDaG9peFN1aXZhbnQgIyMgVG91dCB2YSBiaWVuIGljaQoJCQlzZXRkaWZmIShsZXNaw6lyb3MsIGxlc1rDqXJvc8OgU3VwcHIpICMgT24gcmV0aXJlIGNldXggcmVtcGxpcyAKCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJZW5kCQoJZW5kCglyZXR1cm4gdG91dGVzdGJpZW5xdWlmaW5pdGJpZW4obVMsIG5iQ2hvaXhmYWl0LCBuYlRvdXJzVG90YWwpCiAgZW5kCiMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjCiMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjIAogIGZ1bmN0aW9uIHLDqXNvdXRTdWRva3UoSlN1ZG9rdTo6VmVjdG9ye1ZlY3RvcntJbnR9fSA7IG5iVG91cnNNYXg6OkludCA9IDgxKSAKCW5iVG91cnNUb3RhbDo6SW50ID0gMAoJbVM6OkFycmF5e0ludCwyfSA9IGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkgIyBDb252ZXJ0aSBlbiB2cmFpZSBtYXRyaWNlCglsZXNaw6lyb3MgPSBTZXQoc2h1ZmZsZSEoWyhpLGopIGZvciBqIGluIDE6OSwgaSBpbiAxOjkgaWYgbVNbaSxqXT09MF0pKQoJbGlzdGVkZWNob2l4ID0gVHVwbGV7SW50LEludCxJbnQsSW50LFNldHtJbnR9fVtdCglsaXN0ZWRhbmNpZW5uZU1hdCA9IEFycmF5e0ludCwyfVtdCglsaXN0ZWRlc1rDqXJvcyA9IFNldHtUdXBsZXtJbnQsSW50fX1bXQoJbmJDaG9peGZhaXQgPSAwCgltaW5DaG9peGRlc1rDqXJvcyA9IDEwCglhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZSA9ICgwLDAsMCwwLFNldHtJbnR9KCkpIAoJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyBQZXJtZXQgZGUgdm9pciBzaSByaWVuIG5lIHNlIHJlbXBsaXQgZW4gdW4gdG91cgoJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludH19KCkKCWlmIHbDqXJpZlN1ZG9rdUJvbihtUykKCQl3aGlsZSAhaXNlbXB0eShsZXNaw6lyb3MpICYmIG5iVG91cnNUb3RhbCA8IG5iVG91cnNNYXgKCQkjIyBmb3IgbmJ0IGluIDE6bmJUb3Vyc01heCAjIyMgbWF1dmFpc2UgaWTDqWUKCQkJIyMgaXNlbXB0eShsZXNaw6lyb3MpICYmIChuYlRvdXJzVG90YWwgKz0gbmJ0IC0gMTsgYnJlYWspCgkJCWlmICFhbGxlckF1Q2hvaXhTdWl2YW50CgkJCQluYlRvdXJzVG90YWwgKz0gMQoJCQkJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyByZXNldCDDoCBjaGFxdWUgdG91ciA/IGlkZW0gcG91ciBsZSByZXN0ZSA/CgkJCQltaW5DaG9peGRlc1rDqXJvcyA9IDEwCgkJCQlmb3IgKGksaikgaW4gbGVzWsOpcm9zCgkJCQkJbGlzdGVjaGlmZnJlID0gc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1TLGksaikgCgkJCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpCgkJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSB0cnVlICMgZG9uYyBtYXV2YWlzIGNob2l4CgkJCQkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnR9fSgpCgkJCQkJCWJyZWFrCgkJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWNoaWZmcmUpID09IDEgIyBMJ2lkw6lhbCwgdW5lIHNldWxlIHBvc3NpYmlsaXTDqQoJCQkJCQltU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXSAjIyBhdmFudCBsZSBTZXQgZW4gbGlzdGUKCQkJCQkJIyBtU1tpLGpdPXBvcCEobGlzdGVjaGlmZnJlKSAjIyBuZSBmb25jdGlvbm5lIHBhcwoJCQkJCQlwdXNoIShsZXNaw6lyb3PDoFN1cHByLCAoaSxqKSkKCQkJCQkJw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCQkJZWxzZWlmIMOnYU5hdmFuY2VQYXMgJiYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPCBtaW5DaG9peGRlc1rDqXJvcwoJCQkJCQltaW5DaG9peGRlc1rDqXJvcyA9IGxlbmd0aChsaXN0ZWNoaWZmcmUpCgkJCQkJCWNob2l4QWZhaXJlID0gKGksaiwgMSwgbWluQ2hvaXhkZXNaw6lyb3MsIGxpc3RlY2hpZmZyZSkgIAoJCQkJCQllbmQgIyDigKZsZSBtb2lucyBkZSBjaG9peCDDoCBmYWlyZSwgc2kgw6dhIG4nYXZhbmNlIHBhcwoJCQkJZW5kCgkJCWVuZAoJCQkjIyMgaWYgYWxsZXJBdUNob2l4U3VpdmFudCB8fCDDp2FOYXZhbmNlUGFzIAoJCQlpZiBhbGxlckF1Q2hvaXhTdWl2YW50ICMgU2kgbGUgY2hvaXggZW4gY291cnMgbidlc3QgcGFzIGJvbgoJCQkJaWYgaXNlbXB0eShsaXN0ZWRlY2hvaXgpICMgcGFzIGRlIGJvbCBoZWluCgkJCQkJcmV0dXJuIGltcG9zc2libGUKCQkJCWVsc2VpZiBjaG9peFByw6ljw6lkZW50WzNdIDwgY2hvaXhQcsOpY8OpZGVudFs0XSAjIEFsbGVyIGF1IHN1aXZhbnQgCgkJCQkJKGksaiwgY2hvaXgsIGwsIGxjKSA9IGNob2l4UHLDqWPDqWRlbnQKCQkJCQljaG9peFByw6ljw6lkZW50ID0gKGksaiwgY2hvaXgrMSwgbCwgbGMpCgkJCQkJbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XSA9IGNob2l4UHLDqWPDqWRlbnQKCQkJCQltUyA9IGNvcHkobGlzdGVkYW5jaWVubmVNYXRbbmJDaG9peGZhaXRdKQoJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJCQkJCW1TW2ksal0gPSBwb3AhKGxjKQoJCQkJCWxlc1rDqXJvcyA9IGNvcHkobGlzdGVkZXNaw6lyb3NbbmJDaG9peGZhaXRdKQoJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWRlY2hvaXgpIDwgMiAjIHBhcyAyIGJvbAoJCQkJCXJldHVybiBpbXBvc3NpYmxlCgkJCQllbHNlICMgSWwgZmF1dCByZXZlbmlyIGQndW4gY3JhbiBkYW5zIGxhIGxpc3RlIGhpc3RvcmlxdWUgCgkJCQkJbWFwKHBvcCEsKGxpc3RlZGVjaG9peCxsaXN0ZWRhbmNpZW5uZU1hdCwgbGlzdGVkZXNaw6lyb3MpKQoJCQkJCW5iQ2hvaXhmYWl0IC09IDEKCQkJCQljaG9peFByw6ljw6lkZW50ID0gbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XQoJCQkJZW5kCgkJCWVsc2VpZiDDp2FOYXZhbmNlUGFzICMgTm91dmVhdSBjaG9peCDDoCBmYWlyZSBldCDDoCBnYXJkZXIgZW4gbcOpbW9pcmUgCgkJCQlwdXNoIShsaXN0ZWRlY2hvaXgsIGNob2l4QWZhaXJlKSAjIGljaSBwYXMgYmVzb2luIGRlIGNvcGllCgkJCQlwdXNoIShsaXN0ZWRhbmNpZW5uZU1hdCAsIGNvcHkobVMpKSAjIGNvcGllIGVuIGR1cgoJCQkJZGVsZXRlIShsZXNaw6lyb3MsIGNob2l4QWZhaXJlWzE6Ml0pICMgT24gcmV0aXJlIGNldXjigKYgaWRlbSBzZXQgPwoJCQkJcHVzaCEobGlzdGVkZXNaw6lyb3MgLCBjb3B5KGxlc1rDqXJvcykpICMgY29waWUgZW4gZHVyIGF1c3NpIAoJCQkJbmJDaG9peGZhaXQgKz0gMQoJCQkJbVNbY2hvaXhBZmFpcmVbMToyXS4uLl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoJCQkJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlCgkJCQkjIyMgZW5kIAoJCQllbHNlICMgIcOnYU5hdmFuY2VQYXMgJiYgIWFsbGVyQXVDaG9peFN1aXZhbnQgIyMgVG91dCB2YSBiaWVuIGljaQoJCQkJc2V0ZGlmZiEobGVzWsOpcm9zLCBsZXNaw6lyb3PDoFN1cHByKSAjIE9uIHJldGlyZSBjZXV4IHJlbXBsaXMgCgkJCQlsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50fX0oKQoJCQllbmQJCgkJZW5kCgllbHNlIHJldHVybiDDoGNvcnJpZ2VyCgllbmQKCWlmIG5iVG91cnNUb3RhbCA9PSBuYlRvdXJzTWF4IHx8IG5iVG91cnNUb3RhbCA+IG5iVG91cnNNYXgKCQltQ29waWUgPSBnZXQobGlzdGVkYW5jaWVubmVNYXQsIDEsIGNvcHkobVMpKQoJCXZaw6lyb3MgPSBTZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJZGljb3LDqXpsaWcgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQlkaWNvcsOpemNvbCA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCWRpY29yw6l6Y2FyID0gRGljdHtJbnQsIFNldHtUdXBsZXtJbnQsSW50fX19KCkKCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5IAoJCQlpZiBtQ29waWVbaSxqXT09MAoJCQkJayA9IGtlbGNhcnLDqShpLGopCgkJCQlwdXNoISh2WsOpcm9zLCAoaSxqLGssY2FycihpKSxjYXJyKGopKSApCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6bGlnLGksU2V0e0ludH0oKSApLGopCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6Y29sLGosU2V0e0ludH0oKSApLGkpCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6Y2FyLGssU2V0e1R1cGxle0ludCxJbnR9fSgpICksKGksaikgKQoJCQllbmQKCQllbmQgCgkJcmV0dXJuIHLDqXNvdXRTdWRva3VNYXgobUNvcGllLCB2WsOpcm9zLCBkaWNvcsOpemxpZywgZGljb3LDqXpjb2wsIGRpY29yw6l6Y2FyOyB0b3Vycz1uYlRvdXJzVG90YWwpIAoJZWxzZSByZXR1cm4gdG91dGVzdGJpZW5xdWlmaW5pdGJpZW4obVMsIG5iQ2hvaXhmYWl0LCBuYlRvdXJzVG90YWwpCgllbmQKICBlbmQKICByanMgPSByw6lzb3V0U3Vkb2t1ICMjIG1pbmkgdmVyc2lvbiAgICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjCiAgcm1hdCA9IHLDqXNvdXRTdWRva3Ug4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uICAgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMKIyBGaW4gZGUgbGEgZm9uY3Rpb24gcHJpbmNpcGFsZSA6IHLDqXNvdXRTdWRva3UgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICBmdW5jdGlvbiBzdWRva3VBbMOpYXRvaXJlRmluaSgpICMjIEfDqW7DqHJlIHVuIHN1ZG9rdSBhbMOpYXRvaXJlIGZpbmkgKGF1Y3VuIHZpZGUpCglyZXR1cm4gbGlzdGVKU8OgbWF0cmljZShyw6lzb3V0U3Vkb2t1KGpzdmQoKSlbMV0pCiAgZW5kCiAgc2FmID0gbWFmID0gc3Vkb2t1QWzDqWF0b2lyZUZpbmkgIyMgbWluaSB2ZXJzaW9uCiAgZnVuY3Rpb24gc3Vkb2t1QWzDqWF0b2lyZSh4PTE5OjYyIDsgZnVuPXJhbmQsIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCkpI3JhbmQxOjgxCiAgIyBVbmUgZm9pcyBsZSBzdWRva3VBbMOpYXRvaXJlRmluaSwgb24gbGUgdmlkZSB1biBwZXUgZCd1biBub21icmUgeCBkZSBjZWxsdWxlcwoJaWYgIWlzYSh4LCBJbnQpICMgUGVybWV0IGRlIGNob2lzaXIgbGUgbm9tYnJlIGRlIHrDqXJvIG91IHVuIGludGVydmFsZQoJCXg9ZnVuKHgpCgllbmQKCXggPSAoMCA8PSB4IDwgODIpID8geCA6IDgxICMgUG91ciBjZXV4IGF1eCBncm9zIGRvaWd0cywgb3UgcXVpIHZvaXQgdHJvcCBncmFuZAoJbGlzdGUgPSBzaHVmZmxlIShbKGksaikgZm9yIGkgaW4gMTo5IGZvciBqIGluIDE6OV0pCglmb3IgKGksaikgaW4gbGlzdGVbMTp4XSAjIG5iQXBwcm94RGVaw6lyb3MKCQltYXR6w6lyb1tpLGpdID0gMAoJZW5kCglyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhtYXR6w6lybykKICBlbmQKCiAgZnVuY3Rpb24gdmlldXhTdWRva3UhKG5vdXZlYXU9c3Vkb2t1QWzDqWF0b2lyZSgpIDsgZMOpZmF1dD1mYWxzZSwgbcOpbW9pcmU9U3Vkb2t1TcOpbW8sIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCksIGlkTGllbj0ibGllbiIqc3RyaW5nKHJhbmQoSW50KSkpCiAgIyBPbiBwZXV0IHJldHJvdXZlciB1biB2aWV1eFN1ZG9rdSEgcG91ciBsZSBtZXR0cmUgYXUgbGlldSBkdSBzdWRva3UgaW5pdGlhbAogICMjIEV4ZW1wbGUgZGUgc3Vkb2t1IDoKICAjIHZpZXV4U3Vkb2t1IShbWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDMsMCw4LDVdLFswLDAsMSwwLDIsMCwwLDAsMF0sWzAsMCwwLDUsMCw3LDAsMCwwXSxbMCwwLDQsMCwwLDAsMSwwLDBdLFswLDksMCwwLDAsMCwwLDAsMF0sWzUsMCwwLDAsMCwwLDAsNywzXSxbMCwwLDIsMCwxLDAsMCwwLDBdLFswLDAsMCwwLDQsMCwwLDAsOV1dKQoJaWYgZMOpZmF1dD09dHJ1ZSAjIE3DqWdhbG9tYW5pZSAjIyBPbiByZXZpZW50IMOgIG1vbiBkw6lmYXV0IF5eCgkJbcOpbW9pcmVbMl0gPSBjb3B5KG3DqW1vaXJlWzRdKQoJZWxzZWlmIGlzYShub3V2ZWF1LCBJbnQpIHx8IGlzYShub3V2ZWF1LCBVbml0UmFuZ2V7SW50fSkKCQltw6ltb2lyZVsyXSA9IHN1ZG9rdUFsw6lhdG9pcmUobm91dmVhdSA7IG1hdHrDqXJvPW1hdHrDqXJvKQoJZWxzZWlmIG5vdXZlYXU9PW3DqW1vaXJlWzFdIAoJCW3DqW1vaXJlWzJdID0gc3Vkb2t1QWzDqWF0b2lyZSgpCgllbHNlIG3DqW1vaXJlWzJdID0gY29weShub3V2ZWF1KSAjIEFzdHVjZSBwb3VyIHNhdXZlciBsZSBzdWRva3UgZW4gY291cnMKCWVuZAoJcmV0dXJuIERvY3MuSFRNTCgiIiI8c2NyaXB0PgoJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgoJZnVuY3Rpb24gZ29TdWRva3VJbmkoKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpWzFdLmNsaWNrKCk7Cgl9Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiJGlkTGllbiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZ29TdWRva3VJbmkpOwoJZ29TdWRva3VJbmkoKTsKCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIiNNb2RpZmllckluaXQiOwoJPC9zY3JpcHQ+PGg2IHN0eWxlPSJtYXJnaW4tdG9wOiAwOyI+IENpLWRlc3NvdXMsIGxlIGJvdXRvbsKg4pa2IHJlc3RvcmUgbGUgdmlldXggc3Vkb2t1IGVuIHN1ZG9rdSBpbml0aWFswqAhwqDwn6WzIDxhIGlkPSIkaWRMaWVuIiBocmVmPScjTW9kaWZpZXJJbml0Jz4gcmV0b3VywqBlbsKgaGF1dMKg4oaRIDwvYT4gPC9oNj4iIiIpCiAgZW5kCiAgdmlldXggPSB2aWV1eCEgPSB2cyA9IHZzISA9IHZTISA9IHZpZXV4U3Vkb2t1ISAjIyBtaW5pIHZlcnNpb24KICB2c2QoKSA9IHZpZXV4U3Vkb2t1IShkw6lmYXV0PXRydWUpICMjIFBvdXIgcmV2ZW5pciDDoCBsJ29yaWdpbmFsCiAgaW5pID0gZMOpZmF1dCA9IGRlZmF1dCA9IHZzZCAjIyBtaW5pIHZlcnNpb24KICB2c3IoKSA9IHZpZXV4U3Vkb2t1ISgwKSAjIyBQb3VyIHBhcnRpciBkJ3VuIHN1ZG9rdSByZW1wbGkgb3UgZmluaSBeXgogIHZzZiA9IHZzciAjIyBtaW5pIHZlcnNpb24KICBzdWRva3Vpbml0aWFsISgpID0gdmlldXhTdWRva3UhKFN1ZG9rdU3DqW1vWzNdKQogIHZpZXV4U3Vkb2t1IShub3V2ZWF1OjpBcnJheXtJbnQsMn0gOyBkw6lmYXV0PWZhbHNlLCBtw6ltb2lyZT1TdWRva3VNw6ltbywgbWF0esOpcm89c3Vkb2t1QWzDqWF0b2lyZUZpbmkoKSwgaWRMaWVuPSJsaWVuIipzdHJpbmcocmFuZChJbnQpKSkgPSB2aWV1eFN1ZG9rdSEobWF0cmljZcOgbGlzdGVKUyhub3V2ZWF1Jyk7IGTDqWZhdXQ9ZMOpZmF1dCwgbcOpbW9pcmU9bcOpbW9pcmUsIG1hdHrDqXJvPW1hdHrDqXJvLCBpZExpZW49aWRMaWVuKQogIAogICM9IEQnYXV0cmVzIGZvbmN0aW9ucyBzaSBiZXNvaW4gcG91ciB0ZXN0ZXIgZXQgcmVww6lyZXIgZGVzIGVycmV1cnMgOgogIGZ1bmN0aW9uIHN1ZG9rdUFsdChuYkNoaWZmcmVzTWF4PXJhbmQoMjY6ODEpLCBtb2luc09LPXRydWUsIG5iZXNzYWk9MSkgCiAgIyBTb3J0ZSBkZSBzdWRva3VBbMOpYXRvaXJlIG1haXMgdW4gcGV1IHBsdXMgZm9pcmV1eCwgZW4gZWZmZXQsIGlsIG4nZXN0IHBhcyBmb3Jjw6ltZW50IHLDqWFsaXNhYmxlLiBDJ8OpdGFpdCBzdXJ0b3V0IHBvdXIgZmFpcmUgZGVzIHRlc3RzLgoJbmJDaGlmZnJlcyA9IDEKCQoJbVM6OkFycmF5e0ludCwyfSA9IHplcm9zKEludCwgOSw5KSAjIE1hdHJpY2UgZGUgesOpcm8KCWxlc1rDqXJvcyA9IHNodWZmbGUhKFsoaSxqKSBmb3IgaiBpbiAxOjksIGkgaW4gMTo5XSkjIEZhc3QgJiBGdXJpb3VzCgkKCWZvciAoaSxqKSBpbiBsZXNaw6lyb3MKCQlpZiBuYkNoaWZmcmVzID4gbmJDaGlmZnJlc01heAoJCQlyZXR1cm4gbVMKCQllbHNlIAoJCWxpc3RlY2hpZmZyZSA9IHNpbXBsZWNoaWZmcmVQb3NzaWJsZShtUyxpLGopCgkJCWlmIGlzZW1wdHkobGlzdGVjaGlmZnJlKSAjIyMgUGFzIGJvbiBzaWduZSBeXgoJCQkJaWYgbW9pbnNPSyB8fCBuYmVzc2FpID4gMjYKCQkJCQlyZXR1cm4gbVMKCQkJCWVsc2UgCgkJCQkJcmV0dXJuIHN1ZG9rdUFsdChuYkNoaWZmcmVzTWF4LCBmYWxzZSwgbmJlc3NhaSsxKQoJCQkJZW5kCgkJCWVsc2UgIyBsZW5ndGgobGlzdGVjaGlmZnJlKSA9PSAxICMgTCdpZMOpYWwsIHVuZSBzZXVsZSBwb3NzaWJpbGl0w6kKCQkJCSMgbVNbaSxqXT1jb2xsZWN0KGxpc3RlY2hpZmZyZSlbMV0KCQkJCW1TW2ksal09cG9wIShsaXN0ZWNoaWZmcmUpCgkJCQluYkNoaWZmcmVzICs9IDEKCQkJZW5kCgkJZW5kCgllbmQKICBlbmQKICBzYWx0ID0gc3Vkb2t1QWx0ICMjIG1pbmkgdmVyc2lvbgogIGZ1bmN0aW9uIGJsaW5kdGVzdChuYnRlc3Q9MTAwIDsgdG1heD04MSwgbmJ6w6lybyA9IChyYW5kLCA3Ojc3KSwgc3VkZj1zdWRva3VBbMOpYXRvaXJlRmluaSkKICAjIFBlcm1ldCBkZSB0ZXN0ZXIgbGEgcmFwaWRpdMOpIGV0IGNlcnRhaW5zIGJ1Z3MgZGUgbWEgZm9uY3Rpb24gcHJpbmNpcGFsZSByw6lzb3V0U3Vkb2t1LiBDJ2VzdCBkb25jIHVuZSBmb25jdGlvbiBxdWkgZXN0IHRlY2huaXF1ZSBldCBxdWkgc2VydCBzdXJ0b3V0IHF1YW5kIGlsIHkgYSBkZXMgw6l2b2x1dGlvbnMgZGUgY2V0dGUgZm9uY3Rpb24uCgluYnrDqXJvZigpID0gaXNhKG5iesOpcm8sVHVwbGUpICYmIG5iesOpcm89bmJ6w6lyb1sxXShuYnrDqXJvWzJdKQogICAgbm9wcm9ibGVtbyA9IHN1ZGY9PXN1ZG9rdUFsw6lhdG9pcmVGaW5pCglmb3IgdG91ciBpbiAxOm5idGVzdAoJCXN1ZGluaSA9IHN1ZGYoKQoJCW5iesOpcm9mKCkKCQlzdWRhbMOpYSA9IHN1ZG9rdUFsw6lhdG9pcmUobmJ6w6lybywgZnVuPWlkZW50aXR5LCBtYXR6w6lybz1jb3B5KHN1ZGluaSkpCgkJIyB0cnkgCgkJIyAJcsOpc291dFN1ZG9rdShzdWRhbMOpYSA7IG5iVG91cnNNYXg9dG1heCkKCQkjIGNhdGNoIGUKCQkjIAlyZXR1cm4gKCJidWciLCBlLCBzdWRhbMOpYSkKCQkjIGVuZAoJCXNvbHVjZSA9IHLDqXNvdXRTdWRva3Uoc3VkYWzDqWEgOyBuYlRvdXJzTWF4PXRtYXgpCgkJIyBpZiBzb2x1Y2VbMV0gaXNhIFN0cmluZwoJCWlmIG5vcHJvYmxlbW8gJiYgc29sdWNlWzFdIGlzYSBTdHJpbmcKCQkJIyMgaWYgbm9wcm9ibGVtbyB8fCBzb2x1Y2VbMV0gIT0gaW1wb3NzaWJsZVsxXQoJCQkjIGlmIHNvbHVjZVsxXSA9PSBpbXBvc3NpYmxlWzFdCgkJCSMgaWYgc29sdWNlWzFdID09IMOgY29ycmlnZXJbMV0KCQkJCXJldHVybiAoO3N1ZHrDqXIgPSBqc20oc3VkYWzDqWEpLCBzdWRpbmksIHRvdXIsIG5iesOpcm8sIHNvbHVjZSwgdHo9InZpZXV4KCQoanNtKHN1ZGFsw6lhKSkpIiwgdGk9InZpZXV4KCRzdWRpbmkpIikKCQkJIyBlbmQKCQllbHNlaWYgIWlzYShzb2x1Y2VbMV0sU3RyaW5nKSAmJiAhdsOpcmlmU3Vkb2t1Qm9uKGpzbShzb2x1Y2VbMV0pKQoJCQkJcmV0dXJuICg7c3VkesOpciA9IGpzbShzdWRhbMOpYSksIHN1ZGluaSwgdG91ciwgbmJ6w6lybywgc29sdWNlLCB0ej0idmlldXgoJChqc20oc3VkYWzDqWEpKSkiLCB0aT0idmlldXgoJHN1ZGluaSkiKQoJCWVuZAoJZW5kCgkjIHJldHVybiBbWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwyLDMsMCwwLDAsMSw1LDBdLFs3LDAsMCw0LDAsMiwwLDAsNl0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDcsMiwwLDAsMCw4LDQsMF0sWzAsMSw0LDAsMCwwLDcsOSwwXSxbMCwwLDcsOSwyLDQsMywwLDBdLFswLDAsMCwxLDUsNywwLDAsMF1dLCAiVG91dCB2YSBiaWVu4oCmIHBvdXIgbGUgbW9tZW50IPCfkY0iCglyZXR1cm4gIlRvdXQgdmEgYmllbuKApiBwb3VyIGxlIG1vbWVudCDwn5GNIgogIGVuZAogIGJ0ID0gdGVzdG1lID0gYmxpbmR0ZXN0ICMjIG1pbmkgdmVyc2lvbiA9IwogICMjIGJ0dCA9IGJ0KCk7IGJ0dCBpc2EgU3RyaW5nID8gbWQiIyBUb3Ag8J+YjiIgOiB2aWV1eChidHRbMV0pCiAgIyMgYmJ0ID0gYnQoc3VkZj1zYWx0KTsgYmJ0IGlzYSBTdHJpbmcgPyBtZCIjIFRvcCDwn5iOIiA6IGJidFsxXQogIAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojPSBiZWdpbiAjIyMjIEJPTlVTIGR1IEJPTlVTIDogcG91dm9pciB1dGlsaXNlciAqIHN1ciBsZXMgTUQgZXQgRG9jcy5IVE1MIF5eCgkjIOKGkiBodHRwczovL2Rpc2NvdXJzZS5qdWxpYWxhbmcub3JnL3QvY29uY2F0ZW5hdGUtbWFya2Rvd24tc3RyaW5ncy81OTM4NQoJIyDihpIgaHR0cHM6Ly9naXRodWIuY29tL0p1bGlhTGFuZy9qdWxpYS9ibG9iL21hc3Rlci9iYXNlL3JlZ2V4LmpsI0w3NTkKCSMgaHR0cHM6Ly9naXRodWIuY29tL0p1bGlhTGFuZy9qdWxpYS9ibG9iL21hc3Rlci9zdGRsaWIvTWFya2Rvd24vc3JjL0NvbW1vbi8KCWltcG9ydCBCYXNlOiAqLCBeCgkjIGV4cG9ydCAqLCBeCgljY2F0KGMxLCBjMiwgc3M9Om5vKSA9IGlzZnVzaW9uYWJsZShjMSwgYzIsIHNzKSA/IGZ1c2lvbihjMSwgYzIsIHNzKSA6IHZjYXQoYzEsYzIpCgkqKG0xOjpNYXJrZG93bi5NRCwgbTI6Ok1hcmtkb3duLk1EKSA9IE1hcmtkb3duLk1EKGNjYXQobTEuY29udGVudCwgbTIuY29udGVudCkpCgkqKG06Ok1hcmtkb3duLk1ELCBzOjpVbmlvbntBYnN0cmFjdENoYXIsIEFic3RyYWN0U3RyaW5nLCBEb2NzLkhUTUx9KSA9IAoJCU1hcmtkb3duLk1EKGNjYXQobS5jb250ZW50LCBwYXJzZWJpcyhzKS5jb250ZW50LCA6cmlnaHQpKQoJKihzOjpVbmlvbntBYnN0cmFjdENoYXIsIEFic3RyYWN0U3RyaW5nLCBEb2NzLkhUTUx9LCBtOjpNYXJrZG93bi5NRCkgPSAKCQlNYXJrZG93bi5NRChjY2F0KHBhcnNlYmlzKHMpLmNvbnRlbnQsIG0uY29udGVudCwgOmxlZnQpKQoJKihtOjpNYXJrZG93bi5NRCkgPSBtICMgYXZvaWRzIHdyYXBwaW5nIG0gaW4gYSB1c2VsZXNzIHN1YnBhdHRlcm4gKGFzIFJlZ2V4LmpsKQoJXihtOjpNYXJrZG93bi5NRCwgaTo6SW50KSA9ICooTWFya2Rvd24uTUQoKSxmaWxsKG0saSkuLi4pCiAJCglpc2Z1c2lvbmFibGUoYzEsIGMyLCBzdHJpbmdzaWRlOjpTeW1ib2wpID0gCgkJIWlzZW1wdHkoYzEpICYmICFpc2VtcHR5KGMyKSAmJiAoc2ltaWxhcihjMVtlbmRdLCBjMlsxXSkgfHwgCgkJCShzdHJpbmdzaWRlID09IDpyaWdodCA/IGMyWzFdIGlzYSBNYXJrZG93bi5QYXJhZ3JhcGggOiAKCQkJCShzdHJpbmdzaWRlID09IDpsZWZ0ID8gYzFbZW5kXSBpc2EgTWFya2Rvd24uUGFyYWdyYXBoIDogZmFsc2UpKSApCglmdXNpb24oYzEsIGMyLCBzdHJpbmdzaWRlOjpTeW1ib2wpID0gCgkJdmNhdChjMVsxOmVuZC0xXSwgcHJlbWVyZ2UoYzFbZW5kXSwgYzJbMV0sIHN0cmluZ3NpZGUpLCBjMlsyOmVuZF0pCgkKCXNpbWlsYXIoOjpBbnksIDo6QW55KSA9IGZhbHNlICMgYnkgZGVmYXVsdCBpdCBpcyBub3Qgc2ltaWxhcgoJc2ltaWxhcig6Ok1hcmtkb3duLlBhcmFncmFwaCwgOjpNYXJrZG93bi5QYXJhZ3JhcGgpID0gdHJ1ZSAjIG1kImlzICIgKiBtZCIgZ29vZCA/IgoJc2ltaWxhcihoMTo6TWFya2Rvd24uSGVhZGVye2wxfSwgaDI6Ok1hcmtkb3duLkhlYWRlcntsMn0pIHdoZXJlIHtsMSxsMn0gPSAobDE9PWwyKQoJc2ltaWxhcihjMTo6TWFya2Rvd24uQ29kZSwgYzI6Ok1hcmtkb3duLkNvZGUpID0gKGMxLmxhbmd1YWdlID09IGMyLmxhbmd1YWdlKQoJc2ltaWxhcihmMTo6TWFya2Rvd24uRm9vdG5vdGUsIGYyOjpNYXJrZG93bi5Gb290bm90ZSkgPSAoZjEuaWQgPT0gZjIuaWQpCglzaW1pbGFyKDo6TWFya2Rvd24uQmxvY2tRdW90ZSwgOjpNYXJrZG93bi5CbG9ja1F1b3RlKSA9IHRydWUgCglzaW1pbGFyKGExOjpNYXJrZG93bi5BZG1vbml0aW9uLCBhMjo6TWFya2Rvd24uQWRtb25pdGlvbikgPSAKCQkoYTEuY2F0ZWdvcnkgPT0gYTIuY2F0ZWdvcnkpICYmIChhMS50aXRsZSA9PSBhMi50aXRsZSkKCXNpbWlsYXIobDE6Ok1hcmtkb3duLkxpc3QsbDI6Ok1hcmtkb3duLkxpc3QpID0gCgkJKGwxLm9yZGVyZWQgPT0gbDIub3JkZXJlZCkgJiYgKGwxLmxvb3NlID09IGwyLmxvb3NlKQoJCglwcm9wKHJlOjpBbnkpID0gcmUgIyByZXN0IG9yIG90aGVyIHR5cGUsIGZvciBleC4gOjpEb2NzLkhUTUwKCXByb3AocDo6VW5pb257TWFya2Rvd24uUGFyYWdyYXBoLCBNYXJrZG93bi5CbG9ja1F1b3RlLCBNYXJrZG93bi5BZG1vbml0aW9ufSkgPSAKCQlwLmNvbnRlbnQKCXByb3AoaDo6VW5pb257TWFya2Rvd24uSGVhZGVyLCBNYXJrZG93bi5Gb290bm90ZX0pID0gaC50ZXh0Cglwcm9wKGw6Ok1hcmtkb3duLkNvZGUpID0gbC5jb2RlCglwcm9wKGw6Ok1hcmtkb3duLkxpc3QpID0gbC5pdGVtcwoJCglmdW5jdGlvbiBwcmVtZXJnZShjMSwgYzIsIHNzKSAKCQlpZiBzcyA9PSA6bGVmdCAmJiBjMSBpc2EgTWFya2Rvd24uUGFyYWdyYXBoCgkJCWlmIGMyIGlzYSBVbmlvbntNYXJrZG93bi5QYXJhZ3JhcGgsIE1hcmtkb3duLkhlYWRlcn0KCQkJCW1lcmdlKGMyLCBwcm9wKGMxKSwgcHJvcChjMikpCgkJCWVsc2VpZiBjMiBpc2EgTWFya2Rvd24uQ29kZQoJCQkJTWFya2Rvd24uQ29kZShjMi5sYW5ndWFnZSwgaHN0cmluZyhNYXJrZG93bi5NRChjMSksIHByb3AoYzIpKSkKCQkJZWxzZSBtZXJnZShjMiwgQW55W01hcmtkb3duLlBhcmFncmFwaChBbnlbcHJvcChjMSldKV0sIHByb3AoYzIpKQoJCQllbmQKCQllbHNlaWYgc3MgPT0gOnJpZ2h0ICYmIGMyIGlzYSBNYXJrZG93bi5QYXJhZ3JhcGgKCQkJaWYgYzEgaXNhIFVuaW9ue01hcmtkb3duLlBhcmFncmFwaCwgTWFya2Rvd24uSGVhZGVyfQoJCQkJbWVyZ2UoYzEsIHByb3AoYzEpLCBwcm9wKGMyKSkKCQkJZWxzZWlmIGMxIGlzYSBNYXJrZG93bi5Db2RlCgkJCQlNYXJrZG93bi5Db2RlKGMxLmxhbmd1YWdlLCBoc3RyaW5nKHByb3AoYzEpLCBNYXJrZG93bi5NRChjMikpKQoJCQllbHNlIG1lcmdlKGMxLCBwcm9wKGMxKSwgQW55W01hcmtkb3duLlBhcmFncmFwaChBbnlbcHJvcChjMildKV0pCgkJCWVuZAoJCWVsc2UgbWVyZ2UoYzEsIHByb3AoYzEpLCBwcm9wKGMyKSkKCQllbmQKCWVuZAoJCgltZXJnZSg6OkFueSwgaGMsIGFjKSA9IHZjYXQoaGMsIGFjKSAjIGZvciBtZCIiIiQoaHRtbCJ0aGF0IikiIiIKCW1lcmdlKDo6TWFya2Rvd24uUGFyYWdyYXBoLCBwMWMsIHAyYykgPSBNYXJrZG93bi5QYXJhZ3JhcGgodmNhdChwMWMsIHAyYykpCgltZXJnZSg6Ok1hcmtkb3duLkhlYWRlcntsfSwgaDF0LCBoMnQpIHdoZXJlIGwgPSBNYXJrZG93bi5IZWFkZXJ7bH0odmNhdChoMXQsIGgydCkpCgltZXJnZShjOjpNYXJrZG93bi5Db2RlLCBjMWMsIGMyYykgPSBNYXJrZG93bi5Db2RlKGMubGFuZ3VhZ2UsICooYzFjLCBjMmMpKQoJbWVyZ2UoZjo6TWFya2Rvd24uRm9vdG5vdGUsIGYxdCwgZjJ0KSA9IE1hcmtkb3duLkZvb3Rub3RlKGYuaWQsIGNjYXQoZjF0LCBmMnQpKQoJbWVyZ2UoOjpNYXJrZG93bi5CbG9ja1F1b3RlLCBiMWMsIGIyYykgPSBNYXJrZG93bi5CbG9ja1F1b3RlKGNjYXQoYjFjLCBiMmMpKQoJbWVyZ2UoYTo6TWFya2Rvd24uQWRtb25pdGlvbiwgYTFjLCBhMmMpID0gCgkJTWFya2Rvd24uQWRtb25pdGlvbihhLmNhdGVnb3J5LCBhLnRpdGxlLCBjY2F0KGExYywgYTJjKSkKCW1lcmdlKGw6Ok1hcmtkb3duLkxpc3QsIGwxaSwgbDJpKSA9IAoJCU1hcmtkb3duLkxpc3QodmNhdChsMWksIGwyaSksIGwub3JkZXJlZCwgbC5sb29zZSkKCQoJcGFyc2ViaXMoYzo6QWJzdHJhY3RDaGFyKSA9IE1hcmtkb3duLk1EKE1hcmtkb3duLlBhcmFncmFwaChBbnlbc3RyaW5nKGMpXSkpCglmdW5jdGlvbiBwYXJzZWJpcyhzOjpBYnN0cmFjdFN0cmluZykKCQlwcyA9IE1hcmtkb3duLnBhcnNlKHMpCgkJaWYgcHMgPT0gTWFya2Rvd24uTUQoTWFya2Rvd24uQ29kZSgiIiwgIiIpKSB8fCBwcyA9PSBNYXJrZG93bi5NRChNYXJrZG93bi5QYXJhZ3JhcGgoW10pKQoJCQlyZXR1cm4gTWFya2Rvd24uTUQoTWFya2Rvd24uUGFyYWdyYXBoKEFueVsiICJdKSkKCQllbHNlIHJldHVybiBwcwoJCWVuZCAjIGF2b2lkcyBtZCIgIiDihpIgQ29kZSgiIiwiIikgb3IgbWQiICAgICIg4oaSIFBhcmFncmFwaChbXSkgYnV0IGp1c3QgIiAiCgllbmQKCWZ1bmN0aW9uIHBhcnNlYmlzKGg6OkRvY3MuSFRNTCkKCQkoaXNlbXB0eShoLmNvbnRlbnQpIHx8IGguY29udGVudCA9PSAiIikgJiYgcmV0dXJuIE1hcmtkb3duLk1EKCkKCQlyZXR1cm4gTWFya2Rvd24uTUQoTWFya2Rvd24uUGFyYWdyYXBoKEFueVtoXSkpCgllbmQKCWZ1bmN0aW9uIGhzdHJpbmcobWQxLi4uKQoJCWlvID0gSU9CdWZmZXIoKQoJCXByaW50KGlvLCBtZDEuLi4pCgkJcmV0dXJuIHVuZXNjYXBlX3N0cmluZyhyZXBsYWNlKFN0cmluZyh0YWtlIShpbykpLCByIiIiSFRNTHtTdHJpbmd9XChcIiguKilcIlwpIiIiID0+IHMiXDEiKSwgJyQnKQoJZW5kCgkqKGgxOjpEb2NzLkhUTUx7U3RyaW5nfSwgaDI6OkRvY3MuSFRNTHtTdHJpbmd9KSA9IAoJCURvY3MuSFRNTCgqKGgxLmNvbnRlbnQsIGgyLmNvbnRlbnQpKSAKCSooaDo6RG9jcy5IVE1Me1N0cmluZ30sIHM6OlVuaW9ue0Fic3RyYWN0Q2hhciwgQWJzdHJhY3RTdHJpbmd9KSA9IAoJCURvY3MuSFRNTCgqKGguY29udGVudCwgcykpIAoJKihzOjpVbmlvbntBYnN0cmFjdENoYXIsIEFic3RyYWN0U3RyaW5nfSwgaDo6RG9jcy5IVE1Me1N0cmluZ30pID0gCgkJRG9jcy5IVE1MKCoocywgaC5jb250ZW50KSkgCgkJIyDihpIgaHR0cHM6Ly9naXRodWIuY29tL0p1bGlhTGFuZy9qdWxpYS9ibG9iL21hc3Rlci9iYXNlL2RvY3MvdXRpbHMuamwKCQkjIyMgTm90ZSBmcm9tIGZ1dHVyZSA6IGFkZCB0aGlzIHRvIERvY3MuVGV4dCAoYXMgRG9jcy5IVE1MKSA/CiAgICAKIyBiZWdpbiAjIyMjIEFuY2llbm5lIHRlbnRhdGl2ZSBzaW1wbGUgbWFpcyBub24gY29uY2x1YW50ZSAjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSMgaW1wb3J0IEJhc2U6ICoKCSMgZnVuY3Rpb24gcHJpbnROcGFyc2UobWQxLCBtZDIpCgkJIyBpb01EID0gSU9CdWZmZXIoKQoJCSMgcHJpbnQoaW9NRCwgbWQxLCBtZDIpCgkJIyByZXR1cm4gTWFya2Rvd24ucGFyc2Uoc2Vla3N0YXJ0KGlvTUQpKQoJIyBlbmQKCSMgKihtZDE6Ok1hcmtkb3duLk1ELCBtZDI6OlVuaW9ue0Fic3RyYWN0Q2hhciwgQWJzdHJhY3RTdHJpbmd9KSA9IHByaW50TnBhcnNlKG1kMSwgbWQyKQoJIyAqKG1kMTo6VW5pb257QWJzdHJhY3RDaGFyLCBBYnN0cmFjdFN0cmluZywgTWFya2Rvd24uTUR9LCBtZDI6Ok1hcmtkb3duLk1EKSA9IHByaW50TnBhcnNlKG1kMSwgbWQyKQoKCSMgKihtZDo6TWFya2Rvd24uTUQsIGg6OkRvY3MuSFRNTCkgPSBNYXJrZG93bi5NRCh2Y2F0KG1kLmNvbnRlbnQsIGgpKQoJIyAqKGg6OkRvY3MuSFRNTCwgbWQ6Ok1hcmtkb3duLk1EKSA9IE1hcmtkb3duLk1EKHZjYXQoaCwgaC5jb250ZW50KSkKCSMgKihoMTo6RG9jcy5IVE1Me1N0cmluZ30sIGgyOjpEb2NzLkhUTUx7U3RyaW5nfSkgPSBEb2NzLkhUTUwoKihoMS5jb250ZW50LCBoMi5jb250ZW50KSkKCSMjIE5vdCBnb29kIGZvciBtZCIiIiAkKGh0bWwidGhhdCIpICIiIgojIGVuZAplbmQgPSMKZW5kOyBub3RoaW5nOyAjIHN0eWzDqWzDoGJhc2F2ZWNib251cyEgIyMgdm9pciBqdXN0ZSBkYW5zIGxhIGNlbGx1bGUgI0JvbnVzIGF1IGRlc3N1cyDihpEKIyBWb2lsw6AgISBmaW4gZGUgbGEgcGx1cGFydCBkdSBjb2RlIGRlIGNlIHByb2dyYW1tZSBQbHV0b2t1LmpsCgojIOKVlOKVkOKVoSBhYmRlMDAwMi0wMDAxLTAwMDItMDAwMS0wMDAyZGFiZTAwMDEKbWQiIyMgUsOpc291ZHJlIHVuIFN1ZG9rdSBwYXIgQWxleGlzwqAkY29vbCIgIz3CoHYxLjguN8KgdmVuZHJlZGnCoDA3LzA3LzIwMjPCoPCfjrLCoAoKUG91ciBsYSB2dWUgSFRNTCBldCBsZSBzdHlsZSBDU1MsIGNlbGEgZXN0IGluc3BpcsOpIGR1IHN1ZG9rdSBodHRwczovL29ic2VydmFibGVocS5jb20vQGZpbGlwZXJtbGgvaWEtc3Vkb2t1LXBsZTEKUG91ciBsZSBKYXZhU2NyaXB0LCBtZXJjaSDDoCAoY2FzZSBzdWl2YW50ZSBpbnB1dCkgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE1NTk1NzMyLCAodG91Y2hlcyBjbGF2aWVyKSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDQyMTMwMzYKRXQgYmllbiBzw7tyIGxlIGNhbGVwaW4gZCdleGVtcGxlIGRlIEZvbnMgIjMuIEludGVyYWN0aXZpdHkiClBvdXIgaW5mbywgbGUgY29kZSBwcmluY2lwYWwgZXN0IHN0eWzDqWzDoGJhc2F2ZWNib251cyEgb3UgcGx1dMO0dCBjYWNow6kganVzdGUgYXByw6hzwqA6KQoKQ2UgInBsdXRva3UiIGVzdCB2aXNpYmxlIHN1csKgOiAKaHR0cHM6Ly9naXRodWIuY29tLzRMRC9wbHV0b2t1CgpQb3VyIGxlIHJlbGFuY2VyIHBvdXIgaW5mb8KgOiAKaHR0cHM6Ly9teWJpbmRlci5vcmcvdjIvZ2gvZm9uc3AvcGx1dG8tb24tYmluZGVyL0hFQUQ/dXJscGF0aD1wbHV0by9vcGVuP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vNExEL3BsdXRva3UvbWFpbi9QbHV0b2t1LmpsCk91IGNmLiBodHRwczovL2dpdGh1Yi5jb20vZm9uc3AvUGx1dG8uamwgZXQgaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlciA6IApodHRwczovL2JpbmRlci5wbHV0b2psLm9yZy9vcGVuP3VybD1odHRwczolMjUyRiUyNTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyNTJGNExEJTI1MkZwbHV0b2t1JTI1MkZtYWluJTI1MkZQbHV0b2t1LmpsIAoKPSMKCiMg4pWU4pWQ4pWhIGFiZGUwMDAzLTAwMDMtMDAwMy0wMDAzLTAwMDNkYWJlMDAwMwptZCIiIlBvdXIgY2V0dGUgc2Vzc2lvbiwgc2kgYmVzb2luIGQndW4gOiAkKEBiaW5kIGJvdXRvblN1ZG9rdUluaXRpYWwgaHRtbCI8aW5wdXQgdHlwZT1idXR0b24gc3R5bGU9J21hcmdpbjogMCA2cHggMCA2cHgnIHZhbHVlPSfwn5O3IGluc3RhbnRhbsOpIDspJz4iKSBfKHNpwqBzdWRva3XCoHZpZGXCoOKGksKgc3Vkb2t1wqBhbMOpYXRvaXJlKV8iIiIKCiMg4pWU4pWQ4pWhIGFiZGUwMDA0LTAwMDItMDAwNC0wMDAyLTAwMDRkYWJlMDAwMgpiZWdpbiAKCWJvdXRvblN1ZG9rdUluaXRpYWwgIyBSZW1ldHRyZSBsZSBwdWNlICJNb2RpZmllckluaXQiIHN1ciBSZXRvdXIgaW5zdGFudGFuw6kgOykKCXN1ZG9rdWluaXRpYWwhKCkgIyB2aWV1eFN1ZG9rdSEoU3Vkb2t1TcOpbW9bM10pIFBvdXIgcmVtcGxhY2VyIHBhciBjZWx1aSBtb2RpZmnDqQoJbWQiIiIgJChAYmluZCB2aWRlck91cGFzIHB1Y2VzKFsiVmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwiLCJSZXRvdXIgaW5zdGFudGFuw6kgOykiXSwiUmV0b3VyIGluc3RhbnRhbsOpIDspIjsgaWRQdWNlcz0iTW9kaWZpZXJJbml0IikpICQoaHRtbCLCoDxhIGhyZWY9JyNCb251cycgc3R5bGU9J3BhZGRpbmctbGVmdDogMTBweDsgYm9yZGVyLWxlZnQ6IDJweCBkb3R0ZWQgdmFyKC0tcnVsZS1jb2xvciwjNzc3Nzc3MjYpOycgPkJvbnVzwqBlbsKgYmFzwqDihpM8L2E+IinCoF86wqBhc3R1Y2VzwqArwqB2aWV1eCFfIiIiCmVuZAoKIyDilZTilZDilaEgYWJkZTAwMDUtMDAwNS0wMDA1LTAwMDUtMDAwNWRhYmUwMDA1CmJlZ2luCgljaG9peFN1ZG9rdSA9ICghaXNhKHZpZGVyT3VwYXMsIFN0cmluZykgfHwgdmlkZXJPdXBhcyAhPSAiVmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwiID8gIDIgIDogIDEgICkgIyBQb3VyIHNpbXBsaWZpZXIgbCdpbmZvIGR1IGNob2l4IChleHBsaWNhdGlvbiBudWxsZSA6KQoJQGJpbmQgYmluZEpTdWRva3UgQm9uZEphbWVzQm9uZChTdWRpbmkoU3Vkb2t1TcOpbW8sIGNob2l4U3Vkb2t1KSwgU3Vkb2t1TcOpbW9bM10pCmVuZAoKIyDilZTilZDilaEgYWJkZTAwMDYtMDAwNC0wMDA2LTAwMDQtMDAwNmRhYmUwMDA0CmJlZ2luIAoJU3Vkb2t1TcOpbW9bM10gPSBiaW5kSlN1ZG9rdSAjIFBvdXIgcXUnaWwgcmVzdGUgZW4gbcOpbW9pcmUg4oaSIFJldG91ciBpbnN0YW50YW7DqSA7KSAKCXN1ZG9rdVNvbHV0aW9uID0gcsOpc291dFN1ZG9rdShiaW5kSlN1ZG9rdSkgIztuYlRvdXJzTWF4PTApIyBjYWxjdWxlIGxhIHNvbHV0aW9uCglzdWRva3VTb2x1dGlvblZ1ZSA9IHN1ZG9rdVNvbHV0aW9uWzFdICMgTGUgc3Vkb2t1IHLDqXNvbHUgKHZvaXIgcGx1cyBsb2luKQoJc3Vkb2t1U29sdXRpb25bMl0gIyBMYSBwZXRpdGUgZXhwbGljYXRpb24gc2V1bGUgOiAiU3RhdGlzdGlxdWVzIDogY2UgcHJvZ3JhbW1l4oCmIgplbmQgIyMgbWVzdXJhYmxlIGF2ZWMgIyB1c2luZyBCZW5jaG1hcmtUb29sczsgQGJlbmNobWFyayByw6lzb3V0U3Vkb2t1KGJpbmRKU3Vkb2t1KQoKIyDilZTilZDilaEgYWJkZTAwMDctMDAwNi0wMDA3LTAwMDYtMDAwN2RhYmUwMDA2CnZpZGVyT3VwYXM7IG1kIiIiIyMjIyAkdmFldHZpZW50IFN1ZG9rdSBpbml0aWFswqDipLQgKG1vZGlmaWFibGUpIGV0IHNhIHNvbHV0aW9uwqA6ICQoaHRtbCI8L3NwYW4+IikgIiIiCgojIOKVlOKVkOKVoSBhYmRlMDAwOC0wMDA3LTAwMDgtMDAwNy0wMDA4ZGFiZTAwMDcKbWQiIiIkKEBiaW5kIHZvaXJPdVBhcyBCb25kSmFtZXNCb25kKHB1Y2VzKFsi8J+kq8KgQ2FjaMOpZSIsICJFbiB0b3VjaGFudCwgZW50cmV2b2lyIGxlcyBjaGlmZnJlc+KApiIsICJQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmIl0sIvCfpKvCoENhY2jDqWUiOyBpZFB1Y2VzPSJDYWNoZXJSw6lzdWx0YXQiKSwgIvCfpKvCoENhY2jDqWUiKSApIAoKJChodG1sIjxkaXYgc3R5bGU9J2JvcmRlci1ib3R0b206IDJweCBkb3R0ZWQgdmFyKC0tcnVsZS1jb2xvciwjNzc3KTsnPjwvZGl2PiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAokKEBiaW5kIFByb3BhbE91U29sdWNlIEJvbmRKYW1lc0JvbmQocHVjZXMoWyLigKZwYXLCoGNoaWZmcmUiLCAi4oCmcGFywqBjYXNlwqDwn5SiIiwgIuKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpIiwgIuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqkiXSwgIuKApnBhcsKgY2hpZmZyZSI7IGlkUHVjZXM9IlBvc3NpYmxlc0V0U29sdXRpb24iLCBjbGFzc2U9InBhc2xhIiApLCAi4oCmcGFywqBjaGlmZnJlIikgKSAKCiQoaHRtbCI8ZGl2IGlkPSdkaXZlcnMnIGNsYXNzPSdwYXNsYScgc3R5bGU9J21hcmdpbi10b3A6IDhweDsgbWFyZ2luLWxlZnQ6IDElOyB1c2VyLXNlbGVjdDogbm9uZTsgZm9udC1zdHlsZTogaXRhbGljOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM3NzcnPjxzcGFuIGlkPSdwdWNhcm9saWduZSc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2Fyb2xpZ25lJyBuYW1lPSdjYXJvbGlnbmUnPjxsYWJlbCBmb3I9J2Nhcm9saWduZScgc3R5bGU9J21hcmdpbi1sZWZ0OiAycHg7Jz5DYXJvbGlnbmXCoOKalDwvbGFiZWw+PC9zcGFuPgo8c3BhbiBpZD0ncHVjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDUlJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBuYW1lPSdjaG9peMOgbWV0dHJlZW5oYXV0Jz48bGFiZWwgZm9yPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDJweDsnPkNvY2hlcsKgaWNpLCBwdWlzIHRvdWNoZXIgbGUgY2hpZmZyZSDDoCBtZXR0cmUgZGFucyBsZSBTdWRva3XCoGluaXRpYWw8L2xhYmVsPjwvc3Bhbj48L2Rpdj4iKSIiIgoKIyDilZTilZDilaEgYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA4CmlmICFpc2Eodm9pck91UGFzLCBTdHJpbmcpIHx8IHZvaXJPdVBhcyA9PSAi8J+kq8KgQ2FjaMOpZSIKCU1hcmtkb3duLnBhcnNlKCAiIyMjIyMjIPCfpJAgQ2VsYSBlc3QgY2FjaMOpIHBvdXIgbGUgbW9tZW50IGNvbW1lIGRlbWFuZMOpXG4iICogKCBzdWRva3VTb2x1dGlvblZ1ZSBpc2EgU3RyaW5nID8gIk1hbGNoYW5jZSAhIiA6ICJCb25uZSBjaGFuY2UgISIgKSAqIAoiIFNpIGJlc29pbiwgY29jaGVyIGDwn6SrwqBDYWNow6llYCBwb3VyIHJldm9pciBjZXR0ZSBpbmZvcm1hdGlvbsKgOiAKCmBFbiB0b3VjaGFudCwgZW50cmV2b2lyIGxlcyBjaGlmZnJlc+KApmAgZGUgY2hhcXVlIGNhc2XigKZcXApfKHBldGl0IHRydWPCoDogbGVzIGNoaWZmcmVzIGVuIGJsZXUgcsOpZWZmYWNlbnQgdG91dClfCgogICAtIGDigKZwYXLCoGNoaWZmcmVgIGV0IHNpIHBvc3NpYmxlwqA6IGhhdXTCoGdhdWNoZcKgPcKgMSBhdSBiYXPCoGRyb2l0ZcKgPcKgOcKgKGNlbnRyZcKgZGXCoGxhwqBjYXNlwqA9wqA1KQogICAtIGDigKZwYXLCoGNhc2XCoPCflKJgIGwnZW5zZW1ibGXCoGRlcyBjaGlmZnJlcyBwb3NzaWJsZXMgKGRlIHRvdXRlIGxhIGNhc2UpCiAgIC0gYOKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpYCBmYWl0IGxlIGNvbXB0ZSBldCBjZWxsZShzKSBhdmVjwqDinJQgKGVuIHBsYWNlIGR1wqA5KSBvbnQgbGEgc29tbWXCoG1pbmltYWxlCiAgIC0gc2V1bCBg4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqWAgbW9udHJlIGRlcyBjaGlmZnJlcyBkdSBzdWRva3UgZmluaQoKT24gcGV1dCBgUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApmAgZGUgbGEgc291cy1jYXTDqWdvcmllIGNob2lzaWUKCkVuZmluLCBpbCB5IGEgZGV1eCBvcHRpb25zwqA6ICAKYENhcm9saWduZcKg4pqUYCBwb3VyIGxlcyBjYXNlcyBsacOpZXMgKGNhcnLDqSwgY29sb25uZSwgbGlnbmUpwqA7IFxcCm91IGBDb2NoZXLCoGljaSwgcHVpcyB0b3VjaGVyIGxlIGNoaWZmcmUgw6AgbWV0dHJlIGRhbnMgbGUgU3Vkb2t1wqBpbml0aWFsYCIgKQplbHNlaWYgUHJvcGFsT3VTb2x1Y2UgPT0gIuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqkiICMgfHwgUHJvcGFsT3VTb2x1Y2UgaXNhIE1pc3NpbmcKCQlodG1sU3Vkb2t1KHN1ZG9rdVNvbHV0aW9uVnVlLGJpbmRKU3Vkb2t1IDsgdG91dFZvaXI9ICh2b2lyT3VQYXM9PSJQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmIikgKQplbHNlIGh0bWxTdWRva3VQcm9wYWwoYmluZEpTdWRva3Usc3Vkb2t1U29sdXRpb25WdWUgOyB0b3V0Vm9pcj0gKHZvaXJPdVBhcz09IlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiKSwgcGFyQ2FzZT0gKFByb3BhbE91U29sdWNlID09IuKApnBhcsKgY2FzZcKg8J+UoiIpLCBzb21tZT0gKFByb3BhbE91U29sdWNlPT0i4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCkiKSkKZW5kCgojIOKVlOKVkOKVoSBhYmRlMDAxMC0wMDA5LTAwMTAtMDAwOS0wMDEwZGFiZTAwMDkKc3R5bMOpbMOgYmFzYXZlY2JvbnVzID0gIz0gc3R5bGUgQ1NTIHBvdXIgbGUgc3Vkb2t1SFRNTCwgbGUgY29kZSBwcmluY2lwYWwgZXN0IGRhbnMgbGEgY2VsbHVsZSBjYWNow6llIHRvdXQgZW4gYmFzLCBqdXN0ZSBhcHLDqHMgbGEgY2VsbHVsZSB2aWRlIF9gRW50ZXLCoGNlbGzCoGNvZGUuLi5gXyIgPSMgRG9jcy5IVE1MKHJhdyIiIjxzdHlsZT4gLyogUG91ciBsZXMgYm91dG9ucyBldCAnY29kZScgKi8KCWlucHV0W3R5cGU9ImJ1dHRvbiIgaV0gewoJCWJhY2tncm91bmQtY29sb3I6ICNhYWE7CgkJY29sb3I6IGJsYWNrOwoJCWJvcmRlcjogMnB4IG91dHNldCAjYmJiOwoJCWJvcmRlci1yYWRpdXM6IDJweDt9CglpbnB1dFt0eXBlPSJidXR0b24iIGldOmhvdmVyLAoJaW5wdXRbdHlwZT0iYnV0dG9uIiBpXTphY3RpdmV7CgkJYmFja2dyb3VuZC1jb2xvcjogIzc3NzsKCQljb2xvcjogd2hpdGU7CgkJYm9yZGVyOiAycHggc29saWQgIzc3Nzt9CgkvLyBwbHV0by1vdXRwdXQucmljaF9vdXRwdXQgY29kZSB7Ym9yZGVyOiBzb2xpZCAxcHggIzliOWY5ZjsgLyovIGNvbnRvdXIgZmluIC8qL30KCXBsdXRvLW91dHB1dC5yaWNoX291dHB1dCBjb2RlIHtib3JkZXI6IHNvbGlkIDFweCB2YXIoLS1ydWxlLWNvbG9yLCM3Nzc3NzcyNik7fQovKiBhdXRyZXMgYmlkb3VpbGxlcyAqLwoJI3RhaWRlLCAjdGVzZm9vdCwgI3ZhX2V0X3ZpZW50IHt1c2VyLXNlbGVjdDogbm9uZTt9Cgkjc3Vkb2t1ZmluaSwgI2NvcGllZmluaWUge2N1cnNvcjogcG9pbnRlcjt9IC8qLyBkb2lndCBldCBub24gc291cmlzIC8qLwoJaW5wdXRbdHlwZT0icmFkaW8iIGldIHttYXJnaW46IDNweCAzcHggM3B4IDA7fQoJLnBhc2xhLCAubWFpc3Rlc291eyAvKiB2aXNpYmlsaXR5OiBoaWRkZW47ICovIGZpbHRlcjogb3BhY2l0eSg2MiUpIGJsdXIoMnB4KTt9Cgl0ciNsaWduZW5vbnZpc2libGUge2JvcmRlci10b3A6IGhpZGRlbjt9CglwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhIC5ydW5jZWxsIHtkaXNwbGF5OiBub25lO30KCS8qIHBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEsICovCgkvKiAjYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA4ID4gcGx1dG8tcnVuYXJlYSwgKi8KCSNhYmRlMDAwNi0wMDA0LTAwMDYtMDAwNC0wMDA2ZGFiZTAwMDQgPiBwbHV0by1ydW5hcmVhIHsKCSAgICBkaXNwbGF5OiBibG9jazsKCQliYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDsKCSAgICBvcGFjaXR5OiAxO30KLyogUG91ciBsZSBzdWRva3UgaW5pdGlhbCAqLwoJdGFibGUuc3Vkb2tvb2wgewoJCWJvcmRlcjogaGlkZGVuOwoJCW1hcmdpbi1ibG9jay1zdGFydDogMDsKCQltYXJnaW4tYmxvY2stZW5kOiAwO30KCXRhYmxlLnN1ZG9rb29sIHRyIHtib3JkZXI6MDt9Cgl0YWJsZS5zdWRva29vbCB0ci50cm9pc3Ige2JvcmRlci10b3A6IHRoaWNrIHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCB7CgkJYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCM3NzcpOyAKCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudHJvaXNkIHtib3JkZXItbGVmdDogdGhpY2sgc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCBpbnB1dCB7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMTAwJTsKCQloZWlnaHQ6IDEwMCU7CgkJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CgkJYm9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuZGFtaWVyewoJCWJhY2tncm91bmQtY29sb3I6IHZhcigtLXJ1bGUtY29sb3IsIzc3Nzc3NzI2KTsgfSAvKiAjNzc3IG91ICM3Nzc3NzcgYWRvdWNpICovCi8qIFBvdXIgbGUgcsOpc3VsdGF0IG91IGFpZGUgKi8KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIHsKCQl1c2VyLXNlbGVjdDogbm9uZTsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiAxNHB0OwoJCXdpZHRoOiAzOHB4OwoJCWhlaWdodDogMzhweDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5pbmkgewoJCWZvbnQtd2VpZ2h0OiBib2xkOwoJCWNvbG9yOiB2YXIoLS1jbS12YXItY29sb3IsICNhZmI3ZDMpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmluaS5ncmlzLCAKCXRhYmxlLnN1ZG9rb29sbWluaSB0ZC52aWRlLmluaSB7CgkJZm9udC1zdHlsZTogaXRhbGljOwoJCWNvbG9yOiB2YXIoLS1jbS12YXItY29sb3IsICNhZmI3ZDMpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLnZpZGUge2NvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgI2Y5OWIxNSk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuY2FjaMOpZSB7Y29sb3I6IHRyYW5zcGFyZW50O30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmdyaXMge2NvbG9yOiAjNzc3OyBmb250LXN0eWxlOiBpdGFsaWM7fQovKlBvdXIgbGUgcsOpc3VsdGF0bWluaSBvdSBhaWRlbWluaSovCgl0YWJsZS5zdWRva29vbG1pbmkgewoJCWJvcmRlcjogaGlkZGVuICFpbXBvcnRhbnQ7CgkJbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwoJCW1hcmdpbi1ibG9jay1lbmQ6IDA7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyLAoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHtib3JkZXI6MCAhaW1wb3J0YW50O30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogNy40OTk5OXB0OwoJCXdpZHRoOiAxMnB4OwoJCWhlaWdodDogMTEuNjcxODdweDsgCgkJCWNvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgI2Y5OWIxNSk7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkLmNhY2jDqWUge2NvbG9yOiB0cmFuc3BhcmVudDt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQuZ3JpcyB7Y29sb3I6ICM3Nzc7IGZvbnQtc3R5bGU6IGl0YWxpYzt9Cjwvc3R5bGU+IiIiKTsgcG91cnZvaXJwbHV0w7R0ID0gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQ+Ci8vIGNvbnN0IHBsdXTDtHRzdHlsw6kgPSBgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuL2hpZGUtdWkuY3NzIj48c3R5bGUgaWQ9ImNhY2jDqW1vaXBsdXTDtHQiPgpjb25zdCBwbHV0w7R0c3R5bMOpID0gYDxzdHlsZSBpZD0iY2FjaMOpbW9pcGx1dMO0dCI+Cm1haW4gewogICAgLy8gbWFyZ2luLXRvcDogMjBweDsKICAgIGN1cnNvcjogYXV0bzsKCW1hcmdpbjogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgLy8gcGFkZGluZy1ib3R0b206IDRyZW0gIWltcG9ydGFudDt9Cm5hdiwgaGVhZGVyLCBwcmVhbWJsZSwgcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCwKYm9keSA+IGhlYWRlciwgcHJlYW1ibGUgPiBidXR0b24sIHBsdXRvLWNlbGwgPiBidXR0b24sIHBsdXRvLWlucHV0ID4gYnV0dG9uLApmb290ZXIsIHBsdXRvLXJ1bmFyZWEsICNoZWxwYm94LXdyYXBwZXIgewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30KcGx1dG8tc2hvdWxkZXIgewoJdmlzaWJpbGl0eTpoaWRkZW47fQpwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhLApwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwoJYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7fQoKQG1lZGlhIHNjcmVlbiBhbmQgKGFueS1wb2ludGVyOiBmaW5lKSB7CiAgICBwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICAgICAgLy8gb3BhY2l0eTogMC41OwogICAgICAgIG9wYWNpdHk6IDA7IC8qIHRvIG1ha2UgaXQgZmVlbCBzbW9vdGg6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjI1cyBlYXNlLWluLW91dDsKICAgIH0KICAgIHBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhID4gYnV0dG9uOmhvdmVyID4gc3BhbiwKICAgIHBsdXRvLWNlbGw6aG92ZXIgPiBwbHV0by1ydW5hcmVhID4gc3BhbiB7CiAgICAgICAgLy8gLyogYXZhbnQgKi8gb3BhY2l0eTogMTsKICAgICAgICBvcGFjaXR5OiAwLjU7IC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlLWluLW91dDsKICAgIH0KICAvLyAgcGx1dG8tY2VsbCA+IHBsdXRvLXNob3VsZGVyID4gYnV0dG9uOmhvdmVyIHsKICAvLyAgICAgIG9wYWNpdHk6IDA7IC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgLy8gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogIC8vICB9IAp9IAo8L3N0eWxlPmA7CmZ1bmN0aW9uIGNvb2xvdXBhcygpIHsgCgl2YXIgQk4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKTsKCWlmIChCTi5pbm5lckhUTUwgPT0gIvCfmIkiKSB7IEJOLmlubmVySFRNTCA9ICLwn5iOIjt9IGVsc2UgeyBCTi5pbm5lckhUTUwgPSAi8J+YiSI7fTsKfTsKLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKCnZhciBzdHlsw6ljYWNow6kgPSBodG1sYDxzcGFuIGlkPSdzdHlsw6knPiR7cGx1dMO0dHN0eWzDqX08L3NwYW4+YDsKLy8gdmFyIHN0eWzDqWNhY2jDqSA9IGh0bWxgPHNwYW4gaWQ9J3N0eWzDqSc+PC9zcGFuPmA7IC8vIGFuY2llbm5lIGJpZG91aWxsZSAvLy8vCiIiIiAqIChwbHV0w7R0dm9pciA/ICJ2YXIgc3R5bMOpY2FjaMOpID0gaHRtbGA8c3BhbiBpZD0nc3R5bMOpJz48L3NwYW4+YDsiIDogIiIpICogcmF3IiIiCmZ1bmN0aW9uIHN0eWzDqW91cGFzKCkgeyAKCXZhciBzdHlsw6kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R5bMOpIik7Cgl2YXIgY2FjaMOpbW9pcGx1dMO0dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYWNow6ltb2lwbHV0w7R0Iik7CglpZiAoY2FjaMOpbW9pcGx1dMO0dCkgeyAKCQlzdHlsw6kuaW5uZXJIVE1MID0gJyc7Cgl9IGVsc2UgewoJCXN0eWzDqS5pbm5lckhUTUwgPSBwbHV0w7R0c3R5bMOpOwoJfTsKfTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsdXRvdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc3R5bMOpb3VwYXMpOwpyZXR1cm4gc3R5bMOpY2FjaMOpOwo8L3NjcmlwdD4iIiIpOyBjYWxlcGluID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwucmVwbGFjZSgnaHRtbCcsICdqbCcpIDogZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2VkaXQnLCAnbm90ZWJvb2tmaWxlJyl9IHRhcmdldD0nX2JsYW5rJyBkb3dubG9hZD4ke2RvY3VtZW50LnRpdGxlLnJlcGxhY2UoJ/CfjoggJywnJykucmVwbGFjZSgn4oCUIFBsdXRvLmpsJywnJyl9PC9hPmA7PC9zY3JpcHQ+Iik7IGNhbGV3ZWIgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+cmV0dXJuIGh0bWxgPGEgaHJlZj0ke2RvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSA/IGRvY3VtZW50LlVSTCA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZXhwb3J0Jyl9IHRhcmdldD0nX2JsYW5rJyBzdHlsZT0nZm9udC13ZWlnaHQ6IG5vcm1hbDsnIGRvd25sb2FkPkhUTUw8L2E+YDs8L3NjcmlwdD4iKTsgcGx1dG9vamwgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+aWYgKGRvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSkgewoJcmV0dXJuIGh0bWxgPGVtPlBsdXRvLmpsPC9lbT5gCiAgICB9IGVsc2UgeyByZXR1cm4gaHRtbGA8YSBocmVmPScuLycgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXdlaWdodDogbm9ybWFsOyc+PGVtPlBsdXRvPC9lbT48L2E+PGVtPi5qbDwvZW0+YH08L3NjcmlwdD4iKTsgcG91cmdhcmRlcmxldGVtcHMgPSBEb2NzLkhUTUwocmF3IiIiPHNjcmlwdD5mdW5jdGlvbiBnw6luw6lyYXRldXJEZUNvZGVDbMOpKCkgewoJdmFyIGNvcHlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBvdXItZMOpZmluaXItbGUtc3Vkb2t1LWluaXRpYWwiKTsKCXZhciBwYXN0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJY29weVRleHQudmFsdWUgPSAndmlldXhTdWRva3UhKCcgKyBwYXN0ZXh0LmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgKyAnKSc7Cgljb3B5VGV4dC5zZWxlY3QoKTsKCW5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvcHlUZXh0LnZhbHVlKTsgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2zDqWfDqW4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGfDqW7DqXJhdGV1ckRlQ29kZUNsw6kpOwoJCnZhciBlZGl0Q1NTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKZWRpdENTUy5pZCA9ICJ0b3VzbGVzdGVtcHMiOwp2YXIgdG9nZ2zDqSA9ICIwIjsKCmxldCB0b3VzbGVzdGVtcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJydW50aW1lIik7Ci8vIHRvdXNsZXN0ZW1wcy5mb3JFYWNoKCBlID0+IHsgLy8gbmUgZm9uY3Rpb25uZSBwYXMgOicoCmZvcihsZXQgaj0wOyBqPChPYmplY3Qua2V5cyh0b3VzbGVzdGVtcHMpLmxlbmd0aCk7IGorKyl7Cgl0b3VzbGVzdGVtcHNbal0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewoJCS8vIGFsZXJ0KGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoIm9wYXF1ZW91cGFzIikpOwoJCXZhciBzdHlsw6l0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdXNsZXN0ZW1wcyIpOwoJCXRvZ2dsw6kgPSAodG9nZ2zDqT09IjAiKSA/ICIwLjciIDogIjAiIDsKCQlzdHlsw6l0LmlubmVySFRNTCA9ICJwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7IG9wYWNpdHk6ICIrIHRvZ2dsw6kgKyAiOyB9IjsKCX0pOwp9OwpyZXR1cm4gZWRpdENTUzsKPC9zY3JpcHQ+IiIiKTsgYm9udXNldGFzdHVjZXMgPSBtZCIiIiQoaHRtbCI8ZGV0YWlscyBvcGVuPjxzdW1tYXJ5IHN0eWxlPSdsaXN0LXN0eWxlOiBub25lOyc+PGg0IGlkPSdCb251cycgc3R5bGU9J21hcmdpbi10b3A6IDE3cHg7IHVzZXItc2VsZWN0OiBub25lOyc+Qm9udXPCoDogbGUgc3Vkb2t1IGVuIGNvdXJzIHBvdXIgcGx1c8KgdGFyZOKApjwvaDQ+PC9zdW1tYXJ5PiIpIApKZSBjb25zZWlsbGUgZGUgZ2FyZGVyIGxlIGNvZGUgZHUgc3Vkb2t1IGVuIGNvdXJzIChlbiBjbGlxdWFudCwgbGEgY29waWUgZXN0IGF1dG9tYXRpcXVlwqDinKgpIAokKGh0bWwiPGlucHV0IHR5cGU9YnV0dG9uIGlkPSdjbMOpZ8OpbicgdmFsdWU9J0NvcGllciBsZSBjb2RlIMOgIGdhcmRlciA6KSc+PGlucHV0IGlkPSdwb3VyLWTDqWZpbmlyLWxlLXN1ZG9rdS1pbml0aWFsJyB0eXBlPSd0ZXh0JyBzdHlsZT0nZm9udC1zaXplOiB4LXNtYWxsOyBtYXJnaW4tcmlnaHQ6IDZweDsgbWF4LXdpZHRoOiAzOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ydWxlLWNvbG9yLCM3Nzc3NzcyNik7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMCA4cHggOHB4IDA7IGZpbHRlcjogb3BhY2l0eSg4OSUpOycgLz4iKSAqKk5vdGUqKsKgOsKgw6DCoGNvbGxlcsKgYWlsbGV1cnMgZGFucyB1biBibG9jLW5vdGVzIHBhciBleGVtcGxlIAoKIyMjIyMg4oCmw6AgcmV0cm91dmVyIGNvbW1lIGQnYXV0cmVzIHZpZXV4IHN1ZG9rdXPCoDogCkVuc3VpdGUsIGRhbnMgdW5lIChub3V2ZWxsZSkgc2Vzc2lvbiwgY2xpcXVlciBkYW5zIF9gRW50ZXLCoGNlbGzCoGNvZGUuLi5gXyB0b3V0IGVuIGJhc8Kg4oaTIGV0IGNvbGxlciBsZSBjb2RlIHF1aSBmdXQgZ2FyZMOpIChjZi4gbm90ZSBjaS1kZXNzdXMpLgpFbmZpbiwgbGFuY2VyIGxlIGNvZGUgYXZlYyBsZSBib3V0b27CoOKWtyB0b3V0IMOgIGRyb2l0ZSAocXVpIGNsaWdub3RlIGp1c3RlbWVudCkuIApDZSB2aWV1eCBzdWRva3UgZXN0IHJlc3RvcsOpIGVuIHBsYWNlIGR1IF9SZXRvdXIgaW5zdGFudGFuw6nCoCFfIChjZWxhIFtyZXRvdXJuZSBlbsKgaGF1dMKg4oaRXSgjTW9kaWZpZXJJbml0KSkgCgkKJChodG1sIjxkZXRhaWxzIGNsYXNzPSdwbGknIG9wZW4+PHN1bW1hcnkgc3R5bGU9J21hcmdpbi1ib3R0b206IC0xM3B4OyBsaXN0LXN0eWxlOiBub25lOyc+PGg1IGlkPSdCb251c0FzdHVjZXMnIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsgdXNlci1zZWxlY3Q6IG5vbmU7Jz4gQXV0cmVzIGFzdHVjZXPCoDo8L2g1Pjwvc3VtbWFyeT48c3R5bGU+ZGV0YWlsc1tvcGVuXS5wbGkgPiBzdW1tYXJ5OjphZnRlciB7Y29udGVudDogJyAoY2xpcXVlciBpY2kgcG91ciBsZXMgY2FjaGVyKSc7IGZvbnQtc3R5bGU6IGl0YWxpYzt9IGRldGFpbHMucGxpID4gc3VtbWFyeTpub3QoZGV0YWlsc1tvcGVuXS5wbGkgPiBzdW1tYXJ5KTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIHJldm9pciknOyBmb250LXN0eWxlOiBpdGFsaWM7fSBkZXRhaWxzLnBsaSA+IHN1bW1hcnk6bm90KGRldGFpbHNbb3Blbl0ucGxpID4gc3VtbWFyeSl7bWFyZ2luLWJvdHRvbTogMCAhaW1wb3J0YW50O308L3N0eWxlPiIpCiAgIDEuIE1vZGlmaWVyIGxlIHByZW1pZXIgc3Vkb2t1ICjDoCB2aWRlciBzaSBiZXNvaW4sIGdyw6JjZSBhdSBwcmVtaWVyIGNob2l4KSBldCBjb2NoZXIgZW5zdWl0ZSBjZSBxdWUgbCdvbiBzb3VoYWl0ZSB2b2lyIGNvbW1lICoqYWlkZSBvdSBzb2x1dGlvbioqwqA7IGxlIHN1ZG9rdSBkdSBkZXNzb3VzIHLDqXBvbmQgYWluc2kgYXV4IG9yZHJlcy4gQ29jaGVyIGDwn6SrwqBDYWNow6llYCBwb3VyIHJldm9pciBkZXMgaW5kaWNhdGlvbnMgc3VyIGwnZW1wbG9pIGRlcyBjYXNlcyAKICAgMi4gSWwgZXN0IHBvc3NpYmxlIGRlIGJvdWdlciBhdmVjIGxlcyBmbMOoY2hlcywgYWxsZXIgw6AgbGEgbGlnbmUgc3VpdmFudGUgYXV0b21hdGlxdWVtZW50ICjDoCBsYSBfW1NuYWtlXShodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPVNuYWtlKV8pLiBJbCB5IGEgYXVzc2kgZGVzIHJhY2NvdXJjaXMsIGNvbW1lIGBIYMKgPcKgaGF1dCwgYFZgIG91IGBHYMKgPcKgZ2F1Y2hlLCBgRGAgYEpgIGBOYMKgPcKgZHJvaXRlLCBgQmDCoD3CoGJhcy4gTmkgYmVzb2luIGRlIHBhdsOpIG51bcOpcmlxdWUsIG5pIGQnYXBwdXllciBzdXIgX01hanVzY3VsZV8sIGxlcyB0b3VjaGVzIHN1aXZhbnRlcyBzb250IGlkZW5kaXF1ZXMgYDEyMzTCoDU2N8KgODkwYCA9IGBBWkVSwqBUWVXCoElPUGAgPSBgJsOpIifCoCgtw6jCoF/Dp8OgYCAKICAgMy4gT24gcGV1dCAqKnJlbW9udGVyIGxhIHNvbHV0aW9uKiogYXUgbGlldSBkdSBwcmVtaWVyIHN1ZG9rdSBlbiBjbGlxdWFudCBzdXIgbGUgdGV4dGUgW1N1ZG9rdSBpbml0aWFswqDipLTigKZdKCN2YV9ldF92aWVudCkgZXQgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBpbml0aWFsIG1vZGlmaWFibGUgW+KGqsKgQ2xpcXVlcuKApl0oI2xpZ25lbm9udmlzaWJsZSnCoHN1ciBsZSB0ZXh0ZSBxdWkgYXBwYXJhaXQganVzdGUgZW4gZGVzc291cyAKICAgNC4gUG91ciBpbmZvcm1hdGlvbiwgbGEgZm9uY3Rpb24gKip2aWV1eFN1ZG9rdSEqKigpLCBvdSAqKnZpZXV4ISoqKCkgb3UgKip2cyoqKCksIHNhbnMgcGFyYW3DqHRyZSBwZXJtZXQgZGUgZ8OpbsOpcmVyIHVuIHN1ZG9rdSBhbMOpYXRvaXJlLiBFbiBtZXR0YW50IHVuIG5vbWJyZSwgcGFyIGV4ZW1wbGUgKip2aWV1eFN1ZG9rdSEoNjIqKinCoDogY2Ugc2VyYSBsZSB0b3RhbCBkZSBjYXNlcyB2aWRlcyBkdSBzdWRva3UgYWzDqWF0b2lyZSBjb25zdHJ1aXQuIEVuZmluLCBlbiBtZXR0YW50IHVuIGludGVydmFsbGUsIHNvdXMgbGEgZm9ybWUgKipkw6lidXTCoDrCoGZpbioqLCBwYXIgZXhlbXBsZSAqKnZpZXV4ISoqKCoqMDo4MSoqKcKgOiB1biBub21icmUgYWzDqWF0b2lyZSBkYW5zIGNldCBpbnRlcnZhbGxlIHNlcmEgdXRpbGlzw6kuIFBvdXIgbGVzIHN1ZG9rdXMgYWzDqWF0b2lyZXMsIGxlIGZhaXQgZGUgcmVjbGlxdWVyIHN1ciBsZSBib3V0b27CoOKWtyBlbiBnw6luw6hyZSB1biBub3V2ZWF1IAogICA1LiBMZSBjb2RlIGRlIGNlIHByb2dyYW1tZSBlbiBbX0p1bGlhX10oaHR0cHM6Ly9mci53aWtpcGVkaWEub3JnL3dpa2kvSnVsaWFfKGxhbmdhZ2VfZGVfcHJvZ3JhbW1hdGlvbikpIGVzdCBvYnNlcnZhYmxlIGVuIGNsaXF1YW50IGQnYWJvcmQgc3VyICQoaHRtbCI8aW5wdXQgdHlwZT1idXR0b24gaWQ9J3BsdXRvdCcgdmFsdWU9J0NlY2nCoPCfk53wn6STJz4iKSBwb3VyIGJhc2N1bGVyIHN1ciBsJ2ludGVyZmFjZSBkZSAkcGx1dG9vamwsIHB1aXMgZW4gY2xpcXVhbnQgc3VyIGwnxZNpbCDwn5GBIMOgIGPDtHTDqSBkZSBjaGFxdWUgY2VsbHVsZS4gSWwgZXN0IGF1c3NpIHBvc3NpYmxlIGRlIHTDqWzDqWNoYXJnZXIgY2UgY2FsZXBpbiAkY2FsZXBpbiBvdSBlbiAkY2FsZXdlYgokKGh0bWwiPC9kZXRhaWxzPjwvZGV0YWlscz4iKQokcG91cnZvaXJwbHV0w7R0IAokc3R5bMOpbMOgYmFzYXZlY2JvbnVzCiRwb3VyZ2FyZGVybGV0ZW1wcyIiIgoKIyDilZTilZDilaEgYWJkZTAwMTAtMDAxMC0wMDExLTAwMTAtMDAxMWRhYmUwMDEwCgoKIyDilZTilZDilaEgMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAxClBMVVRPX1BST0pFQ1RfVE9NTF9DT05URU5UUyA9ICIiIgpbZGVwc10KUmFuZG9tID0gIjlhM2Y4Mjg0LWEyYzktNWYwMi05YTExLTg0NTk4MGExZmQ1YyIKIiIiCgojIOKVlOKVkOKVoSAwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDIKUExVVE9fTUFOSUZFU1RfVE9NTF9DT05URU5UUyA9ICIiIgojIFRoaXMgZmlsZSBpcyBtYWNoaW5lLWdlbmVyYXRlZCAtIGVkaXRpbmcgaXQgZGlyZWN0bHkgaXMgbm90IGFkdmlzZWQKCmp1bGlhX3ZlcnNpb24gPSAiMS45LjMiCm1hbmlmZXN0X2Zvcm1hdCA9ICIyLjAiCnByb2plY3RfaGFzaCA9ICJmYTNlMTk0MTg4ODFiZjM0NGY1Nzk2ZTE1MDQ5MjNhN2M4MGFiMWVkIgoKW1tkZXBzLlJhbmRvbV1dCmRlcHMgPSBbIlNIQSIsICJTZXJpYWxpemF0aW9uIl0KdXVpZCA9ICI5YTNmODI4NC1hMmM5LTVmMDItOWExMS04NDU5ODBhMWZkNWMiCgpbW2RlcHMuU0hBXV0KdXVpZCA9ICJlYThlOTE5Yy0yNDNjLTUxYWYtODgyNS1hYWE2M2NkNzIxY2UiCnZlcnNpb24gPSAiMC43LjAiCgpbW2RlcHMuU2VyaWFsaXphdGlvbl1dCnV1aWQgPSAiOWU4OGI0MmEtZjgyOS01YjBjLWJiZTktOWU5MjMxOTgxNjZiIgoiIiIKCiMg4pWU4pWQ4pWhIENlbGwgb3JkZXI6CiMg4pWf4pSAYWJkZTAwMDItMDAwMS0wMDAyLTAwMDEtMDAwMmRhYmUwMDAxCiMg4pWf4pSAYWJkZTAwMDQtMDAwMi0wMDA0LTAwMDItMDAwNGRhYmUwMDAyCiMg4pWf4pSAYWJkZTAwMDMtMDAwMy0wMDAzLTAwMDMtMDAwM2RhYmUwMDAzCiMg4pWf4pSAYWJkZTAwMDYtMDAwNC0wMDA2LTAwMDQtMDAwNmRhYmUwMDA0CiMg4pWf4pSAYWJkZTAwMDUtMDAwNS0wMDA1LTAwMDUtMDAwNWRhYmUwMDA1CiMg4pWf4pSAYWJkZTAwMDctMDAwNi0wMDA3LTAwMDYtMDAwN2RhYmUwMDA2CiMg4pWf4pSAYWJkZTAwMDgtMDAwNy0wMDA4LTAwMDctMDAwOGRhYmUwMDA3CiMg4pWf4pSAYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA4CiMg4pWf4pSAYWJkZTAwMTAtMDAwOS0wMDEwLTAwMDktMDAxMGRhYmUwMDA5CiMg4pWg4pWQYWJkZTAwMTAtMDAxMC0wMDExLTAwMTAtMDAxMWRhYmUwMDEwCiMg4pWf4pSAYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExCiMg4pWf4pSAMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAxCiMg4pWf4pSAMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAyCg==";
window.pluto_disable_ui = true;
window.pluto_slider_server_url = undefined;
window.pluto_binder_url = "https://mybinder.org/v2/gh/fonsp/pluto-on-binder/v0.17.7";
window.pluto_statefile = "data:;base64,j6Vib25kc4CsY2VsbF9yZXN1bHRzi9kkYWJkZTAwMDItMDAwMS0wMDAyLTAwMDEtMDAwMmRhYmUwMDAxiaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedl6PGRpdiBjbGFzcz0ibWFya2Rvd24iPjxoMj5Sw6lzb3VkcmUgdW4gU3Vkb2t1IHBhciBBbGV4aXPCoDxzcGFuIGlkPSdCTicgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyc+8J+Yjjwvc3Bhbj48L2gyPgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HZKcw2rqeTt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGFiZGUwMDAyLTAwMDEtMDAwMi0wMDAxLTAwMDJkYWJlMDAwMblkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgBdqK+1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYWJkZTAwMDctMDAwNi0wMDA3LTAwMDYtMDAwN2RhYmUwMDA2iaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedoHrTxkaXYgY2xhc3M9Im1hcmtkb3duIj48aDQ+PHNjcmlwdD4gdmFyIHZpZWlsbGVjb3BpZSA9IGZhbHNlOwoKCWZ1bmN0aW9uIGTDqWrDoHZ1KCkgeyAKCQl2YXIgcMOocmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykucGFyZW50RWxlbWVudDsKCQl2YXIgZmlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJyk7CgkJdmFyIGFuY2llbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva3VmaW5pJyk7CgkJaWYgKHZpZWlsbGVjb3BpZS5pc0VxdWFsTm9kZShhbmNpZW4pKSB7CgkJCWFuY2llbi5pbm5lckhUTUwgPSBmaWxzLmlubmVySFRNTDsKCQkJYW5jaWVuLnJlbW92ZUNoaWxkKGFuY2llbi5xdWVyeVNlbGVjdG9yKCd0Zm9vdCcpKTsKCQkJbXNnYShhbmNpZW4pOwoJCX0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykuaGlkZGVuID0gZmFsc2U7CgkJcMOocmUucmVtb3ZlQ2hpbGQoZmlscyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuaW5uZXJIVE1MID0gYFN1ZG9rdSBpbml0aWFswqDipLQgKG1vZGlmaWFibGUpIGV0IHNhIHNvbHV0aW9uwqA6IGAKCX07CgoJZnVuY3Rpb24gbMOgaGF1dCgpIHsgCgkJdmFyIHDDqHJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLnBhcmVudEVsZW1lbnQ7CgkJdmFyIGZpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29waWVmaW5pZScpOwoJCXZhciBjb3BpZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva3VmaW5pJyk7CgkJZmlscyA/IHDDqHJlLnJlbW92ZUNoaWxkKCBmaWxzICkgOiB0cnVlOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5oaWRkZW4gPSB0cnVlOwoJCXZhciB0YWJsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKCQl2aWVpbGxlY29waWUgPSAoY29waWUgPyBjb3BpZS5jbG9uZU5vZGUodHJ1ZSkgOiB0YWJsKTsKCQl0YWJsLmlkID0gJ2NvcGllZmluaWUnOwoJCXRhYmwuY2xhc3NMaXN0LmFkZCgnc3Vkb2tvb2wnKTsKCQl0YWJsLmlubmVySFRNTCA9IChjb3BpZSA/IGNvcGllLmlubmVySFRNTCA6IGA8dGhlYWQgaWQ9J3RhaWRlJz48dHI+PHRkIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7d2lkdGg6IDM0MHB4O3BhZGRpbmc6IDI2cHggMDtib3JkZXI6IDA7Jz5SaWVuIMOgIG1vbnRyZXIsIGMnZXN0IGNvY2jDqcKgwqA8Y29kZT7wn6SrwqBDYWNow6llPC9jb2RlPjwvdGQ+PC90cj48L3RoZWFkPmApICsgYDx0Zm9vdCBpZD0ndGVzZm9vdCc+PHRyIGlkPSdsaWduZW5vbnZpc2libGUnPjx0aCBjb2xzcGFuPSc5Jz7ihqogQ2xpcXVlciBpY2kgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBtb2RpZmlhYmxlPC90aD48L3RyPjwvdGZvb3Q+YDsKCQlww6hyZS5hcHBlbmRDaGlsZCh0YWJsKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFpZGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkw6lqw6B2dSk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc2Zvb3QnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGTDqWrDoHZ1KTsKCQljb3BpZSA/IG1zZ2EoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKSkgOiB0cnVlOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmlubmVySFRNTCA9IGBTb2x1dGlvbsKg4oaRIChhdSBsaWV1IGR1IHN1ZG9rdSBtb2RpZmlhYmxlwqBpbml0aWFsKWAKCX07Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGzDoGhhdXQpOwoKCTwvc2NyaXB0PjxzcGFuIGlkPSd2YV9ldF92aWVudCc+IFN1ZG9rdSBpbml0aWFswqDipLQgJiM0MDttb2RpZmlhYmxlJiM0MTsgZXQgc2Egc29sdXRpb27CoDogPC9zcGFuPjwvaDQ+CjwvZGl2PrBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqXRleHQvaHRtbLJsYXN0X3J1bl90aW1lc3RhbXDLQdkpzDgwNSK3aGFzX3BsdXRvX2hvb2tfZmVhdHVyZXPCrHJvb3Rhc3NpZ25lZcCnY2VsbF9pZNkkYWJkZTAwMDctMDAwNi0wMDA3LTAwMDYtMDAwN2RhYmUwMDA2uWRlcGVuZHNfb25fZGlzYWJsZWRfY2VsbHPCp3J1bnRpbWXOAFrb4bVwdWJsaXNoZWRfb2JqZWN0X2tleXOQp2Vycm9yZWTC2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGJpnF1ZXVlZMKkbG9nc5CncnVubmluZ8Kmb3V0cHV0hqRib2R5oLBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqnRleHQvcGxhaW6ybGFzdF9ydW5fdGltZXN0YW1wy0HZKcw2cXtwt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMblkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzhWzvuC1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA4iaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedoEujxkaXYgY2xhc3M9Im1hcmtkb3duIj48aDY+8J+kkCBDZWxhIGVzdCBjYWNow6kgcG91ciBsZSBtb21lbnQgY29tbWUgZGVtYW5kw6k8L2g2Pgo8cD5Cb25uZSBjaGFuY2UgJiMzMzsgU2kgYmVzb2luLCBjb2NoZXIgPGNvZGU+8J+kq8KgQ2FjaMOpZTwvY29kZT4gcG91ciByZXZvaXIgY2V0dGUgaW5mb3JtYXRpb27CoDogPC9wPgo8cD48Y29kZT5FbiB0b3VjaGFudCwgZW50cmV2b2lyIGxlcyBjaGlmZnJlc+KApjwvY29kZT4gZGUgY2hhcXVlIGNhc2XigKY8YnIgLz48ZW0+JiM0MDtwZXRpdCB0cnVjwqA6IGxlcyBjaGlmZnJlcyBlbiBibGV1IHLDqWVmZmFjZW50IHRvdXQmIzQxOzwvZW0+PC9wPgo8dWw+CjxsaT48cD48Y29kZT7igKZwYXLCoGNoaWZmcmU8L2NvZGU+IGV0IHNpIHBvc3NpYmxlwqA6IGhhdXTCoGdhdWNoZcKgJiM2MTvCoDEgYXUgYmFzwqBkcm9pdGXCoCYjNjE7wqA5wqAmIzQwO2NlbnRyZcKgZGXCoGxhwqBjYXNlwqAmIzYxO8KgNSYjNDE7PC9wPgo8L2xpPgo8bGk+PHA+PGNvZGU+4oCmcGFywqBjYXNlwqDwn5SiPC9jb2RlPiBsJiMzOTtlbnNlbWJsZcKgZGVzIGNoaWZmcmVzIHBvc3NpYmxlcyAmIzQwO2RlIHRvdXRlIGxhIGNhc2UmIzQxOzwvcD4KPC9saT4KPGxpPjxwPjxjb2RlPuKApnBhcsKgdG90YWzCoCYjNDA7bWluaW11bcKgJiM2MTvCoOKclCYjNDE7PC9jb2RlPiBmYWl0IGxlIGNvbXB0ZSBldCBjZWxsZSYjNDA7cyYjNDE7IGF2ZWPCoOKclCAmIzQwO2VuIHBsYWNlIGR1wqA5JiM0MTsgb250IGxhIHNvbW1lwqBtaW5pbWFsZTwvcD4KPC9saT4KPGxpPjxwPnNldWwgPGNvZGU+4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqTwvY29kZT4gbW9udHJlIGRlcyBjaGlmZnJlcyBkdSBzdWRva3UgZmluaTwvcD4KPC9saT4KPC91bD4KPHA+T24gcGV1dCA8Y29kZT5Qb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmPC9jb2RlPiBkZSBsYSBzb3VzLWNhdMOpZ29yaWUgY2hvaXNpZTwvcD4KPHA+RW5maW4sIGlsIHkgYSBkZXV4IG9wdGlvbnPCoDogICA8Y29kZT5DYXJvbGlnbmXCoOKalDwvY29kZT4gcG91ciBsZXMgY2FzZXMgbGnDqWVzICYjNDA7Y2FycsOpLCBjb2xvbm5lLCBsaWduZSYjNDE7wqA7IDxiciAvPm91IDxjb2RlPkNvY2hlcsKgaWNpLCBwdWlzIHRvdWNoZXIgbGUgY2hpZmZyZSDDoCBtZXR0cmUgZGFucyBsZSBTdWRva3XCoGluaXRpYWw8L2NvZGU+PC9wPgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HZKcw4RCkPt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGFiZGUwMDA5LTAwMDgtMDAwOS0wMDA4LTAwMDlkYWJlMDAwOLlkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgB9IeC1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYWJkZTAwMTAtMDAwOS0wMDEwLTAwMDktMDAxMGRhYmUwMDA5iaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedoptjxkaXYgY2xhc3M9Im1hcmtkb3duIj48ZGV0YWlscyBvcGVuPjxzdW1tYXJ5IHN0eWxlPSdsaXN0LXN0eWxlOiBub25lOyc+PGg0IGlkPSdCb251cycgc3R5bGU9J21hcmdpbi10b3A6IDE3cHg7IHVzZXItc2VsZWN0OiBub25lOyc+Qm9udXPCoDogbGUgc3Vkb2t1IGVuIGNvdXJzIHBvdXIgcGx1c8KgdGFyZOKApjwvaDQ+PC9zdW1tYXJ5Pgo8cD5KZSBjb25zZWlsbGUgZGUgZ2FyZGVyIGxlIGNvZGUgZHUgc3Vkb2t1IGVuIGNvdXJzICYjNDA7ZW4gY2xpcXVhbnQsIGxhIGNvcGllIGVzdCBhdXRvbWF0aXF1ZcKg4pyoJiM0MTsgIDxpbnB1dCB0eXBlPWJ1dHRvbiBpZD0nY2zDqWfDqW4nIHZhbHVlPSdDb3BpZXIgbGUgY29kZSDDoCBnYXJkZXIgOiknPjxpbnB1dCBpZD0ncG91ci1kw6lmaW5pci1sZS1zdWRva3UtaW5pdGlhbCcgdHlwZT0ndGV4dCcgc3R5bGU9J2ZvbnQtc2l6ZTogeC1zbWFsbDsgbWFyZ2luLXJpZ2h0OiA2cHg7IG1heC13aWR0aDogMzhweDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcnVsZS1jb2xvciwjNzc3Nzc3MjYpOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDAgOHB4IDhweCAwOyBmaWx0ZXI6IG9wYWNpdHkoODklKTsnIC8+IDxzdHJvbmc+Tm90ZTwvc3Ryb25nPsKgOsKgw6DCoGNvbGxlcsKgYWlsbGV1cnMgZGFucyB1biBibG9jLW5vdGVzIHBhciBleGVtcGxlIDwvcD4KPGg1PuKApsOgIHJldHJvdXZlciBjb21tZSBkJiMzOTthdXRyZXMgdmlldXggc3Vkb2t1c8KgOjwvaDU+CjxwPkVuc3VpdGUsIGRhbnMgdW5lICYjNDA7bm91dmVsbGUmIzQxOyBzZXNzaW9uLCBjbGlxdWVyIGRhbnMgPGVtPjxjb2RlPkVudGVywqBjZWxswqBjb2RlLi4uPC9jb2RlPjwvZW0+IHRvdXQgZW4gYmFzwqDihpMgZXQgY29sbGVyIGxlIGNvZGUgcXVpIGZ1dCBnYXJkw6kgJiM0MDtjZi4gbm90ZSBjaS1kZXNzdXMmIzQxOy4gRW5maW4sIGxhbmNlciBsZSBjb2RlIGF2ZWMgbGUgYm91dG9uwqDilrcgdG91dCDDoCBkcm9pdGUgJiM0MDtxdWkgY2xpZ25vdGUganVzdGVtZW50JiM0MTsuICBDZSB2aWV1eCBzdWRva3UgZXN0IHJlc3RvcsOpIGVuIHBsYWNlIGR1IDxlbT5SZXRvdXIgaW5zdGFudGFuw6nCoCYjMzM7PC9lbT4gJiM0MDtjZWxhIDxhIGhyZWY9IiNNb2RpZmllckluaXQiPnJldG91cm5lIGVuwqBoYXV0wqDihpE8L2E+JiM0MTsgPC9wPgo8ZGV0YWlscyBjbGFzcz0ncGxpJyBvcGVuPjxzdW1tYXJ5IHN0eWxlPSdtYXJnaW4tYm90dG9tOiAtMTNweDsgbGlzdC1zdHlsZTogbm9uZTsnPjxoNSBpZD0nQm9udXNBc3R1Y2VzJyBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IHVzZXItc2VsZWN0OiBub25lOyc+IEF1dHJlcyBhc3R1Y2VzwqA6PC9oNT48L3N1bW1hcnk+PHN0eWxlPmRldGFpbHNbb3Blbl0ucGxpID4gc3VtbWFyeTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIGNhY2hlciknOyBmb250LXN0eWxlOiBpdGFsaWM7fSBkZXRhaWxzLnBsaSA+IHN1bW1hcnk6bm90KGRldGFpbHNbb3Blbl0ucGxpID4gc3VtbWFyeSk6OmFmdGVyIHtjb250ZW50OiAnIChjbGlxdWVyIGljaSBwb3VyIGxlcyByZXZvaXIpJzsgZm9udC1zdHlsZTogaXRhbGljO30gZGV0YWlscy5wbGkgPiBzdW1tYXJ5Om5vdChkZXRhaWxzW29wZW5dLnBsaSA+IHN1bW1hcnkpe21hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDt9PC9zdHlsZT4KPG9sPgo8bGk+PHA+TW9kaWZpZXIgbGUgcHJlbWllciBzdWRva3UgJiM0MDvDoCB2aWRlciBzaSBiZXNvaW4sIGdyw6JjZSBhdSBwcmVtaWVyIGNob2l4JiM0MTsgZXQgY29jaGVyIGVuc3VpdGUgY2UgcXVlIGwmIzM5O29uIHNvdWhhaXRlIHZvaXIgY29tbWUgPHN0cm9uZz5haWRlIG91IHNvbHV0aW9uPC9zdHJvbmc+wqA7IGxlIHN1ZG9rdSBkdSBkZXNzb3VzIHLDqXBvbmQgYWluc2kgYXV4IG9yZHJlcy4gQ29jaGVyIDxjb2RlPvCfpKvCoENhY2jDqWU8L2NvZGU+IHBvdXIgcmV2b2lyIGRlcyBpbmRpY2F0aW9ucyBzdXIgbCYjMzk7ZW1wbG9pIGRlcyBjYXNlcyA8L3A+CjwvbGk+CjxsaT48cD5JbCBlc3QgcG9zc2libGUgZGUgYm91Z2VyIGF2ZWMgbGVzIGZsw6hjaGVzLCBhbGxlciDDoCBsYSBsaWduZSBzdWl2YW50ZSBhdXRvbWF0aXF1ZW1lbnQgJiM0MDvDoCBsYSA8ZW0+PGEgaHJlZj0iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cSYjNjE7U25ha2UiPlNuYWtlPC9hPjwvZW0+JiM0MTsuIElsIHkgYSBhdXNzaSBkZXMgcmFjY291cmNpcywgY29tbWUgPGNvZGU+SDwvY29kZT7CoCYjNjE7wqBoYXV0LCA8Y29kZT5WPC9jb2RlPiBvdSA8Y29kZT5HPC9jb2RlPsKgJiM2MTvCoGdhdWNoZSwgPGNvZGU+RDwvY29kZT4gPGNvZGU+SjwvY29kZT4gPGNvZGU+TjwvY29kZT7CoCYjNjE7wqBkcm9pdGUsIDxjb2RlPkI8L2NvZGU+wqAmIzYxO8KgYmFzLiBOaSBiZXNvaW4gZGUgcGF2w6kgbnVtw6lyaXF1ZSwgbmkgZCYjMzk7YXBwdXllciBzdXIgPGVtPk1hanVzY3VsZTwvZW0+LCBsZXMgdG91Y2hlcyBzdWl2YW50ZXMgc29udCBpZGVuZGlxdWVzIDxjb2RlPjEyMzTCoDU2N8KgODkwPC9jb2RlPiAmIzYxOyA8Y29kZT5BWkVSwqBUWVXCoElPUDwvY29kZT4gJiM2MTsgPGNvZGU+JmFtcDvDqSZxdW90OyYjMzk7wqAmIzQwOy3DqMKgX8Onw6A8L2NvZGU+IDwvcD4KPC9saT4KPGxpPjxwPk9uIHBldXQgPHN0cm9uZz5yZW1vbnRlciBsYSBzb2x1dGlvbjwvc3Ryb25nPiBhdSBsaWV1IGR1IHByZW1pZXIgc3Vkb2t1IGVuIGNsaXF1YW50IHN1ciBsZSB0ZXh0ZSA8YSBocmVmPSIjdmFfZXRfdmllbnQiPlN1ZG9rdSBpbml0aWFswqDipLTigKY8L2E+IGV0IHBvdXIgcmV2ZW5pciBhdSBzdWRva3UgaW5pdGlhbCBtb2RpZmlhYmxlIDxhIGhyZWY9IiNsaWduZW5vbnZpc2libGUiPuKGqsKgQ2xpcXVlcuKApjwvYT7CoHN1ciBsZSB0ZXh0ZSBxdWkgYXBwYXJhaXQganVzdGUgZW4gZGVzc291cyA8L3A+CjwvbGk+CjxsaT48cD5Qb3VyIGluZm9ybWF0aW9uLCBsYSBmb25jdGlvbiA8c3Ryb25nPnZpZXV4U3Vkb2t1JiMzMzs8L3N0cm9uZz4mIzQwOyYjNDE7LCBvdSA8c3Ryb25nPnZpZXV4JiMzMzs8L3N0cm9uZz4mIzQwOyYjNDE7IG91IDxzdHJvbmc+dnM8L3N0cm9uZz4mIzQwOyYjNDE7LCBzYW5zIHBhcmFtw6h0cmUgcGVybWV0IGRlIGfDqW7DqXJlciB1biBzdWRva3UgYWzDqWF0b2lyZS4gRW4gbWV0dGFudCB1biBub21icmUsIHBhciBleGVtcGxlIDxzdHJvbmc+dmlldXhTdWRva3UmIzMzOyYjNDA7NjI8L3N0cm9uZz4mIzQxO8KgOiBjZSBzZXJhIGxlIHRvdGFsIGRlIGNhc2VzIHZpZGVzIGR1IHN1ZG9rdSBhbMOpYXRvaXJlIGNvbnN0cnVpdC4gRW5maW4sIGVuIG1ldHRhbnQgdW4gaW50ZXJ2YWxsZSwgc291cyBsYSBmb3JtZSA8c3Ryb25nPmTDqWJ1dMKgOsKgZmluPC9zdHJvbmc+LCBwYXIgZXhlbXBsZSA8c3Ryb25nPnZpZXV4JiMzMzs8L3N0cm9uZz4mIzQwOzxzdHJvbmc+MDo4MTwvc3Ryb25nPiYjNDE7wqA6IHVuIG5vbWJyZSBhbMOpYXRvaXJlIGRhbnMgY2V0IGludGVydmFsbGUgc2VyYSB1dGlsaXPDqS4gUG91ciBsZXMgc3Vkb2t1cyBhbMOpYXRvaXJlcywgbGUgZmFpdCBkZSByZWNsaXF1ZXIgc3VyIGxlIGJvdXRvbsKg4pa3IGVuIGfDqW7DqHJlIHVuIG5vdXZlYXUgPC9wPgo8L2xpPgo8bGk+PHA+TGUgY29kZSBkZSBjZSBwcm9ncmFtbWUgZW4gPGEgaHJlZj0iaHR0cHM6Ly9mci53aWtpcGVkaWEub3JnL3dpa2kvSnVsaWFfJiM0MDtsYW5nYWdlX2RlX3Byb2dyYW1tYXRpb24mIzQxOyI+PGVtPkp1bGlhPC9lbT48L2E+IGVzdCBvYnNlcnZhYmxlIGVuIGNsaXF1YW50IGQmIzM5O2Fib3JkIHN1ciA8aW5wdXQgdHlwZT1idXR0b24gaWQ9J3BsdXRvdCcgdmFsdWU9J0NlY2nCoPCfk53wn6STJz4gcG91ciBiYXNjdWxlciBzdXIgbCYjMzk7aW50ZXJmYWNlIGRlIDxzY3JpcHQ+aWYgKGRvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSkgewoJcmV0dXJuIGh0bWxgPGVtPlBsdXRvLmpsPC9lbT5gCiAgICB9IGVsc2UgeyByZXR1cm4gaHRtbGA8YSBocmVmPScuLycgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXdlaWdodDogbm9ybWFsOyc+PGVtPlBsdXRvPC9lbT48L2E+PGVtPi5qbDwvZW0+YH08L3NjcmlwdD4sIHB1aXMgZW4gY2xpcXVhbnQgc3VyIGwmIzM5O8WTaWwg8J+RgSDDoCBjw7R0w6kgZGUgY2hhcXVlIGNlbGx1bGUuIElsIGVzdCBhdXNzaSBwb3NzaWJsZSBkZSB0w6lsw6ljaGFyZ2VyIGNlIGNhbGVwaW4gPHNjcmlwdD5yZXR1cm4gaHRtbGA8YSBocmVmPSR7ZG9jdW1lbnQuVVJMLnNlYXJjaCgnLmh0bWwnKT4xID8gZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2h0bWwnLCAnamwnKSA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZmlsZScpfSB0YXJnZXQ9J19ibGFuaycgZG93bmxvYWQ+JHtkb2N1bWVudC50aXRsZS5yZXBsYWNlKCfwn46IICcsJycpLnJlcGxhY2UoJ+KAlCBQbHV0by5qbCcsJycpfTwvYT5gOzwvc2NyaXB0PiBvdSBlbiA8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwgOiBkb2N1bWVudC5VUkwucmVwbGFjZSgnZWRpdCcsICdub3RlYm9va2V4cG9ydCcpfSB0YXJnZXQ9J19ibGFuaycgc3R5bGU9J2ZvbnQtd2VpZ2h0OiBub3JtYWw7JyBkb3dubG9hZD5IVE1MPC9hPmA7PC9zY3JpcHQ+PC9wPgo8L2xpPgo8L29sPgo8L2RldGFpbHM+PC9kZXRhaWxzPgo8c2NyaXB0PgovLyBjb25zdCBwbHV0w7R0c3R5bMOpID0gYDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLi9oaWRlLXVpLmNzcyI+PHN0eWxlIGlkPSJjYWNow6ltb2lwbHV0w7R0Ij4KY29uc3QgcGx1dMO0dHN0eWzDqSA9IGA8c3R5bGUgaWQ9ImNhY2jDqW1vaXBsdXTDtHQiPgptYWluIHsKICAgIC8vIG1hcmdpbi10b3A6IDIwcHg7CiAgICBjdXJzb3I6IGF1dG87CgltYXJnaW46IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDsKICAgIC8vIHBhZGRpbmctYm90dG9tOiA0cmVtICFpbXBvcnRhbnQ7fQpuYXYsIGhlYWRlciwgcHJlYW1ibGUsIHBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEgLnJ1bmNlbGwsCmJvZHkgPiBoZWFkZXIsIHByZWFtYmxlID4gYnV0dG9uLCBwbHV0by1jZWxsID4gYnV0dG9uLCBwbHV0by1pbnB1dCA+IGJ1dHRvbiwKZm9vdGVyLCBwbHV0by1ydW5hcmVhLCAjaGVscGJveC13cmFwcGVyIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9CnBsdXRvLXNob3VsZGVyIHsKCXZpc2liaWxpdHk6aGlkZGVuO30KcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSwKcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKCWJhY2tncm91bmQtY29sb3I6IHVuc2V0O30KCkBtZWRpYSBzY3JlZW4gYW5kIChhbnktcG9pbnRlcjogZmluZSkgewogICAgcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgICAgIC8vIG9wYWNpdHk6IDAuNTsKICAgICAgICBvcGFjaXR5OiAwOyAvKiB0byBtYWtlIGl0IGZlZWwgc21vb3RoOiAqLwogICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4yNXMgZWFzZS1pbi1vdXQ7CiAgICB9CiAgICBwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSA+IGJ1dHRvbjpob3ZlciA+IHNwYW4sCiAgICBwbHV0by1jZWxsOmhvdmVyID4gcGx1dG8tcnVuYXJlYSA+IHNwYW4gewogICAgICAgIC8vIC8qIGF2YW50ICovIG9wYWNpdHk6IDE7CiAgICAgICAgb3BhY2l0eTogMC41OyAvKiB0byBtYWtlIGl0IGZlZWwgc25hcHB5OiAqLwogICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZS1pbi1vdXQ7CiAgICB9CiAgLy8gIHBsdXRvLWNlbGwgPiBwbHV0by1zaG91bGRlciA+IGJ1dHRvbjpob3ZlciB7CiAgLy8gICAgICBvcGFjaXR5OiAwOyAvKiB0byBtYWtlIGl0IGZlZWwgc25hcHB5OiAqLwogIC8vICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlLWluLW91dDsKICAvLyAgfSAKfSAKPC9zdHlsZT5gOwpmdW5jdGlvbiBjb29sb3VwYXMoKSB7IAoJdmFyIEJOID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik7CglpZiAoQk4uaW5uZXJIVE1MID09ICLwn5iJIikgeyBCTi5pbm5lckhUTUwgPSAi8J+YjiI7fSBlbHNlIHsgQk4uaW5uZXJIVE1MID0gIvCfmIkiO307Cn07Ci8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJCTiIpPy5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIGNvb2xvdXBhcyk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJCTiIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGNvb2xvdXBhcyk7Cgp2YXIgc3R5bMOpY2FjaMOpID0gaHRtbGA8c3BhbiBpZD0nc3R5bMOpJz4ke3BsdXTDtHRzdHlsw6l9PC9zcGFuPmA7Ci8vIHZhciBzdHlsw6ljYWNow6kgPSBodG1sYDxzcGFuIGlkPSdzdHlsw6knPjwvc3Bhbj5gOyAvLyBhbmNpZW5uZSBiaWRvdWlsbGUgLy8vLwpmdW5jdGlvbiBzdHlsw6lvdXBhcygpIHsgCgl2YXIgc3R5bMOpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0eWzDqSIpOwoJdmFyIGNhY2jDqW1vaXBsdXTDtHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FjaMOpbW9pcGx1dMO0dCIpOwoJaWYgKGNhY2jDqW1vaXBsdXTDtHQpIHsgCgkJc3R5bMOpLmlubmVySFRNTCA9ICcnOwoJfSBlbHNlIHsKCQlzdHlsw6kuaW5uZXJIVE1MID0gcGx1dMO0dHN0eWzDqTsKCX07Cn07CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbHV0b3QiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHN0eWzDqW91cGFzKTsKcmV0dXJuIHN0eWzDqWNhY2jDqTsKPC9zY3JpcHQ+CjxzdHlsZT4gLyogUG91ciBsZXMgYm91dG9ucyBldCAnY29kZScgKi8KCWlucHV0W3R5cGU9ImJ1dHRvbiIgaV0gewoJCWJhY2tncm91bmQtY29sb3I6ICNhYWE7CgkJY29sb3I6IGJsYWNrOwoJCWJvcmRlcjogMnB4IG91dHNldCAjYmJiOwoJCWJvcmRlci1yYWRpdXM6IDJweDt9CglpbnB1dFt0eXBlPSJidXR0b24iIGldOmhvdmVyLAoJaW5wdXRbdHlwZT0iYnV0dG9uIiBpXTphY3RpdmV7CgkJYmFja2dyb3VuZC1jb2xvcjogIzc3NzsKCQljb2xvcjogd2hpdGU7CgkJYm9yZGVyOiAycHggc29saWQgIzc3Nzt9CgkvLyBwbHV0by1vdXRwdXQucmljaF9vdXRwdXQgY29kZSB7Ym9yZGVyOiBzb2xpZCAxcHggIzliOWY5ZjsgLyovIGNvbnRvdXIgZmluIC8qL30KCXBsdXRvLW91dHB1dC5yaWNoX291dHB1dCBjb2RlIHtib3JkZXI6IHNvbGlkIDFweCB2YXIoLS1ydWxlLWNvbG9yLCM3Nzc3NzcyNik7fQovKiBhdXRyZXMgYmlkb3VpbGxlcyAqLwoJI3RhaWRlLCAjdGVzZm9vdCwgI3ZhX2V0X3ZpZW50IHt1c2VyLXNlbGVjdDogbm9uZTt9Cgkjc3Vkb2t1ZmluaSwgI2NvcGllZmluaWUge2N1cnNvcjogcG9pbnRlcjt9IC8qLyBkb2lndCBldCBub24gc291cmlzIC8qLwoJaW5wdXRbdHlwZT0icmFkaW8iIGldIHttYXJnaW46IDNweCAzcHggM3B4IDA7fQoJLnBhc2xhLCAubWFpc3Rlc291eyAvKiB2aXNpYmlsaXR5OiBoaWRkZW47ICovIGZpbHRlcjogb3BhY2l0eSg2MiUpIGJsdXIoMnB4KTt9Cgl0ciNsaWduZW5vbnZpc2libGUge2JvcmRlci10b3A6IGhpZGRlbjt9CglwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhIC5ydW5jZWxsIHtkaXNwbGF5OiBub25lO30KCS8qIHBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEsICovCgkvKiAjYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA4ID4gcGx1dG8tcnVuYXJlYSwgKi8KCSNhYmRlMDAwNi0wMDA0LTAwMDYtMDAwNC0wMDA2ZGFiZTAwMDQgPiBwbHV0by1ydW5hcmVhIHsKCSAgICBkaXNwbGF5OiBibG9jazsKCQliYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDsKCSAgICBvcGFjaXR5OiAxO30KLyogUG91ciBsZSBzdWRva3UgaW5pdGlhbCAqLwoJdGFibGUuc3Vkb2tvb2wgewoJCWJvcmRlcjogaGlkZGVuOwoJCW1hcmdpbi1ibG9jay1zdGFydDogMDsKCQltYXJnaW4tYmxvY2stZW5kOiAwO30KCXRhYmxlLnN1ZG9rb29sIHRyIHtib3JkZXI6MDt9Cgl0YWJsZS5zdWRva29vbCB0ci50cm9pc3Ige2JvcmRlci10b3A6IHRoaWNrIHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCB7CgkJYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCM3NzcpOyAKCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudHJvaXNkIHtib3JkZXItbGVmdDogdGhpY2sgc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCBpbnB1dCB7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMTAwJTsKCQloZWlnaHQ6IDEwMCU7CgkJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CgkJYm9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuZGFtaWVyewoJCWJhY2tncm91bmQtY29sb3I6IHZhcigtLXJ1bGUtY29sb3IsIzc3Nzc3NzI2KTsgfSAvKiAjNzc3IG91ICM3Nzc3NzcgYWRvdWNpICovCi8qIFBvdXIgbGUgcsOpc3VsdGF0IG91IGFpZGUgKi8KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIHsKCQl1c2VyLXNlbGVjdDogbm9uZTsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiAxNHB0OwoJCXdpZHRoOiAzOHB4OwoJCWhlaWdodDogMzhweDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5pbmkgewoJCWZvbnQtd2VpZ2h0OiBib2xkOwoJCWNvbG9yOiB2YXIoLS1jbS12YXItY29sb3IsICNhZmI3ZDMpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmluaS5ncmlzLCAKCXRhYmxlLnN1ZG9rb29sbWluaSB0ZC52aWRlLmluaSB7CgkJZm9udC1zdHlsZTogaXRhbGljOwoJCWNvbG9yOiB2YXIoLS1jbS12YXItY29sb3IsICNhZmI3ZDMpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLnZpZGUge2NvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgI2Y5OWIxNSk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuY2FjaMOpZSB7Y29sb3I6IHRyYW5zcGFyZW50O30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmdyaXMge2NvbG9yOiAjNzc3OyBmb250LXN0eWxlOiBpdGFsaWM7fQovKlBvdXIgbGUgcsOpc3VsdGF0bWluaSBvdSBhaWRlbWluaSovCgl0YWJsZS5zdWRva29vbG1pbmkgewoJCWJvcmRlcjogaGlkZGVuICFpbXBvcnRhbnQ7CgkJbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwoJCW1hcmdpbi1ibG9jay1lbmQ6IDA7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyLAoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHtib3JkZXI6MCAhaW1wb3J0YW50O30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogNy40OTk5OXB0OwoJCXdpZHRoOiAxMnB4OwoJCWhlaWdodDogMTEuNjcxODdweDsgCgkJCWNvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgI2Y5OWIxNSk7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkLmNhY2jDqWUge2NvbG9yOiB0cmFuc3BhcmVudDt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQuZ3JpcyB7Y29sb3I6ICM3Nzc7IGZvbnQtc3R5bGU6IGl0YWxpYzt9Cjwvc3R5bGU+CjxzY3JpcHQ+ZnVuY3Rpb24gZ8OpbsOpcmF0ZXVyRGVDb2RlQ2zDqSgpIHsKCXZhciBjb3B5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwb3VyLWTDqWZpbmlyLWxlLXN1ZG9rdS1pbml0aWFsIik7Cgl2YXIgcGFzdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWRva2luY2lwaXQiKTsKCWNvcHlUZXh0LnZhbHVlID0gJ3ZpZXV4U3Vkb2t1ISgnICsgcGFzdGV4dC5nZXRBdHRyaWJ1dGUoJ3N1ZGF0YScpICsgJyknOwoJY29weVRleHQuc2VsZWN0KCk7CgluYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb3B5VGV4dC52YWx1ZSk7IC8vIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsw6lnw6luIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBnw6luw6lyYXRldXJEZUNvZGVDbMOpKTsKCQp2YXIgZWRpdENTUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CmVkaXRDU1MuaWQgPSAidG91c2xlc3RlbXBzIjsKdmFyIHRvZ2dsw6kgPSAiMCI7CgpsZXQgdG91c2xlc3RlbXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicnVudGltZSIpOwovLyB0b3VzbGVzdGVtcHMuZm9yRWFjaCggZSA9PiB7IC8vIG5lIGZvbmN0aW9ubmUgcGFzIDonKApmb3IobGV0IGo9MDsgajwoT2JqZWN0LmtleXModG91c2xlc3RlbXBzKS5sZW5ndGgpOyBqKyspewoJdG91c2xlc3RlbXBzW2pdLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHsKCQkvLyBhbGVydChlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJvcGFxdWVvdXBhcyIpKTsKCQl2YXIgc3R5bMOpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3VzbGVzdGVtcHMiKTsKCQl0b2dnbMOpID0gKHRvZ2dsw6k9PSIwIikgPyAiMC43IiA6ICIwIiA7CgkJc3R5bMOpdC5pbm5lckhUTUwgPSAicGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgeyBvcGFjaXR5OiAiKyB0b2dnbMOpICsgIjsgfSI7Cgl9KTsKfTsKcmV0dXJuIGVkaXRDU1M7Cjwvc2NyaXB0Pgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HZKcw4Us3Et2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGFiZGUwMDEwLTAwMDktMDAxMC0wMDA5LTAwMTBkYWJlMDAwOblkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgK/9ve1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYWJkZTAwMDMtMDAwMy0wMDAzLTAwMDMtMDAwM2RhYmUwMDAziaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedoBFTxkaXYgY2xhc3M9Im1hcmtkb3duIj48cD5Qb3VyIGNldHRlIHNlc3Npb24sIHNpIGJlc29pbiBkJiMzOTt1biA6IDxib25kIGRlZj0iYm91dG9uU3Vkb2t1SW5pdGlhbCIgdW5pcXVlX2lkPSJsdTJtQzNqQlltUXEiPjxpbnB1dCB0eXBlPWJ1dHRvbiBzdHlsZT0nbWFyZ2luOiAwIDZweCAwIDZweCcgdmFsdWU9J/Cfk7cgaW5zdGFudGFuw6kgOyknPjwvYm9uZD4gPGVtPiYjNDA7c2nCoHN1ZG9rdcKgdmlkZcKg4oaSwqBzdWRva3XCoGFsw6lhdG9pcmUmIzQxOzwvZW0+PC9wPgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HZKcw2yXBlt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGFiZGUwMDAzLTAwMDMtMDAwMy0wMDAzLTAwMDNkYWJlMDAwM7lkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzg0nlMq1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYWJkZTAwMDUtMDAwNS0wMDA1LTAwMDUtMDAwNWRhYmUwMDA1iaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedogyDxib25kIGRlZj0iYmluZEpTdWRva3UiIHVuaXF1ZV9pZD0iUzZqbEdDZHMwcUZlIj48c2NyaXB0PiAvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgljb25zdCBwcmVtaWVyID0gSlNPTi5zdHJpbmdpZnkoIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXSApOwoJY29uc3QgZGV1eGnDqG1lID0gSlNPTi5zdHJpbmdpZnkoIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDEsIDIsIDMsIDQsIDUsIDAsIDAsIDBdLCBbMCwgMiwgMCwgMCwgMywgMCwgNiwgMCwgMF0sIFswLCAzLCA0LCA1LCA2LCAwLCAwLCA3LCAwXSwgWzAsIDYsIDAsIDAsIDcsIDAsIDgsIDAsIDBdLCBbMCwgNywgMCwgMCwgOCwgOSwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXSApOwoJY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMSwgMiwgMywgNCwgNSwgMCwgMCwgMF0sIFswLCAyLCAwLCAwLCAzLCAwLCA2LCAwLCAwXSwgWzAsIDMsIDQsIDUsIDYsIDAsIDAsIDcsIDBdLCBbMCwgNiwgMCwgMCwgNywgMCwgOCwgMCwgMF0sIFswLCA3LCAwLCAwLCA4LCA5LCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dCQkJCi8vIGNvbnN0IGRlZmF1bHRGaXhlZFZhbHVlcyA9IFtbMCwwLDAsNywwLDAsMCwwLDBdLFsxLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDQsMywwLDIsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDZdLFswLDAsMCw1LDAsOSwwLDAsMF0sWzAsMCwwLDAsMCwwLDQsMSw4XSxbMCwwLDAsMCw4LDEsMCwwLDBdLFswLDAsMiwwLDAsMCwwLDUsMF0sWzAsNCwwLDAsMCwwLDMsMCwwXV07CgkJCndpbmRvdy5jcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcykgPT4gewogIGNvbnN0IGRhdGEgPSBbXTsKICBjb25zdCBodG1sRGF0YSA9IFtdOwogIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKICAgIGxldCBodG1sUm93ID0gW107CiAgICBkYXRhLnB1c2goW10pOwogICAgZm9yKGxldCBqPTA7IGo8OTtqKyspewogICAgICBjb25zdCB2YWx1ZXNMaW5lID0gdmFsdWVzW2ldOwogICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc0xpbmU/dmFsdWVzTGluZVtqXTowOwogICAgICBjb25zdCBodG1sSW5wdXQgPSBodG1sYDxpbnB1dCB0eXBlPSd0ZXh0JyAKICAgICAgICBkYXRhLXJvdz0nJHtpfScKICAgICAgICBkYXRhLWNvbD0nJHtqfScKICAgICAgICBtYXhsZW5ndGg9JzEnIAogICAgICAgIHZhbHVlPSckeyh2YWx1ZXx8JycpfScKICAgICAgPmA7CgkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkgIGNvbnN0IGJsb2NrID0gW01hdGguZmxvb3IoaS8zKSwgTWF0aC5mbG9vcihqLzMpXTsgLy8gZm9uZCBlbiBkYW1pZXIKCSAgY29uc3QgY2xhc3NvdXBhcyA9ICgoYmxvY2tbMF0rYmxvY2tbMV0pJTIgIT09IDApPyhpc01lZGl1bT8nY2xhc3M9ImRhbWllciB0cm9pc2QiJzonY2xhc3M9ImRhbWllciInKTooaXNNZWRpdW0/J2NsYXNzPSJ0cm9pc2QiJzonJyk7CiAgICAgIGNvbnN0IGh0bWxDZWxsID0gaHRtbGA8dGQgJHtjbGFzc291cGFzfT4ke2h0bWxJbnB1dH08L3RkPmAKICAgICAgZGF0YVtpXVtqXSA9IHZhbHVlfHwwOwogICAgICBodG1sUm93LnB1c2goaHRtbENlbGwpOwogICAgfQoJCiAgICBjb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwogICAgaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwogIH0KICBjb25zdCBfc3Vkb2t1ID0gaHRtbGA8dGFibGUgaWQ9InN1ZG9raW5jaXBpdCIgc3VkYXRhPSR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9IGNsYXNzPSdzdWRva29vbCc+CiAgICAgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CiAgICA8L3RhYmxlPmAgIAogIHJldHVybiB7X3N1ZG9rdSxkYXRhfTsKICAvLyAvLyByZXR1cm4gX3N1ZG9rdSA7CiAgCn0KCndpbmRvdy5zdWRva3VWaWV3UmVhY3RpdmVWYWx1ZSA9ICh7X3N1ZG9rdTpodG1sLCBkYXRhfSkgPT4gewogIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSk9PnsKICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCiAgICBodG1sLnZhbHVlID0gZGF0YTsKICAgIHJldHVybiBmYWxzZTsKICB9KTsgCiAgCiAgbGV0IGlucHV0cyA9IGh0bWwucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTsKICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7CgkKCWNvbnN0IGRhbGlnbmUgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJY29uc3QgZGFjb2wgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOwoJY29uc3QgZXRwMiA9IChlKSA9PiBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7Cgljb25zdCBldHAzID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoKCWNvbnN0IG1vdmVEb3duID0gKGUpID0+IHsgCgkJaWYgKGV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsgCgkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQl9IGVsc2UgeyAKCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSAKCX0KCWNvbnN0IG1vdmVVcCA9IChlKSA9PiB7CgkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7IAoJCWV0cDMoZSkubGFzdENoaWxkLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQl9IGVsc2UgeyAKCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gCgl9Cgljb25zdCBtb3ZlTGVmdCA9IChlKSA9PiB7CgkJaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJZXRwMyhlKS5sYXN0Q2hpbGQubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSBlbHNlIHsKCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSB9IGVsc2UgewoJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSAKCX0KCWNvbnN0IG1vdmVSaWdodCA9IChlKSA9PiB7IAoJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCWlmIChldHAyKGUpLm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQlldHAzKGUpLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7CgkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gfSBlbHNlIHsgCgkJZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gCgl9CgkJCglpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywoZSkgPT4gewoJICAvLyBlLnRhcmdldC5mb2N1cygpOwoJICBlLnRhcmdldC5zZWxlY3QoKTsKCQkKCSAgc3dpdGNoIChlLmtleSkgewoJCWNhc2UgIkFycm93RG93biI6CgkJCW1vdmVEb3duKGUpOyBicmVhazsgCgkJY2FzZSAiQXJyb3dVcCI6CgkJCW1vdmVVcChlKTsgYnJlYWs7IAoJCWNhc2UgIkFycm93TGVmdCI6CgkJCW1vdmVMZWZ0KGUpOyBicmVhazsgCgkJY2FzZSAiQXJyb3dSaWdodCI6CgkJCW1vdmVSaWdodChlKTsgYnJlYWs7IAoJCWNhc2UgIlNoaWZ0IjoKCQljYXNlICJDYXBzTG9jayI6CgkJY2FzZSAiTnVtTG9jayI6CgkJCWJyZWFrOyAvLyBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMta2V5LyNrZXlzLW1vZGlmaWVyCgkJY2FzZSAiQmFja3NwYWNlIjoKCQljYXNlICJEZWxldGUiOgoJCQlpZiAoZGF0YVtkYWxpZ25lKGUpXVtkYWNvbChlKV0gIT09IDApIHsKCQkJCWRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldID0gMDsKCQkJCWUudGFyZ2V0LnZhbHVlID0gIiI7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJCQkoZS5rZXk9PT0iRGVsZXRlIik/bW92ZVJpZ2h0KGUpOm1vdmVMZWZ0KGUpOwoJCQl2YXIgZGEgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwoJCQkoZS5rZXk9PT0iRGVsZXRlIik/KGRhLnNlbGVjdGlvblN0YXJ0ID0gZGEuc2VsZWN0aW9uRW5kID0gZGEudmFsdWUubGVuZ3RoKTooZGEuc2VsZWN0aW9uU3RhcnQgPSBkYS5zZWxlY3Rpb25FbmQgPSAwKTsgLy9zZWxlY3QgS08gOigKCQkJYnJlYWs7CgkJZGVmYXVsdDoKCQkJcmV0dXJuOwoJCX0gfSkgCgkJCiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsKGUpID0+IHsKCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJICBjb25zdCB2YWwgPSBlLnRhcmdldC52YWx1ZSAvL3BhcnNlSW50KGUudGFyZ2V0LnZhbHVlKTsKCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCgkgIGNvbnN0IGJpZG91aWxsaXN0ZSA9IHthOjEsejoyLGU6MyxyOjQsdDo1LHk6Nix1OjcsaTo4LG86OSwKCQlBOjEsWjoyLEU6MyxSOjQsVDo1LFk6NixVOjcsSTo4LE86OSwKCQknXCYnOjEsw6k6MiwnIic6MywiXCciOjQsJ1woJzo1LCdcLSc6NizDqDo3LF86OCzDpzo5LAoJCSfCpyc6NiwnISc6OCwgICAgcToxLFE6MSwgdzoyLFc6Mn07CgoJICBjb25zdCBhbmRyb2lkQ2hyb21lRXN0Q2hpYW50ID0geydiJzptb3ZlRG93biwnQic6bW92ZURvd24sCgkJJ2gnOm1vdmVVcCwnSCc6bW92ZVVwLCAgICAgICAgJ2onOm1vdmVSaWdodCwnSic6bW92ZVJpZ2h0LAoJCSdnJzptb3ZlTGVmdCwnRyc6bW92ZUxlZnQsJ3YnOm1vdmVMZWZ0LCdWJzptb3ZlTGVmdCwKCQknZCc6bW92ZVJpZ2h0LCdEJzptb3ZlUmlnaHQsJ24nOm1vdmVSaWdodCwnTic6bW92ZVJpZ2h0fTsKCgkgIGlmICh2YWwgaW4gYmlkb3VpbGxpc3RlKSB7CgkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID0gYmlkb3VpbGxpc3RlW3ZhbF07CgkgIH0gZWxzZSBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCWRhdGFbaV1bal0gPSBwYXJzZUludCh2YWwpOwoJICB9IGVsc2UgaWYgKCh2YWwgPT0gMCl8fCh2YWwgPT0gJ8OgJyl8fCh2YWwgPT0gJ3AnKXx8KHZhbCA9PSAnUCcpKSB7CgkJZGF0YVtpXVtqXSA9IDA7CgkJZS50YXJnZXQudmFsdWUgPSAnJzsKCSAgfSBlbHNlIHsgCgkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJICB9CgoJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQl9IGVsc2UgewoJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQlmb3IodmFyIG5pPTA7bmk8ZWxlLmxlbmd0aDtuaSsrKQoJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCWlmIChqZGF0YSA9PSBwcmVtaWVyKSB7CgkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7CgkJCX0KCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkJfQoKCQlpZiAodmFsIGluIGFuZHJvaWRDaHJvbWVFc3RDaGlhbnQpIHsKCQkJYW5kcm9pZENocm9tZUVzdENoaWFudFt2YWxdKGUpOwoJCX0gZWxzZSB7CgkJCW1vdmVSaWdodChlKTsKCQl9CgkJZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5zZWxlY3QoKTsKICAgIH0pCgkJCiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjdG9wJywoZSkgPT4geyAvLyBtaXMgw6Agam91ciBwYXIgY2hpZmZyZSBzw6lsZWN0aW9ubsOpCgkgIGNvbnN0IGkgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7IC8vIGRhbGlnbmUoZSkKCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkgIGNvbnN0IG9sZGF0YSA9IGRhdGFbaV1bal07CgoJICBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCWRhdGFbaV1bal0gPSBwYXJzZUludCh2YWwpOwoJICB9IGVsc2UgaWYgKHZhbCA9PSAwKSB7CgkJZGF0YVtpXVtqXSA9IDA7CgkJZS50YXJnZXQudmFsdWUgPSAnJzsKCSAgfSBlbHNlIHsgCgkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJICB9CgkJCgkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQllLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IAoJCX0gZWxzZSB7CgkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCXZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0Iik7CgkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJfSBlbHNlIGlmIChqZGF0YSA9PSBkZXV4acOobWUpIHsKCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJfQoJCQlodG1sLnNldEF0dHJpYnV0ZSgnc3VkYXRhJywgamRhdGEpOwoJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQl9CiAgICB9KQoJCQogIH0pIAogIHZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0Iik7CiAgY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICBpZiAoamRhdGEgPT0gcHJlbWllcikgewoJZWxlWzBdLmNoZWNrZWQgPSB0cnVlOwogIH0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgllbGVbMV0uY2hlY2tlZCA9IHRydWU7IC8vIOKApl0uY2xpY2soKTsgLy8gw6l0YWl0IEtP4oCmCiAgfQogIGh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CiAgaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CiAgcmV0dXJuIGh0bWw7Cgp9OwoKcmV0dXJuIHN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlKGNyZWF0ZVN1ZG9rdUh0bWwoZGVmYXVsdEZpeGVkVmFsdWVzKSk7Cjwvc2NyaXB0PjwvYm9uZD6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HZKcw35Uwnt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGFiZGUwMDA1LTAwMDUtMDAwNS0wMDA1LTAwMDVkYWJlMDAwNblkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzg74ROe1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYWJkZTAwMTAtMDAxMC0wMDExLTAwMTAtMDAxMWRhYmUwMDEwiaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9keaCwcGVyc2lzdF9qc19zdGF0ZcKkbWltZap0ZXh0L3BsYWlusmxhc3RfcnVuX3RpbWVzdGFtcMtB2SnMMGyM37doYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhYmRlMDAxMC0wMDEwLTAwMTEtMDAxMC0wMDExZGFiZTAwMTC5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4AAYzgtXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGFiZGUwMDA4LTAwMDctMDAwOC0wMDA3LTAwMDhkYWJlMDAwN4mmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaEYM8ZGl2IGNsYXNzPSJtYXJrZG93biI+PGJvbmQgZGVmPSJ2b2lyT3VQYXMiIHVuaXF1ZV9pZD0iUVlzSURENlVUVE5VIj48c3BhbiBpZD0nQ2FjaGVyUsOpc3VsdGF0JyA+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nQ2FjaGVyUsOpc3VsdGF08J+kq8KgQ2FjaMOpZScgbmFtZT0nQ2FjaGVyUsOpc3VsdGF0JyB2YWx1ZT0n8J+kq8KgQ2FjaMOpZScgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyBjaGVja2VkPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSdDYWNoZXJSw6lzdWx0YXTwn6SrwqBDYWNow6llJz7wn6SrwqBDYWNow6llPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nQ2FjaGVyUsOpc3VsdGF0RW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKYnIG5hbWU9J0NhY2hlclLDqXN1bHRhdCcgdmFsdWU9J0VuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnID48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nQ2FjaGVyUsOpc3VsdGF0RW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKYnPkVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nQ2FjaGVyUsOpc3VsdGF0UG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApicgbmFtZT0nQ2FjaGVyUsOpc3VsdGF0JyB2YWx1ZT0nUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApicgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J0NhY2hlclLDqXN1bHRhdFBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYnPlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKY8L2xhYmVsPjwvc3Bhbj48L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NhY2hlclLDqXN1bHRhdCcpCglmb3JtLm9uaW5wdXQgPSAoZSkgPT4geyBmb3JtLnZhbHVlID0gZS50YXJnZXQudmFsdWU7IGlmIChlLnRhcmdldC52YWx1ZT09J/CfpKvCoENhY2jDqWUnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCX0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWU9PSdQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNhcm9saWduZScpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9O308L3NjcmlwdD48L2JvbmQ+CjxkaXYgc3R5bGU9J2JvcmRlci1ib3R0b206IDJweCBkb3R0ZWQgdmFyKC0tcnVsZS1jb2xvciwjNzc3KTsnPjwvZGl2Pgo8Ym9uZCBkZWY9IlByb3BhbE91U29sdWNlIiB1bmlxdWVfaWQ9InhRcnJsNUp6WFJpRyI+PHNwYW4gaWQ9J1Bvc3NpYmxlc0V0U29sdXRpb24nIGNsYXNzPSdwYXNsYSc+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nUG9zc2libGVzRXRTb2x1dGlvbuKApnBhcsKgY2hpZmZyZScgbmFtZT0nUG9zc2libGVzRXRTb2x1dGlvbicgdmFsdWU9J+KApnBhcsKgY2hpZmZyZScgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyBjaGVja2VkPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmcGFywqBjaGlmZnJlJz7igKZwYXLCoGNoaWZmcmU8L2xhYmVsPjwvc3Bhbj48c3BhbiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7Jz48aW5wdXQgdHlwZT0ncmFkaW8nIGlkPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmcGFywqBjYXNlwqDwn5SiJyBuYW1lPSdQb3NzaWJsZXNFdFNvbHV0aW9uJyB2YWx1ZT0n4oCmcGFywqBjYXNlwqDwn5SiJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnID48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nUG9zc2libGVzRXRTb2x1dGlvbuKApnBhcsKgY2FzZcKg8J+Uoic+4oCmcGFywqBjYXNlwqDwn5SiPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nUG9zc2libGVzRXRTb2x1dGlvbuKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpJyBuYW1lPSdQb3NzaWJsZXNFdFNvbHV0aW9uJyB2YWx1ZT0n4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknPuKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nUG9zc2libGVzRXRTb2x1dGlvbuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqknIG5hbWU9J1Bvc3NpYmxlc0V0U29sdXRpb24nIHZhbHVlPSfigKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnID48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nUG9zc2libGVzRXRTb2x1dGlvbuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqknPuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqk8L2xhYmVsPjwvc3Bhbj48L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKQoJZm9ybS5vbmlucHV0ID0gKGUpID0+IHsgZm9ybS52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOyBpZiAoZS50YXJnZXQudmFsdWU9PSfigKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKScpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjaG9peMOgbWV0dHJlZW5oYXV0JykuY2xhc3NMaXN0LmFkZCgnbWFpc3Rlc291Jyk7CgkJfSBlbHNlIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjaG9peMOgbWV0dHJlZW5oYXV0JykuY2xhc3NMaXN0LnJlbW92ZSgnbWFpc3Rlc291Jyk7CgkJfTt9PC9zY3JpcHQ+PC9ib25kPgo8ZGl2IGlkPSdkaXZlcnMnIGNsYXNzPSdwYXNsYScgc3R5bGU9J21hcmdpbi10b3A6IDhweDsgbWFyZ2luLWxlZnQ6IDElOyB1c2VyLXNlbGVjdDogbm9uZTsgZm9udC1zdHlsZTogaXRhbGljOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM3NzcnPjxzcGFuIGlkPSdwdWNhcm9saWduZSc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2Fyb2xpZ25lJyBuYW1lPSdjYXJvbGlnbmUnPjxsYWJlbCBmb3I9J2Nhcm9saWduZScgc3R5bGU9J21hcmdpbi1sZWZ0OiAycHg7Jz5DYXJvbGlnbmXCoOKalDwvbGFiZWw+PC9zcGFuPgo8c3BhbiBpZD0ncHVjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDUlJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBuYW1lPSdjaG9peMOgbWV0dHJlZW5oYXV0Jz48bGFiZWwgZm9yPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDJweDsnPkNvY2hlcsKgaWNpLCBwdWlzIHRvdWNoZXIgbGUgY2hpZmZyZSDDoCBtZXR0cmUgZGFucyBsZSBTdWRva3XCoGluaXRpYWw8L2xhYmVsPjwvc3Bhbj48L2Rpdj4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2SnMODHhWLdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhYmRlMDAwOC0wMDA3LTAwMDgtMDAwNy0wMDA4ZGFiZTAwMDe5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4BEPDZtXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGFiZGUwMDA0LTAwMDItMDAwNC0wMDAyLTAwMDRkYWJlMDAwMommcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaBBI8ZGl2IGNsYXNzPSJtYXJrZG93biI+PHA+PGJvbmQgZGVmPSJ2aWRlck91cGFzIiB1bmlxdWVfaWQ9IlN5TXFBb0NkUm9zbyI+PHNwYW4gaWQ9J01vZGlmaWVySW5pdCcgPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J01vZGlmaWVySW5pdFZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsJyBuYW1lPSdNb2RpZmllckluaXQnIHZhbHVlPSdWaWRlciBsZSBzdWRva3UgaW5pdGlhbCcgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J01vZGlmaWVySW5pdFZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsJz5WaWRlciBsZSBzdWRva3UgaW5pdGlhbDwvbGFiZWw+PC9zcGFuPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J01vZGlmaWVySW5pdFJldG91ciBpbnN0YW50YW7DqSA7KScgbmFtZT0nTW9kaWZpZXJJbml0JyB2YWx1ZT0nUmV0b3VyIGluc3RhbnRhbsOpIDspJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnIGNoZWNrZWQ+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J01vZGlmaWVySW5pdFJldG91ciBpbnN0YW50YW7DqSA7KSc+UmV0b3VyIGluc3RhbnRhbsOpIDspPC9sYWJlbD48L3NwYW4+PC9zcGFuPjxzY3JpcHQ+Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdNb2RpZmllckluaXQnKQoJZm9ybS5vbmlucHV0ID0gKGUpID0+IHsgZm9ybS52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOyB9PC9zY3JpcHQ+PC9ib25kPiDCoDxhIGhyZWY9JyNCb251cycgc3R5bGU9J3BhZGRpbmctbGVmdDogMTBweDsgYm9yZGVyLWxlZnQ6IDJweCBkb3R0ZWQgdmFyKC0tcnVsZS1jb2xvciwjNzc3Nzc3MjYpOycgPkJvbnVzwqBlbsKgYmFzwqDihpM8L2E+wqA8ZW0+OsKgYXN0dWNlc8KgJiM0MzvCoHZpZXV4JiMzMzs8L2VtPjwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2SnMN8qn27doYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhYmRlMDAwNC0wMDAyLTAwMDQtMDAwMi0wMDA0ZGFiZTAwMDK5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc7vHVCotXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGFiZGUwMDA2LTAwMDQtMDAwNi0wMDA0LTAwMDZkYWJlMDAwNImmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnZnjxkaXYgY2xhc3M9Im1hcmtkb3duIj48cD48c3Ryb25nPlN0YXRpc3RpcXVlc8KgOjwvc3Ryb25nPiBjZSBwcm9ncmFtbWUgZmFpdCA8c3Ryb25nPjI1IGNob2l4PC9zdHJvbmc+IGV0IDxlbT40NiB0b3VyczwvZW0+IHBvdXIgcsOpc291ZHJlIGNlIHN1ZG9rdTwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2SnMOBnemLdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhYmRlMDAwNi0wMDA0LTAwMDYtMDAwNC0wMDA2ZGFiZTAwMDS5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4FDxa9tXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMKxY2VsbF9kZXBlbmRlbmNpZXOL2SRhYmRlMDAwMi0wMDAxLTAwMDItMDAwMS0wMDAyZGFiZTAwMDGEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhYmRlMDAwMi0wMDAxLTAwMDItMDAwMS0wMDAyZGFiZTAwMDG0ZG93bnN0cmVhbV9jZWxsc19tYXCAsnVwc3RyZWFtX2NlbGxzX21hcIKkY29vbJHZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMahnZXRpbmRleJDZJGFiZGUwMDA3LTAwMDYtMDAwNy0wMDA2LTAwMDdkYWJlMDAwNoS0cHJlY2VkZW5jZV9oZXVyaXN0aWMJp2NlbGxfaWTZJGFiZGUwMDA3LTAwMDYtMDAwNy0wMDA2LTAwMDdkYWJlMDAwNrRkb3duc3RyZWFtX2NlbGxzX21hcICydXBzdHJlYW1fY2VsbHNfbWFwh6dAbWRfc3RykK1CYXNlLmdldGluZGV4kKRCYXNlkK5CYXNlLkRvY3MuSFRNTJCpQGh0bWxfc3RykKl2YWV0dmllbnSR2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGqdmlkZXJPdXBhc5HZJGFiZGUwMDA0LTAwMDItMDAwNC0wMDAyLTAwMDRkYWJlMDAwMtkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExhLRwcmVjZWRlbmNlX2hldXJpc3RpYwenY2VsbF9pZNkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExtGRvd25zdHJlYW1fY2VsbHNfbWFw3gBEqExVbmljbGshkKZmb290aXiQqmltcG9zc2libGWQo21hZpCjdnNykKlrZWxjYXJyw6mQo2pzbZCkc2FrIZClaHRtbHOQpmh0bWF0cJCjcmpzkKhpbnRlcnZhbJCpdmFldHZpZW50kdkkYWJkZTAwMDctMDAwNi0wMDA3LTAwMDYtMDAwN2RhYmUwMDA2o3B0MpC3dG91dGVzdGJpZW5xdWlmaW5pdGJpZW6Qqmh0bWxTdWRva3WR2SRhYmRlMDAwOS0wMDA4LTAwMDktMDAwOC0wMDA5ZGFiZTAwMDivY2hpZmZyZVBvc3NpYmxlkK5zdWRva3Vpbml0aWFsIZHZJGFiZGUwMDA0LTAwMDItMDAwNC0wMDAyLTAwMDRkYWJlMDAwMrByw6lzb3V0U3Vkb2t1TWF4kKVwdWNlc5LZJGFiZGUwMDA0LTAwMDItMDAwNC0wMDAyLTAwMDRkYWJlMDAwMtkkYWJkZTAwMDgtMDAwNy0wMDA4LTAwMDctMDAwOGRhYmUwMDA3p3VuaWNsayGQpXNldDE5kLBodG1sU3Vkb2t1UHJvcGFskdkkYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA4q2xpc3RlY2FycsOpkK1yw6lzb3V0U3Vkb2t1kdkkYWJkZTAwMDYtMDAwNC0wMDA2LTAwMDQtMDAwNmRhYmUwMDA0q3R1cGxlY2FycsOpkKrDoGNvcnJpZ2VykLBtYXRyaWNlw6BsaXN0ZUpTkdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExo3B0M5CkY2FycpC1c2ltcGxlY2hpZmZyZVBvc3NpYmxlkKRjb29skdkkYWJkZTAwMDItMDAwMS0wMDAyLTAwMDEtMDAwMmRhYmUwMDAxqHNodWZmbGUhkdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExpHJtYXSQqG5iUHJvcGFskKZjYXJyw6mQo3ZzIZCjaW5pkKVhZGluaZCjbWpzkLRzdWRva3VBbMOpYXRvaXJlRmluaZCkanN2ZJCldmlldXiQqUJhc2Uuc2hvd5HZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMbBsaXN0ZUpTw6BtYXRyaWNlkKN2c2SQpHNhYyGQpHZ1ZXOQq3BsdXTDtHR2b2lykdkkYWJkZTAwMTAtMDAwOS0wMDEwLTAwMDktMDAxMGRhYmUwMDA5rUJvbmRKYW1lc0JvbmST2SRhYmRlMDAwNS0wMDA1LTAwMDUtMDAwNS0wMDA1ZGFiZTAwMDXZJGFiZGUwMDA4LTAwMDctMDAwOC0wMDA3LTAwMDhkYWJlMDAwN9kkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExpWh0bWF0kKJ2c5CvdsOpcmlmU3Vkb2t1Qm9ukLFwYXNBc3NlekRlUHJvcGFsIZCmZGVmYXV0kKZ2aWV1eCGQqEJhc2UuZ2V0kdkkYWJkZTAwMDUtMDAwNS0wMDA1LTAwMDUtMDAwNWRhYmUwMDA1q1N1ZG9rdU3DqW1vktkkYWJkZTAwMDYtMDAwNC0wMDA2LTAwMDQtMDAwNmRhYmUwMDA02SRhYmRlMDAwNS0wMDA1LTAwMDUtMDAwNS0wMDA1ZGFiZTAwMDWjc2FmkKZodG1sc3CQrHZpZXV4U3Vkb2t1IZCjcHQxkK1jaGlmZnJlUHJvcGFskLBzdWRva3VBbMOpYXRvaXJlkKZTdWRpbmmR2SRhYmRlMDAwNS0wMDA1LTAwMDUtMDAwNS0wMDA1ZGFiZTAwMDWjdlMhkKN2c2aQp2TDqWZhdXSQsnVwc3RyZWFtX2NlbGxzX21hcN4AQ6EhkKE+kKVUdXBsZZCmaXNsZXNzkKREb2NzkKZyZXBlYXSQpnVuaW9uIZCnbm90aGluZ5CmbGVuZ3RokKdkZWxldGUhkKE8kKRjb3B5kKhkZWVwY29weZCmVmVjdG9ykKdzZXRkaWZmkKdpc2VtcHR5kKRjb25qkKNTZXSQrUJhc2UuZ2V0aW5kZXiQrkJhc2UuRG9jcy5IVE1MkKhzZXRkaWZmIZCnY29sbGVjdJCjZGl2kKZoYXNrZXmQpXVuaW9ukLBtYXRyaWNlw6BsaXN0ZUpTkdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExpHJhbmSQo+KImJCjaXNhkKRCYXNlkKI8PZClcHVzaCGQoS2Qo0ludJChK5ClVW5pb26QoSqQqHNodWZmbGUhkdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExpUFycmF5kKREaWN0kKdAbWRfc3RykKZzdHJpbmeQqnB1c2hmaXJzdCGQoklPkKRwb3AhkKR2aWV3kKZTdHJpbmeQp2Fkam9pbnSQo+KIiZCpQmFzZS5zaG93kdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExo21hcJClY291bnSQoiE9kK1Cb25kSmFtZXNCb25kkdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExpGZpbGyQoj09kKlEb2NzLkhUTUyQomlukKlVbml0UmFuZ2WQoTqQqUBodG1sX3N0cpCkaGNhdJCoQHJhd19zdHKQpEJvb2yQqUBNSU1FX3N0cpCncmVzaGFwZZCkZ2V0IZDZJGFiZGUwMDA5LTAwMDgtMDAwOS0wMDA4LTAwMDlkYWJlMDAwOIS0cHJlY2VkZW5jZV9oZXVyaXN0aWMJp2NlbGxfaWTZJGFiZGUwMDA5LTAwMDgtMDAwOS0wMDA4LTAwMDlkYWJlMDAwOLRkb3duc3RyZWFtX2NlbGxzX21hcICydXBzdHJlYW1fY2VsbHNfbWFwjatiaW5kSlN1ZG9rdZHZJGFiZGUwMDA1LTAwMDUtMDAwNS0wMDA1LTAwMDVkYWJlMDAwNbBodG1sU3Vkb2t1UHJvcGFskdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExoSGQrlByb3BhbE91U29sdWNlkdkkYWJkZTAwMDgtMDAwNy0wMDA4LTAwMDctMDAwOGRhYmUwMDA3plN0cmluZ5CjaXNhkK5NYXJrZG93bi5wYXJzZZCxc3Vkb2t1U29sdXRpb25WdWWR2SRhYmRlMDAwNi0wMDA0LTAwMDYtMDAwNC0wMDA2ZGFiZTAwMDShKpCoTWFya2Rvd26Qoj09kKl2b2lyT3VQYXOR2SRhYmRlMDAwOC0wMDA3LTAwMDgtMDAwNy0wMDA4ZGFiZTAwMDeqaHRtbFN1ZG9rdZHZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMdkkYWJkZTAwMTAtMDAwOS0wMDEwLTAwMDktMDAxMGRhYmUwMDA5hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYWJkZTAwMTAtMDAwOS0wMDEwLTAwMDktMDAxMGRhYmUwMDA5tGRvd25zdHJlYW1fY2VsbHNfbWFwh7VzdHlsw6lsw6BiYXNhdmVjYm9udXOQp2NhbGVwaW6QqHBsdXRvb2pskK5ib251c2V0YXN0dWNlc5CxcG91cmdhcmRlcmxldGVtcHOQp2NhbGV3ZWKQr3BvdXJ2b2lycGx1dMO0dJCydXBzdHJlYW1fY2VsbHNfbWFwiqdAbWRfc3RykK1CYXNlLmdldGluZGV4kKRCYXNlkK5CYXNlLkRvY3MuSFRNTJCpQGh0bWxfc3RykKhAcmF3X3N0cpCkRG9jc5ChKpCrcGx1dMO0dHZvaXKR2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGpRG9jcy5IVE1MkNkkYWJkZTAwMDMtMDAwMy0wMDAzLTAwMDMtMDAwM2RhYmUwMDAzhLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYWJkZTAwMDMtMDAwMy0wMDAzLTAwMDMtMDAwM2RhYmUwMDAztGRvd25zdHJlYW1fY2VsbHNfbWFwgbNib3V0b25TdWRva3VJbml0aWFskdkkYWJkZTAwMDQtMDAwMi0wMDA0LTAwMDItMDAwNGRhYmUwMDAysnVwc3RyZWFtX2NlbGxzX21hcIqnQG1kX3N0cpCtQmFzZS5nZXRpbmRleJCkTWFpbpCkQmFzZZCpQGh0bWxfc3RykNkgTWFpbi5QbHV0b1J1bm5lci5Db3JlLmFwcGxpY2FibGWQrkJhc2UuRG9jcy5IVE1MkLlNYWluLlBsdXRvUnVubmVyLkJhc2UuZ2V0kKVAYmluZJDZKE1haW4uUGx1dG9SdW5uZXIuUGx1dG9SdW5uZXIuY3JlYXRlX2JvbmSQ2SRhYmRlMDAwNS0wMDA1LTAwMDUtMDAwNS0wMDA1ZGFiZTAwMDWEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhYmRlMDAwNS0wMDA1LTAwMDUtMDAwNS0wMDA1ZGFiZTAwMDW0ZG93bnN0cmVhbV9jZWxsc19tYXCCq2JpbmRKU3Vkb2t1ktkkYWJkZTAwMDYtMDAwNC0wMDA2LTAwMDQtMDAwNmRhYmUwMDA02SRhYmRlMDAwOS0wMDA4LTAwMDktMDAwOC0wMDA5ZGFiZTAwMDirY2hvaXhTdWRva3WQsnVwc3RyZWFtX2NlbGxzX21hcI+kQ29yZZChIZCrU3Vkb2t1TcOpbW+R2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGoQmFzZS5nZXSR2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGmU3RyaW5nkKNpc2GQpEJhc2WQq1BsdXRvUnVubmVykLdQbHV0b1J1bm5lci5jcmVhdGVfYm9uZJCvQ29yZS5hcHBsaWNhYmxlkKZTdWRpbmmR2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGiIT2QrUJvbmRKYW1lc0JvbmSR2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGiPT2QqnZpZGVyT3VwYXOR2SRhYmRlMDAwNC0wMDAyLTAwMDQtMDAwMi0wMDA0ZGFiZTAwMDLZJGFiZGUwMDEwLTAwMTAtMDAxMS0wMDEwLTAwMTFkYWJlMDAxMIS0cHJlY2VkZW5jZV9oZXVyaXN0aWMJp2NlbGxfaWTZJGFiZGUwMDEwLTAwMTAtMDAxMS0wMDEwLTAwMTFkYWJlMDAxMLRkb3duc3RyZWFtX2NlbGxzX21hcICydXBzdHJlYW1fY2VsbHNfbWFwgNkkYWJkZTAwMDgtMDAwNy0wMDA4LTAwMDctMDAwOGRhYmUwMDA3hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYWJkZTAwMDgtMDAwNy0wMDA4LTAwMDctMDAwOGRhYmUwMDA3tGRvd25zdHJlYW1fY2VsbHNfbWFwgq5Qcm9wYWxPdVNvbHVjZZHZJGFiZGUwMDA5LTAwMDgtMDAwOS0wMDA4LTAwMDlkYWJlMDAwOKl2b2lyT3VQYXOR2SRhYmRlMDAwOS0wMDA4LTAwMDktMDAwOC0wMDA5ZGFiZTAwMDiydXBzdHJlYW1fY2VsbHNfbWFwjKdAbWRfc3RykK1CYXNlLmdldGluZGV4kNkgTWFpbi5QbHV0b1J1bm5lci5Db3JlLmFwcGxpY2FibGWQrkJhc2UuRG9jcy5IVE1MkKlAaHRtbF9zdHKQuU1haW4uUGx1dG9SdW5uZXIuQmFzZS5nZXSQpUBiaW5kkNkoTWFpbi5QbHV0b1J1bm5lci5QbHV0b1J1bm5lci5jcmVhdGVfYm9uZJCkTWFpbpCkQmFzZZCtQm9uZEphbWVzQm9uZJHZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMaVwdWNlc5HZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMdkkYWJkZTAwMDQtMDAwMi0wMDA0LTAwMDItMDAwNGRhYmUwMDAyhLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYWJkZTAwMDQtMDAwMi0wMDA0LTAwMDItMDAwNGRhYmUwMDAytGRvd25zdHJlYW1fY2VsbHNfbWFwgap2aWRlck91cGFzktkkYWJkZTAwMDUtMDAwNS0wMDA1LTAwMDUtMDAwNWRhYmUwMDA12SRhYmRlMDAwNy0wMDA2LTAwMDctMDAwNi0wMDA3ZGFiZTAwMDaydXBzdHJlYW1fY2VsbHNfbWFwjadAbWRfc3RykK1CYXNlLmdldGluZGV4kKVwdWNlc5HZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMa5CYXNlLkRvY3MuSFRNTJCpQGh0bWxfc3RykNkgTWFpbi5QbHV0b1J1bm5lci5Db3JlLmFwcGxpY2FibGWQuU1haW4uUGx1dG9SdW5uZXIuQmFzZS5nZXSQpUBiaW5kkNkoTWFpbi5QbHV0b1J1bm5lci5QbHV0b1J1bm5lci5jcmVhdGVfYm9uZJCzYm91dG9uU3Vkb2t1SW5pdGlhbJHZJGFiZGUwMDAzLTAwMDMtMDAwMy0wMDAzLTAwMDNkYWJlMDAwM6RNYWlukKRCYXNlkK5zdWRva3Vpbml0aWFsIZHZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMdkkYWJkZTAwMDYtMDAwNC0wMDA2LTAwMDQtMDAwNmRhYmUwMDA0hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYWJkZTAwMDYtMDAwNC0wMDA2LTAwMDQtMDAwNmRhYmUwMDA0tGRvd25zdHJlYW1fY2VsbHNfbWFwgq5zdWRva3VTb2x1dGlvbpCxc3Vkb2t1U29sdXRpb25WdWWR2SRhYmRlMDAwOS0wMDA4LTAwMDktMDAwOC0wMDA5ZGFiZTAwMDiydXBzdHJlYW1fY2VsbHNfbWFwg6tiaW5kSlN1ZG9rdZHZJGFiZGUwMDA1LTAwMDUtMDAwNS0wMDA1LTAwMDVkYWJlMDAwNa1yw6lzb3V0U3Vkb2t1kdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExq1N1ZG9rdU3DqW1vkdkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExtGNlbGxfZXhlY3V0aW9uX29yZGVym9kkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDEx2SRhYmRlMDAwMi0wMDAxLTAwMDItMDAwMS0wMDAyZGFiZTAwMDHZJGFiZGUwMDAzLTAwMDMtMDAwMy0wMDAzLTAwMDNkYWJlMDAwM9kkYWJkZTAwMDQtMDAwMi0wMDA0LTAwMDItMDAwNGRhYmUwMDAy2SRhYmRlMDAwNS0wMDA1LTAwMDUtMDAwNS0wMDA1ZGFiZTAwMDXZJGFiZGUwMDA2LTAwMDQtMDAwNi0wMDA0LTAwMDZkYWJlMDAwNNkkYWJkZTAwMDctMDAwNi0wMDA3LTAwMDYtMDAwN2RhYmUwMDA22SRhYmRlMDAwOC0wMDA3LTAwMDgtMDAwNy0wMDA4ZGFiZTAwMDfZJGFiZGUwMDA5LTAwMDgtMDAwOS0wMDA4LTAwMDlkYWJlMDAwONkkYWJkZTAwMTAtMDAwOS0wMDEwLTAwMDktMDAxMGRhYmUwMDA52SRhYmRlMDAxMC0wMDEwLTAwMTEtMDAxMC0wMDExZGFiZTAwMTC0bGFzdF9ob3RfcmVsb2FkX3RpbWXLAAAAAAAAAACpc2hvcnRwYXRoqlBsdXRva3UuamyucHJvY2Vzc19zdGF0dXOlcmVhZHmkcGF0aNk4L2hvbWUvcnVubmVyL3dvcmsvNExELmdpdGh1Yi5pby80TEQuZ2l0aHViLmlvL1BsdXRva3UuamyubGFzdF9zYXZlX3RpbWXLQdkpzC27cYaqY2VsbF9vcmRlcpvZJGFiZGUwMDAyLTAwMDEtMDAwMi0wMDAxLTAwMDJkYWJlMDAwMdkkYWJkZTAwMDQtMDAwMi0wMDA0LTAwMDItMDAwNGRhYmUwMDAy2SRhYmRlMDAwMy0wMDAzLTAwMDMtMDAwMy0wMDAzZGFiZTAwMDPZJGFiZGUwMDA2LTAwMDQtMDAwNi0wMDA0LTAwMDZkYWJlMDAwNNkkYWJkZTAwMDUtMDAwNS0wMDA1LTAwMDUtMDAwNWRhYmUwMDA12SRhYmRlMDAwNy0wMDA2LTAwMDctMDAwNi0wMDA3ZGFiZTAwMDbZJGFiZGUwMDA4LTAwMDctMDAwOC0wMDA3LTAwMDhkYWJlMDAwN9kkYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA42SRhYmRlMDAxMC0wMDA5LTAwMTAtMDAwOS0wMDEwZGFiZTAwMDnZJGFiZGUwMDEwLTAwMTAtMDAxMS0wMDEwLTAwMTFkYWJlMDAxMNkkYWJkZTAwMDEtMDAxMS0wMDAxLTAwMTEtMDAwMWRhYmUwMDExsXB1Ymxpc2hlZF9vYmplY3RzgKVuYnBrZ4eyaW5zdGFsbGVkX3ZlcnNpb25zgaZSYW5kb22mc3RkbGlisHRlcm1pbmFsX291dHB1dHOBplJhbmRvbaCnZW5hYmxlZMO3cmVzdGFydF9yZWNvbW1lbmRlZF9tc2fAtHJlc3RhcnRfcmVxdWlyZWRfbXNnwK1idXN5X3BhY2thZ2VzkKxpbnN0YW50aWF0ZWTDq2NlbGxfaW5wdXRzi9kkYWJkZTAwMDItMDAwMS0wMDAyLTAwMDEtMDAwMmRhYmUwMDAxhKdjZWxsX2lk2SRhYmRlMDAwMi0wMDAxLTAwMDItMDAwMS0wMDAyZGFiZTAwMDGwcnVubmluZ19kaXNhYmxlZMKkY29kZdoDs21kIiMjIFLDqXNvdWRyZSB1biBTdWRva3UgcGFyIEFsZXhpc8KgJGNvb2wiICM9wqB2MS44LjfCoHZlbmRyZWRpwqAwNy8wNy8yMDIzwqDwn46ywqAKClBvdXIgbGEgdnVlIEhUTUwgZXQgbGUgc3R5bGUgQ1NTLCBjZWxhIGVzdCBpbnNwaXLDqSBkdSBzdWRva3UgaHR0cHM6Ly9vYnNlcnZhYmxlaHEuY29tL0BmaWxpcGVybWxoL2lhLXN1ZG9rdS1wbGUxClBvdXIgbGUgSmF2YVNjcmlwdCwgbWVyY2kgw6AgKGNhc2Ugc3VpdmFudGUgaW5wdXQpIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNTU5NTczMiwgKHRvdWNoZXMgY2xhdmllcikgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ0MjEzMDM2CkV0IGJpZW4gc8O7ciBsZSBjYWxlcGluIGQnZXhlbXBsZSBkZSBGb25zICIzLiBJbnRlcmFjdGl2aXR5IgpQb3VyIGluZm8sIGxlIGNvZGUgcHJpbmNpcGFsIGVzdCBzdHlsw6lsw6BiYXNhdmVjYm9udXMhIG91IHBsdXTDtHQgY2FjaMOpIGp1c3RlIGFwcsOoc8KgOikKCkNlICJwbHV0b2t1IiBlc3QgdmlzaWJsZSBzdXLCoDogCmh0dHBzOi8vZ2l0aHViLmNvbS80TEQvcGx1dG9rdQoKUG91ciBsZSByZWxhbmNlciBwb3VyIGluZm/CoDogCmh0dHBzOi8vbXliaW5kZXIub3JnL3YyL2doL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci9IRUFEP3VybHBhdGg9cGx1dG8vb3Blbj91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLzRMRC9wbHV0b2t1L21haW4vUGx1dG9rdS5qbApPdSBjZi4gaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL1BsdXRvLmpsIGV0IGh0dHBzOi8vZ2l0aHViLmNvbS9mb25zcC9wbHV0by1vbi1iaW5kZXIgOiAKaHR0cHM6Ly9iaW5kZXIucGx1dG9qbC5vcmcvb3Blbj91cmw9aHR0cHM6JTI1MkYlMjUyRnJhdy5naXRodWJ1c2VyY29udGVudC5jb20lMjUyRjRMRCUyNTJGcGx1dG9rdSUyNTJGbWFpbiUyNTJGUGx1dG9rdS5qbCAKCj0jq2NvZGVfZm9sZGVkw9kkYWJkZTAwMDctMDAwNi0wMDA3LTAwMDYtMDAwN2RhYmUwMDA2hKdjZWxsX2lk2SRhYmRlMDAwNy0wMDA2LTAwMDctMDAwNi0wMDA3ZGFiZTAwMDawcnVubmluZ19kaXNhYmxlZMKkY29kZdlodmlkZXJPdXBhczsgbWQiIiIjIyMjICR2YWV0dmllbnQgU3Vkb2t1IGluaXRpYWzCoOKktCAobW9kaWZpYWJsZSkgZXQgc2Egc29sdXRpb27CoDogJChodG1sIjwvc3Bhbj4iKSAiIiKrY29kZV9mb2xkZWTD2SRhYmRlMDAwMS0wMDExLTAwMDEtMDAxMS0wMDAxZGFiZTAwMTGEp2NlbGxfaWTZJGFiZGUwMDAxLTAwMTEtMDAwMS0wMDExLTAwMDFkYWJlMDAxMbBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2wABGiFiZWdpbiAKCSMgQGJpbmQgYmluZEpTdWRva3UgU3VkaW5pICMgZXQgc29uIGphdmFzY3JpcHQgZXN0IGluY2x1cyBhdSBwbHVzIGhhdXQKCSMgc3R5bMOpbMOgYmFzYXZlY2JvbnVzISAjIyB2b2lyIGp1c3RlIGRhbnMgbGEgY2VsbHVsZSAjQm9udXMgYXUgZGVzc3VzIOKGkQoJY29uc3QgcGx1dMO0dHZvaXIgPSBmYWxzZSAjIHRydWUgIyBQbHV0w7R0IHZvaXIgbCdpbnRlcmZhY2UgZGUgUGx1dG8uamwgKHRydWUgdm9pcikKCWNvbnN0IMOgY29ycmlnZXIgPSAi8J+YnCBNZXJjaSBkZSBjb3JyaWdlciBsZSBTdWRva3UiLCBtZCIiIiMjIyMjIyDwn5icIE1lcmNpIGRlIHJldm9pciBsZSBTdWRva3UgbW9kaWZpYWJsZSwgaWwgbidlc3QgcGFzIGNvbmZvcm1lIDogCgkJRW4gZWZmZXQsIGlsIGRvaXQgeSBhdm9pciAqKnVuIGNoaWZmcmUgZW4gZG91YmxlKiogYXUgbW9pbnMgc3VyIHVuZSBsaWduZSBvdSBjb2xvbm5lIG91IGNhcnLDqSDwn5iEIiIiCgljb25zdCBpbXBvc3NpYmxlID0gIvCfp5AgU3Vkb2t1IGZhdXggZXQgaW1wb3NzaWJsZSIsIG1kIiIiIyMjIyMjIPCfp5AgU3Vkb2t1IGZhdXggZXQgaW1wb3NzaWJsZSDDoCByw6lzb3VkcmUgOgoJCVNpIGNlIG4nZXN0IHBhcyBsZSBjYXMsIHJldsOpcmlmaWVyIGxlIFN1ZG9rdSBtb2RpZmlhYmxlLCBjYXIgY2VsdWktY2kgbidhIHBhcyBkZSBzb2x1dGlvbiIiIgoJdG91dGVzdGJpZW5xdWlmaW5pdGJpZW4obVMsIG5iQ2hvaXhmYWl0LCBuYlRvdXJzVG90YWwpID0gbWF0cmljZcOgbGlzdGVKUyhtUyksIG1kIioqU3RhdGlzdGlxdWVzwqA6KiogY2UgcHJvZ3JhbW1lIGZhaXQgKiokbmJDaG9peGZhaXQgY2hvaXgqKiBldCBfJG5iVG91cnNUb3RhbCAkKChuYlRvdXJzVG90YWw+MSkgPyA6dG91cnMgOiA6dG91cilfIHBvdXIgcsOpc291ZHJlIGNlIHN1ZG9rdSIKCWNvbnN0IGZvb3RpeCA9ICJkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlc2Zvb3RcIik/LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiY2xpY2tcIikpIgoJCgljb25zdCBzZXQxOSA9IFNldCgxOjkpICMgUG91ciBuZSBwYXMgbGUgcmVjYWxjdWxlciDDoCBjaGFxdWUgZm9pcwoJY29uc3QgY29vbCA9IGh0bWwiPHNwYW4gaWQ9J0JOJyBzdHlsZT0ndXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5iOPC9zcGFuPiIKCWpzdmQoKSA9IGZpbGwoZmlsbCgwLDkpLDkpICMgSlN2aWRlIG91IEpDVkQgXl4gcHNldWRvIGNvbnN0CglhZGluaSgpID0gW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwxLDIsMyw0LDUsMCwwLDBdLFswLDIsMCwwLDMsMCw2LDAsMF0sWzAsMyw0LDUsNiwwLDAsNywwXSxbMCw2LDAsMCw3LDAsOCwwLDBdLFswLDcsMCwwLDgsOSwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdXSAjIFN1ZG9rdSBhdmVjIGRldXggbGV0dHJlc+KApiAKCXVzaW5nIFJhbmRvbTogc2h1ZmZsZSEgIyBBc3R1Y2UgcG91ciDDqnRyZSBlbmNvcmUgcGx1cyByYXBpZGUgPSBGYXN0ICYgRnVyaW91cwoJIyMgc2h1ZmZsZSEoeCkgPSB4ICMjIFNpIGJlc29pbiwgbWFpc+KApiBFdmVyeWRheSBJIHNodWZmbGluZyAhIChkaXhpdCBMTUZBTykKCQoJc3RydWN0IEJvbmRKYW1lc0JvbmQgIyBCb25kRGVmYXVsdChlbGVtZW50LCBkZWZhdWx0KSAjIyBwb3VyIEJhc2UuZ2V0KCkgZXQgQGJpbmQKCQlvbzcgIyBlbGVtZW50IAkgCQkjIyBCb25kICjDoCBiaW5kZXIpCgkJdm9ka2FNYXJ0aW5pICMgZGVmYXVsdCAJIyMgdW4gZMOpZmF1dCBeXgoJZW5kICMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZm9uc3AvcGx1dG8tb24tYmluZGVyL3B1bGwvMTEKCUJhc2Uuc2hvdyhpbzo6SU8sIG06Ok1JTUUidGV4dC9odG1sIiwgYmQ6OkJvbmRKYW1lc0JvbmQpID0gCgkJQmFzZS5zaG93KGlvLG0sIGJkLm9vNykKCUJhc2UuZ2V0KGJkOjpCb25kSmFtZXNCb25kKSA9IGJkLnZvZGthTWFydGluaSAjIMOpdml0ZSBEb2N0b3IgTm8odGhpbmcgb3UgbWlzc2luZykKCglTdWRva3VNw6ltbyA9IHB1c2hmaXJzdCEocmVwZWF0KFthZGluaSgpXSwgMyksIGpzdmQoKSkgIyBnYXJkZXIgbWVzIGluaXRpYWwoZSlzIF5eCglsaXN0ZUpTw6BtYXRyaWNlKEpTdWRva3U6OlZlY3RvcntWZWN0b3J7SW50fX0pID0gaGNhdChKU3Vkb2t1Li4uKSAjJyBlbiBwaW5haWxsYW50CgkJanNtID0gbGlzdGVKU8OgbWF0cmljZSAjIyBtaW5pIHZlcnNpb24KCW1hdHJpY2XDoGxpc3RlSlMobWF0LGQ9OSkgPSBbbWF0WzosaV0gZm9yIGkgaW4gMTpkXSAjSSB3aWxsIGJlIGJhY2shICMjIG1hdDMgYXVzc2kKCQltanMgPSBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbgoJIyMjIG1hdHJpY2XDoGxpc3RlSlMobGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1KSkgPT0gSlN1ZG9rdSAjIyBFdCBpbnZlcnNlbWVudAoJIyBuYmNtKG1hdCkgPSBjb3VudCg+KDApLCBtYXQgKSAjIE5vbWJyZSBkZSBjaGlmZnJlcyA+IDAgZGFucyB1bmUgbWF0cmljZQoJIyBuYmNqKGxqcykgPSBjb3VudCg+KDApLCBsaXN0ZUpTw6BtYXRyaWNlKGxqcykgKSAjIGlkZW0gcG91ciB1bmUgbGlzdGUgSlMKCWtlbGNhcnLDqShpOjpJbnQsajo6SW50KSA9IDErIDMqZGl2KGktMSwzKSArIGRpdihqLTEsMykgIyBuwrAgZHUgY2FycsOpIGR1IHN1ZG9rdQoJY2FycsOpKGk6OkludCxqOjpJbnQpPSAxK2RpdihpLTEsMykqMzozK2RpdihpLTEsMykqMywgMStkaXYoai0xLDMpKjM6MytkaXYoai0xLDMpKjMgIyBwZXJtZXQgZGUgZmFicmlxdWVyIGxlcyBmaWx0cmVzIHBvdXIgbmUgcmVnYXJkZXIgcXUndW4gc2V1bCBjYXJyw6kKCWNhcnIoaTo6SW50KT0gMStkaXYoaS0xLDMpKjM6MytkaXYoaS0xLDMpKjMgIyBmaWx0cmUgY2FycsOpIMOgIG1vaXRpICAgIMOpICEKCXZ1ZXMobWF0OjpBcnJheXtJbnQsMn0saTo6SW50LGo6OkludCk9ICh2aWV3KG1hdCxpLDopLCB2aWV3KG1hdCw6LGopLCB2aWV3KG1hdCxjYXJyKGkpLGNhcnIoaikpICkgIyBsaXN0ZSBjaGlmZnJlcyBwb3NzaWJsZXMgcGFyIGxpZ25lcy9jb2xvbm5lcy9jYXJyw6lzCglsaXN0ZWNhcnLDqShtYXQ6OkFycmF5e0ludCwyfSk9IFt2aWV3KG1hdCxjYXJyKGkpLGNhcnIoaikpIGZvciBpIGluIDE6Mzo5IGZvciBqIGluIDE6Mzo5XSAjIExhIGxpc3RlIGRlIHRvdXMgbGVzIGNhcnLDqXMgZHUgc3Vkb2t1Cgl0dXBsZWNhcnLDqShpaTo6VW5pdFJhbmdle0ludH0samo6OlVuaXRSYW5nZXtJbnR9ICM9LHNldGlqOjpTZXR7VHVwbGV7SW50LEludH19PSMpPSBbKGksaikgZm9yIGkgaW4gaWksIGogaW4gampdICNpZiAoaSxqKSDiiIkgc2V0aWpdCglzaW1wbGVjaGlmZnJlUG9zc2libGUobWF0OjpBcnJheXtJbnQsMn0saTo6SW50LGo6OkludCk9IHNldGRpZmYoc2V0MTksdmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSkgIyBjYXNlIGksagoJIyMjIHNldGRpZmYoc2V0MTksdnVlcyhtYXQsaSxqKS4uLikgIyBQb3VyIHVuZSBjYXNlIGVuIGksagoJY2hpZmZyZVBvc3NpYmxlKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQsbGltcDo6U2V0e0ludH0sIGlpPWNhcnIoaSk6OlVuaXRSYW5nZXtJbnR9LCBqaj1jYXJyKGopOjpVbml0UmFuZ2V7SW50fSk9IHNldGRpZmYoc2V0MTksbGltcCx2aWV3KG1hdCxpLDopLCB2aWV3KG1hdCw6LGopLCB2aWV3KG1hdCwgaWksamopKSAjIFBsdXMgZmluCgoJZnVuY3Rpb24gdsOpcmlmU3Vkb2t1Qm9uKG1hdDo6QXJyYXl7SW50LDJ9KSAjIFbDqXJpZmllIHNpIGxlIHN1ZG9rdSBlc3QgcsOpZ2xvCgkJbGVzY2FycsOpcyA9IGxpc3RlY2FycsOpKG1hdCkKCQlmb3IgeCBpbiAxOjkgIyBQb3VyIHRvdXMgbGVzIGNoaWZmcmVzIGRlIDEgw6AgOeKApgoJCQlmb3IgaSBpbiAxOjkgIyDigKZlc3QtaWwgZW4gZG91YmxvbiBkYW5zIHVuZSBsaWduZSBvdSB1bmUgY29sb25uZSA/CgkJCQlpZiBjb3VudCg9PSh4KSwgbWF0W2ksOl0pPjEgfHwgY291bnQoPT0oeCksIG1hdFs6LGldKT4xCgkJCQkJcmV0dXJuIGZhbHNlCgkJCQllbmQKCQkJZW5kCgkJCWZvciBjIGluIGxlc2NhcnLDqXMgIyDigKZlc3QtaWwgZW4gZG91YmxvbiBkYW5zIHVuIGNhcnLDqSA/CgkJCQlpZiBjb3VudCg9PSh4KSwgYyk+MQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJCXJldHVybiB0cnVlICMgTGUgc3Vkb2t1IHNlbWJsZSBjb25mb3JtZSAobWFpcyBpbCBwZXV0IMOqdHJlIGltcG9zc2libGUpCgllbmQgCglmdW5jdGlvbiBzYWMhKG46OkludCwgbDo6SW50LCBrOjpJbnQsIGlpOjpVbml0UmFuZ2V7SW50fSwgamo6OlVuaXRSYW5nZXtJbnR9LCBsaXN0ZXBvc3NpYmxlczo6U2V0e0ludH0sIGZ1c2libGVzOjpEaWN0e0ludCwgU2V0e0ludH19LCBkaWNvOjpEaWN0e0ludCxEaWN0e0ludCxJbnR9fSwgZGlsbzo6RGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fSB9fSwgZGlrbzo6RGljdHtJbnQsRGljdHtJbnQsSW50fX0pICMgY29tcHRlIGwnb2NjdXJlbmNlIGQndW4gY2hpZmZyZSBwb3Vy4oCmICh1bmljbGshKQoJICMgcG91ciBsaWduZSBldCBjb2xvbm5lCgkgZ2V0IShkaWNvLCBuLCBEaWN0e0ludCxJbnR9KCkgKSAjIGRpY28gOiBwb3NpYmlsaXTDqXMgcGFyIGNvbG9ubmUvbGlnbmUKCSBnZXQhKGRpbG8sIG4sIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUvY29sb25uZSDimbsKCSBnZXQhKGRpa28sIG4sIERpY3R7SW50LEludH0oKSApICMgZGlrbyA6IGNhcnLDqSBxdWkgZGV2cmEgc3VwcHIuIGxhIHBvc3NpYmlsaXTDqQoJIGdldCEoZnVzaWJsZXMsIG4sIFNldHtJbnR9KCkgKSAjIGZ1c2libGVzIDogbsKwIGTDqWrDoCBncmlsbMOpcwoJIGZvciBuZSBpbiBzZXRkaWZmKGxpc3RlcG9zc2libGVzLGZ1c2libGVzW25dKSAjCgkJZGljb1tuXVtuZV0gPSBnZXQoZGljb1tuXSwgbmUsIDApICsgMQoJCWlmIGRpY29bbl1bbmVdID09IDEgCgkJCWRpa29bbl1bbmVdID0gayAKCQkJZGlsb1tuXVtuZV0gPSAobCwgaWksIGpqKQoJCWVsc2VpZiBkaWNvW25dW25lXSA+IDMgfHwgZGlrb1tuXVtuZV0gIT0gayAKCQkJcHVzaCEoZnVzaWJsZXNbbl0sIG5lKSAKCQkJZGVsZXRlIShkaWNvW25dLCBuZSkgCgkJZW5kCgkgZW5kCgllbmQKCWZ1bmN0aW9uIHNhayEoaTo6SW50LCBqOjpJbnQsIGs6OkludCwgaWk6OlVuaXRSYW5nZXtJbnR9LCBqajo6VW5pdFJhbmdle0ludH0sIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSwgZnVzaWJsZXM6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpY286OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAKCSAjIGlkZW0gcG91ciBsZXMga2FycsOpcyA7KQoJIGdldCEoZGlrbywgaywgRGljdHtJbnQsSW50fSgpICkgIyBkaWtvIDogcG9zc2liaWxpdMOpIHBhciBrYXJyw6kKCSBnZXQhKGRpY28sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWNvIDogY29sb25uZSDimbsKCSBnZXQhKGRpbG8sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUg4pm7CgkgZ2V0IShmdXNpYmxlcywgaywgU2V0e0ludH0oKSApICMgZnVzaWJsZXMgOiBuwrAgZMOpasOgIGdyaWxsw6lzCgkgZm9yIG5lIGluIHNldGRpZmYobGlzdGVwb3NzaWJsZXMsZnVzaWJsZXNba10pICMKCQlkaWtvW2tdW25lXSA9IGdldChkaWtvW2tdLCBuZSwgMCkgKyAxCgkJaWYgZGlrb1trXVtuZV0gPT0gMSAKCQkJZGljb1trXVtuZV0gPSAoaiwgaWkpCgkJCWRpbG9ba11bbmVdID0gKGksIGpqKQoJCWVsc2VpZiBkaWtvW2tdW25lXSA+IDMgfHwgKGRpY29ba11bbmVdWzFdICE9IGogJiYgZGlsb1trXVtuZV1bMV0gIT0gaSkKCQkJcHVzaCEoZnVzaWJsZXNba10sIG5lKSAKCQkJZGVsZXRlIShkaWtvW2tdLCBuZSkgCgkJZWxzZWlmIGRpY29ba11bbmVdWzFdICE9IGoKCQkJZGljb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBjb2xvbm5lCgkJZWxzZWlmIGRpbG9ba11bbmVdWzFdICE9IGkKCQkJZGlsb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBsaWduZQoJCWVuZAoJIGVuZAoJZW5kCglmdW5jdGlvbiB1bmljbGshKGRpY2xvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19ICxkaWNjbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWNrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxsbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxjbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSwgZGlsa286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlrbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2NvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fX19LCBkaWtrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBtYXQ6OkFycmF5e0ludCwyfSwgZGltcDo6RGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19LCBkaWNvcsOpemxpZzo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjb2w6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y2FyOjpEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0sIGxlc1rDqXJvc8OgU3VwcHI6OlNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19LCDDp2FOYXZhbmNlUGFzOjpCb29sKSAj4oCmIHZvaXIgc2kgdW4gY2hpZmZyZSBlc3Qgc2V1bCAob3UgdW5pcXVlbWVudCBzdXIgdW5lIG3Dqm1lIGxpZ25lLCBjb2zigKYpLiBDYXIgcGFyIGV4ZW1wbGUsIHMnaWwgYXBwYXJhw650IHVuZSBzZXVsZSBmb2lzIHN1ciBsYSBsaWduZSA6IGMnZXN0IHF1J2lsIG5lIHBldXQgcXUnw6p0cmUgbMOgIF5eCgkjIEF1dHJlcyBleGVtcGxlLCBzaSBkYW5zIHVuZSBsaWduZSwgaWwgbid5IGEgZCdvY2N1cmVuY2UgcXVlIGRhbnMgdW4gZGVzIDMgY2FycsOpLCBpbCBuZSBwb3VycmEgcGFzIMOqdHJlIGFpbGxldXJzIGRhbnMgbGUgY2FycsOpLgoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCWkgPSBkaWNsb1tqXVtuXVsxXQoJCQkJaWYgbiDiiIkgY2hpZmZyZVBvc3NpYmxlKG1hdCxpLGosZ2V0IShkaW1wLChpLGopLFNldHtJbnR9KCkgKSkKCQkJCQlyZXR1cm4gZmFsc2UgIyBwYXMgM2EgYm9sIF5eCgkJCQllbmQgIyMgb3UgcGx1dMO0dCAjIyBuIOKIiSBzaW1wbGVjaGlmZnJlUG9zc2libGUobWF0LGksaikgCgkJCQltYXRbaSxqXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChpLCBqLCBkaWNrb1tqXVtuXSwgZGljbG9bal1bbl1bMl0sIGRpY2xvW2pdW25dWzNdKSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0sIGopCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pdLCBpKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sIChpLCBqKSApCgkJCQloYXNrZXkoZGlsbG8sIGkpICYmIGRlbGV0ZSEoZGlsbG9baV0sIG4pCgkJCQloYXNrZXkoZGlra28sIGRpY2tvW2pdW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpY2tvW2pdW25dXSwgbikKCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsIGNvbCkgaW4gc2V0ZGlmZihkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sICgoaSwgaikgZm9yIGkgaW4gZGljbG9bal1bbl1bMl0pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKSAjIMOnYU5hdmFuY2VQYXMgJiBkaW1wID8KCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGksZGwpIGluIGRpbGxvICMgcG91ciBsZXMgbGlnbmVzCgkJZm9yIChuLHYpIGluIGRsCgkJCWlmIHYgPT0gMQoJCQkJaiA9IGRpbGNvW2ldW25dWzFdCgkJCQlpZiBuIOKIiSBjaGlmZnJlUG9zc2libGUobWF0LGksaixnZXQhKGRpbXAsKGksaiksU2V0e0ludH0oKSApKQoJCQkJCXJldHVybiBmYWxzZSAjIHBhcyAzYiBib2wgXl4KCQkJCWVuZCAKCQkJCW1hdFtpLGpdID0gbgoJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksIGosIGRpbGtvW2ldW25dLCBkaWxjb1tpXVtuXVsyXSwgZGlsY29baV1bbl1bM10pKQoJCQkJZGVsZXRlIShkaWNvcsOpemxpZ1tpXSwgaikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjb2xbal0sIGkpCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2RpbGtvW2ldW25dXSwoaSwgaikgKQoJCQkJIyBoYXNrZXkoZGljY28sZGljb1tpXVtuXVsxXSkgJiYgZGVsZXRlIShkaWNjb1tkaWNvW2ldW25dWzFdXSwgbikjc2lvCgkJCQloYXNrZXkoZGlra28sZGlsa29baV1bbl0pICYmIGRlbGV0ZSEoZGlra29bZGlsa29baV1bbl1dLCBuKQoJCQkJw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlmb3IgKGxpZywgY29sKSBpbiBzZXRkaWZmKGRpY29yw6l6Y2FyW2RpbGtvW2ldW25dXSwgKChpLCBqKSBmb3IgaiBpbiBkaWxjb1tpXVtuXVszXSkpCgkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgZm9yIChrLGRrKSBpbiBkaWtrbyAjIHBvdXIgbGVzIGthcnLDqQoJCWZvciAobix2KSBpbiBkawoJCQlpZiB2ID09IDEKCQkJCWksaiA9IGRpa2xvW2tdW25dWzFdLGRpa2NvW2tdW25dWzFdCgkJCQlpZiBuIOKIiSBjaGlmZnJlUG9zc2libGUobWF0LGksaixnZXQhKGRpbXAsKGksaiksU2V0e0ludH0oKSApKQoJCQkJCXJldHVybiBmYWxzZSAjIHBhcyAzYyBib2wgXl4KCQkJCWVuZCAKCQkJCW1hdFtpLGpdID0gbgoJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksaiwgaywgZGlrY29ba11bbl1bMl0sIGRpa2xvW2tdW25dWzJdKSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0sIGopCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pdLCBpKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltrXSwgKGksIGopICkKCQkJCSMgaGFza2V5KGRpbGxvLGRpbG9ba11bbl1bMV0pICYmIGRlbGV0ZSEoZGlsbG9bZGlsb1trXVtuXVsxXV0sIG4pI3NpbwoJCQkJIyBoYXNrZXkoZGljY28sZGljb1trXVtuXVsxXSkgJiYgZGVsZXRlIShkaWNjb1tkaWNvW2tdW25dWzFdXSwgbikjcmRlCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWlmIGRpa2NvW2tdW25dWzFdID09IDAgCgkJCQkJZm9yIGNvbCBpbiBzZXRkaWZmKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGRpa2NvW2tdW25dWzFdKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgcmV0dXJuIMOnYU5hdmFuY2VQYXMKCWVuZAoJZnVuY3Rpb24gTFVuaWNsayEoZGljbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0sIGRpY2NvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpY2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGxvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGNvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19LCBkaWxrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWtsbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX19fSwgZGlrY286OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbXA6OkRpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSkgIyB1bmljbGshIHBvdXIgaHRtbFN1ZG9rdVByb3BhbAoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCSMgKGRpY2xvW2pdW25dWzFdLGosZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10pCgkJCQlpLGssIGlpLGpqID0gZGljbG9bal1bbl1bMV0sZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMg4oCmb24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyDigKZldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJaGFza2V5KGRpbGxvLGRpY2xvW2pdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpY2xvW2pdW25dWzFdXSwgbikKCQkJCWhhc2tleShkaWtrbyxkaWNrb1tqXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWNrb1tqXVtuXV0sIG4pCgkJCQkjIMOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsY29sKSBpbiBzZXRkaWZmKHR1cGxlY2FycsOpKGRpY2xvW2pdW25dWzJdLGRpY2xvW2pdW25dWzNdKSwgKChpLGopIGZvciBpIGluIGRpY2xvW2pdW25dWzJdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikgIyDDp2FOYXZhbmNlUGFzIGRpbXAgPwoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoaSxkbCkgaW4gZGlsbG8gIyBwb3VyIGxlcyBsaWduZXMKCQlmb3IgKG4sdikgaW4gZGwKCQkJaWYgdiA9PSAxCgkJCQkjIChpLGRpbGNvW2ldW25dWzFdLGRpbGtvW2ldW25dLGRpbGNvW2ldW25dWzJdLGRpbGNvW2ldW25dWzNdKQoJCQkJaiwgaywgaWksIGpqID0gZGlsY29baV1bbl1bMV0sZGlsa29baV1bbl0sZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMg4oCmb24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyDigKZldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJIyBoYXNrZXkoZGljY28sZGljb1tpXVtuXVsxXSkgJiYgZGVsZXRlIShkaWNjb1tkaWNvW2ldW25dWzFdXSwgbikjc2lvCgkJCQloYXNrZXkoZGlra28sZGlsa29baV1bbl0pICYmIGRlbGV0ZSEoZGlra29bZGlsa29baV1bbl1dLCBuKQoJCQkJIyDDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWZvciAobGlnLGNvbCkgaW4gc2V0ZGlmZih0dXBsZWNhcnLDqShkaWxjb1tpXVtuXVsyXSxkaWxjb1tpXVtuXVszXSksICgoaSxqKSBmb3IgaiBpbiBkaWxjb1tpXVtuXVszXSkpCgkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgZm9yIChrLGRrKSBpbiBkaWtrbyAjIHBvdXIgbGVzIGthcnLDqQoJCWZvciAobix2KSBpbiBkawoJCQlpZiB2ID09IDEKCQkJCSMgKGRpa2xvW2tdW25dWzFdLGRpa2NvW2tdW25dWzFdLGssZGlrY29ba11bbl1bMl0sZGlrbG9ba11bbl1bMl0pCgkJCQlpLCBqLCBpaSwgamogPSBkaWtsb1trXVtuXVsxXSxkaWtjb1trXVtuXVsxXSxkaWtjb1trXVtuXVsyXSxkaWtsb1trXVtuXVsyXQoJCQkJZm9yIGlpaSBpbiAxOjkgIyDigKZvbiByZXRpcmUgc3VyIGxhIGxpZ25lIGV0IGxhIGNvbG9ubmUKCQkJCQlnZXQhKGRpbXAsKGksaWlpKSxTZXR7SW50fSgpICkKCQkJCQlnZXQhKGRpbXAsKGlpaSxqKSxTZXR7SW50fSgpICkKCQkJCQlpaWkgIT0gaiAmJiBwdXNoIShkaW1wW2ksaWlpXSxuKQoJCQkJCWlpaSAhPSBpICYmIHB1c2ghKGRpbXBbaWlpLGpdLG4pCgkJCQllbmQKCQkJCWZvciBqamogaW4gamosIGlpaSBpbiBpaSAjIOKApmV0IHN1ciBsZSBjYXJyw6kKCQkJCQlqamogIT0gaiAmJiBpaWkgIT0gaSAmJiBwdXNoIShnZXQhKGRpbXAsKGlpaSxqamopLFNldHtJbnR9KCkgKSxuKQoJCQkJZW5kCgkJCQkjIGhhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSNzaW8KCQkJCSMgaGFza2V5KGRpY2NvLGRpY29ba11bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1trXVtuXVsxXV0sIG4pI3JkZQoJCQkJIyDDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWlmIGRpa2NvW2tdW25dWzFdID09IDAgCgkJCQkJZm9yIGNvbCBpbiBzZXRkaWZmKHNldDE5LCBkaWtsb1trXVtuXVsyXSkKCQkJCQkJcHVzaCEoZ2V0IShkaW1wLChkaWtsb1trXVtuXVsxXSxjb2wpLFNldHtJbnR9KCkgKSwgbikKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlmb3IgbGlnIGluIHNldGRpZmYoc2V0MTksIGRpa2NvW2tdW25dWzJdKQoJCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxkaWtjb1trXVtuXVsxXSksU2V0e0ludH0oKSApLCBuKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZCAjIHJldHVybiDDp2FOYXZhbmNlUGFzCgkgcmV0dXJuIG5vdGhpbmcKCWVuZAoJZnVuY3Rpb24gcGFzQXNzZXpEZVByb3BhbCEoaTo6SW50LGo6OkludCwgbGlzdGVwb3NzaWJsZXM6OlNldHtJbnR9LGRpY3RDaGVja0xpOjpEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0sZGljdENoZWNrQ2o6OkRpY3R7U2V0e0ludH0sIFNldHtJbnR9fSxkaWN0Q2hlY2tDYXJyw6k6OkRpY3R7U2V0e0ludH0sIFNldHtUdXBsZXtJbnQsSW50fX19LE5pbXA6OkRpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSkgIywgc2V0bGlnOjpTZXR7SW50fT1zZXQxOSwgc2V0Y29sOjpTZXR7SW50fT1zZXQxOSkgIyMsIGlpOjpVbml0UmFuZ2V7SW50fT1jYXJyKGkpLCBqajo6VW5pdFJhbmdle0ludH09Y2FycihqKSwgc2V0Y2FyOjpTZXR7VHVwbGV7SW50LEludH19PVNldCh0dXBsZWNhcnLDqShpaSxqaikpICkgCgkjIEljaSBsJ2lkw6llIGVzdCBkZSB2b2lyIHMnaWwgeSBhIHBsdXMgY2hpZmZyZXMgw6AgbWV0dHJlIHF1ZSBkZSBjYXNlcyA6IGVuIHJlZ2FyZGFudCB0b3V0ICEgZW50cmUgZGV1eCBjYXNlcywgdHJvaXMgY2FzZXPigKYgc3VyIGxhIGxpZ25lLCBjb2xvbm5lLCBjYXJyw6kgXl4KCSMgQnJlZiwgcydpbCBuJ3kgYSBwYXMgYXNzZXogZGUgcHJvcG9zaXRpb25zIHBvdXIgbGVzIGNoaWZmcmVzIMOgIGNhc2VyIDogYydlc3QgdnJhaQoJIyBDJ2VzdCBwYXMgZmF1eCA6IGRvbmMgw6dhIHZhLiAKCSMgRGUgcGx1cywgc2kgdW4gKGVuc2VtYmxlIGRlKSBjaGlmZnJlIGVzdCBwb3NzaWJsZSBxdWUgc3VyIGNlcnRhaW5lcyBjZWxsdWxlcywgY2VsYSBsZSByZXRpcmUgZHUgcmVzdGUgKGVuIGdhcmRhbnQgdmlhIGxhIG1hdHJpY2UgTmltcCkuIFBhciBleGVtcGxlLCBzdXIgdW5lIGxpZ25lLCBvbiBhIDEgw6AgOCwgbGEgZGVybmnDqHJlIGNlbGx1bGUgbmUgcGV1dCBxdWUgw6p0cmUgOSAtPiBncsOiY2Ugw6AgTmltcCwgb24gcmV0aXJlIGxlIDkgZGVzIHBvc3NpYmlsaXTDqXMgZGUgdG91dGVzIGxlcyBjZWxsdWxlcyBkZSBsYSBjb2xvbm5lLCBkdSBjYXJyw6kgKGV0IGRlIGxhIGxpZ25l4oCmKSBzYXVmIHBvdXIgY2V0dGUgZGVybmnDqHJlIGNlbGx1bGUganVzdGVtZW50IF5eCgkjIENlbGEgcGVybWV0IGRlIGxpbWl0ZXIgbGVzIHBvc3NpYmlsaXTDqXMgcG91ciDDqXZpdGVyIGF1IG1pZXV4IGxlcyBjdWxzIGRlIHNhYyEKCSMgRXRhbnQgcXVhbmQtbcOqbWUgdW4gcGV1IHRyb3AgbG91cmQsIGlsIGZhdXQgbCd1dGlsaXNlciBxdWUgc2kgYmVzb2luCgkJZm9yIChrLHYpIGluIGNvcHkoZGljdENoZWNrQ2opICMgZGljbyAjIFBvdXIgbGVzIGNvbG9ubmVzCgkJCWtrID0gdW5pb24oayxsaXN0ZXBvc3NpYmxlcykKCQkJaWYgbGVuZ3RoKGtrKSA+IGxlbmd0aCh2KQoJCQkJdnYgPSB1bmlvbih2LCBTZXQoaSksIGdldChkaWN0Q2hlY2tDaiwga2ssIFNldHtJbnR9KCkgKSkgCgkJCQlpZiBsZW5ndGgoa2spID09IGxlbmd0aCh2dikKCQkJCQkjIExlcyBjaGlmZnJlcyBrayBzb250IMOgIHJldGlyZXIgZGUgdG91dGUgbGEgY29sb25uZSBzYXVmIGF1eCBrawoJCQkJCWZvciBsaW1wIGluIHNldGRpZmYoc2V0MTksIHZ2KQoJCQkJCQl1bmlvbiEoZ2V0IShOaW1wLChsaW1wLGopLFNldHtJbnR9KCkgKSwga2spCgkJCQkJZW5kCgkJCQllbmQKCQkJCWRpY3RDaGVja0NqW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQJCgkJZm9yIChrLHYpIGluIGNvcHkoZGljdENoZWNrTGkpICMgZGlsaSAjIFBvdXIgbGVzIGxpZ25lcwoJCQlrayA9IHVuaW9uKGssbGlzdGVwb3NzaWJsZXMpCgkJCWlmIGxlbmd0aChraykgPiBsZW5ndGgodikKCQkJCXZ2ID0gdW5pb24odiwgU2V0KGopLCBnZXQoZGljdENoZWNrTGksIGtrLCBTZXR7SW50fSgpICkgKSAKCQkJCWlmIGxlbmd0aChraykgPT0gbGVuZ3RoKHZ2KQoJCQkJCSMgTGVzIGNoaWZmcmVzIGtrIHNvbnQgw6AgcmV0aXJlciBkZSB0b3V0ZSBsYSBsaWduZSBzYXVmIGF1eCBrayAKCQkJCQlmb3IgbGltcCBpbiBzZXRkaWZmKHNldDE5LCB2dikKCQkJCQkJdW5pb24hKGdldCEoTmltcCwoaSxsaW1wKSxTZXR7SW50fSgpICksIGtrKQoJCQkJCWVuZAoJCQkJZW5kCgkJCQlkaWN0Q2hlY2tMaVtra10gPSB2dgoJCQllbHNlIAoJCQkJcmV0dXJuIHRydWUKCQkJZW5kCgkJZW5kCgkJZm9yIChrLHYpIGluIGNvcHkoZGljdENoZWNrQ2FycsOpKSAjIGRpY2EgIyBQb3VyIGxlcyBjYXJyw6lzCgkJCWtrID0gdW5pb24oayxsaXN0ZXBvc3NpYmxlcykKCQkJaWYgbGVuZ3RoKGtrKSA+IGxlbmd0aCh2KQoJCQkJdnYgPSB1bmlvbih2LCBTZXQoWyhpLGopXSksIGdldChkaWN0Q2hlY2tDYXJyw6ksIGtrLCBTZXR7VHVwbGV7SW50LEludH19KCkgKSApIAoJCQkJaWYgbGVuZ3RoKGtrKSA9PSBsZW5ndGgodnYpCgkJCQkJZm9yIChsaW1wLGxqbXApIGluIHNldGRpZmYoU2V0KHR1cGxlY2FycsOpKGNhcnIoaSksY2FycihqKSkpLCB2dikgI3NldGNhcix2dgoJCQkJCQl1bmlvbiEoZ2V0IShOaW1wLChsaW1wLGxqbXApLFNldHtJbnR9KCkgKSwga2spCgkJCQkJZW5kCgkJCQllbmQKCQkJCWRpY3RDaGVja0NhcnLDqVtra10gPSB2dgoJCQllbHNlIAoJCQkJcmV0dXJuIHRydWUKCQkJZW5kCgkJZW5kCQoJCWdldCEoZGljdENoZWNrTGksbGlzdGVwb3NzaWJsZXMsIFNldCggaiApICkKCQlnZXQhKGRpY3RDaGVja0NqLGxpc3RlcG9zc2libGVzLCBTZXQoIGkgKSApCgkJZ2V0IShkaWN0Q2hlY2tDYXJyw6ksbGlzdGVwb3NzaWJsZXMsIFNldCggWyhpLGopXSApICkKCQlyZXR1cm4gZmFsc2UKCWVuZAoJZnVuY3Rpb24gcHVjZXMobGlzdGUsIHZhbGTDqWZhdXQ9bm90aGluZyA7IGlkUHVjZXM9InAiKnN0cmluZyhyYW5kKEludCkpLCBjbGFzc2U9IiIpICMgUGVybWV0IGRlIGZhaXJlIGRlcyBwdWNlcyBlbiBIVE1MIHBvdXIgZmFpcmUgdW4gY2hvaXggdW5pcXVlCgkjIFNpICLwn6SrwqBDYWNow6llIiBjb2Now6llLCBjZWxhIGZsb3V0ZSBsZXMgcHVjZXMgZHUgZGVzc291cyAoUG9zc2libGVzRXRTb2x1dGlvbikKCQlkw6lidXQgPSAiPHNwYW4gaWQ9JyRpZFB1Y2VzJyAiICooY2xhc3NlPT0iIiA/ICI+IiA6ICJjbGFzcz0nJGNsYXNzZSc+IikKCQlmaW4gPSAiPC9zcGFuPjxzY3JpcHQ+Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCckaWRQdWNlcycpCglmb3JtLm9uaW5wdXQgPSAoZSkgPT4geyBmb3JtLnZhbHVlID0gZS50YXJnZXQudmFsdWU7ICIgKgoJCShpZFB1Y2VzPT0iQ2FjaGVyUsOpc3VsdGF0IiA/IHJhdyJpZiAoZS50YXJnZXQudmFsdWU9PSfwn6SrwqBDYWNow6llJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LmFkZCgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LmFkZCgncGFzbGEnKTsKCQl9IGVsc2UgaWYgKGUudGFyZ2V0LnZhbHVlPT0nUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApicpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QuYWRkKCdtYWlzdGVzb3UnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUG9zc2libGVzRXRTb2x1dGlvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmVycycpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJfSBlbHNlIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUG9zc2libGVzRXRTb2x1dGlvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmVycycpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2Fyb2xpZ25lJykuY2xhc3NMaXN0LnJlbW92ZSgnbWFpc3Rlc291Jyk7CgkJfTsiIDogIiIpICoKCQkoaWRQdWNlcz09IlBvc3NpYmxlc0V0U29sdXRpb24iID8gcmF3ImlmIChlLnRhcmdldC52YWx1ZT09J+KApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNob2l4w6BtZXR0cmVlbmhhdXQnKS5jbGFzc0xpc3QuYWRkKCdtYWlzdGVzb3UnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNob2l4w6BtZXR0cmVlbmhhdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9OyIgOiAiIikgKiAifTwvc2NyaXB0PiIKCQlpbnB1dHMgPSAiIgoJCWZvciBpdGVtIGluIGxpc3RlCgkJCWlucHV0cyAqPSAiIiI8c3BhbiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7Jz48aW5wdXQgdHlwZT0ncmFkaW8nIGlkPSckaWRQdWNlcyRpdGVtJyBuYW1lPSckaWRQdWNlcycgdmFsdWU9JyRpdGVtJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnICQoaXRlbSA9PSB2YWxkw6lmYXV0ID8gImNoZWNrZWQiIDogIiIpPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSckaWRQdWNlcyRpdGVtJz4kaXRlbTwvbGFiZWw+PC9zcGFuPiIiIgoJCWVuZAoJCSMgZm9yIChpdGVtLHZhbGV1cikgaW4gbGlzdGUgIyMjIHNpIGxpc3RlOjpBcnJheXtQYWlye1N0cmluZyxTdHJpbmd9LDF9CgkJIyAJaW5wdXRzICo9ICIiIjxpbnB1dCB0eXBlPSJyYWRpbyIgaWQ9IiRpZFB1Y2VzJGl0ZW0iIG5hbWU9IiRpZFB1Y2VzIiB2YWx1ZT0iJGl0ZW0iIHN0eWxlPSJtYXJnaW46IDAgNHB4IDAgMjBweDsiICQoaXRlbSA9PSB2YWxkw6lmYXV0ID8gImNoZWNrZWQiIDogIiIpPjxsYWJlbCBmb3I9IiRpZFB1Y2VzJGl0ZW0iPiR2YWxldXI8L2xhYmVsPiIiIgoJCSMgZW5kCgkJcmV0dXJuIERvY3MuSFRNTChkw6lidXQgKiBpbnB1dHMgKiBmaW4pCgllbmQKCXZhZXR2aWVudCA9IERvY3MuSFRNTChyYXciPHNjcmlwdD4gdmFyIHZpZWlsbGVjb3BpZSA9IGZhbHNlOwoKCWZ1bmN0aW9uIGTDqWrDoHZ1KCkgeyAKCQl2YXIgcMOocmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykucGFyZW50RWxlbWVudDsKCQl2YXIgZmlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJyk7CgkJdmFyIGFuY2llbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva3VmaW5pJyk7CgkJaWYgKHZpZWlsbGVjb3BpZS5pc0VxdWFsTm9kZShhbmNpZW4pKSB7CgkJCWFuY2llbi5pbm5lckhUTUwgPSBmaWxzLmlubmVySFRNTDsKCQkJYW5jaWVuLnJlbW92ZUNoaWxkKGFuY2llbi5xdWVyeVNlbGVjdG9yKCd0Zm9vdCcpKTsKCQkJbXNnYShhbmNpZW4pOwoJCX0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykuaGlkZGVuID0gZmFsc2U7CgkJcMOocmUucmVtb3ZlQ2hpbGQoZmlscyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuaW5uZXJIVE1MID0gYFN1ZG9rdSBpbml0aWFswqDipLQgKG1vZGlmaWFibGUpIGV0IHNhIHNvbHV0aW9uwqA6IGAKCX07CgoJZnVuY3Rpb24gbMOgaGF1dCgpIHsgCgkJdmFyIHDDqHJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLnBhcmVudEVsZW1lbnQ7CgkJdmFyIGZpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29waWVmaW5pZScpOwoJCXZhciBjb3BpZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva3VmaW5pJyk7CgkJZmlscyA/IHDDqHJlLnJlbW92ZUNoaWxkKCBmaWxzICkgOiB0cnVlOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5oaWRkZW4gPSB0cnVlOwoJCXZhciB0YWJsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKCQl2aWVpbGxlY29waWUgPSAoY29waWUgPyBjb3BpZS5jbG9uZU5vZGUodHJ1ZSkgOiB0YWJsKTsKCQl0YWJsLmlkID0gJ2NvcGllZmluaWUnOwoJCXRhYmwuY2xhc3NMaXN0LmFkZCgnc3Vkb2tvb2wnKTsKCQl0YWJsLmlubmVySFRNTCA9IChjb3BpZSA/IGNvcGllLmlubmVySFRNTCA6IGA8dGhlYWQgaWQ9J3RhaWRlJz48dHI+PHRkIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7d2lkdGg6IDM0MHB4O3BhZGRpbmc6IDI2cHggMDtib3JkZXI6IDA7Jz5SaWVuIMOgIG1vbnRyZXIsIGMnZXN0IGNvY2jDqcKgwqA8Y29kZT7wn6SrwqBDYWNow6llPC9jb2RlPjwvdGQ+PC90cj48L3RoZWFkPmApICsgYDx0Zm9vdCBpZD0ndGVzZm9vdCc+PHRyIGlkPSdsaWduZW5vbnZpc2libGUnPjx0aCBjb2xzcGFuPSc5Jz7ihqogQ2xpcXVlciBpY2kgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBtb2RpZmlhYmxlPC90aD48L3RyPjwvdGZvb3Q+YDsKCQlww6hyZS5hcHBlbmRDaGlsZCh0YWJsKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFpZGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkw6lqw6B2dSk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc2Zvb3QnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGTDqWrDoHZ1KTsKCQljb3BpZSA/IG1zZ2EoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKSkgOiB0cnVlOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmlubmVySFRNTCA9IGBTb2x1dGlvbsKg4oaRIChhdSBsaWV1IGR1IHN1ZG9rdSBtb2RpZmlhYmxlwqBpbml0aWFsKWAKCX07Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGzDoGhhdXQpOwoKCTwvc2NyaXB0PjxzcGFuIGlkPSd2YV9ldF92aWVudCc+IikgIyBQb3VyIGxlIHRleHRlIGVudHJlIGxlcyBkZXV4IHN1ZG9rdSAoaW5pdGF1eCBldCBzb2x1dGlvbikuIENlbGEgcGVybWV0IGRlIHJlbW9udGVyIGxhIHNvbHV0aW9uIGVuIGNsaXF1YW50IGRlc3N1cwoJIyBpbnRlcnZhbChtaW5pLG1heGksdmFsKSA9IERvY3MuSFRNTCgiPGlucHV0IHR5cGU9J3JhbmdlJyBtaW49JyQobWluaSknIG1heD0nJChtYXhpKScgdmFsdWU9JyQodmFsKScgb25pbnB1dD0ndGhpcy5uZXh0RWxlbWVudFNpYmxpbmcudmFsdWU9dGhpcy52YWx1ZSc+PG91dHB1dD7CoCQodmFsKTwvb3V0cHV0PiIpICMgc2xpZGVyCglpbnRlcnZhbChtaW5pPTEsbWF4aT0xLHZhbD1tYXhpLGlkPXN0cmluZyhyYW5kKEludCkpKSA9IERvY3MuSFRNTCgiPGlucHV0IHR5cGU9J3JhbmdlJyBtaW49JyQobWluaSknIG1heD0nJChtYXhpKScgdmFsdWU9JyQodmFsKScgaWQ9J2kkKGlkKScgb25pbnB1dD0ndGhpcy5uZXh0RWxlbWVudFNpYmxpbmcudmFsdWU9dGhpcy52YWx1ZTsnLz48aW5wdXQgdHlwZT0nbnVtYmVyJyBtaW49JyQobWluaSknIG1heD0nJChtYXhpKScgdmFsdWU9JyQodmFsKScgaWQ9J28kKGlkKScgb25pbnB1dD0ndGhpcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnZhbHVlPXRoaXMudmFsdWU7Jy8+IikgIyBzbGlkZXIKCQoJU3VkaW5pKG3DqW1vLCBjaG9peCkgPSBEb2NzLkhUTUwoIjxzY3JpcHQ+IC8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCWNvbnN0IHByZW1pZXIgPSBKU09OLnN0cmluZ2lmeSggJChtw6ltb1sxXSkgKTsKCWNvbnN0IGRldXhpw6htZSA9IEpTT04uc3RyaW5naWZ5KCAkKG3DqW1vWzJdKSApOwoJY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gJChtw6ltb1tjaG9peF0pIiAqIHJhdyIiIgoJCQkJCgkvLyBjb25zdCBkZWZhdWx0Rml4ZWRWYWx1ZXMgPSBbWzAsMCwwLDcsMCwwLDAsMCwwXSxbMSwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCw0LDMsMCwyLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCw2XSxbMCwwLDAsNSwwLDksMCwwLDBdLFswLDAsMCwwLDAsMCw0LDEsOF0sWzAsMCwwLDAsOCwxLDAsMCwwXSxbMCwwLDIsMCwwLDAsMCw1LDBdLFswLDQsMCwwLDAsMCwzLDAsMF1dOwoJCQkKCXdpbmRvdy5jcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcykgPT4gewoJICBjb25zdCBkYXRhID0gW107CgkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCSAgICBsZXQgaHRtbFJvdyA9IFtdOwoJICAgIGRhdGEucHVzaChbXSk7CgkgICAgZm9yKGxldCBqPTA7IGo8OTtqKyspewoJICAgICAgY29uc3QgdmFsdWVzTGluZSA9IHZhbHVlc1tpXTsKCSAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzTGluZT92YWx1ZXNMaW5lW2pdOjA7CgkgICAgICBjb25zdCBodG1sSW5wdXQgPSBodG1sYDxpbnB1dCB0eXBlPSd0ZXh0JyAKCSAgICAgICAgZGF0YS1yb3c9JyR7aX0nCgkgICAgICAgIGRhdGEtY29sPScke2p9JwoJICAgICAgICBtYXhsZW5ndGg9JzEnIAoJICAgICAgICB2YWx1ZT0nJHsodmFsdWV8fCcnKX0nCgkgICAgICA+YDsKCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJICBjb25zdCBibG9jayA9IFtNYXRoLmZsb29yKGkvMyksIE1hdGguZmxvb3Ioai8zKV07IC8vIGZvbmQgZW4gZGFtaWVyCgkJICBjb25zdCBjbGFzc291cGFzID0gKChibG9ja1swXStibG9ja1sxXSklMiAhPT0gMCk/KGlzTWVkaXVtPydjbGFzcz0iZGFtaWVyIHRyb2lzZCInOidjbGFzcz0iZGFtaWVyIicpOihpc01lZGl1bT8nY2xhc3M9InRyb2lzZCInOicnKTsKCSAgICAgIGNvbnN0IGh0bWxDZWxsID0gaHRtbGA8dGQgJHtjbGFzc291cGFzfT4ke2h0bWxJbnB1dH08L3RkPmAKCSAgICAgIGRhdGFbaV1bal0gPSB2YWx1ZXx8MDsKCSAgICAgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CgkgICAgfQoJCQoJICAgIGNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CgkgICAgaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwoJICB9CgkgIGNvbnN0IF9zdWRva3UgPSBodG1sYDx0YWJsZSBpZD0ic3Vkb2tpbmNpcGl0IiBzdWRhdGE9JHtKU09OLnN0cmluZ2lmeShkYXRhKX0gY2xhc3M9J3N1ZG9rb29sJz4KCSAgICAgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkgICAgPC90YWJsZT5gICAKCSAgcmV0dXJuIHtfc3Vkb2t1LGRhdGF9OwoJICAvLyAvLyByZXR1cm4gX3N1ZG9rdSA7CgkgIAoJfQoJCgl3aW5kb3cuc3Vkb2t1Vmlld1JlYWN0aXZlVmFsdWUgPSAoe19zdWRva3U6aHRtbCwgZGF0YX0pID0+IHsKCSAgaHRtbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKT0+ewoJICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkgICAgaHRtbC52YWx1ZSA9IGRhdGE7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9KTsgCgkgIAoJICBsZXQgaW5wdXRzID0gaHRtbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpOwoJICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7CgkJCgkJY29uc3QgZGFsaWduZSA9IChlKSA9PiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJY29uc3QgZGFjb2wgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOwoJCWNvbnN0IGV0cDIgPSAoZSkgPT4gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCWNvbnN0IGV0cDMgPSAoZSkgPT4gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkKCQljb25zdCBtb3ZlRG93biA9IChlKSA9PiB7IAoJCQlpZiAoZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgeyAKCQkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSBlbHNlIHsgCgkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZVVwID0gKGUpID0+IHsKCQkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7IAoJCQlldHAzKGUpLmxhc3RDaGlsZC5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7IAoJCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQljb25zdCBtb3ZlTGVmdCA9IChlKSA9PiB7CgkJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQkJZXRwMyhlKS5sYXN0Q2hpbGQubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJCX0gZWxzZSB7CgkJCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSB9IGVsc2UgewoJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQljb25zdCBtb3ZlUmlnaHQgPSAoZSkgPT4geyAKCQkJaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJCWlmIChldHAyKGUpLm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQkJfSBlbHNlIHsKCQkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IH0gZWxzZSB7IAoJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gCgkJfQoJCQkKCQlpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywoZSkgPT4gewoJCSAgLy8gZS50YXJnZXQuZm9jdXMoKTsKCQkgIGUudGFyZ2V0LnNlbGVjdCgpOwoJCQkKCQkgIHN3aXRjaCAoZS5rZXkpIHsKCQkJY2FzZSAiQXJyb3dEb3duIjoKCQkJCW1vdmVEb3duKGUpOyBicmVhazsgCgkJCWNhc2UgIkFycm93VXAiOgoJCQkJbW92ZVVwKGUpOyBicmVhazsgCgkJCWNhc2UgIkFycm93TGVmdCI6CgkJCQltb3ZlTGVmdChlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd1JpZ2h0IjoKCQkJCW1vdmVSaWdodChlKTsgYnJlYWs7IAoJCQljYXNlICJTaGlmdCI6CgkJCWNhc2UgIkNhcHNMb2NrIjoKCQkJY2FzZSAiTnVtTG9jayI6CgkJCQlicmVhazsgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3VpZXZlbnRzLWtleS8ja2V5cy1tb2RpZmllcgoJCQljYXNlICJCYWNrc3BhY2UiOgoJCQljYXNlICJEZWxldGUiOgoJCQkJaWYgKGRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldICE9PSAwKSB7CgkJCQkJZGF0YVtkYWxpZ25lKGUpXVtkYWNvbChlKV0gPSAwOwoJCQkJCWUudGFyZ2V0LnZhbHVlID0gIiI7CgkJCQkJLy8gRWZmYWNlIGxlcyBwdWNlcyBjYXIgY2VsYSBhIMOpdMOpIHRvdWNow6kKCQkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJCWVsZVtuaV0uY2hlY2tlZCA9IGZhbHNlOwoJCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQkJZWxlWzBdLmNoZWNrZWQgPSB0cnVlOwoJCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCQl9CgkJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJCX0KCQkJCShlLmtleT09PSJEZWxldGUiKT9tb3ZlUmlnaHQoZSk6bW92ZUxlZnQoZSk7CgkJCQl2YXIgZGEgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwoJCQkJKGUua2V5PT09IkRlbGV0ZSIpPyhkYS5zZWxlY3Rpb25TdGFydCA9IGRhLnNlbGVjdGlvbkVuZCA9IGRhLnZhbHVlLmxlbmd0aCk6KGRhLnNlbGVjdGlvblN0YXJ0ID0gZGEuc2VsZWN0aW9uRW5kID0gMCk7IC8vc2VsZWN0IEtPIDooCgkJCQlicmVhazsKCQkJZGVmYXVsdDoKCQkJCXJldHVybjsKCQkJfSB9KSAKCQkJCgkgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLChlKSA9PiB7CgkJICBjb25zdCBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOyAvLyBkYWxpZ25lKGUpCgkJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkJICBjb25zdCBvbGRhdGEgPSBkYXRhW2ldW2pdOwoJCgkJICBjb25zdCBiaWRvdWlsbGlzdGUgPSB7YToxLHo6MixlOjMscjo0LHQ6NSx5OjYsdTo3LGk6OCxvOjksCgkJCUE6MSxaOjIsRTozLFI6NCxUOjUsWTo2LFU6NyxJOjgsTzo5LAoJCQknXCYnOjEsw6k6MiwnXCInOjMsIlwnIjo0LCdcKCc6NSwnXC0nOjYsw6g6NyxfOjgsw6c6OSwKCQkJJ8KnJzo2LCchJzo4LCAgICBxOjEsUToxLCB3OjIsVzoyfTsKCQoJCSAgY29uc3QgYW5kcm9pZENocm9tZUVzdENoaWFudCA9IHsnYic6bW92ZURvd24sJ0InOm1vdmVEb3duLAoJCQknaCc6bW92ZVVwLCdIJzptb3ZlVXAsICAgICAgICAnaic6bW92ZVJpZ2h0LCdKJzptb3ZlUmlnaHQsCgkJCSdnJzptb3ZlTGVmdCwnRyc6bW92ZUxlZnQsJ3YnOm1vdmVMZWZ0LCdWJzptb3ZlTGVmdCwKCQkJJ2QnOm1vdmVSaWdodCwnRCc6bW92ZVJpZ2h0LCduJzptb3ZlUmlnaHQsJ04nOm1vdmVSaWdodH07CgkKCQkgIGlmICh2YWwgaW4gYmlkb3VpbGxpc3RlKSB7CgkJCWUudGFyZ2V0LnZhbHVlID0gZGF0YVtpXVtqXSA9IGJpZG91aWxsaXN0ZVt2YWxdOwoJCSAgfSBlbHNlIGlmICh2YWwgPD0gOSAmJiB2YWwgPj0xKSB7CgkJCWRhdGFbaV1bal0gPSBwYXJzZUludCh2YWwpOwoJCSAgfSBlbHNlIGlmICgodmFsID09IDApfHwodmFsID09ICfDoCcpfHwodmFsID09ICdwJyl8fCh2YWwgPT0gJ1AnKSkgewoJCQlkYXRhW2ldW2pdID0gMDsKCQkJZS50YXJnZXQudmFsdWUgPSAnJzsKCQkgIH0gZWxzZSB7IAoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPT09IDAgPyAnJyA6IGRhdGFbaV1bal07CgkJICB9CgkKCQkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQkJfSBlbHNlIHsKCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQkJfQoJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCQl9CgkKCQkJaWYgKHZhbCBpbiBhbmRyb2lkQ2hyb21lRXN0Q2hpYW50KSB7CgkJCQlhbmRyb2lkQ2hyb21lRXN0Q2hpYW50W3ZhbF0oZSk7CgkJCX0gZWxzZSB7CgkJCQltb3ZlUmlnaHQoZSk7CgkJCX0KCQkJZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5zZWxlY3QoKTsKCSAgICB9KQoJCQkKCSAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjdG9wJywoZSkgPT4geyAvLyBtaXMgw6Agam91ciBwYXIgY2hpZmZyZSBzw6lsZWN0aW9ubsOpCgkJICBjb25zdCBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOyAvLyBkYWxpZ25lKGUpCgkJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkJICBjb25zdCBvbGRhdGEgPSBkYXRhW2ldW2pdOwoJCgkJICBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCQlkYXRhW2ldW2pdID0gcGFyc2VJbnQodmFsKTsKCQkgIH0gZWxzZSBpZiAodmFsID09IDApIHsKCQkJZGF0YVtpXVtqXSA9IDA7CgkJCWUudGFyZ2V0LnZhbHVlID0gJyc7CgkJICB9IGVsc2UgeyAKCQkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJCSAgfQoJCQkKCQkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQkJfSBlbHNlIHsKCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQkJfQoJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCQl9CgkgICAgfSkKCQkJCgkgIH0pIAoJICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJICBjb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJICBpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCSAgfSBlbHNlIGlmIChqZGF0YSA9PSBkZXV4acOobWUpIHsKCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7IC8vIOKApl0uY2xpY2soKTsgLy8gw6l0YWl0IEtP4oCmCgkgIH0KCSAgaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCSAgaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkgIHJldHVybiBodG1sOwoJCgl9OwoJCglyZXR1cm4gc3Vkb2t1Vmlld1JlYWN0aXZlVmFsdWUoY3JlYXRlU3Vkb2t1SHRtbChkZWZhdWx0Rml4ZWRWYWx1ZXMpKTsKCTwvc2NyaXB0PiIiIikKCWZ1bmN0aW9uIGh0bWxTdWRva3UoSlN1ZG9rdUZpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpLEpTdWRva3Vpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpOyB0b3V0Vm9pcjo6Qm9vbD10cnVlKQoJIyBQb3VyIHNvcnRpciBkZSBsYSBtYXRyaWNlIChjb252ZXJzaW9uIGVuIHRhYmxlYXUgZW4gSFRNTCkgZHUgc3Vkb2t1CgkjIExlIEpTdWRva3VpbmkgcGVybWV0IGRlIG1ldHRyZSBsZXMgY2hpZmZyZXMgZW4gYmxldSAoc2F2b2lyIGQnb8O5IGwnb24gdmllbnQpCgkjIEVuZmluLCBvbiBwZXV0IGNob2lzaXIgZGUgdm9pciBwZXRpdCDDoCBwZXRpdCBlbiBjbGlxdWFudCBvdSB0b3V0Vm9pciBkJ3VuIGNvdXAKCSMjIyBpZiBpc2EoSlN1ZG9rdUZpbmksIFN0cmluZynigKYgYXZhaXQgdW4gYnVnIGQnYWZmaWNoYWdlIHBvdXIgbGUgcmVzdGUgZHUgY29kZeKApgoJCWlzYShKU3Vkb2t1RmluaSwgU3RyaW5nKSA/IChyZXR1cm4gRG9jcy5IVE1MKCI8aDUgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjttYXJnaW4tYm90dG9tOiA2cHg7dXNlci1zZWxlY3Q6IG5vbmU7JyBvbmNsaWNrPSckZm9vdGl4Jz4g4pqhIEF0dGVudGlvbiwgc3Vkb2t1IGluaXRpYWwgw6AgcmV2b2lyICEgPC9oNT48dGFibGUgaWQ9J3N1ZG9rdWZpbmknIGNsYXNzPSdzdWRva29vbCcgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOycgPHRib2R5Pjx0cj48dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt3aWR0aDogMzQwcHg7JyBvbmNsaWNrPSckZm9vdGl4Jz4kSlN1ZG9rdUZpbmk8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPiIpKSA6IChyZXR1cm4gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQgaWQ9InNjcmlwdGZpbmkiPgoJCS8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCQkJCQoJCWNvbnN0IGNyZWF0ZVN1ZG9rdUh0bWwgPSAodmFsdWVzLCB2YWx1ZXNfaW5pKSA9PiB7CQoJCSAgY29uc3QgZGF0YSA9IFtdOwoJCSAgY29uc3QgaHRtbERhdGEgPSBbXTsKCQkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCQkJbGV0IGh0bWxSb3cgPSBbXTsKCQkJZGF0YS5wdXNoKFtdKTsKCQkJZm9yKGxldCBqPTA7IGo8OTtqKyspewoJCQkgIGNvbnN0IHZhbHVlc0xpbmUgPSB2YWx1ZXNbaV07CgkJCSAgY29uc3QgdmFsdWUgPSB2YWx1ZXNMaW5lP3ZhbHVlc0xpbmVbal06MDsKCQkJICBjb25zdCBpc0luaXRpYWwgPSB2YWx1ZXNfaW5pW2ldW2pdPjA7CgkJCSAgY29uc3QgaXNNZWRpdW0gPSAoaiUzID09PSAwKTsKCQkJICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSciIiIqKHRvdXRWb2lyID8gcmF3IiIiJHtpc0luaXRpYWw/ImluaSI6InZpZGUifSIiIiA6IHJhdyIiIiR7aXNJbml0aWFsPyJpbmkiOiJ2aWRlIGNhY2jDqWUifSIiIikqcmF3IiIiJHtpc01lZGl1bT8nIHRyb2lzZCc6Jyd9JyBkYXRhLXJvdz0nJHtpfScgZGF0YS1jb2w9JyR7an0nPiR7KHZhbHVlfHwnwqAnKX08L3RkPmA7CgkJCSAgZGF0YVtpXVtqXSA9IHZhbHVlfHwwOwoJCQkgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CgkJCX0KCQkJY29uc3QgaXNNZWRpdW1CaXMgPSAoaSUzID09PSAwKTsKICAgIAkJaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwoJCSAgfQoJCSAgY29uc3QgX3N1ZG9rdSA9IGh0bWxgPHRhYmxlIGlkPSJzdWRva3VmaW5pIiAiIiIqKHRvdXRWb2lyID8gIiIgOiByYXciIiJzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7IiAiIiIpKnJhdyIiIiBjbGFzcz0nc3Vkb2tvb2wnPgoJCQkgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YCAgCgkJICAvLyByZXR1cm4ge19zdWRva3UsZGF0YX07CgkJY29uc3QgamRhdGFpbmkgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXNfaW5pKTsKCQljb25zdCBqZGF0YUZpbmkgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXMpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWluaScsIGpkYXRhaW5pKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFmaW5pJywgamRhdGFGaW5pKTsKCQl2YXIgc3Vkb2t1aW5pw6B2w6lyaWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vkb2tpbmNpcGl0Iik7CgkJaWYgKHN1ZG9rdWluacOgdsOpcmlmICYmIHN1ZG9rdWluacOgdsOpcmlmLmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgIT0gamRhdGFpbmkpIHsKCQkJcmV0dXJuIGh0bWxgPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5qAIFJlY2FsY3VsIHJhcGlkZcKgOyk8L2g1PmA7CgkJfTsgLy8gdjAuMTkgc2VtYmxlIGRlIG5vdXZlYXUgT2sgLT4gaHR0cHM6Ly9teWJpbmRlci5vcmcvdjIvZ2gvZm9uc3AvcGx1dG8tb24tYmluZGVyL3YwLjE0Ljc/dXJscGF0aD1wbHV0bwoJCXJldHVybiBfc3Vkb2t1OwoJCQkJfTsKCQl3aW5kb3cubXNnYSA9IChfc3Vkb2t1KSA9PiB7CgkJCQkiIiIqKHRvdXRWb2lyID8gcmF3IiIiIAoJCWxldCB0ZHMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLnZpZGUnKTsKICAJCXRkcy5mb3JFYWNoKHRkID0+IHsKCQkJCQoJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKSkgewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpLmNoZWNrZWQpIHsKCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1yb3ciKSkgKyAxOwoJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbCIpKSArIDE7CgkJCQkJCWNvbnN0IHZhbGUgPSBlLnRhcmdldC5pbm5lckhUTUw7CgkJCQkJCXZhciBjaWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdWRva2luY2lwaXQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgiKyBsaWduICsiKSA+IHRkOm50aC1jaGlsZCgiKyBjb2xvICsiKSA+IGlucHV0W3R5cGU9dGV4dF0iKTsKCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQljaWJsZS52YWx1ZSA9IGNpYmxlLnZhbHVlID09IHZhbGUgPyAwIDogdmFsZSA7IAoJCQkJCQkJLy8gZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgidmlkZSIpOwoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiaW5pIik7IC8vIGluaSBibGV1IG91IGNhY2jDqWUKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoImdyaXMiKTsgCgkJCQkJCQkvKiBjaWJsZS52YWx1ZSA9IHZhbGU7IAoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgidmlkZSIpOwoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiaW5pIik7ICovCgkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQljaWJsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY3RvcCcpKTsgCgkJCQkJCX07CgkJCQl9fTsgCgkJCQkKCQkJfSk7CgkJfSk7IiIiIDogcmF3IiIiCgkJbGV0IHRkYmxldXMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmluaScpOwogIAkJdGRibGV1cy5mb3JFYWNoKHRkYmxldSA9PiB7CgkJCXRkYmxldS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJZm9yKGxldCBncmFuaT0wOyBncmFuaTw5O2dyYW5pKyspeyAKCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkgaWYgKCAhKGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jbGFzc0xpc3QuY29udGFpbnMoImluaSIpKSApIHsKCQkJCWdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jbGFzc0xpc3QuYWRkKCJjYWNow6llIik7CgkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2xhc3NMaXN0LnJlbW92ZSgiZ3JpcyIpOwoJCQkJCgkJCQl9IH19OwoJCQl9KTsKCQl9KTsKCQkKCQlsZXQgdGRzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC52aWRlJyk7CiAgCQl0ZHMuZm9yRWFjaCh0ZCA9PiB7CgkJCQkKCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKT8uY2hlY2tlZCkgewkKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IG9yTmljYXIgPSAobGlnbiwgY29sbykgPT4gTWF0aC5mbG9vcihpbGlnLzMpPT1NYXRoLmZsb29yKGxpZ24vMykgJiYgTWF0aC5mbG9vcihqY29sLzMpPT1NYXRoLmZsb29yKGNvbG8vMykgOwoJCQkJCXZhciBncmFudGIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkJCQkJZm9yKGxldCBncmFuaT0wOyBncmFuaTw5O2dyYW5pKyspeyAKCQkJCQlmb3IobGV0IGdyYW5qPTA7IGdyYW5qPDk7Z3JhbmorKyl7IAoJCQkJCSB2YXIgdGRmID0gZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdOwoJCQkJCSBpZiAodGRmLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSA9PSBpbGlnIHx8IHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykgPT0gamNvbCB8fCBvck5pY2FyKHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JyksdGRmLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSkgKSB7CgkJCQkJICB0ZGYuY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOyAvLyBjaWVsIGdyaXMKCQkJCQl9IH19OwoJCQkJfSBlbHNlIHsKCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0Iik/LmNoZWNrZWQ9PWZhbHNlICYmICEoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJpbmkiKSkgKXtlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCJncmlzIil9OyB9OwoJCQkJLy8gZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJCgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKT8uY2hlY2tlZCkgewoJCQkJCWNvbnN0IGxpZ24gPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtcm93IikpICsgMTsKCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbCIpKSArIDE7CgkJCQkJY29uc3QgdmFsZSA9IGUudGFyZ2V0LmlubmVySFRNTDsKCQkJCQl2YXIgY2libGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3Vkb2tpbmNpcGl0ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoIisgbGlnbiArIikgPiB0ZDpudGgtY2hpbGQoIisgY29sbyArIikgPiBpbnB1dFt0eXBlPXRleHRdIik7CgkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCWNpYmxlLnZhbHVlID0gY2libGUudmFsdWUgPT0gdmFsZSA/IDAgOiB2YWxlIDsgCgkJCQkJCS8vIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoInZpZGUiKTsKCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJpbmkiKTsgLy8gaW5pIGJsZXUgb3UgY2FjaMOpZQoJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJncmlzIik7IAoJCQkJCQkvKiBjaWJsZS52YWx1ZSA9IHZhbGU7IAoJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCJ2aWRlIik7CgkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoImluaSIpOyAqLwoJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCWNpYmxlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjdG9wJykpOyAKCQkJCQl9OwoJCQkJfTsgCgkJCQkKCQkJfSk7CgkJfSk7CSIiIikqcmF3IiIiCgkJICByZXR1cm4gX3N1ZG9rdTsKCgkJfTsKCQkKCQkvLyBzaW5vbiA6IHJldHVybiBjcmVhdGVTdWRva3VIdG1sKOKApikuX3N1ZG9rdTsKCQlyZXR1cm4gbXNnYShjcmVhdGVTdWRva3VIdG1sKCIiIiAqIiRKU3Vkb2t1RmluaSIqIiwgIioiJEpTdWRva3VpbmkiKiIiIikgKTsKCQk8L3NjcmlwdD4iIiIpCgkJKSMjIyBlbmQgIyMjIGlmIGlzYShKU3Vkb2t1RmluaSwgU3RyaW5nKeKApiBzdWl0ZSBldCBmaW4gZHUgYnVnIGQnYWZmaWNoYWdlCgllbmQKCWh0bWxzID0gaHRtbFN1ZG9rdSAjIyBtaW5pIHZlcnNpb24gKG91IGFsaWFzIHBsdXMgY291cnQgc2kgYmVzb2luKQoJaHRtYXQgPSBodG1sU3Vkb2t1IOKImCBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbiAKCgljb25zdCBwdDEgPSAiwrciICMgIi4iICMjIENhcmFjdMOocmVzIGRlIHJlbXBsaXNzYWdlIHBvdXIgbWlldXggdm9pciBsZSBuYlByb3BhbAoJY29uc3QgcHQyID0gIuKXjCIgIyAi4peLIiAjICLil5giICMgIi0iICMgIjoiCgljb25zdCBwdDMgPSAi4pePIiAjICLilqAiICMgIuKWrCIgIyAi4oCUIiAjICLigZYiICMgIuKrtiIKCWZ1bmN0aW9uIGNoaWZmcmVQcm9wYWwobWF0OjpBcnJheXtJbnQsMn0sbGltcDo6U2V0e0ludH0saTo6SW50LGo6OkludCx2aWRlOjpCb29sKSAjIFJlbXBsaXQgdW5lIGNhc2UgYXZlYyB0b3VzIHNlcyBjaGlmZnJlcyBwb3NzaWJsZXMsIGVuIG1ldHRhbnQgbGUgMSBlbiBoYXV0IMOgIGdhdWNoZSBldCBsZSA5IGVuIGJhcyDDoCBkcm9pdGUgKGxlIDUgZXN0IGRvbmMgYXUgY2VudHJlKS4gUydpbCBuJ3kgYSBhdWN1bmUgcG9zc2liaWxpdMOpLCBvbiByZW1wbGl0IHRvdXQgYXZlYyBkZXMgY2FyYWN0w6hyZXMgYml6YXJyZXMg4oC9CgkjIFBvdXIgbWlzZSBlbiBmb3JtZSBlbiBIVE1MIG1hdDMgOiAzeDMgKHVuZSBtYXRyaWNlIGRlIDMgbGlnbmVzIGV0IDMgY29sb25uZXMpCgkJY3AgPSBjaGlmZnJlUG9zc2libGUobWF0LGksaixsaW1wKQoJCWlmIGlzZW1wdHkoY3ApCgkJCXJldHVybiBbWyLil5wiLCLigL0iLCLil50iXSxbIsKhIiwiLyIsIiEiXSxbIuKXnyIsIl8iLCLil54iXV0KCQkJIyByZXR1cm4gW1si4qivIiwi4qivIiwi4qivIl0sWyLiqK8iLCLiqK8iLCLiqK8iXSxbIuKoryIsIuKoryIsIuKoryJdXQoJCWVuZAoJCSMgbGNwID0gbGVuZ3RoKGNwKQoJCSMgdmkgPSAodmlkZSA/ICLCoCIgOiAobGNwPDQgPyBwdDEgOiAobGNwPDcgPyBwdDIgOiBwdDMpKSkKCQl2aSA9ICh2aWRlID8gIsKgIiA6ICLCtyIpICMi4pemIikgIyAi4qivIikgIyBwdDEpICMjIHJldG91ciDDoCBwdDEgXl4KCQlyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhyZXNoYXBlKFsoKHggaW4gY3ApID8gc3RyaW5nKHgpIDogdmkpIGZvciB4IGluIDE6OV0sICgzLDMpKSwzKQoJZW5kCglmdW5jdGlvbiBuYlByb3BhbChtYXQ6OkFycmF5e0ludCwyfSxsaW1wOjpTZXR7SW50fSxpOjpJbnQsajo6SW50KSAjIEFzc2V6IHByb2NoZSBkZSBjaGlmZnJlUHJvcGFsIGNpLWRlc3N1cywgbWFpcyBuZSBtb250cmUgcGFzIGxlcyBjaGlmZnJlcyBwb3NzaWJsZXMuIENlbGEgbW9udHJlIGxlIG5vbWJyZXMgZGUgY2hpZmZyZXMgcG9zc2libGVzLCBlbiByZW1wbGlzc2FudCBwZXRpdCDDoCBwZXRpdCBhdmVjIHB0MSDDoCBwdDMgc3VpdmFudC4KCSMgUG91ciBtaXNlIGVuIGZvcm1lIGVuIEhUTUwgbWF0MyA6IDN4MwoJCWxjcCA9IGxlbmd0aChjaGlmZnJlUG9zc2libGUobWF0LGksaixsaW1wKSkKCQlpZiBsY3AgPT0gMAoJCQlyZXR1cm4gW1si4oaYIiwi4oaTIiwi4oaZIl0sWyLihpIiLCIwIiwi4oaQIl0sWyLihpciLCLihpEiLCLihpYiXV0sIDAKCQllbHNlCgkJCXJldHVybiBtYXRyaWNlw6BsaXN0ZUpTKHJlc2hhcGUoWyh4ID09IGxjcCA/IHN0cmluZyh4KSA6ICh4PGxjcCA/IChsY3A8NCA/IHB0MSA6IChsY3A8NyA/IHB0MiA6IHB0MykpIDogIsKgIikpIGZvciB4IGluIDE6OV0sICgzLDMpKSwzKSwgbGNwCgkJZW5kCgllbmQKCWZ1bmN0aW9uIGh0bWxTdWRva3VQcm9wYWwoSlN1ZG9rdWluaTo6VW5pb257U3RyaW5nLCBWZWN0b3J7VmVjdG9ye0ludH19fT1qc3ZkKCksSlN1ZG9rdUZpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpIDsgdG91dFZvaXI6OkJvb2w9dHJ1ZSwgcGFyQ2FzZTo6Qm9vbD10cnVlLCBzb21tZTo6Qm9vbD10cnVlKQoJIyBBc3NleiBwcm9jaGUgZGUgaHRtbFN1ZG9rdSwgbWFpcyBuJ2EgcGFzIGJlc29pbiBkJ2F2b2lyIHVuIHN1ZG9rdSByw6lzb2x1IGVuIGVudHLDqWUuIEVuIGVmZmV0LCBpbCBuZSBtb250cmUgcXVlIGxlcyBjaGlmZnJlcyAob3UgbGV1ciBub21icmUgPSBzb21tZSkgcG9zc2libGVzIHBvdXIgbGUgbW9tZW50LgoJIyBJbCB5IGEgcGx1c2lldXJzIGNhcyA6IChjZWxhIGVzdCBwZXV0w6p0cmUgw6AgY2hhbmdlcikKCQkjIHRvdXRWb2lyIG91IG5vbiA6IGTDqWNvdXZyZSB0b3VzIGxlcyBjZWxsdWxlcyBzaSB0b3V0Vm9pciAoc2lub24gw6AgY2xpcXVlcikKCQkjIHBhckNhc2UgOiBkw6ljb3V2cmUgdW5lIGNlbGxlIGNlbGx1bGUgKHNpbm9uIHBsdXNpZXVycykKCQkjIHNvbW1lIDogdm9pciBqdXN0ZSBsZSBub21icmUgZGUgcG9zc2liaWxpdMOpLCBzaW5vbiwgdm9pciBsZXMgcG9zc2liaWxpdMOpcwoJCW1TOjpBcnJheXtJbnQsMn0gPSBsaXN0ZUpTw6BtYXRyaWNlKEpTdWRva3VpbmkpCgkJIyBtSW1wID0gWyBTZXR7SW50fSgpIGZvciBfID0gMTo5LCBfID0gMTo5IF0KCQltSW1wID0gRGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19KCkKCQl3aGlsZSB0cnVlCgkJCW5Bd2FrID0gZGVlcGNvcHkobUltcCkKCQkJdsOpcmlmbGlnbmUgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY29sID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNhcnLDqSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e1R1cGxle0ludCxJbnR9fSB9KCkgZm9yIF8gPSAxOjkgXQoJCQlkaWxsbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNjbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWtrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxjbyA9IERpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSgpCgkJCWRpY2xvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGlrY28gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWRpa2xvID0gRGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0oKQoJCQlmdXNpYmxlc2xpZyA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NvbCA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NhciA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5CgkJCQlpZiBtU1tpLGpdID09IDAKCQkJCQlnZXQhKG1JbXAsKGksaiksU2V0e0ludH0oKSApCgkJCQkJbGNwID0gY2hpZmZyZVBvc3NpYmxlKG1TLGksaixtSW1wW2ksal0pCgkJCQkJayA9IGtlbGNhcnLDqShpLGopCgkJCQkJaWkgPSBjYXJyKGkpCgkJCQkJamogPSBjYXJyKGopCgkJCQkJc2FjIShqLGksayxpaSxqaixsY3AsZnVzaWJsZXNjb2wsZGljY28sZGljbG8sZGlja28pCgkJCQkJc2FjIShpLGosayxpaSxqaixsY3AsZnVzaWJsZXNsaWcsZGlsbG8sZGlsY28sZGlsa28pCgkJCQkJc2FrIShpLGosayxpaSxqaixsY3AsZnVzaWJsZXNjYXIsZGlrbG8sZGlrY28sZGlra28pCgkJCQkJaWYgbGVuZ3RoKGxjcCkgPT0gMQoJCQkJCQlmb3IgaWlpIGluIDE6OSAjIOKApm9uIHJldGlyZSBzdXIgbGEgbGlnbmUgZXQgbGEgY29sb25uZQoJCQkJCQkJZ2V0IShtSW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJCQlnZXQhKG1JbXAsKGlpaSxqKSxTZXR7SW50fSgpICkKCQkJCQkJCWlpaSAhPSBqICYmIHVuaW9uIShtSW1wW2ksaWlpXSxsY3ApCgkJCQkJCQlpaWkgIT0gaSAmJiB1bmlvbiEobUltcFtpaWksal0sbGNwKQoJCQkJCQllbmQKCQkJCQkJIyBmb3IgamogaW4gY2FycihqKSwgaWkgaW4gY2FycihpKSAjIOKApmV0IHN1ciBsZSBjYXJyw6kKCQkJCQkJZm9yIGpqaiBpbiBqaiwgaWlpIGluIGlpICMg4oCmZXQgc3VyIGxlIGNhcnLDqQoJCQkJCQkJIyBqaiAhPSBqICYmIGlpICE9IGkgJiYgdW5pb24hKG1JbXBbaWksampdLFNldChsY3ApKQoJCQkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgdW5pb24hKGdldCEobUltcCwoaWlpLGpqaiksU2V0e0ludH0oKSApLGxjcCkKCQkJCQkJZW5kCgkJCQkJZWxzZSBwYXNBc3NlekRlUHJvcGFsIShpLCBqLCBsY3AsIHbDqXJpZmxpZ25lW2ldLCB2w6lyaWZjb2xbal0sIHbDqXJpZmNhcnLDqVtrXSwgbUltcCApIAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQlMVW5pY2xrIShkaWNsbyxkaWNjbyxkaWNrbyxkaWxsbyxkaWxjbyxkaWxrbyxkaWtsbyxkaWtjbyxkaWtrbyxtSW1wKQoJCQlpZiBtSW1wID09IG5Bd2FrCgkJCQlicmVhawoJCQllbmQKCQllbmQKCQlpZiBzb21tZQkKCQkJbW5Qcm9wYWwgPSBmaWxsKGZpbGwoIGZpbGwoIjAiLDMpLDMpICwgKDksOSkgKQoJCQltaW5lID0gMTAKCQkJZ3Jpc2VtaW5lID0gVHVwbGV7SW50LEludH1bXQoJCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5CgkJCQlpZiBtU1tpLGpdID09IDAKCQkJCW1uUHJvcGFsW2ksal0sIGxjcCA9IG5iUHJvcGFsKG1TLCBtSW1wW2ksal0sIGksIGopCgkJCQkJaWYgbGNwIDwgbWluZQoJCQkJCQltaW5lID0gbGNwCgkJCQkJCWdyaXNlbWluZSA9IFsoaSxqKV0KCQkJCQllbHNlaWYgbGNwID09IG1pbmUKCQkJCQkJcHVzaCEoZ3Jpc2VtaW5lLCAoaSxqKSkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQkJcGFyQ2FzZSA9IHRvdXRWb2lyICMgYmlkb3VpbGxlIMOgIGNoYW5nZXIgPwoJCQl0b3V0Vm9pciA9IHRydWUKCQkJaWYgMCA8IG1pbmUgPCA5CgkJCQlmb3IgKGksaikgaW4gZ3Jpc2VtaW5lCgkJCQkJbW5Qcm9wYWxbaSxqXVszXVszXSA9ICLinJQiCgkJCQllbmQKCQkJZW5kCgkJCUpQcm9wYWwgPSBtYXRyaWNlw6BsaXN0ZUpTKG1uUHJvcGFsKQoJCWVsc2UKCQkJbVByb3BhbCA9IGZpbGwoZmlsbCggZmlsbCgiMCIsMyksMykgLCAoOSw5KSApCgkJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkKCQkJCWlmIG1TW2ksal0gPT0gMAoJCQkJCW1Qcm9wYWxbaSxqXSA9IGNoaWZmcmVQcm9wYWwobVMsIG1JbXBbaSxqXSwgaSwgaiwgcGFyQ2FzZSkKCQkJCWVuZAoJCQllbmQKCQkJSlByb3BhbCA9IG1hdHJpY2XDoGxpc3RlSlMobVByb3BhbCkKCQllbmQKCQkJCgkJcmV0dXJuIERvY3MuSFRNTChyYXciIiI8c2NyaXB0IGlkPSJzY3JpcHRmaW5pIj4KCQkvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgkJCgkJLy8gY29uc3Qga2VsY2FySlMgPSAobGlnLCBjb2wpID0+IFtNYXRoLmZsb29yKGxpZy8zKSwgTWF0aC5mbG9vcihjb2wvMyldOwoJCWNvbnN0IE1NY2FyID0gKGxpZywgY29sLCBsaWduLCBjb2xvKSA9PiBNYXRoLmZsb29yKGxpZy8zKT09TWF0aC5mbG9vcihsaWduLzMpICYmIE1hdGguZmxvb3IoY29sLzMpPT1NYXRoLmZsb29yKGNvbG8vMykgOwoJCQoJCWNvbnN0IGNyZWF0ZVN1ZG9rdUh0bWwgPSAobXZhbHVlcywgdmFsdWVzX2luaSkgPT4gewkKCQkgIGNvbnN0IGRhdGEgPSBbXTsKCQkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkJCWxldCBodG1sUm93ID0gW107CgkJCWRhdGEucHVzaChbXSk7CgkJCWZvcihsZXQgaj0wOyBqPDk7aisrKXsKCQkJCQoJCQkgIAljb25zdCBodG1sTWluaURhdGEgPSBbXTsKCQkJCWNvbnN0IGlzSW5pdGlhbCA9IHZhbHVlc19pbmlbaV1bal0+MDsKCQkJCXZhciBtaW5pX3N1ZG9rdSA9IHZhbHVlc19pbmlbaV1bal07CgkJCQlpZiAoIShpc0luaXRpYWwpKSB7CgkJCQkgIGZvcihsZXQgcGw9MDsgcGw8MztwbCsrKXsKCQkJCQlsZXQgaHRtbE1pbmlSb3cgPSBbXTsKCQkJCQlmb3IobGV0IHBqPTA7IHBqPDM7cGorKyl7CgkJCQkJY29uc3QgbWluaVZhbHVlID0gbXZhbHVlc1tpXVtqXVtwbF1bcGpdOwoJCQkJCWNvbnN0IGh0bWxNaW5pQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSJtaW5pIiIiKih0b3V0Vm9pciAmJiBwYXJDYXNlID8gIlwiIiA6IHJhdyIiIiR7aXNJbml0aWFsPycgcHJvcCc6JyB2aWRlIGNhY2jDqWUnfSIgIiIiKSpyYXciIiIgZGF0YS1yb3c9IiR7cGx9IiBkYXRhLWNvbD0iJHtwan0iPiR7KG1pbmlWYWx1ZXx8J8KgJyl9PC90ZD5gOyAKCQkJCQlodG1sTWluaVJvdy5wdXNoKGh0bWxNaW5pQ2VsbCk7CgkJCQkJfQoJCQkJCWh0bWxNaW5pRGF0YS5wdXNoKGh0bWxgPHRyIHN0eWxlPSJib3JkZXItc3R5bGU6IG5vbmUgIWltcG9ydGFudDsiPiR7aHRtbE1pbmlSb3d9PC90cj5gKTsKCQkJCSAgfQoJCQkJdmFyIG1pbmlfc3Vkb2t1ID0gaHRtbGA8dGFibGUgY2xhc3M9InN1ZG9rb29sbWluaSIgc3R5bGU9InVzZXItc2VsZWN0OiBub25lOyI+CgkJCSAgPHRib2R5PiR7aHRtbE1pbmlEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YAoJCQkJfQoJCQkgIGNvbnN0IHZhbHVlZSA9IG1pbmlfc3Vkb2t1OwoJCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJCSAgY29uc3QgaHRtbENlbGwgPSBodG1sYDx0ZCBjbGFzcz0iJHtpc0luaXRpYWw/J2luaSc6J3Byb3BzJ30gJHtpc01lZGl1bT8nIHRyb2lzZCc6Jyd9IiBkYXRhLXJvdz0iJHtpfSIgZGF0YS1jb2w9IiR7an0iPiR7KHZhbHVlZXx8J8KgJyl9PC90ZD5gOwoJCQkgIGRhdGFbaV1bal0gPSB2YWx1ZWV8fDA7CgkJCSAgaHRtbFJvdy5wdXNoKGh0bWxDZWxsKTsKCQkJfQoJCQljb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwogICAgCQlodG1sRGF0YS5wdXNoKGh0bWxgPHRyICR7aXNNZWRpdW1CaXM/J2NsYXNzPSJ0cm9pc3IiJzonJ30+JHtodG1sUm93fTwvdHI+YCk7CgkJICB9CgkJICBjb25zdCBfc3Vkb2t1ID0gaHRtbGAiIiIgKiAoaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcpID8gIjxoNSBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3VzZXItc2VsZWN0OiBub25lOycgb25jbGljaz0nJGZvb3RpeCc+IOKaoSBBdHRlbnRpb24sIHN1ZG9rdSBpbml0aWFsIMOgIHJldm9pciAhIDwvaDU+IiA6ICIiKSAqIHJhdyIiIjx0YWJsZSBpZD0ic3Vkb2t1ZmluaSIgY2xhc3M9InN1ZG9rb29sIiBzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7Ij4KCQkJICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJCQk8L3RhYmxlPmAgIAoJCQkKCQljb25zdCBqZGF0YWluaSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlc19pbmkpOwoJCWNvbnN0IGpkYXRhRmluaSA9IEpTT04uc3RyaW5naWZ5KG12YWx1ZXMpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWluaScsIGpkYXRhaW5pKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFmaW5pJywgamRhdGFGaW5pKTsKCQl2YXIgc3Vkb2t1aW5pw6B2w6lyaWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vkb2tpbmNpcGl0Iik7CgkJaWYgKHN1ZG9rdWluacOgdsOpcmlmICYmIHN1ZG9rdWluacOgdsOpcmlmLmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgIT0gamRhdGFpbmkpIHsKCQkJcmV0dXJuIGh0bWxgPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5qAIFJlY2FsY3VsIHJhcGlkZcKgOyk8L2g1PmA7CgkJfTsgLy8gZW50cmUgUGx1dG8gPnYwLjE0LjcgZXQgMC4xOSBjZi4gcGx1cyBoYXV0CgkJcmV0dXJuIF9zdWRva3U7CgkJCX07CgkJCXdpbmRvdy5tc2dhID0gKF9zdWRva3UpID0+IHsKCQkJCWNvbnN0IGp1c3RlcmVtb250ZSA9ICh0ZG1pbmkpID0+IHsgLy8gMyBldCAyKzMKCQkJCSIiIiooc29tbWUgPyByYXciIiA6IHJhdyIiIgoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJCgkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpPy5jaGVja2VkKSB7CgkJCQkJCQljb25zdCBsaWduID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykpICsgMTsgLy8gMyBldCAyKzMKCQkJCQkJCWNvbnN0IGNvbG8gPSBwYXJzZUludChlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSkgKyAxOwoJCQkJCQkJY29uc3QgdmFsZSA9IGUudGFyZ2V0LmlubmVySFRNTDsgLy8gTmFOIOKGkiBwYXMgYmVzb2luCgkJCQkJCQl2YXIgY2libGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3Vkb2tpbmNpcGl0ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoIisgbGlnbiArIikgPiB0ZDpudGgtY2hpbGQoIisgY29sbyArIikgPiBpbnB1dFt0eXBlPXRleHRdIik7CgkJCQkJCQlpZiAoIShpc05hTih2YWxlKSkpIHsKCQkJCQkJCQljaWJsZS52YWx1ZSA9IGNpYmxlLnZhbHVlID09IHZhbGUgPyAwIDogdmFsZSA7IAoJCQkJCQkJCS8vIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImluaSIpOyAvLyBpbmkgYmxldQoJCQkJCQkJCWlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImluaSIpKSB7CgkJCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoImluaSIpO30gZWxzZSB7CmUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJdHIuY2hpbGROb2Rlcy5mb3JFYWNoKHRkZCA9PiB7CgkJCQkJCQkJCXRkZC5jbGFzc0xpc3QucmVtb3ZlKCJpbmkiKTsKCQkJCQkJCQkJfSl9KTsgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiaW5pIik7fTsKCQkJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJncmlzIik7IAoJCQkJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXNmb290Iik/LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJjbGljayIpKTsKCQkJCQkJCQljaWJsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY3RvcCcpKTsgCgkJCQkJCQl9OwoJCQkJCQl9OwkKCQkJCQkJCgkJCQl9KX0pOyAiIiIpKnJhdyIiIn07CgoJCQkJY29uc3QgY2Fyb2xpZ24gPSAoZSkgPT4geyAvLyAzIGV0IDHigKYgw6AgbGEgYmFzZQoJCQkJCWNvbnN0IGlsaWcgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgamNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3QgZ3JhbmxpZyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGdyYW5jb2wgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3Qgb3JOaWNhciA9ICh0bGlnLHRjb2wpID0+IE1NY2FyKGdyYW5saWcsZ3JhbmNvbCx0bGlnLHRjb2wpOwoJCQkJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCh0ciA9PiB7CgkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoJCQkJCQkJaWYgKCh0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdIT1udWxsKSAmJiAodGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSA9PSBncmFubGlnIHx8IHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykgPT0gZ3JhbmNvbCB8fCBvck5pY2FyKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JyksdGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSkgKSl7CgkJCQkJCQkJdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2lsaWddLmNoaWxkTm9kZXNbamNvbF0uY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOyAvLyBjaWVsIGdyaXMKCQkJCQkJCX0gfSk7CgkJCQkJfSk7CgkJCQl9OyAKCgkJCQljb25zdCBjYXNlY2Fyb2xpZ24gPSAoZSkgPT4geyAvLyAyIGV0IDIgYm9udXMKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IGdyYW5saWcgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBncmFuY29sID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IG9yTmljYXIgPSAodGxpZyx0Y29sKSA9PiBNTWNhcihncmFubGlnLGdyYW5jb2wsdGxpZyx0Y29sKTsKCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJCQkJCQl0ci5jaGlsZE5vZGVzLmZvckVhY2godGRkID0+IHsKCQkJCQkJCWlmICgodGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgJiYgKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gZ3JhbmxpZyB8fCB0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGdyYW5jb2wgfHwgb3JOaWNhcih0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkpewoJCQkJCQkJCXRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlcy5mb3JFYWNoKGxpZ25lID0+IHsKCQkJCQkJCQkgIGxpZ25lLmNoaWxkTm9kZXMuZm9yRWFjaChjb2xvbiA9PiB7CgkJCQkJCQkJCWNvbG9uLmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsgLy8gY2llbCBncmlzCgkJCQkJCQkJICB9KTsKCQkJCQkJCQl9KTsgCgkJCQkJCQl9IH0pOwoJCQkJCX0pOwoJCQkJfTsgCgkJCQkKCQkJCWNvbnN0IHRvdXNsZXPDqWdhbGl0ID0gKGUpID0+IHsKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAkKCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJCQkJCQkJdHIuY2hpbGROb2Rlcy5mb3JFYWNoKHRkZCA9PiB7CgkJCQkJCQkJaWYgKHRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpewoJCQkJCQkJCQl0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbaWxpZ10uY2hpbGROb2Rlc1tqY29sXS5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQkJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0Iik/LmNoZWNrZWQ9PWZhbHNlKXt0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbaWxpZ10uY2hpbGROb2Rlc1tqY29sXS5jbGFzc0xpc3QucmVtb3ZlKCJncmlzIil9OwoJCQkJCQkJfX0pOwoJCQkJCX0pOwkJCgkJCQl9OwoKCQkJCWNvbnN0IGp1c3RldW5lY2FzZSA9ICh0ZG1pbmkpID0+IHsgLy8gMiBldCAyCgkJCQlqdXN0ZXJlbW9udGUodGRtaW5pKTsKCQkJCXRkbWluaS5mb3JFYWNoKHRkID0+IHsKCQkJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CQkKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpPy5jaGVja2VkKSB7CQoJCQkJCQljYXNlY2Fyb2xpZ24oZSk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChsaWduZSA9PiB7CgkJCQkJCSAgbGlnbmUuY2hpbGROb2Rlcy5mb3JFYWNoKGNvbG9uID0+IHsKCQkJCQkJCWNvbG9uLmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0Iik/LmNoZWNrZWQ9PWZhbHNlKXtjb2xvbi5jbGFzc0xpc3QucmVtb3ZlKCJncmlzIil9OwoJCQkJCQkgIH0pOwoJCQkJCQl9KTsgCgkJCQkJfSB9KTsJCgkJCQl9KSB9OwoJCQkJCgkJCQljb25zdCB0b3VzbGVzw6lnYWxpdGlvcyA9ICh0ZG1pbmkpID0+IHsgLy8gMiBldCAxCgkJCQlqdXN0ZXJlbW9udGUodGRtaW5pKTsKCQkJCXRkbWluaS5mb3JFYWNoKHRkID0+IHsKCQkJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQkJCSIiIiooc29tbWUgPyByYXciIiJpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpPy5jaGVja2VkKSB7CQoJCQkJCQkJCWNhcm9saWduKGUpOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0b3VzbGVzw6lnYWxpdChlKSB9OwoJCQkJCQkiIiIgOiByYXciIiJ0b3VzbGVzw6lnYWxpdChlKTsgIiIiKSpyYXciIiIKCQkJCX0pfSkgfTsKCQkJCQoJCQkJY29uc3QgY2Fyb2xpZ25pb3MgPSAodGRtaW5pKSA9PiB7IC8vIDMgZXQgMQoJCQkJanVzdGVyZW1vbnRlKHRkbWluaSk7CgkJCQl0ZG1pbmkuZm9yRWFjaCh0ZCA9PiB7CgkJCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIik/LmNoZWNrZWQpIHsKCQkJCQkJY2Fyb2xpZ24oZSk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpPy5jaGVja2VkPT1mYWxzZSl7ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgiZ3JpcyIpfSB9OwoJCQkJfSkgfSkgfTsgCgkJCQkKCQkJCWNvbnN0IHRvdXRlZmZhY2VyID0gKHRkYmxldXMpID0+IHsKCQkJCQl0ZGJsZXVzLmZvckVhY2godGRibGV1ID0+IHsKCQkJCQkJdGRibGV1LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJCXZhciBncmFudGIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkJCQkJCQlmb3IobGV0IGdyYW5pPTA7IGdyYW5pPDk7Z3JhbmkrKyl7IAoJCQkJCQkJZm9yKGxldCBncmFuaj0wOyBncmFuajw5O2dyYW5qKyspeyAKCQkJCQkJCSBpZiAoZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgewoJCQkJCQkJZm9yKGxldCBtaW5paT0wOyBtaW5paTwzO21pbmlpKyspeyAKCQkJCQkJCWZvcihsZXQgbWluaWo9MDsgbWluaWo8MzttaW5paisrKXsgCgkJCQkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbbWluaWldLmNoaWxkTm9kZXNbbWluaWpdLmNsYXNzTGlzdC5hZGQoImNhY2jDqWUiKTsKCQkJCQkJCWdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1ttaW5paV0uY2hpbGROb2Rlc1ttaW5pal0uY2xhc3NMaXN0LnJlbW92ZSgiZ3JpcyIpOwoJCQkJCQkJCgkJCQkJCQl9fSB9IH19OwoJCQkJCQl9KTsKCQkJCQl9KTsgfTsKCQkJCQoJCQkJCgkJbGV0IHRkbWluaSA9IF9zdWRva3UucXVlcnlTZWxlY3RvckFsbCgndGQubWluaScpOyAKCQkvLyAvcGFyQ2FzZSA9IHRvdXRWb2lyICMgYmlkb3VpbGxlIMOgIGNoYW5nZXIgPyAvdG91dFZvaXIgPSB0cnVlIC8vLyBwbHVzIGhhdXQKICAJCSIiIioodG91dFZvaXIgJiYgcGFyQ2FzZSA/IHJhdyIiImp1c3RlcmVtb250ZSh0ZG1pbmkpOy8qIDMgZXQgMiszICovCgkJCSIiIiA6IHJhdyIiIiBsZXQgdGRibGV1cyA9IF9zdWRva3UucXVlcnlTZWxlY3RvckFsbCgndGQuaW5pJyk7IHRvdXRlZmZhY2VyKHRkYmxldXMpOyAKCQkJCSIiIioocGFyQ2FzZSA/IHJhdyIiImp1c3RldW5lY2FzZSh0ZG1pbmkpOyAvKiAyIGV0IDIgKi8gCgkJCQkJIiIiIDogKHRvdXRWb2lyID8gcmF3IiIidG91c2xlc8OpZ2FsaXRpb3ModGRtaW5pKTsgLyogMyBldCAxICsgMiBldCAzICovICIiIiA6IHJhdyIiImNhcm9saWduaW9zKHRkbWluaSk7IC8qIDIgZXQgMSAqLyAiIiIpKSkqIHJhdyIiIgoJCSAgcmV0dXJuIF9zdWRva3U7CgkJfTsKCQkvLyBzaW5vbiA6IHJldHVybiBjcmVhdGVTdWRva3VIdG1sKOKApikuX3N1ZG9rdTsKCQlyZXR1cm4gbXNnYShjcmVhdGVTdWRva3VIdG1sKCIiIiAqIiRKUHJvcGFsIioiLCAiKiIkSlN1ZG9rdWluaSIqIiIiKSk7CgkJPC9zY3JpcHQ+IiIiKQoJZW5kCglodG1sc3AgPSBodG1sU3Vkb2t1UHJvcGFsICMjIG1pbmkgdmVyc2lvbgoJaHRtYXRwID0gaHRtbFN1ZG9rdVByb3BhbCDiiJggbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24gCgkKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIEZvbmN0aW9uIHByaWNpcGFsZSBxdWkgcsOpc291dCBuJ2ltcG9ydGUgcXVlbCBzdWRva3UgKG3Dqm1lIGZhdXgpICMjIyMjIyMjIyMjIyMjIyMjIyMKIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIwogIGZ1bmN0aW9uIHLDqXNvdXRTdWRva3VNYXgobVM6OkFycmF5e0ludCwyfSwgbGVzWsOpcm9zOjpTZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSwgZGljb3LDqXpsaWc6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y29sOjpEaWN0e0ludCwgU2V0e0ludH19LCBkaWNvcsOpemNhcjo6RGljdHtJbnQsIFNldHtUdXBsZXtJbnQsSW50fX19IDsgdG91cnM6OkludCA9IDApIAoJbmJUb3Vyc1RvdGFsID0gdG91cnMgIyBjZSBub21icmUgcmVwcmVuZCBsZSBwYXNzYWdlIHZpYSByw6lzb3V0U3Vkb2t1CgkjIGxlc1rDqXJvcyA9IFNldCh2WsOpcm9zKSAjIyBhdmFudCBTZXQoc2h1ZmZsZSEodlrDqXJvcykpICMgU2V0IHVuZSBib25uZSBeXgoJbGlzdGVkZWNob2l4ID0gVHVwbGV7SW50LEludCxJbnQsSW50LFNldHtJbnR9fVtdCglsaXN0ZWRhbmNpZW5uZU1hdCA9IEFycmF5e0ludCwyfVtdCglsaXN0ZWRlc1rDqXJvcyA9IFNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19W10KCWxlWsOpcm/DoFN1cHByID0gKDAsMCwwLDA6MCwwOjApICMgVHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19CgluYkNob2l4ZmFpdCA9IDAKCW1pbkNob2l4ZGVzWsOpcm9zID0gMTAKCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlID0gKDAsMCwwLDAsU2V0e0ludH0oKSkgCglsaXN0ZWRhbmNpZW5JbXAgPSBEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX1bXSAjIHNpIGRpY09rIAoJbGlzdGVkaWNvcsOpemxpZyA9IERpY3R7SW50LCBTZXR7SW50fX1bXQoJbGlzdGVkaWNvcsOpemNvbCA9IERpY3R7SW50LCBTZXR7SW50fX1bXQoJbGlzdGVkaWNvcsOpemNhciA9IERpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fVtdIAoJbUltcCA9IERpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSgpCgnDp2FOYXZhbmNlUGFzID0gdHJ1ZSAjIFBlcm1ldCBkZSB2b2lyIHNpIHJpZW4gbmUgc2UgcmVtcGxpdCBlbiB1biB0b3VyCglsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19KCkKCXdoaWxlICFpc2VtcHR5KGxlc1rDqXJvcykgIyAmJiBuYlRvdXJzVG90YWwgPCBuYlRvdXJzTWF4CgkJaWYgIWFsbGVyQXVDaG9peFN1aXZhbnQKCQkJbmJUb3Vyc1RvdGFsICs9IDEKCQkJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyByZXNldCDDoCBjaGFxdWUgdG91cgoJCQltaW5DaG9peGRlc1rDqXJvcyA9IDEwCgkJCWRpbGxvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGtvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2NvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpa2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGNvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGljbG8gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWtjbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZGlrbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWZ1c2libGVzbGlnID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY29sID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY2FyID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCXbDqXJpZmxpZ25lID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNvbCA9IFsgRGljdHtTZXR7SW50fSwgU2V0e0ludH19KCkgZm9yIF8gPSAxOjkgXQoJCQl2w6lyaWZjYXJyw6kgPSBbIERpY3R7U2V0e0ludH0sIFNldHtUdXBsZXtJbnQsSW50fX0gfSgpIGZvciBfID0gMTo5IF0KCQkJZm9yIChpLGosayxpaSxqaikgaW4gbGVzWsOpcm9zCgkJCQlsaXN0ZWNoaWZmcmUgPSBjaGlmZnJlUG9zc2libGUobVMsaSxqLGdldCEobUltcCwoaSxqKSxTZXR7SW50fSgpICksaWksamopIAoJCQkJc2FjIShqLGksayxpaSxqaixsaXN0ZWNoaWZmcmUsZnVzaWJsZXNjb2wsZGljY28sZGljbG8sZGlja28pCgkJCQlzYWMhKGksaixrLGlpLGpqLGxpc3RlY2hpZmZyZSxmdXNpYmxlc2xpZyxkaWxsbyxkaWxjbyxkaWxrbykKCQkJCXNhayEoaSxqLGssaWksamosbGlzdGVjaGlmZnJlLGZ1c2libGVzY2FyLGRpa2xvLGRpa2NvLGRpa2tvKQoJCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpIHx8IHBhc0Fzc2V6RGVQcm9wYWwhKGksaixsaXN0ZWNoaWZmcmUsIHbDqXJpZmxpZ25lW2ldLCB2w6lyaWZjb2xbal0sIHbDqXJpZmNhcnLDqVtrXSxtSW1wKQoJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSB0cnVlICMgZG9uYyBtYXV2YWlzIGNob2l4CgkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJCQkJCWJyZWFrCgkJCQllbHNlaWYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPT0gMSAjIEwnaWTDqWFsLCB1bmUgc2V1bGUgcG9zc2liaWxpdMOpCgkJCQkJbVNbaSxqXT1jb2xsZWN0KGxpc3RlY2hpZmZyZSlbMV0gIyBsZSBTZXQgZW4gbGlzdGUKCQkJCQkjIG1TW2ksal09cG9wIShsaXN0ZWNoaWZmcmUpICMjIG5lIGZvbmN0aW9ubmUgcGFzCgkJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksaixrLGlpLGpqKSkKCQkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2ldLGopCgkJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtqXSxpKQoJCQkJCWRlbGV0ZSEoZGljb3LDqXpjYXJba10sKGksaikgKQoJCQkJCWhhc2tleShkaWxsbyxpKSAmJiBkZWxldGUhKGRpbGxvW2ldLCBtU1tpLGpdKSAjIHV0aWxlIGV0IHPDu3IKCQkJCQloYXNrZXkoZGljY28saikgJiYgZGVsZXRlIShkaWNjb1tqXSwgbVNbaSxqXSkKCQkJCQloYXNrZXkoZGlra28saykgJiYgZGVsZXRlIShkaWtrb1trXSwgbVNbaSxqXSkKCQkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJCWVsc2VpZiDDp2FOYXZhbmNlUGFzICYmIGxlbmd0aChsaXN0ZWNoaWZmcmUpIDwgbWluQ2hvaXhkZXNaw6lyb3MKCQkJCQltaW5DaG9peGRlc1rDqXJvcyA9IGxlbmd0aChsaXN0ZWNoaWZmcmUpCgkJCQkJY2hvaXhBZmFpcmUgPSAoaSxqLCAxLCBtaW5DaG9peGRlc1rDqXJvcywgbGlzdGVjaGlmZnJlKSAKCQkJCQlsZVrDqXJvw6BTdXBwciA9IChpLGosayxpaSxqaikgIyBPbiBnYXJkZSBsZXMgY2VsbHVsZXMgYXZlYyDigKYgCgkJCQllbmQgIyDigKYgbGUgbW9pbnMgZGUgY2hvaXggw6AgZmFpcmUsIHNpIMOnYSBuJ2F2YW5jZSBwYXMKCQkJZW5kCgkJZW5kICMgaWYgYWxsZXJBdUNob2l4U3VpdmFudCB8fCDDp2FOYXZhbmNlUGFzICYmIChkSW1wID09IG1JbXApICMgZW4gbWlldXggXl4KCQlpZiBhbGxlckF1Q2hvaXhTdWl2YW50IHx8IHVuaWNsayEoZGljbG8sZGljY28sZGlja28sZGlsbG8sZGlsY28sZGlsa28sZGlrbG8sZGlrY28sZGlra28sbVMsbUltcCxkaWNvcsOpemxpZyxkaWNvcsOpemNvbCxkaWNvcsOpemNhcixsZXNaw6lyb3PDoFN1cHByLMOnYU5hdmFuY2VQYXMpCgkJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgIyBTaSBsZSBjaG9peCBlbiBjb3VycyBuJ2VzdCBwYXMgYm9uCgkJCQlpZiBpc2VtcHR5KGxpc3RlZGVjaG9peCkgIyBwYXMgZGUgYm9sIGhlaW4KCQkJCQkjIEBpbmZvICIxbXAgJG5iVG91cnNUb3RhbCAkbmJDaG9peGZhaXQiCgkJCQkJcmV0dXJuIGltcG9zc2libGUgIyBmYXV4IGNhciB0cm9wIGNvbnRyYWludCDihpIgZXg6IDEyMzQ1Njc4KzkgIyMsICh0b3VyPW5iVG91cnMsdHQ9bmJUb3Vyc1RvdGFsLGVzc2FpPWVzc2FpLG5vaXg9bmJDaG9peGZhaXQsdG91cnM9bGlzdGVUb3VycyxjaG9peD1saXN0ZWRlY2hvaXgsIHrDqXJvcz1saXN0ZWRlc1rDqXJvcyxtYXRocz1saXN0ZWRhbmNpZW5uZU1hdCkgCgkJCQllbHNlaWYgY2hvaXhQcsOpY8OpZGVudFszXSA8IGNob2l4UHLDqWPDqWRlbnRbNF0gIyBBbGxlciBhdSBzdWl2YW50CgkJCQkJIyMgcHVzaCEobGlzdGVIaXN0b01hdCAsIGNvcHkobVMpKSAjIyBoaXN0b2lyZSAxIAoJCQkJCSMjIHB1c2ghKGxpc3RlSGlzdG9DaG9peCAsIGNob2l4UHLDqWPDqWRlbnQpICMjIGhpc3RvaXJlIDEgCgkJCQkJIyMgcHVzaCEobGlzdGVIaXN0b1RvdXJzVG90YWwgLCAobmJUb3VycywgbmJUb3Vyc1RvdGFsKSkgIyMgaGkxIAoJCQkJCSMjIG5iSGlzdG9Ub3QgKz0gMSAjIyBoaXN0b2lyZSAxCgkJCQkJKGksaiwgY2hvaXgsIGwsIGxjKSA9IGNob2l4UHLDqWPDqWRlbnQKCQkJCQljaG9peFByw6ljw6lkZW50ID0gKGksaiwgY2hvaXgrMSwgbCwgbGMpCgkJCQkJbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XSA9IGNob2l4UHLDqWPDqWRlbnQKCQkJCQltUyA9IGNvcHkobGlzdGVkYW5jaWVubmVNYXRbbmJDaG9peGZhaXRdKQoJCQkJCW1JbXAgPSBkZWVwY29weShsaXN0ZWRhbmNpZW5JbXBbbmJDaG9peGZhaXRdKQoJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJCQkJCW1TW2ksal0gPSBwb3AhKGxjKQoJCQkJCWxlc1rDqXJvcyA9IGNvcHkobGlzdGVkZXNaw6lyb3NbbmJDaG9peGZhaXRdKQoJCQkJCWRpY29yw6l6bGlnID0gZGVlcGNvcHkobGlzdGVkaWNvcsOpemxpZ1tuYkNob2l4ZmFpdF0pCgkJCQkJZGljb3LDqXpjb2wgPSBkZWVwY29weShsaXN0ZWRpY29yw6l6Y29sW25iQ2hvaXhmYWl0XSkKCQkJCQlkaWNvcsOpemNhciA9IGRlZXBjb3B5KGxpc3RlZGljb3LDqXpjYXJbbmJDaG9peGZhaXRdKQoJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWRlY2hvaXgpIDwgMiAjIHBhcyAyIGJvbAoJCQkJCSMgQGluZm8gIjJiYWwgJG5iVG91cnNUb3RhbCAkbmJDaG9peGZhaXQiCgkJCQkJcmV0dXJuIGltcG9zc2libGUKCQkJCWVsc2UgIyBJbCBmYXV0IHJldmVuaXIgZCd1biBjcmFuIGRhbnMgbGEgbGlzdGUgaGlzdG9yaXF1ZQoJCQkJCW1hcChwb3AhLChsaXN0ZWRlY2hvaXgsbGlzdGVkYW5jaWVubmVNYXQsbGlzdGVkYW5jaWVuSW1wLCBsaXN0ZWRlc1rDqXJvcyxsaXN0ZWRpY29yw6l6bGlnLGxpc3RlZGljb3LDqXpjb2wsbGlzdGVkaWNvcsOpemNhcikpCgkJCQkJbmJDaG9peGZhaXQgLT0gMQoJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdCgkJCQllbmQKCQkJZWxzZSAjIE5vdXZlYXUgY2hvaXggw6AgZmFpcmUgZXQgw6AgZ2FyZGVyIGVuIG3DqW1vaXJlCgkJCQlwdXNoIShsaXN0ZWRlY2hvaXgsIGNob2l4QWZhaXJlKSAjIGljaSBwYXMgYmVzb2luIGRlIGNvcGllCgkJCQlwdXNoIShsaXN0ZWRhbmNpZW5uZU1hdCAsIGNvcHkobVMpKSAjIGNvcGllIGVuIGR1cgoJCQkJcHVzaCEobGlzdGVkYW5jaWVuSW1wICwgZGVlcGNvcHkobUltcCkpICMgY29waWUgZW4gZHVyCgkJCQlkZWxldGUhKGxlc1rDqXJvcywgbGVaw6lyb8OgU3VwcHIpICMgT24gcmV0aXJlIGNldXjigKYgaWRlbSBzZXQKCQkJCXB1c2ghKGxpc3RlZGVzWsOpcm9zICwgY29weShsZXNaw6lyb3MpKSAjIGNvcGllIGVuIGR1ciBhdXNzaQoJCQkJbmJDaG9peGZhaXQgKz0gMQoKCQkJCWlzdXBwciA9IGxlWsOpcm/DoFN1cHByWzFdCgkJCQlqc3VwcHIgPSBsZVrDqXJvw6BTdXBwclsyXQoJCQkJa3N1cHByID0gbGVaw6lyb8OgU3VwcHJbM10KCQkJCSMjIG1TW2Nob2l4QWZhaXJlWzE6Ml0uLi5dID0gcG9wIShjaG9peEFmYWlyZVs1XSkKCQkJCW1TW2lzdXBwciwganN1cHByXSA9IHBvcCEoY2hvaXhBZmFpcmVbNV0pCgoJCQkJZGVsZXRlIShkaWNvcsOpemxpZ1tpc3VwcHJdLGpzdXBwcikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjb2xbanN1cHByXSxpc3VwcHIpCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2tzdXBwcl0sKGlzdXBwcixqc3VwcHIpICkKCQkJCXB1c2ghKGxpc3RlZGljb3LDqXpsaWcsIGRlZXBjb3B5KGRpY29yw6l6bGlnKSkKCQkJCXB1c2ghKGxpc3RlZGljb3LDqXpjb2wsIGRlZXBjb3B5KGRpY29yw6l6Y29sKSkKCQkJCXB1c2ghKGxpc3RlZGljb3LDqXpjYXIsIGRlZXBjb3B5KGRpY29yw6l6Y2FyKSkKCgkJCQljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUKCQkJZW5kIAoJCWVsc2UgIyAhw6dhTmF2YW5jZVBhcyAmJiAhYWxsZXJBdUNob2l4U3VpdmFudCAjIyBUb3V0IHZhIGJpZW4gaWNpCgkJCXNldGRpZmYhKGxlc1rDqXJvcywgbGVzWsOpcm9zw6BTdXBwcikgIyBPbiByZXRpcmUgY2V1eCByZW1wbGlzIAoJCQlsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19KCkKCQllbmQJCgllbmQKCXJldHVybiB0b3V0ZXN0YmllbnF1aWZpbml0YmllbihtUywgbmJDaG9peGZhaXQsIG5iVG91cnNUb3RhbCkKICBlbmQKIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMKIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgCiAgZnVuY3Rpb24gcsOpc291dFN1ZG9rdShKU3Vkb2t1OjpWZWN0b3J7VmVjdG9ye0ludH19IDsgbmJUb3Vyc01heDo6SW50ID0gODEpIAoJbmJUb3Vyc1RvdGFsOjpJbnQgPSAwCgltUzo6QXJyYXl7SW50LDJ9ID0gbGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1KSAjIENvbnZlcnRpIGVuIHZyYWllIG1hdHJpY2UKCWxlc1rDqXJvcyA9IFNldChzaHVmZmxlIShbKGksaikgZm9yIGogaW4gMTo5LCBpIGluIDE6OSBpZiBtU1tpLGpdPT0wXSkpCglsaXN0ZWRlY2hvaXggPSBUdXBsZXtJbnQsSW50LEludCxJbnQsU2V0e0ludH19W10KCWxpc3RlZGFuY2llbm5lTWF0ID0gQXJyYXl7SW50LDJ9W10KCWxpc3RlZGVzWsOpcm9zID0gU2V0e1R1cGxle0ludCxJbnR9fVtdCgluYkNob2l4ZmFpdCA9IDAKCW1pbkNob2l4ZGVzWsOpcm9zID0gMTAKCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlID0gKDAsMCwwLDAsU2V0e0ludH0oKSkgCgnDp2FOYXZhbmNlUGFzID0gdHJ1ZSAjIFBlcm1ldCBkZSB2b2lyIHNpIHJpZW4gbmUgc2UgcmVtcGxpdCBlbiB1biB0b3VyCglsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50fX0oKQoJaWYgdsOpcmlmU3Vkb2t1Qm9uKG1TKQoJCXdoaWxlICFpc2VtcHR5KGxlc1rDqXJvcykgJiYgbmJUb3Vyc1RvdGFsIDwgbmJUb3Vyc01heAoJCSMjIGZvciBuYnQgaW4gMTpuYlRvdXJzTWF4ICMjIyBtYXV2YWlzZSBpZMOpZQoJCQkjIyBpc2VtcHR5KGxlc1rDqXJvcykgJiYgKG5iVG91cnNUb3RhbCArPSBuYnQgLSAxOyBicmVhaykKCQkJaWYgIWFsbGVyQXVDaG9peFN1aXZhbnQKCQkJCW5iVG91cnNUb3RhbCArPSAxCgkJCQnDp2FOYXZhbmNlUGFzID0gdHJ1ZSAjIHJlc2V0IMOgIGNoYXF1ZSB0b3VyID8gaWRlbSBwb3VyIGxlIHJlc3RlID8KCQkJCW1pbkNob2l4ZGVzWsOpcm9zID0gMTAKCQkJCWZvciAoaSxqKSBpbiBsZXNaw6lyb3MKCQkJCQlsaXN0ZWNoaWZmcmUgPSBzaW1wbGVjaGlmZnJlUG9zc2libGUobVMsaSxqKSAKCQkJCQlpZiBpc2VtcHR5KGxpc3RlY2hpZmZyZSkKCQkJCQkJYWxsZXJBdUNob2l4U3VpdmFudCA9IHRydWUgIyBkb25jIG1hdXZhaXMgY2hvaXgKCQkJCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludH19KCkKCQkJCQkJYnJlYWsKCQkJCQllbHNlaWYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPT0gMSAjIEwnaWTDqWFsLCB1bmUgc2V1bGUgcG9zc2liaWxpdMOpCgkJCQkJCW1TW2ksal09Y29sbGVjdChsaXN0ZWNoaWZmcmUpWzFdICMjIGF2YW50IGxlIFNldCBlbiBsaXN0ZQoJCQkJCQkjIG1TW2ksal09cG9wIShsaXN0ZWNoaWZmcmUpICMjIG5lIGZvbmN0aW9ubmUgcGFzCgkJCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChpLGopKQoJCQkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJCQllbHNlaWYgw6dhTmF2YW5jZVBhcyAmJiBsZW5ndGgobGlzdGVjaGlmZnJlKSA8IG1pbkNob2l4ZGVzWsOpcm9zCgkJCQkJCW1pbkNob2l4ZGVzWsOpcm9zID0gbGVuZ3RoKGxpc3RlY2hpZmZyZSkKCQkJCQkJY2hvaXhBZmFpcmUgPSAoaSxqLCAxLCBtaW5DaG9peGRlc1rDqXJvcywgbGlzdGVjaGlmZnJlKSAgCgkJCQkJCWVuZCAjIOKApmxlIG1vaW5zIGRlIGNob2l4IMOgIGZhaXJlLCBzaSDDp2EgbidhdmFuY2UgcGFzCgkJCQllbmQKCQkJZW5kCgkJCSMjIyBpZiBhbGxlckF1Q2hvaXhTdWl2YW50IHx8IMOnYU5hdmFuY2VQYXMgCgkJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgIyBTaSBsZSBjaG9peCBlbiBjb3VycyBuJ2VzdCBwYXMgYm9uCgkJCQlpZiBpc2VtcHR5KGxpc3RlZGVjaG9peCkgIyBwYXMgZGUgYm9sIGhlaW4KCQkJCQlyZXR1cm4gaW1wb3NzaWJsZQoJCQkJZWxzZWlmIGNob2l4UHLDqWPDqWRlbnRbM10gPCBjaG9peFByw6ljw6lkZW50WzRdICMgQWxsZXIgYXUgc3VpdmFudCAKCQkJCQkoaSxqLCBjaG9peCwgbCwgbGMpID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSAoaSxqLCBjaG9peCsxLCBsLCBsYykKCQkJCQlsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCW1TID0gY29weShsaXN0ZWRhbmNpZW5uZU1hdFtuYkNob2l4ZmFpdF0pCgkJCQkJYWxsZXJBdUNob2l4U3VpdmFudCA9IGZhbHNlCgkJCQkJbVNbaSxqXSA9IHBvcCEobGMpCgkJCQkJbGVzWsOpcm9zID0gY29weShsaXN0ZWRlc1rDqXJvc1tuYkNob2l4ZmFpdF0pCgkJCQllbHNlaWYgbGVuZ3RoKGxpc3RlZGVjaG9peCkgPCAyICMgcGFzIDIgYm9sCgkJCQkJcmV0dXJuIGltcG9zc2libGUKCQkJCWVsc2UgIyBJbCBmYXV0IHJldmVuaXIgZCd1biBjcmFuIGRhbnMgbGEgbGlzdGUgaGlzdG9yaXF1ZSAKCQkJCQltYXAocG9wISwobGlzdGVkZWNob2l4LGxpc3RlZGFuY2llbm5lTWF0LCBsaXN0ZWRlc1rDqXJvcykpCgkJCQkJbmJDaG9peGZhaXQgLT0gMQoJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdCgkJCQllbmQKCQkJZWxzZWlmIMOnYU5hdmFuY2VQYXMgIyBOb3V2ZWF1IGNob2l4IMOgIGZhaXJlIGV0IMOgIGdhcmRlciBlbiBtw6ltb2lyZSAKCQkJCXB1c2ghKGxpc3RlZGVjaG9peCwgY2hvaXhBZmFpcmUpICMgaWNpIHBhcyBiZXNvaW4gZGUgY29waWUKCQkJCXB1c2ghKGxpc3RlZGFuY2llbm5lTWF0ICwgY29weShtUykpICMgY29waWUgZW4gZHVyCgkJCQlkZWxldGUhKGxlc1rDqXJvcywgY2hvaXhBZmFpcmVbMToyXSkgIyBPbiByZXRpcmUgY2V1eOKApiBpZGVtIHNldCA/CgkJCQlwdXNoIShsaXN0ZWRlc1rDqXJvcyAsIGNvcHkobGVzWsOpcm9zKSkgIyBjb3BpZSBlbiBkdXIgYXVzc2kgCgkJCQluYkNob2l4ZmFpdCArPSAxCgkJCQltU1tjaG9peEFmYWlyZVsxOjJdLi4uXSA9IHBvcCEoY2hvaXhBZmFpcmVbNV0pCgkJCQljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUKCQkJCSMjIyBlbmQgCgkJCWVsc2UgIyAhw6dhTmF2YW5jZVBhcyAmJiAhYWxsZXJBdUNob2l4U3VpdmFudCAjIyBUb3V0IHZhIGJpZW4gaWNpCgkJCQlzZXRkaWZmIShsZXNaw6lyb3MsIGxlc1rDqXJvc8OgU3VwcHIpICMgT24gcmV0aXJlIGNldXggcmVtcGxpcyAKCQkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnR9fSgpCgkJCWVuZAkKCQllbmQKCWVsc2UgcmV0dXJuIMOgY29ycmlnZXIKCWVuZAoJaWYgbmJUb3Vyc1RvdGFsID09IG5iVG91cnNNYXggfHwgbmJUb3Vyc1RvdGFsID4gbmJUb3Vyc01heAoJCW1Db3BpZSA9IGdldChsaXN0ZWRhbmNpZW5uZU1hdCwgMSwgY29weShtUykpCgkJdlrDqXJvcyA9IFNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19KCkKCQlkaWNvcsOpemxpZyA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCWRpY29yw6l6Y29sID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJZGljb3LDqXpjYXIgPSBEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0oKQoJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkgCgkJCWlmIG1Db3BpZVtpLGpdPT0wCgkJCQlrID0ga2VsY2FycsOpKGksaikKCQkJCXB1c2ghKHZaw6lyb3MsIChpLGosayxjYXJyKGkpLGNhcnIoaikpICkKCQkJCXB1c2ghKGdldCEoZGljb3LDqXpsaWcsaSxTZXR7SW50fSgpICksaikKCQkJCXB1c2ghKGdldCEoZGljb3LDqXpjb2wsaixTZXR7SW50fSgpICksaSkKCQkJCXB1c2ghKGdldCEoZGljb3LDqXpjYXIsayxTZXR7VHVwbGV7SW50LEludH19KCkgKSwoaSxqKSApCgkJCWVuZAoJCWVuZCAKCQlyZXR1cm4gcsOpc291dFN1ZG9rdU1heChtQ29waWUsIHZaw6lyb3MsIGRpY29yw6l6bGlnLCBkaWNvcsOpemNvbCwgZGljb3LDqXpjYXI7IHRvdXJzPW5iVG91cnNUb3RhbCkgCgllbHNlIHJldHVybiB0b3V0ZXN0YmllbnF1aWZpbml0YmllbihtUywgbmJDaG9peGZhaXQsIG5iVG91cnNUb3RhbCkKCWVuZAogIGVuZAogIHJqcyA9IHLDqXNvdXRTdWRva3UgIyMgbWluaSB2ZXJzaW9uICAgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMKICBybWF0ID0gcsOpc291dFN1ZG9rdSDiiJggbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24gICAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIwojIEZpbiBkZSBsYSBmb25jdGlvbiBwcmluY2lwYWxlIDogcsOpc291dFN1ZG9rdSAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogIGZ1bmN0aW9uIHN1ZG9rdUFsw6lhdG9pcmVGaW5pKCkgIyMgR8OpbsOocmUgdW4gc3Vkb2t1IGFsw6lhdG9pcmUgZmluaSAoYXVjdW4gdmlkZSkKCXJldHVybiBsaXN0ZUpTw6BtYXRyaWNlKHLDqXNvdXRTdWRva3UoanN2ZCgpKVsxXSkKICBlbmQKICBzYWYgPSBtYWYgPSBzdWRva3VBbMOpYXRvaXJlRmluaSAjIyBtaW5pIHZlcnNpb24KICBmdW5jdGlvbiBzdWRva3VBbMOpYXRvaXJlKHg9MTk6NjIgOyBmdW49cmFuZCwgbWF0esOpcm89c3Vkb2t1QWzDqWF0b2lyZUZpbmkoKSkjcmFuZDE6ODEKICAjIFVuZSBmb2lzIGxlIHN1ZG9rdUFsw6lhdG9pcmVGaW5pLCBvbiBsZSB2aWRlIHVuIHBldSBkJ3VuIG5vbWJyZSB4IGRlIGNlbGx1bGVzCglpZiAhaXNhKHgsIEludCkgIyBQZXJtZXQgZGUgY2hvaXNpciBsZSBub21icmUgZGUgesOpcm8gb3UgdW4gaW50ZXJ2YWxlCgkJeD1mdW4oeCkKCWVuZAoJeCA9ICgwIDw9IHggPCA4MikgPyB4IDogODEgIyBQb3VyIGNldXggYXV4IGdyb3MgZG9pZ3RzLCBvdSBxdWkgdm9pdCB0cm9wIGdyYW5kCglsaXN0ZSA9IHNodWZmbGUhKFsoaSxqKSBmb3IgaSBpbiAxOjkgZm9yIGogaW4gMTo5XSkKCWZvciAoaSxqKSBpbiBsaXN0ZVsxOnhdICMgbmJBcHByb3hEZVrDqXJvcwoJCW1hdHrDqXJvW2ksal0gPSAwCgllbmQKCXJldHVybiBtYXRyaWNlw6BsaXN0ZUpTKG1hdHrDqXJvKQogIGVuZAoKICBmdW5jdGlvbiB2aWV1eFN1ZG9rdSEobm91dmVhdT1zdWRva3VBbMOpYXRvaXJlKCkgOyBkw6lmYXV0PWZhbHNlLCBtw6ltb2lyZT1TdWRva3VNw6ltbywgbWF0esOpcm89c3Vkb2t1QWzDqWF0b2lyZUZpbmkoKSwgaWRMaWVuPSJsaWVuIipzdHJpbmcocmFuZChJbnQpKSkKICAjIE9uIHBldXQgcmV0cm91dmVyIHVuIHZpZXV4U3Vkb2t1ISBwb3VyIGxlIG1ldHRyZSBhdSBsaWV1IGR1IHN1ZG9rdSBpbml0aWFsCiAgIyMgRXhlbXBsZSBkZSBzdWRva3UgOgogICMgdmlldXhTdWRva3UhKFtbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCwwLDAsMywwLDgsNV0sWzAsMCwxLDAsMiwwLDAsMCwwXSxbMCwwLDAsNSwwLDcsMCwwLDBdLFswLDAsNCwwLDAsMCwxLDAsMF0sWzAsOSwwLDAsMCwwLDAsMCwwXSxbNSwwLDAsMCwwLDAsMCw3LDNdLFswLDAsMiwwLDEsMCwwLDAsMF0sWzAsMCwwLDAsNCwwLDAsMCw5XV0pCglpZiBkw6lmYXV0PT10cnVlICMgTcOpZ2Fsb21hbmllICMjIE9uIHJldmllbnQgw6AgbW9uIGTDqWZhdXQgXl4KCQltw6ltb2lyZVsyXSA9IGNvcHkobcOpbW9pcmVbNF0pCgllbHNlaWYgaXNhKG5vdXZlYXUsIEludCkgfHwgaXNhKG5vdXZlYXUsIFVuaXRSYW5nZXtJbnR9KQoJCW3DqW1vaXJlWzJdID0gc3Vkb2t1QWzDqWF0b2lyZShub3V2ZWF1IDsgbWF0esOpcm89bWF0esOpcm8pCgllbHNlaWYgbm91dmVhdT09bcOpbW9pcmVbMV0gCgkJbcOpbW9pcmVbMl0gPSBzdWRva3VBbMOpYXRvaXJlKCkKCWVsc2UgbcOpbW9pcmVbMl0gPSBjb3B5KG5vdXZlYXUpICMgQXN0dWNlIHBvdXIgc2F1dmVyIGxlIHN1ZG9rdSBlbiBjb3VycwoJZW5kCglyZXR1cm4gRG9jcy5IVE1MKCIiIjxzY3JpcHQ+Cgl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCglmdW5jdGlvbiBnb1N1ZG9rdUluaSgpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0IilbMV0uY2xpY2soKTsKCX0KCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIkaWRMaWVuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBnb1N1ZG9rdUluaSk7Cglnb1N1ZG9rdUluaSgpOwoJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiI01vZGlmaWVySW5pdCI7Cgk8L3NjcmlwdD48aDYgc3R5bGU9Im1hcmdpbi10b3A6IDA7Ij4gQ2ktZGVzc291cywgbGUgYm91dG9uwqDilrYgcmVzdG9yZSBsZSB2aWV1eCBzdWRva3UgZW4gc3Vkb2t1IGluaXRpYWzCoCHCoPCfpbMgPGEgaWQ9IiRpZExpZW4iIGhyZWY9JyNNb2RpZmllckluaXQnPiByZXRvdXLCoGVuwqBoYXV0wqDihpEgPC9hPiA8L2g2PiIiIikKICBlbmQKICB2aWV1eCA9IHZpZXV4ISA9IHZzID0gdnMhID0gdlMhID0gdmlldXhTdWRva3UhICMjIG1pbmkgdmVyc2lvbgogIHZzZCgpID0gdmlldXhTdWRva3UhKGTDqWZhdXQ9dHJ1ZSkgIyMgUG91ciByZXZlbmlyIMOgIGwnb3JpZ2luYWwKICBpbmkgPSBkw6lmYXV0ID0gZGVmYXV0ID0gdnNkICMjIG1pbmkgdmVyc2lvbgogIHZzcigpID0gdmlldXhTdWRva3UhKDApICMjIFBvdXIgcGFydGlyIGQndW4gc3Vkb2t1IHJlbXBsaSBvdSBmaW5pIF5eCiAgdnNmID0gdnNyICMjIG1pbmkgdmVyc2lvbgogIHN1ZG9rdWluaXRpYWwhKCkgPSB2aWV1eFN1ZG9rdSEoU3Vkb2t1TcOpbW9bM10pCiAgdmlldXhTdWRva3UhKG5vdXZlYXU6OkFycmF5e0ludCwyfSA7IGTDqWZhdXQ9ZmFsc2UsIG3DqW1vaXJlPVN1ZG9rdU3DqW1vLCBtYXR6w6lybz1zdWRva3VBbMOpYXRvaXJlRmluaSgpLCBpZExpZW49ImxpZW4iKnN0cmluZyhyYW5kKEludCkpKSA9IHZpZXV4U3Vkb2t1IShtYXRyaWNlw6BsaXN0ZUpTKG5vdXZlYXUnKTsgZMOpZmF1dD1kw6lmYXV0LCBtw6ltb2lyZT1tw6ltb2lyZSwgbWF0esOpcm89bWF0esOpcm8sIGlkTGllbj1pZExpZW4pCiAgCiAgIz0gRCdhdXRyZXMgZm9uY3Rpb25zIHNpIGJlc29pbiBwb3VyIHRlc3RlciBldCByZXDDqXJlciBkZXMgZXJyZXVycyA6CiAgZnVuY3Rpb24gc3Vkb2t1QWx0KG5iQ2hpZmZyZXNNYXg9cmFuZCgyNjo4MSksIG1vaW5zT0s9dHJ1ZSwgbmJlc3NhaT0xKSAKICAjIFNvcnRlIGRlIHN1ZG9rdUFsw6lhdG9pcmUgbWFpcyB1biBwZXUgcGx1cyBmb2lyZXV4LCBlbiBlZmZldCwgaWwgbidlc3QgcGFzIGZvcmPDqW1lbnQgcsOpYWxpc2FibGUuIEMnw6l0YWl0IHN1cnRvdXQgcG91ciBmYWlyZSBkZXMgdGVzdHMuCgluYkNoaWZmcmVzID0gMQoJCgltUzo6QXJyYXl7SW50LDJ9ID0gemVyb3MoSW50LCA5LDkpICMgTWF0cmljZSBkZSB6w6lybwoJbGVzWsOpcm9zID0gc2h1ZmZsZSEoWyhpLGopIGZvciBqIGluIDE6OSwgaSBpbiAxOjldKSMgRmFzdCAmIEZ1cmlvdXMKCQoJZm9yIChpLGopIGluIGxlc1rDqXJvcwoJCWlmIG5iQ2hpZmZyZXMgPiBuYkNoaWZmcmVzTWF4CgkJCXJldHVybiBtUwoJCWVsc2UgCgkJbGlzdGVjaGlmZnJlID0gc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1TLGksaikKCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpICMjIyBQYXMgYm9uIHNpZ25lIF5eCgkJCQlpZiBtb2luc09LIHx8IG5iZXNzYWkgPiAyNgoJCQkJCXJldHVybiBtUwoJCQkJZWxzZSAKCQkJCQlyZXR1cm4gc3Vkb2t1QWx0KG5iQ2hpZmZyZXNNYXgsIGZhbHNlLCBuYmVzc2FpKzEpCgkJCQllbmQKCQkJZWxzZSAjIGxlbmd0aChsaXN0ZWNoaWZmcmUpID09IDEgIyBMJ2lkw6lhbCwgdW5lIHNldWxlIHBvc3NpYmlsaXTDqQoJCQkJIyBtU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXQoJCQkJbVNbaSxqXT1wb3AhKGxpc3RlY2hpZmZyZSkKCQkJCW5iQ2hpZmZyZXMgKz0gMQoJCQllbmQKCQllbmQKCWVuZAogIGVuZAogIHNhbHQgPSBzdWRva3VBbHQgIyMgbWluaSB2ZXJzaW9uCiAgZnVuY3Rpb24gYmxpbmR0ZXN0KG5idGVzdD0xMDAgOyB0bWF4PTgxLCBuYnrDqXJvID0gKHJhbmQsIDc6NzcpLCBzdWRmPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKQogICMgUGVybWV0IGRlIHRlc3RlciBsYSByYXBpZGl0w6kgZXQgY2VydGFpbnMgYnVncyBkZSBtYSBmb25jdGlvbiBwcmluY2lwYWxlIHLDqXNvdXRTdWRva3UuIEMnZXN0IGRvbmMgdW5lIGZvbmN0aW9uIHF1aSBlc3QgdGVjaG5pcXVlIGV0IHF1aSBzZXJ0IHN1cnRvdXQgcXVhbmQgaWwgeSBhIGRlcyDDqXZvbHV0aW9ucyBkZSBjZXR0ZSBmb25jdGlvbi4KCW5iesOpcm9mKCkgPSBpc2EobmJ6w6lybyxUdXBsZSkgJiYgbmJ6w6lybz1uYnrDqXJvWzFdKG5iesOpcm9bMl0pCiAgICBub3Byb2JsZW1vID0gc3VkZj09c3Vkb2t1QWzDqWF0b2lyZUZpbmkKCWZvciB0b3VyIGluIDE6bmJ0ZXN0CgkJc3VkaW5pID0gc3VkZigpCgkJbmJ6w6lyb2YoKQoJCXN1ZGFsw6lhID0gc3Vkb2t1QWzDqWF0b2lyZShuYnrDqXJvLCBmdW49aWRlbnRpdHksIG1hdHrDqXJvPWNvcHkoc3VkaW5pKSkKCQkjIHRyeSAKCQkjIAlyw6lzb3V0U3Vkb2t1KHN1ZGFsw6lhIDsgbmJUb3Vyc01heD10bWF4KQoJCSMgY2F0Y2ggZQoJCSMgCXJldHVybiAoImJ1ZyIsIGUsIHN1ZGFsw6lhKQoJCSMgZW5kCgkJc29sdWNlID0gcsOpc291dFN1ZG9rdShzdWRhbMOpYSA7IG5iVG91cnNNYXg9dG1heCkKCQkjIGlmIHNvbHVjZVsxXSBpc2EgU3RyaW5nCgkJaWYgbm9wcm9ibGVtbyAmJiBzb2x1Y2VbMV0gaXNhIFN0cmluZwoJCQkjIyBpZiBub3Byb2JsZW1vIHx8IHNvbHVjZVsxXSAhPSBpbXBvc3NpYmxlWzFdCgkJCSMgaWYgc29sdWNlWzFdID09IGltcG9zc2libGVbMV0KCQkJIyBpZiBzb2x1Y2VbMV0gPT0gw6Bjb3JyaWdlclsxXQoJCQkJcmV0dXJuICg7c3VkesOpciA9IGpzbShzdWRhbMOpYSksIHN1ZGluaSwgdG91ciwgbmJ6w6lybywgc29sdWNlLCB0ej0idmlldXgoJChqc20oc3VkYWzDqWEpKSkiLCB0aT0idmlldXgoJHN1ZGluaSkiKQoJCQkjIGVuZAoJCWVsc2VpZiAhaXNhKHNvbHVjZVsxXSxTdHJpbmcpICYmICF2w6lyaWZTdWRva3VCb24oanNtKHNvbHVjZVsxXSkpCgkJCQlyZXR1cm4gKDtzdWR6w6lyID0ganNtKHN1ZGFsw6lhKSwgc3VkaW5pLCB0b3VyLCBuYnrDqXJvLCBzb2x1Y2UsIHR6PSJ2aWV1eCgkKGpzbShzdWRhbMOpYSkpKSIsIHRpPSJ2aWV1eCgkc3VkaW5pKSIpCgkJZW5kCgllbmQKCSMgcmV0dXJuIFtbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDIsMywwLDAsMCwxLDUsMF0sWzcsMCwwLDQsMCwyLDAsMCw2XSxbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCwwLDAsMCwwLDAsMF0sWzAsNywyLDAsMCwwLDgsNCwwXSxbMCwxLDQsMCwwLDAsNyw5LDBdLFswLDAsNyw5LDIsNCwzLDAsMF0sWzAsMCwwLDEsNSw3LDAsMCwwXV0sICJUb3V0IHZhIGJpZW7igKYgcG91ciBsZSBtb21lbnQg8J+RjSIKCXJldHVybiAiVG91dCB2YSBiaWVu4oCmIHBvdXIgbGUgbW9tZW50IPCfkY0iCiAgZW5kCiAgYnQgPSB0ZXN0bWUgPSBibGluZHRlc3QgIyMgbWluaSB2ZXJzaW9uID0jCiAgIyMgYnR0ID0gYnQoKTsgYnR0IGlzYSBTdHJpbmcgPyBtZCIjIFRvcCDwn5iOIiA6IHZpZXV4KGJ0dFsxXSkKICAjIyBiYnQgPSBidChzdWRmPXNhbHQpOyBiYnQgaXNhIFN0cmluZyA/IG1kIiMgVG9wIPCfmI4iIDogYmJ0WzFdCiAgCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiM9IGJlZ2luICMjIyMgQk9OVVMgZHUgQk9OVVMgOiBwb3V2b2lyIHV0aWxpc2VyICogc3VyIGxlcyBNRCBldCBEb2NzLkhUTUwgXl4KCSMg4oaSIGh0dHBzOi8vZGlzY291cnNlLmp1bGlhbGFuZy5vcmcvdC9jb25jYXRlbmF0ZS1tYXJrZG93bi1zdHJpbmdzLzU5Mzg1CgkjIOKGkiBodHRwczovL2dpdGh1Yi5jb20vSnVsaWFMYW5nL2p1bGlhL2Jsb2IvbWFzdGVyL2Jhc2UvcmVnZXguamwjTDc1OQoJIyBodHRwczovL2dpdGh1Yi5jb20vSnVsaWFMYW5nL2p1bGlhL2Jsb2IvbWFzdGVyL3N0ZGxpYi9NYXJrZG93bi9zcmMvQ29tbW9uLwoJaW1wb3J0IEJhc2U6ICosIF4KCSMgZXhwb3J0ICosIF4KCWNjYXQoYzEsIGMyLCBzcz06bm8pID0gaXNmdXNpb25hYmxlKGMxLCBjMiwgc3MpID8gZnVzaW9uKGMxLCBjMiwgc3MpIDogdmNhdChjMSxjMikKCSoobTE6Ok1hcmtkb3duLk1ELCBtMjo6TWFya2Rvd24uTUQpID0gTWFya2Rvd24uTUQoY2NhdChtMS5jb250ZW50LCBtMi5jb250ZW50KSkKCSoobTo6TWFya2Rvd24uTUQsIHM6OlVuaW9ue0Fic3RyYWN0Q2hhciwgQWJzdHJhY3RTdHJpbmcsIERvY3MuSFRNTH0pID0gCgkJTWFya2Rvd24uTUQoY2NhdChtLmNvbnRlbnQsIHBhcnNlYmlzKHMpLmNvbnRlbnQsIDpyaWdodCkpCgkqKHM6OlVuaW9ue0Fic3RyYWN0Q2hhciwgQWJzdHJhY3RTdHJpbmcsIERvY3MuSFRNTH0sIG06Ok1hcmtkb3duLk1EKSA9IAoJCU1hcmtkb3duLk1EKGNjYXQocGFyc2ViaXMocykuY29udGVudCwgbS5jb250ZW50LCA6bGVmdCkpCgkqKG06Ok1hcmtkb3duLk1EKSA9IG0gIyBhdm9pZHMgd3JhcHBpbmcgbSBpbiBhIHVzZWxlc3Mgc3VicGF0dGVybiAoYXMgUmVnZXguamwpCgleKG06Ok1hcmtkb3duLk1ELCBpOjpJbnQpID0gKihNYXJrZG93bi5NRCgpLGZpbGwobSxpKS4uLikKIAkKCWlzZnVzaW9uYWJsZShjMSwgYzIsIHN0cmluZ3NpZGU6OlN5bWJvbCkgPSAKCQkhaXNlbXB0eShjMSkgJiYgIWlzZW1wdHkoYzIpICYmIChzaW1pbGFyKGMxW2VuZF0sIGMyWzFdKSB8fCAKCQkJKHN0cmluZ3NpZGUgPT0gOnJpZ2h0ID8gYzJbMV0gaXNhIE1hcmtkb3duLlBhcmFncmFwaCA6IAoJCQkJKHN0cmluZ3NpZGUgPT0gOmxlZnQgPyBjMVtlbmRdIGlzYSBNYXJrZG93bi5QYXJhZ3JhcGggOiBmYWxzZSkpICkKCWZ1c2lvbihjMSwgYzIsIHN0cmluZ3NpZGU6OlN5bWJvbCkgPSAKCQl2Y2F0KGMxWzE6ZW5kLTFdLCBwcmVtZXJnZShjMVtlbmRdLCBjMlsxXSwgc3RyaW5nc2lkZSksIGMyWzI6ZW5kXSkKCQoJc2ltaWxhcig6OkFueSwgOjpBbnkpID0gZmFsc2UgIyBieSBkZWZhdWx0IGl0IGlzIG5vdCBzaW1pbGFyCglzaW1pbGFyKDo6TWFya2Rvd24uUGFyYWdyYXBoLCA6Ok1hcmtkb3duLlBhcmFncmFwaCkgPSB0cnVlICMgbWQiaXMgIiAqIG1kIiBnb29kID8iCglzaW1pbGFyKGgxOjpNYXJrZG93bi5IZWFkZXJ7bDF9LCBoMjo6TWFya2Rvd24uSGVhZGVye2wyfSkgd2hlcmUge2wxLGwyfSA9IChsMT09bDIpCglzaW1pbGFyKGMxOjpNYXJrZG93bi5Db2RlLCBjMjo6TWFya2Rvd24uQ29kZSkgPSAoYzEubGFuZ3VhZ2UgPT0gYzIubGFuZ3VhZ2UpCglzaW1pbGFyKGYxOjpNYXJrZG93bi5Gb290bm90ZSwgZjI6Ok1hcmtkb3duLkZvb3Rub3RlKSA9IChmMS5pZCA9PSBmMi5pZCkKCXNpbWlsYXIoOjpNYXJrZG93bi5CbG9ja1F1b3RlLCA6Ok1hcmtkb3duLkJsb2NrUXVvdGUpID0gdHJ1ZSAKCXNpbWlsYXIoYTE6Ok1hcmtkb3duLkFkbW9uaXRpb24sIGEyOjpNYXJrZG93bi5BZG1vbml0aW9uKSA9IAoJCShhMS5jYXRlZ29yeSA9PSBhMi5jYXRlZ29yeSkgJiYgKGExLnRpdGxlID09IGEyLnRpdGxlKQoJc2ltaWxhcihsMTo6TWFya2Rvd24uTGlzdCxsMjo6TWFya2Rvd24uTGlzdCkgPSAKCQkobDEub3JkZXJlZCA9PSBsMi5vcmRlcmVkKSAmJiAobDEubG9vc2UgPT0gbDIubG9vc2UpCgkKCXByb3AocmU6OkFueSkgPSByZSAjIHJlc3Qgb3Igb3RoZXIgdHlwZSwgZm9yIGV4LiA6OkRvY3MuSFRNTAoJcHJvcChwOjpVbmlvbntNYXJrZG93bi5QYXJhZ3JhcGgsIE1hcmtkb3duLkJsb2NrUXVvdGUsIE1hcmtkb3duLkFkbW9uaXRpb259KSA9IAoJCXAuY29udGVudAoJcHJvcChoOjpVbmlvbntNYXJrZG93bi5IZWFkZXIsIE1hcmtkb3duLkZvb3Rub3RlfSkgPSBoLnRleHQKCXByb3AobDo6TWFya2Rvd24uQ29kZSkgPSBsLmNvZGUKCXByb3AobDo6TWFya2Rvd24uTGlzdCkgPSBsLml0ZW1zCgkKCWZ1bmN0aW9uIHByZW1lcmdlKGMxLCBjMiwgc3MpIAoJCWlmIHNzID09IDpsZWZ0ICYmIGMxIGlzYSBNYXJrZG93bi5QYXJhZ3JhcGgKCQkJaWYgYzIgaXNhIFVuaW9ue01hcmtkb3duLlBhcmFncmFwaCwgTWFya2Rvd24uSGVhZGVyfQoJCQkJbWVyZ2UoYzIsIHByb3AoYzEpLCBwcm9wKGMyKSkKCQkJZWxzZWlmIGMyIGlzYSBNYXJrZG93bi5Db2RlCgkJCQlNYXJrZG93bi5Db2RlKGMyLmxhbmd1YWdlLCBoc3RyaW5nKE1hcmtkb3duLk1EKGMxKSwgcHJvcChjMikpKQoJCQllbHNlIG1lcmdlKGMyLCBBbnlbTWFya2Rvd24uUGFyYWdyYXBoKEFueVtwcm9wKGMxKV0pXSwgcHJvcChjMikpCgkJCWVuZAoJCWVsc2VpZiBzcyA9PSA6cmlnaHQgJiYgYzIgaXNhIE1hcmtkb3duLlBhcmFncmFwaAoJCQlpZiBjMSBpc2EgVW5pb257TWFya2Rvd24uUGFyYWdyYXBoLCBNYXJrZG93bi5IZWFkZXJ9CgkJCQltZXJnZShjMSwgcHJvcChjMSksIHByb3AoYzIpKQoJCQllbHNlaWYgYzEgaXNhIE1hcmtkb3duLkNvZGUKCQkJCU1hcmtkb3duLkNvZGUoYzEubGFuZ3VhZ2UsIGhzdHJpbmcocHJvcChjMSksIE1hcmtkb3duLk1EKGMyKSkpCgkJCWVsc2UgbWVyZ2UoYzEsIHByb3AoYzEpLCBBbnlbTWFya2Rvd24uUGFyYWdyYXBoKEFueVtwcm9wKGMyKV0pXSkKCQkJZW5kCgkJZWxzZSBtZXJnZShjMSwgcHJvcChjMSksIHByb3AoYzIpKQoJCWVuZAoJZW5kCgkKCW1lcmdlKDo6QW55LCBoYywgYWMpID0gdmNhdChoYywgYWMpICMgZm9yIG1kIiIiJChodG1sInRoYXQiKSIiIgoJbWVyZ2UoOjpNYXJrZG93bi5QYXJhZ3JhcGgsIHAxYywgcDJjKSA9IE1hcmtkb3duLlBhcmFncmFwaCh2Y2F0KHAxYywgcDJjKSkKCW1lcmdlKDo6TWFya2Rvd24uSGVhZGVye2x9LCBoMXQsIGgydCkgd2hlcmUgbCA9IE1hcmtkb3duLkhlYWRlcntsfSh2Y2F0KGgxdCwgaDJ0KSkKCW1lcmdlKGM6Ok1hcmtkb3duLkNvZGUsIGMxYywgYzJjKSA9IE1hcmtkb3duLkNvZGUoYy5sYW5ndWFnZSwgKihjMWMsIGMyYykpCgltZXJnZShmOjpNYXJrZG93bi5Gb290bm90ZSwgZjF0LCBmMnQpID0gTWFya2Rvd24uRm9vdG5vdGUoZi5pZCwgY2NhdChmMXQsIGYydCkpCgltZXJnZSg6Ok1hcmtkb3duLkJsb2NrUXVvdGUsIGIxYywgYjJjKSA9IE1hcmtkb3duLkJsb2NrUXVvdGUoY2NhdChiMWMsIGIyYykpCgltZXJnZShhOjpNYXJrZG93bi5BZG1vbml0aW9uLCBhMWMsIGEyYykgPSAKCQlNYXJrZG93bi5BZG1vbml0aW9uKGEuY2F0ZWdvcnksIGEudGl0bGUsIGNjYXQoYTFjLCBhMmMpKQoJbWVyZ2UobDo6TWFya2Rvd24uTGlzdCwgbDFpLCBsMmkpID0gCgkJTWFya2Rvd24uTGlzdCh2Y2F0KGwxaSwgbDJpKSwgbC5vcmRlcmVkLCBsLmxvb3NlKQoJCglwYXJzZWJpcyhjOjpBYnN0cmFjdENoYXIpID0gTWFya2Rvd24uTUQoTWFya2Rvd24uUGFyYWdyYXBoKEFueVtzdHJpbmcoYyldKSkKCWZ1bmN0aW9uIHBhcnNlYmlzKHM6OkFic3RyYWN0U3RyaW5nKQoJCXBzID0gTWFya2Rvd24ucGFyc2UocykKCQlpZiBwcyA9PSBNYXJrZG93bi5NRChNYXJrZG93bi5Db2RlKCIiLCAiIikpIHx8IHBzID09IE1hcmtkb3duLk1EKE1hcmtkb3duLlBhcmFncmFwaChbXSkpCgkJCXJldHVybiBNYXJrZG93bi5NRChNYXJrZG93bi5QYXJhZ3JhcGgoQW55WyIgIl0pKQoJCWVsc2UgcmV0dXJuIHBzCgkJZW5kICMgYXZvaWRzIG1kIiAiIOKGkiBDb2RlKCIiLCIiKSBvciBtZCIgICAgIiDihpIgUGFyYWdyYXBoKFtdKSBidXQganVzdCAiICIKCWVuZAoJZnVuY3Rpb24gcGFyc2ViaXMoaDo6RG9jcy5IVE1MKQoJCShpc2VtcHR5KGguY29udGVudCkgfHwgaC5jb250ZW50ID09ICIiKSAmJiByZXR1cm4gTWFya2Rvd24uTUQoKQoJCXJldHVybiBNYXJrZG93bi5NRChNYXJrZG93bi5QYXJhZ3JhcGgoQW55W2hdKSkKCWVuZAoJZnVuY3Rpb24gaHN0cmluZyhtZDEuLi4pCgkJaW8gPSBJT0J1ZmZlcigpCgkJcHJpbnQoaW8sIG1kMS4uLikKCQlyZXR1cm4gdW5lc2NhcGVfc3RyaW5nKHJlcGxhY2UoU3RyaW5nKHRha2UhKGlvKSksIHIiIiJIVE1Me1N0cmluZ31cKFwiKC4qKVwiXCkiIiIgPT4gcyJcMSIpLCAnJCcpCgllbmQKCSooaDE6OkRvY3MuSFRNTHtTdHJpbmd9LCBoMjo6RG9jcy5IVE1Me1N0cmluZ30pID0gCgkJRG9jcy5IVE1MKCooaDEuY29udGVudCwgaDIuY29udGVudCkpIAoJKihoOjpEb2NzLkhUTUx7U3RyaW5nfSwgczo6VW5pb257QWJzdHJhY3RDaGFyLCBBYnN0cmFjdFN0cmluZ30pID0gCgkJRG9jcy5IVE1MKCooaC5jb250ZW50LCBzKSkgCgkqKHM6OlVuaW9ue0Fic3RyYWN0Q2hhciwgQWJzdHJhY3RTdHJpbmd9LCBoOjpEb2NzLkhUTUx7U3RyaW5nfSkgPSAKCQlEb2NzLkhUTUwoKihzLCBoLmNvbnRlbnQpKSAKCQkjIOKGkiBodHRwczovL2dpdGh1Yi5jb20vSnVsaWFMYW5nL2p1bGlhL2Jsb2IvbWFzdGVyL2Jhc2UvZG9jcy91dGlscy5qbAoJCSMjIyBOb3RlIGZyb20gZnV0dXJlIDogYWRkIHRoaXMgdG8gRG9jcy5UZXh0IChhcyBEb2NzLkhUTUwpID8KICAgIAojIGJlZ2luICMjIyMgQW5jaWVubmUgdGVudGF0aXZlIHNpbXBsZSBtYWlzIG5vbiBjb25jbHVhbnRlICMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJIyBpbXBvcnQgQmFzZTogKgoJIyBmdW5jdGlvbiBwcmludE5wYXJzZShtZDEsIG1kMikKCQkjIGlvTUQgPSBJT0J1ZmZlcigpCgkJIyBwcmludChpb01ELCBtZDEsIG1kMikKCQkjIHJldHVybiBNYXJrZG93bi5wYXJzZShzZWVrc3RhcnQoaW9NRCkpCgkjIGVuZAoJIyAqKG1kMTo6TWFya2Rvd24uTUQsIG1kMjo6VW5pb257QWJzdHJhY3RDaGFyLCBBYnN0cmFjdFN0cmluZ30pID0gcHJpbnROcGFyc2UobWQxLCBtZDIpCgkjICoobWQxOjpVbmlvbntBYnN0cmFjdENoYXIsIEFic3RyYWN0U3RyaW5nLCBNYXJrZG93bi5NRH0sIG1kMjo6TWFya2Rvd24uTUQpID0gcHJpbnROcGFyc2UobWQxLCBtZDIpCgoJIyAqKG1kOjpNYXJrZG93bi5NRCwgaDo6RG9jcy5IVE1MKSA9IE1hcmtkb3duLk1EKHZjYXQobWQuY29udGVudCwgaCkpCgkjICooaDo6RG9jcy5IVE1MLCBtZDo6TWFya2Rvd24uTUQpID0gTWFya2Rvd24uTUQodmNhdChoLCBoLmNvbnRlbnQpKQoJIyAqKGgxOjpEb2NzLkhUTUx7U3RyaW5nfSwgaDI6OkRvY3MuSFRNTHtTdHJpbmd9KSA9IERvY3MuSFRNTCgqKGgxLmNvbnRlbnQsIGgyLmNvbnRlbnQpKQoJIyMgTm90IGdvb2QgZm9yIG1kIiIiICQoaHRtbCJ0aGF0IikgIiIiCiMgZW5kCmVuZCA9IwplbmQ7IG5vdGhpbmc7ICMgc3R5bMOpbMOgYmFzYXZlY2JvbnVzISAjIyB2b2lyIGp1c3RlIGRhbnMgbGEgY2VsbHVsZSAjQm9udXMgYXUgZGVzc3VzIOKGkQojIFZvaWzDoCAhIGZpbiBkZSBsYSBwbHVwYXJ0IGR1IGNvZGUgZGUgY2UgcHJvZ3JhbW1lIFBsdXRva3UuamyrY29kZV9mb2xkZWTD2SRhYmRlMDAwOS0wMDA4LTAwMDktMDAwOC0wMDA5ZGFiZTAwMDiEp2NlbGxfaWTZJGFiZGUwMDA5LTAwMDgtMDAwOS0wMDA4LTAwMDlkYWJlMDAwOLBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2gXPaWYgIWlzYSh2b2lyT3VQYXMsIFN0cmluZykgfHwgdm9pck91UGFzID09ICLwn6SrwqBDYWNow6llIgoJTWFya2Rvd24ucGFyc2UoICIjIyMjIyMg8J+kkCBDZWxhIGVzdCBjYWNow6kgcG91ciBsZSBtb21lbnQgY29tbWUgZGVtYW5kw6lcbiIgKiAoIHN1ZG9rdVNvbHV0aW9uVnVlIGlzYSBTdHJpbmcgPyAiTWFsY2hhbmNlICEiIDogIkJvbm5lIGNoYW5jZSAhIiApICogCiIgU2kgYmVzb2luLCBjb2NoZXIgYPCfpKvCoENhY2jDqWVgIHBvdXIgcmV2b2lyIGNldHRlIGluZm9ybWF0aW9uwqA6IAoKYEVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmYCBkZSBjaGFxdWUgY2FzZeKAplxcCl8ocGV0aXQgdHJ1Y8KgOiBsZXMgY2hpZmZyZXMgZW4gYmxldSByw6llZmZhY2VudCB0b3V0KV8KCiAgIC0gYOKApnBhcsKgY2hpZmZyZWAgZXQgc2kgcG9zc2libGXCoDogaGF1dMKgZ2F1Y2hlwqA9wqAxIGF1IGJhc8KgZHJvaXRlwqA9wqA5wqAoY2VudHJlwqBkZcKgbGHCoGNhc2XCoD3CoDUpCiAgIC0gYOKApnBhcsKgY2FzZcKg8J+UomAgbCdlbnNlbWJsZcKgZGVzIGNoaWZmcmVzIHBvc3NpYmxlcyAoZGUgdG91dGUgbGEgY2FzZSkKICAgLSBg4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclClgIGZhaXQgbGUgY29tcHRlIGV0IGNlbGxlKHMpIGF2ZWPCoOKclCAoZW4gcGxhY2UgZHXCoDkpIG9udCBsYSBzb21tZcKgbWluaW1hbGUKICAgLSBzZXVsIGDigKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpYCBtb250cmUgZGVzIGNoaWZmcmVzIGR1IHN1ZG9rdSBmaW5pCgpPbiBwZXV0IGBQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmYCBkZSBsYSBzb3VzLWNhdMOpZ29yaWUgY2hvaXNpZQoKRW5maW4sIGlsIHkgYSBkZXV4IG9wdGlvbnPCoDogIApgQ2Fyb2xpZ25lwqDimpRgIHBvdXIgbGVzIGNhc2VzIGxpw6llcyAoY2FycsOpLCBjb2xvbm5lLCBsaWduZSnCoDsgXFwKb3UgYENvY2hlcsKgaWNpLCBwdWlzIHRvdWNoZXIgbGUgY2hpZmZyZSDDoCBtZXR0cmUgZGFucyBsZSBTdWRva3XCoGluaXRpYWxgIiApCmVsc2VpZiBQcm9wYWxPdVNvbHVjZSA9PSAi4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqSIgIyB8fCBQcm9wYWxPdVNvbHVjZSBpc2EgTWlzc2luZwoJCWh0bWxTdWRva3Uoc3Vkb2t1U29sdXRpb25WdWUsYmluZEpTdWRva3UgOyB0b3V0Vm9pcj0gKHZvaXJPdVBhcz09IlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiKSApCmVsc2UgaHRtbFN1ZG9rdVByb3BhbChiaW5kSlN1ZG9rdSxzdWRva3VTb2x1dGlvblZ1ZSA7IHRvdXRWb2lyPSAodm9pck91UGFzPT0iUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApiIpLCBwYXJDYXNlPSAoUHJvcGFsT3VTb2x1Y2UgPT0i4oCmcGFywqBjYXNlwqDwn5SiIiksIHNvbW1lPSAoUHJvcGFsT3VTb2x1Y2U9PSLigKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKSIpKQplbmSrY29kZV9mb2xkZWTD2SRhYmRlMDAxMC0wMDA5LTAwMTAtMDAwOS0wMDEwZGFiZTAwMDmEp2NlbGxfaWTZJGFiZGUwMDEwLTAwMDktMDAxMC0wMDA5LTAwMTBkYWJlMDAwObBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2imDc3R5bMOpbMOgYmFzYXZlY2JvbnVzID0gIz0gc3R5bGUgQ1NTIHBvdXIgbGUgc3Vkb2t1SFRNTCwgbGUgY29kZSBwcmluY2lwYWwgZXN0IGRhbnMgbGEgY2VsbHVsZSBjYWNow6llIHRvdXQgZW4gYmFzLCBqdXN0ZSBhcHLDqHMgbGEgY2VsbHVsZSB2aWRlIF9gRW50ZXLCoGNlbGzCoGNvZGUuLi5gXyIgPSMgRG9jcy5IVE1MKHJhdyIiIjxzdHlsZT4gLyogUG91ciBsZXMgYm91dG9ucyBldCAnY29kZScgKi8KCWlucHV0W3R5cGU9ImJ1dHRvbiIgaV0gewoJCWJhY2tncm91bmQtY29sb3I6ICNhYWE7CgkJY29sb3I6IGJsYWNrOwoJCWJvcmRlcjogMnB4IG91dHNldCAjYmJiOwoJCWJvcmRlci1yYWRpdXM6IDJweDt9CglpbnB1dFt0eXBlPSJidXR0b24iIGldOmhvdmVyLAoJaW5wdXRbdHlwZT0iYnV0dG9uIiBpXTphY3RpdmV7CgkJYmFja2dyb3VuZC1jb2xvcjogIzc3NzsKCQljb2xvcjogd2hpdGU7CgkJYm9yZGVyOiAycHggc29saWQgIzc3Nzt9CgkvLyBwbHV0by1vdXRwdXQucmljaF9vdXRwdXQgY29kZSB7Ym9yZGVyOiBzb2xpZCAxcHggIzliOWY5ZjsgLyovIGNvbnRvdXIgZmluIC8qL30KCXBsdXRvLW91dHB1dC5yaWNoX291dHB1dCBjb2RlIHtib3JkZXI6IHNvbGlkIDFweCB2YXIoLS1ydWxlLWNvbG9yLCM3Nzc3NzcyNik7fQovKiBhdXRyZXMgYmlkb3VpbGxlcyAqLwoJI3RhaWRlLCAjdGVzZm9vdCwgI3ZhX2V0X3ZpZW50IHt1c2VyLXNlbGVjdDogbm9uZTt9Cgkjc3Vkb2t1ZmluaSwgI2NvcGllZmluaWUge2N1cnNvcjogcG9pbnRlcjt9IC8qLyBkb2lndCBldCBub24gc291cmlzIC8qLwoJaW5wdXRbdHlwZT0icmFkaW8iIGldIHttYXJnaW46IDNweCAzcHggM3B4IDA7fQoJLnBhc2xhLCAubWFpc3Rlc291eyAvKiB2aXNpYmlsaXR5OiBoaWRkZW47ICovIGZpbHRlcjogb3BhY2l0eSg2MiUpIGJsdXIoMnB4KTt9Cgl0ciNsaWduZW5vbnZpc2libGUge2JvcmRlci10b3A6IGhpZGRlbjt9CglwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhIC5ydW5jZWxsIHtkaXNwbGF5OiBub25lO30KCS8qIHBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEsICovCgkvKiAjYWJkZTAwMDktMDAwOC0wMDA5LTAwMDgtMDAwOWRhYmUwMDA4ID4gcGx1dG8tcnVuYXJlYSwgKi8KCSNhYmRlMDAwNi0wMDA0LTAwMDYtMDAwNC0wMDA2ZGFiZTAwMDQgPiBwbHV0by1ydW5hcmVhIHsKCSAgICBkaXNwbGF5OiBibG9jazsKCQliYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDsKCSAgICBvcGFjaXR5OiAxO30KLyogUG91ciBsZSBzdWRva3UgaW5pdGlhbCAqLwoJdGFibGUuc3Vkb2tvb2wgewoJCWJvcmRlcjogaGlkZGVuOwoJCW1hcmdpbi1ibG9jay1zdGFydDogMDsKCQltYXJnaW4tYmxvY2stZW5kOiAwO30KCXRhYmxlLnN1ZG9rb29sIHRyIHtib3JkZXI6MDt9Cgl0YWJsZS5zdWRva29vbCB0ci50cm9pc3Ige2JvcmRlci10b3A6IHRoaWNrIHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCB7CgkJYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCM3NzcpOyAKCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudHJvaXNkIHtib3JkZXItbGVmdDogdGhpY2sgc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCBpbnB1dCB7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMTAwJTsKCQloZWlnaHQ6IDEwMCU7CgkJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CgkJYm9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuZGFtaWVyewoJCWJhY2tncm91bmQtY29sb3I6IHZhcigtLXJ1bGUtY29sb3IsIzc3Nzc3NzI2KTsgfSAvKiAjNzc3IG91ICM3Nzc3NzcgYWRvdWNpICovCi8qIFBvdXIgbGUgcsOpc3VsdGF0IG91IGFpZGUgKi8KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIHsKCQl1c2VyLXNlbGVjdDogbm9uZTsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiAxNHB0OwoJCXdpZHRoOiAzOHB4OwoJCWhlaWdodDogMzhweDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5pbmkgewoJCWZvbnQtd2VpZ2h0OiBib2xkOwoJCWNvbG9yOiB2YXIoLS1jbS12YXItY29sb3IsICNhZmI3ZDMpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmluaS5ncmlzLCAKCXRhYmxlLnN1ZG9rb29sbWluaSB0ZC52aWRlLmluaSB7CgkJZm9udC1zdHlsZTogaXRhbGljOwoJCWNvbG9yOiB2YXIoLS1jbS12YXItY29sb3IsICNhZmI3ZDMpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLnZpZGUge2NvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgI2Y5OWIxNSk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuY2FjaMOpZSB7Y29sb3I6IHRyYW5zcGFyZW50O30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmdyaXMge2NvbG9yOiAjNzc3OyBmb250LXN0eWxlOiBpdGFsaWM7fQovKlBvdXIgbGUgcsOpc3VsdGF0bWluaSBvdSBhaWRlbWluaSovCgl0YWJsZS5zdWRva29vbG1pbmkgewoJCWJvcmRlcjogaGlkZGVuICFpbXBvcnRhbnQ7CgkJbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwoJCW1hcmdpbi1ibG9jay1lbmQ6IDA7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyLAoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHtib3JkZXI6MCAhaW1wb3J0YW50O30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogNy40OTk5OXB0OwoJCXdpZHRoOiAxMnB4OwoJCWhlaWdodDogMTEuNjcxODdweDsgCgkJCWNvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgI2Y5OWIxNSk7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkLmNhY2jDqWUge2NvbG9yOiB0cmFuc3BhcmVudDt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQuZ3JpcyB7Y29sb3I6ICM3Nzc7IGZvbnQtc3R5bGU6IGl0YWxpYzt9Cjwvc3R5bGU+IiIiKTsgcG91cnZvaXJwbHV0w7R0ID0gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQ+Ci8vIGNvbnN0IHBsdXTDtHRzdHlsw6kgPSBgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuL2hpZGUtdWkuY3NzIj48c3R5bGUgaWQ9ImNhY2jDqW1vaXBsdXTDtHQiPgpjb25zdCBwbHV0w7R0c3R5bMOpID0gYDxzdHlsZSBpZD0iY2FjaMOpbW9pcGx1dMO0dCI+Cm1haW4gewogICAgLy8gbWFyZ2luLXRvcDogMjBweDsKICAgIGN1cnNvcjogYXV0bzsKCW1hcmdpbjogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgLy8gcGFkZGluZy1ib3R0b206IDRyZW0gIWltcG9ydGFudDt9Cm5hdiwgaGVhZGVyLCBwcmVhbWJsZSwgcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCwKYm9keSA+IGhlYWRlciwgcHJlYW1ibGUgPiBidXR0b24sIHBsdXRvLWNlbGwgPiBidXR0b24sIHBsdXRvLWlucHV0ID4gYnV0dG9uLApmb290ZXIsIHBsdXRvLXJ1bmFyZWEsICNoZWxwYm94LXdyYXBwZXIgewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30KcGx1dG8tc2hvdWxkZXIgewoJdmlzaWJpbGl0eTpoaWRkZW47fQpwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhLApwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwoJYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7fQoKQG1lZGlhIHNjcmVlbiBhbmQgKGFueS1wb2ludGVyOiBmaW5lKSB7CiAgICBwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICAgICAgLy8gb3BhY2l0eTogMC41OwogICAgICAgIG9wYWNpdHk6IDA7IC8qIHRvIG1ha2UgaXQgZmVlbCBzbW9vdGg6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjI1cyBlYXNlLWluLW91dDsKICAgIH0KICAgIHBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhID4gYnV0dG9uOmhvdmVyID4gc3BhbiwKICAgIHBsdXRvLWNlbGw6aG92ZXIgPiBwbHV0by1ydW5hcmVhID4gc3BhbiB7CiAgICAgICAgLy8gLyogYXZhbnQgKi8gb3BhY2l0eTogMTsKICAgICAgICBvcGFjaXR5OiAwLjU7IC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlLWluLW91dDsKICAgIH0KICAvLyAgcGx1dG8tY2VsbCA+IHBsdXRvLXNob3VsZGVyID4gYnV0dG9uOmhvdmVyIHsKICAvLyAgICAgIG9wYWNpdHk6IDA7IC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgLy8gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogIC8vICB9IAp9IAo8L3N0eWxlPmA7CmZ1bmN0aW9uIGNvb2xvdXBhcygpIHsgCgl2YXIgQk4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKTsKCWlmIChCTi5pbm5lckhUTUwgPT0gIvCfmIkiKSB7IEJOLmlubmVySFRNTCA9ICLwn5iOIjt9IGVsc2UgeyBCTi5pbm5lckhUTUwgPSAi8J+YiSI7fTsKfTsKLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKCnZhciBzdHlsw6ljYWNow6kgPSBodG1sYDxzcGFuIGlkPSdzdHlsw6knPiR7cGx1dMO0dHN0eWzDqX08L3NwYW4+YDsKLy8gdmFyIHN0eWzDqWNhY2jDqSA9IGh0bWxgPHNwYW4gaWQ9J3N0eWzDqSc+PC9zcGFuPmA7IC8vIGFuY2llbm5lIGJpZG91aWxsZSAvLy8vCiIiIiAqIChwbHV0w7R0dm9pciA/ICJ2YXIgc3R5bMOpY2FjaMOpID0gaHRtbGA8c3BhbiBpZD0nc3R5bMOpJz48L3NwYW4+YDsiIDogIiIpICogcmF3IiIiCmZ1bmN0aW9uIHN0eWzDqW91cGFzKCkgeyAKCXZhciBzdHlsw6kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R5bMOpIik7Cgl2YXIgY2FjaMOpbW9pcGx1dMO0dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYWNow6ltb2lwbHV0w7R0Iik7CglpZiAoY2FjaMOpbW9pcGx1dMO0dCkgeyAKCQlzdHlsw6kuaW5uZXJIVE1MID0gJyc7Cgl9IGVsc2UgewoJCXN0eWzDqS5pbm5lckhUTUwgPSBwbHV0w7R0c3R5bMOpOwoJfTsKfTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsdXRvdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc3R5bMOpb3VwYXMpOwpyZXR1cm4gc3R5bMOpY2FjaMOpOwo8L3NjcmlwdD4iIiIpOyBjYWxlcGluID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwucmVwbGFjZSgnaHRtbCcsICdqbCcpIDogZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2VkaXQnLCAnbm90ZWJvb2tmaWxlJyl9IHRhcmdldD0nX2JsYW5rJyBkb3dubG9hZD4ke2RvY3VtZW50LnRpdGxlLnJlcGxhY2UoJ/CfjoggJywnJykucmVwbGFjZSgn4oCUIFBsdXRvLmpsJywnJyl9PC9hPmA7PC9zY3JpcHQ+Iik7IGNhbGV3ZWIgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+cmV0dXJuIGh0bWxgPGEgaHJlZj0ke2RvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSA/IGRvY3VtZW50LlVSTCA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZXhwb3J0Jyl9IHRhcmdldD0nX2JsYW5rJyBzdHlsZT0nZm9udC13ZWlnaHQ6IG5vcm1hbDsnIGRvd25sb2FkPkhUTUw8L2E+YDs8L3NjcmlwdD4iKTsgcGx1dG9vamwgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+aWYgKGRvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSkgewoJcmV0dXJuIGh0bWxgPGVtPlBsdXRvLmpsPC9lbT5gCiAgICB9IGVsc2UgeyByZXR1cm4gaHRtbGA8YSBocmVmPScuLycgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXdlaWdodDogbm9ybWFsOyc+PGVtPlBsdXRvPC9lbT48L2E+PGVtPi5qbDwvZW0+YH08L3NjcmlwdD4iKTsgcG91cmdhcmRlcmxldGVtcHMgPSBEb2NzLkhUTUwocmF3IiIiPHNjcmlwdD5mdW5jdGlvbiBnw6luw6lyYXRldXJEZUNvZGVDbMOpKCkgewoJdmFyIGNvcHlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBvdXItZMOpZmluaXItbGUtc3Vkb2t1LWluaXRpYWwiKTsKCXZhciBwYXN0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJY29weVRleHQudmFsdWUgPSAndmlldXhTdWRva3UhKCcgKyBwYXN0ZXh0LmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgKyAnKSc7Cgljb3B5VGV4dC5zZWxlY3QoKTsKCW5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvcHlUZXh0LnZhbHVlKTsgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2zDqWfDqW4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGfDqW7DqXJhdGV1ckRlQ29kZUNsw6kpOwoJCnZhciBlZGl0Q1NTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKZWRpdENTUy5pZCA9ICJ0b3VzbGVzdGVtcHMiOwp2YXIgdG9nZ2zDqSA9ICIwIjsKCmxldCB0b3VzbGVzdGVtcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJydW50aW1lIik7Ci8vIHRvdXNsZXN0ZW1wcy5mb3JFYWNoKCBlID0+IHsgLy8gbmUgZm9uY3Rpb25uZSBwYXMgOicoCmZvcihsZXQgaj0wOyBqPChPYmplY3Qua2V5cyh0b3VzbGVzdGVtcHMpLmxlbmd0aCk7IGorKyl7Cgl0b3VzbGVzdGVtcHNbal0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewoJCS8vIGFsZXJ0KGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoIm9wYXF1ZW91cGFzIikpOwoJCXZhciBzdHlsw6l0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdXNsZXN0ZW1wcyIpOwoJCXRvZ2dsw6kgPSAodG9nZ2zDqT09IjAiKSA/ICIwLjciIDogIjAiIDsKCQlzdHlsw6l0LmlubmVySFRNTCA9ICJwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7IG9wYWNpdHk6ICIrIHRvZ2dsw6kgKyAiOyB9IjsKCX0pOwp9OwpyZXR1cm4gZWRpdENTUzsKPC9zY3JpcHQ+IiIiKTsgYm9udXNldGFzdHVjZXMgPSBtZCIiIiQoaHRtbCI8ZGV0YWlscyBvcGVuPjxzdW1tYXJ5IHN0eWxlPSdsaXN0LXN0eWxlOiBub25lOyc+PGg0IGlkPSdCb251cycgc3R5bGU9J21hcmdpbi10b3A6IDE3cHg7IHVzZXItc2VsZWN0OiBub25lOyc+Qm9udXPCoDogbGUgc3Vkb2t1IGVuIGNvdXJzIHBvdXIgcGx1c8KgdGFyZOKApjwvaDQ+PC9zdW1tYXJ5PiIpIApKZSBjb25zZWlsbGUgZGUgZ2FyZGVyIGxlIGNvZGUgZHUgc3Vkb2t1IGVuIGNvdXJzIChlbiBjbGlxdWFudCwgbGEgY29waWUgZXN0IGF1dG9tYXRpcXVlwqDinKgpIAokKGh0bWwiPGlucHV0IHR5cGU9YnV0dG9uIGlkPSdjbMOpZ8OpbicgdmFsdWU9J0NvcGllciBsZSBjb2RlIMOgIGdhcmRlciA6KSc+PGlucHV0IGlkPSdwb3VyLWTDqWZpbmlyLWxlLXN1ZG9rdS1pbml0aWFsJyB0eXBlPSd0ZXh0JyBzdHlsZT0nZm9udC1zaXplOiB4LXNtYWxsOyBtYXJnaW4tcmlnaHQ6IDZweDsgbWF4LXdpZHRoOiAzOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ydWxlLWNvbG9yLCM3Nzc3NzcyNik7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMCA4cHggOHB4IDA7IGZpbHRlcjogb3BhY2l0eSg4OSUpOycgLz4iKSAqKk5vdGUqKsKgOsKgw6DCoGNvbGxlcsKgYWlsbGV1cnMgZGFucyB1biBibG9jLW5vdGVzIHBhciBleGVtcGxlIAoKIyMjIyMg4oCmw6AgcmV0cm91dmVyIGNvbW1lIGQnYXV0cmVzIHZpZXV4IHN1ZG9rdXPCoDogCkVuc3VpdGUsIGRhbnMgdW5lIChub3V2ZWxsZSkgc2Vzc2lvbiwgY2xpcXVlciBkYW5zIF9gRW50ZXLCoGNlbGzCoGNvZGUuLi5gXyB0b3V0IGVuIGJhc8Kg4oaTIGV0IGNvbGxlciBsZSBjb2RlIHF1aSBmdXQgZ2FyZMOpIChjZi4gbm90ZSBjaS1kZXNzdXMpLgpFbmZpbiwgbGFuY2VyIGxlIGNvZGUgYXZlYyBsZSBib3V0b27CoOKWtyB0b3V0IMOgIGRyb2l0ZSAocXVpIGNsaWdub3RlIGp1c3RlbWVudCkuIApDZSB2aWV1eCBzdWRva3UgZXN0IHJlc3RvcsOpIGVuIHBsYWNlIGR1IF9SZXRvdXIgaW5zdGFudGFuw6nCoCFfIChjZWxhIFtyZXRvdXJuZSBlbsKgaGF1dMKg4oaRXSgjTW9kaWZpZXJJbml0KSkgCgkKJChodG1sIjxkZXRhaWxzIGNsYXNzPSdwbGknIG9wZW4+PHN1bW1hcnkgc3R5bGU9J21hcmdpbi1ib3R0b206IC0xM3B4OyBsaXN0LXN0eWxlOiBub25lOyc+PGg1IGlkPSdCb251c0FzdHVjZXMnIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsgdXNlci1zZWxlY3Q6IG5vbmU7Jz4gQXV0cmVzIGFzdHVjZXPCoDo8L2g1Pjwvc3VtbWFyeT48c3R5bGU+ZGV0YWlsc1tvcGVuXS5wbGkgPiBzdW1tYXJ5OjphZnRlciB7Y29udGVudDogJyAoY2xpcXVlciBpY2kgcG91ciBsZXMgY2FjaGVyKSc7IGZvbnQtc3R5bGU6IGl0YWxpYzt9IGRldGFpbHMucGxpID4gc3VtbWFyeTpub3QoZGV0YWlsc1tvcGVuXS5wbGkgPiBzdW1tYXJ5KTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIHJldm9pciknOyBmb250LXN0eWxlOiBpdGFsaWM7fSBkZXRhaWxzLnBsaSA+IHN1bW1hcnk6bm90KGRldGFpbHNbb3Blbl0ucGxpID4gc3VtbWFyeSl7bWFyZ2luLWJvdHRvbTogMCAhaW1wb3J0YW50O308L3N0eWxlPiIpCiAgIDEuIE1vZGlmaWVyIGxlIHByZW1pZXIgc3Vkb2t1ICjDoCB2aWRlciBzaSBiZXNvaW4sIGdyw6JjZSBhdSBwcmVtaWVyIGNob2l4KSBldCBjb2NoZXIgZW5zdWl0ZSBjZSBxdWUgbCdvbiBzb3VoYWl0ZSB2b2lyIGNvbW1lICoqYWlkZSBvdSBzb2x1dGlvbioqwqA7IGxlIHN1ZG9rdSBkdSBkZXNzb3VzIHLDqXBvbmQgYWluc2kgYXV4IG9yZHJlcy4gQ29jaGVyIGDwn6SrwqBDYWNow6llYCBwb3VyIHJldm9pciBkZXMgaW5kaWNhdGlvbnMgc3VyIGwnZW1wbG9pIGRlcyBjYXNlcyAKICAgMi4gSWwgZXN0IHBvc3NpYmxlIGRlIGJvdWdlciBhdmVjIGxlcyBmbMOoY2hlcywgYWxsZXIgw6AgbGEgbGlnbmUgc3VpdmFudGUgYXV0b21hdGlxdWVtZW50ICjDoCBsYSBfW1NuYWtlXShodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPVNuYWtlKV8pLiBJbCB5IGEgYXVzc2kgZGVzIHJhY2NvdXJjaXMsIGNvbW1lIGBIYMKgPcKgaGF1dCwgYFZgIG91IGBHYMKgPcKgZ2F1Y2hlLCBgRGAgYEpgIGBOYMKgPcKgZHJvaXRlLCBgQmDCoD3CoGJhcy4gTmkgYmVzb2luIGRlIHBhdsOpIG51bcOpcmlxdWUsIG5pIGQnYXBwdXllciBzdXIgX01hanVzY3VsZV8sIGxlcyB0b3VjaGVzIHN1aXZhbnRlcyBzb250IGlkZW5kaXF1ZXMgYDEyMzTCoDU2N8KgODkwYCA9IGBBWkVSwqBUWVXCoElPUGAgPSBgJsOpIifCoCgtw6jCoF/Dp8OgYCAKICAgMy4gT24gcGV1dCAqKnJlbW9udGVyIGxhIHNvbHV0aW9uKiogYXUgbGlldSBkdSBwcmVtaWVyIHN1ZG9rdSBlbiBjbGlxdWFudCBzdXIgbGUgdGV4dGUgW1N1ZG9rdSBpbml0aWFswqDipLTigKZdKCN2YV9ldF92aWVudCkgZXQgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBpbml0aWFsIG1vZGlmaWFibGUgW+KGqsKgQ2xpcXVlcuKApl0oI2xpZ25lbm9udmlzaWJsZSnCoHN1ciBsZSB0ZXh0ZSBxdWkgYXBwYXJhaXQganVzdGUgZW4gZGVzc291cyAKICAgNC4gUG91ciBpbmZvcm1hdGlvbiwgbGEgZm9uY3Rpb24gKip2aWV1eFN1ZG9rdSEqKigpLCBvdSAqKnZpZXV4ISoqKCkgb3UgKip2cyoqKCksIHNhbnMgcGFyYW3DqHRyZSBwZXJtZXQgZGUgZ8OpbsOpcmVyIHVuIHN1ZG9rdSBhbMOpYXRvaXJlLiBFbiBtZXR0YW50IHVuIG5vbWJyZSwgcGFyIGV4ZW1wbGUgKip2aWV1eFN1ZG9rdSEoNjIqKinCoDogY2Ugc2VyYSBsZSB0b3RhbCBkZSBjYXNlcyB2aWRlcyBkdSBzdWRva3UgYWzDqWF0b2lyZSBjb25zdHJ1aXQuIEVuZmluLCBlbiBtZXR0YW50IHVuIGludGVydmFsbGUsIHNvdXMgbGEgZm9ybWUgKipkw6lidXTCoDrCoGZpbioqLCBwYXIgZXhlbXBsZSAqKnZpZXV4ISoqKCoqMDo4MSoqKcKgOiB1biBub21icmUgYWzDqWF0b2lyZSBkYW5zIGNldCBpbnRlcnZhbGxlIHNlcmEgdXRpbGlzw6kuIFBvdXIgbGVzIHN1ZG9rdXMgYWzDqWF0b2lyZXMsIGxlIGZhaXQgZGUgcmVjbGlxdWVyIHN1ciBsZSBib3V0b27CoOKWtyBlbiBnw6luw6hyZSB1biBub3V2ZWF1IAogICA1LiBMZSBjb2RlIGRlIGNlIHByb2dyYW1tZSBlbiBbX0p1bGlhX10oaHR0cHM6Ly9mci53aWtpcGVkaWEub3JnL3dpa2kvSnVsaWFfKGxhbmdhZ2VfZGVfcHJvZ3JhbW1hdGlvbikpIGVzdCBvYnNlcnZhYmxlIGVuIGNsaXF1YW50IGQnYWJvcmQgc3VyICQoaHRtbCI8aW5wdXQgdHlwZT1idXR0b24gaWQ9J3BsdXRvdCcgdmFsdWU9J0NlY2nCoPCfk53wn6STJz4iKSBwb3VyIGJhc2N1bGVyIHN1ciBsJ2ludGVyZmFjZSBkZSAkcGx1dG9vamwsIHB1aXMgZW4gY2xpcXVhbnQgc3VyIGwnxZNpbCDwn5GBIMOgIGPDtHTDqSBkZSBjaGFxdWUgY2VsbHVsZS4gSWwgZXN0IGF1c3NpIHBvc3NpYmxlIGRlIHTDqWzDqWNoYXJnZXIgY2UgY2FsZXBpbiAkY2FsZXBpbiBvdSBlbiAkY2FsZXdlYgokKGh0bWwiPC9kZXRhaWxzPjwvZGV0YWlscz4iKQokcG91cnZvaXJwbHV0w7R0IAokc3R5bMOpbMOgYmFzYXZlY2JvbnVzCiRwb3VyZ2FyZGVybGV0ZW1wcyIiIqtjb2RlX2ZvbGRlZMPZJGFiZGUwMDAzLTAwMDMtMDAwMy0wMDAzLTAwMDNkYWJlMDAwM4SnY2VsbF9pZNkkYWJkZTAwMDMtMDAwMy0wMDAzLTAwMDMtMDAwM2RhYmUwMDAzsHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXZyW1kIiIiUG91ciBjZXR0ZSBzZXNzaW9uLCBzaSBiZXNvaW4gZCd1biA6ICQoQGJpbmQgYm91dG9uU3Vkb2t1SW5pdGlhbCBodG1sIjxpbnB1dCB0eXBlPWJ1dHRvbiBzdHlsZT0nbWFyZ2luOiAwIDZweCAwIDZweCcgdmFsdWU9J/Cfk7cgaW5zdGFudGFuw6kgOyknPiIpIF8oc2nCoHN1ZG9rdcKgdmlkZcKg4oaSwqBzdWRva3XCoGFsw6lhdG9pcmUpXyIiIqtjb2RlX2ZvbGRlZMPZJGFiZGUwMDA1LTAwMDUtMDAwNS0wMDA1LTAwMDVkYWJlMDAwNYSnY2VsbF9pZNkkYWJkZTAwMDUtMDAwNS0wMDA1LTAwMDUtMDAwNWRhYmUwMDA1sHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXZ9mJlZ2luCgljaG9peFN1ZG9rdSA9ICghaXNhKHZpZGVyT3VwYXMsIFN0cmluZykgfHwgdmlkZXJPdXBhcyAhPSAiVmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwiID8gIDIgIDogIDEgICkgIyBQb3VyIHNpbXBsaWZpZXIgbCdpbmZvIGR1IGNob2l4IChleHBsaWNhdGlvbiBudWxsZSA6KQoJQGJpbmQgYmluZEpTdWRva3UgQm9uZEphbWVzQm9uZChTdWRpbmkoU3Vkb2t1TcOpbW8sIGNob2l4U3Vkb2t1KSwgU3Vkb2t1TcOpbW9bM10pCmVuZKtjb2RlX2ZvbGRlZMPZJGFiZGUwMDEwLTAwMTAtMDAxMS0wMDEwLTAwMTFkYWJlMDAxMISnY2VsbF9pZNkkYWJkZTAwMTAtMDAxMC0wMDExLTAwMTAtMDAxMWRhYmUwMDEwsHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGWgq2NvZGVfZm9sZGVkwtkkYWJkZTAwMDgtMDAwNy0wMDA4LTAwMDctMDAwOGRhYmUwMDA3hKdjZWxsX2lk2SRhYmRlMDAwOC0wMDA3LTAwMDgtMDAwNy0wMDA4ZGFiZTAwMDewcnVubmluZ19kaXNhYmxlZMKkY29kZdoEnG1kIiIiJChAYmluZCB2b2lyT3VQYXMgQm9uZEphbWVzQm9uZChwdWNlcyhbIvCfpKvCoENhY2jDqWUiLCAiRW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKYiLCAiUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApiJdLCLwn6SrwqBDYWNow6llIjsgaWRQdWNlcz0iQ2FjaGVyUsOpc3VsdGF0IiksICLwn6SrwqBDYWNow6llIikgKSAKCiQoaHRtbCI8ZGl2IHN0eWxlPSdib3JkZXItYm90dG9tOiAycHggZG90dGVkIHZhcigtLXJ1bGUtY29sb3IsIzc3Nyk7Jz48L2Rpdj4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKJChAYmluZCBQcm9wYWxPdVNvbHVjZSBCb25kSmFtZXNCb25kKHB1Y2VzKFsi4oCmcGFywqBjaGlmZnJlIiwgIuKApnBhcsKgY2FzZcKg8J+UoiIsICLigKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKSIsICLigKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpIl0sICLigKZwYXLCoGNoaWZmcmUiOyBpZFB1Y2VzPSJQb3NzaWJsZXNFdFNvbHV0aW9uIiwgY2xhc3NlPSJwYXNsYSIgKSwgIuKApnBhcsKgY2hpZmZyZSIpICkgCgokKGh0bWwiPGRpdiBpZD0nZGl2ZXJzJyBjbGFzcz0ncGFzbGEnIHN0eWxlPSdtYXJnaW4tdG9wOiA4cHg7IG1hcmdpbi1sZWZ0OiAxJTsgdXNlci1zZWxlY3Q6IG5vbmU7IGZvbnQtc3R5bGU6IGl0YWxpYzsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNzc3Jz48c3BhbiBpZD0ncHVjYXJvbGlnbmUnPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2Nhcm9saWduZScgbmFtZT0nY2Fyb2xpZ25lJz48bGFiZWwgZm9yPSdjYXJvbGlnbmUnIHN0eWxlPSdtYXJnaW4tbGVmdDogMnB4Oyc+Q2Fyb2xpZ25lwqDimpQ8L2xhYmVsPjwvc3Bhbj4KPHNwYW4gaWQ9J3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcgc3R5bGU9J21hcmdpbi1sZWZ0OiA1JSc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2hvaXjDoG1ldHRyZWVuaGF1dCcgbmFtZT0nY2hvaXjDoG1ldHRyZWVuaGF1dCc+PGxhYmVsIGZvcj0nY2hvaXjDoG1ldHRyZWVuaGF1dCcgc3R5bGU9J21hcmdpbi1sZWZ0OiAycHg7Jz5Db2NoZXLCoGljaSwgcHVpcyB0b3VjaGVyIGxlIGNoaWZmcmUgw6AgbWV0dHJlIGRhbnMgbGUgU3Vkb2t1wqBpbml0aWFsPC9sYWJlbD48L3NwYW4+PC9kaXY+IikiIiKrY29kZV9mb2xkZWTD2SRhYmRlMDAwNC0wMDAyLTAwMDQtMDAwMi0wMDA0ZGFiZTAwMDKEp2NlbGxfaWTZJGFiZGUwMDA0LTAwMDItMDAwNC0wMDAyLTAwMDRkYWJlMDAwMrBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2gHWYmVnaW4gCglib3V0b25TdWRva3VJbml0aWFsICMgUmVtZXR0cmUgbGUgcHVjZSAiTW9kaWZpZXJJbml0IiBzdXIgUmV0b3VyIGluc3RhbnRhbsOpIDspCglzdWRva3Vpbml0aWFsISgpICMgdmlldXhTdWRva3UhKFN1ZG9rdU3DqW1vWzNdKSBQb3VyIHJlbXBsYWNlciBwYXIgY2VsdWkgbW9kaWZpw6kKCW1kIiIiICQoQGJpbmQgdmlkZXJPdXBhcyBwdWNlcyhbIlZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsIiwiUmV0b3VyIGluc3RhbnRhbsOpIDspIl0sIlJldG91ciBpbnN0YW50YW7DqSA7KSI7IGlkUHVjZXM9Ik1vZGlmaWVySW5pdCIpKSAkKGh0bWwiwqA8YSBocmVmPScjQm9udXMnIHN0eWxlPSdwYWRkaW5nLWxlZnQ6IDEwcHg7IGJvcmRlci1sZWZ0OiAycHggZG90dGVkIHZhcigtLXJ1bGUtY29sb3IsIzc3Nzc3NzI2KTsnID5Cb251c8KgZW7CoGJhc8Kg4oaTPC9hPiIpwqBfOsKgYXN0dWNlc8KgK8KgdmlldXghXyIiIgplbmSrY29kZV9mb2xkZWTD2SRhYmRlMDAwNi0wMDA0LTAwMDYtMDAwNC0wMDA2ZGFiZTAwMDSEp2NlbGxfaWTZJGFiZGUwMDA2LTAwMDQtMDAwNi0wMDA0LTAwMDZkYWJlMDAwNLBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2gGkYmVnaW4gCglTdWRva3VNw6ltb1szXSA9IGJpbmRKU3Vkb2t1ICMgUG91ciBxdSdpbCByZXN0ZSBlbiBtw6ltb2lyZSDihpIgUmV0b3VyIGluc3RhbnRhbsOpIDspIAoJc3Vkb2t1U29sdXRpb24gPSByw6lzb3V0U3Vkb2t1KGJpbmRKU3Vkb2t1KSAjO25iVG91cnNNYXg9MCkjIGNhbGN1bGUgbGEgc29sdXRpb24KCXN1ZG9rdVNvbHV0aW9uVnVlID0gc3Vkb2t1U29sdXRpb25bMV0gIyBMZSBzdWRva3UgcsOpc29sdSAodm9pciBwbHVzIGxvaW4pCglzdWRva3VTb2x1dGlvblsyXSAjIExhIHBldGl0ZSBleHBsaWNhdGlvbiBzZXVsZSA6ICJTdGF0aXN0aXF1ZXMgOiBjZSBwcm9ncmFtbWXigKYiCmVuZCAjIyBtZXN1cmFibGUgYXZlYyAjIHVzaW5nIEJlbmNobWFya1Rvb2xzOyBAYmVuY2htYXJrIHLDqXNvdXRTdWRva3UoYmluZEpTdWRva3Upq2NvZGVfZm9sZGVkw6tub3RlYm9va19pZNkkNDhlOTkxN2UtMWM0My0xMWVlLTJjNzMtNDdhZGEyOTExMGMzq2luX3RlbXBfZGlywg==";
window.pluto_preamble_html = undefined;
</script>
<!-- [automatically generated launch parameters can be inserted here] -->


    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/editor.js" type="module" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/warn_old_browsers.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/common/SetupMathJax.js"></script>
    <script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg-full.js" async></script>
</head>

<body class="loading no-MÎ±Î¸Jax"></body>
</html>
