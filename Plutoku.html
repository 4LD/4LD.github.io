<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width" />
    <title>âš¡ Pluto.jl âš¡</title>
    <meta charset="utf-8" />
    <script>
        console.log(
            "Pluto.jl, by Fons van der Plas (https://github.com/fonsp), MikoÅ‚aj Bochenski (https://github.com/malyvsen), Michiel Dral (https://github.com/dralletje) and friends ðŸŒˆ"
        )
    </script>
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#2a2928">
    <meta name="color-scheme" content="light dark">

    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-96x96.png" />
    <meta name="description" content="Pluto.jl notebooks" />
    <link rel="pluto-logo-big" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/logo.svg" />
    <link rel="pluto-logo-small" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon_unsaturated.svg" />

    <link rel="pluto-sw" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/sw.js" />
    <script>
        navigator.serviceWorker?.register(document.head.querySelector("link[rel='pluto-sw']").getAttribute("href"), { scope: "./" }).catch(console.warn)
    </script>

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@observablehq/stdlib@3.3.1/dist/stdlib.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/iframe-resizer@4.2.11/js/iframeResizer.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/ansi_up@5.0.1/ansi_up.min.js" defer></script>

    <!-- This doesn't do anything unless activated, and it makes sure parcel bundles this -->
    <script id="iframe-resizer-content-window-script" src="https://cdn.jsdelivr.net/npm/iframe-resizer@4.2.11/js/iframeResizer.contentWindow.min.js" crossorigin="anonymous" defer></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/editor.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/hide-ui.css" type="text/css" media="all" data-pluto-file="hide-ui" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/binder.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/treeview.css" type="text/css" />
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/juliamono.css" as="style" />
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/vollkorn.css" as="style" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/highlightjs.css" type="text/css">

    <script data-pluto-file="launch-parameters">
window.pluto_notebook_id = undefined;
window.pluto_isolated_cell_ids = undefined;
window.pluto_notebookfile = "data:text/julia;charset=utf-8;base64,IyMjIEEgUGx1dG8uamwgbm90ZWJvb2sgIyMjCiMgdjAuMTkuMTYKCnVzaW5nIE1hcmtkb3duCnVzaW5nIEludGVyYWN0aXZlVXRpbHMKCiMgVGhpcyBQbHV0byBub3RlYm9vayB1c2VzIEBiaW5kIGZvciBpbnRlcmFjdGl2aXR5LiBXaGVuIHJ1bm5pbmcgdGhpcyBub3RlYm9vayBvdXRzaWRlIG9mIFBsdXRvLCB0aGUgZm9sbG93aW5nICdtb2NrIHZlcnNpb24nIG9mIEBiaW5kIGdpdmVzIGJvdW5kIHZhcmlhYmxlcyBhIGRlZmF1bHQgdmFsdWUgKGluc3RlYWQgb2YgYW4gZXJyb3IpLgptYWNybyBiaW5kKGRlZiwgZWxlbWVudCkKICAgIHF1b3RlCiAgICAgICAgbG9jYWwgaXYgPSB0cnkgQmFzZS5sb2FkZWRfbW9kdWxlc1tCYXNlLlBrZ0lkKEJhc2UuVVVJRCgiNmU2OTZjNzItNjU0Mi0yMDY3LTcyNjUtNDIyMDZjNzU2MTUwIiksICJBYnN0cmFjdFBsdXRvRGluZ2V0amVzIildLkJvbmRzLmluaXRpYWxfdmFsdWUgY2F0Y2g7IGIgLT4gbWlzc2luZzsgZW5kCiAgICAgICAgbG9jYWwgZWwgPSAkKGVzYyhlbGVtZW50KSkKICAgICAgICBnbG9iYWwgJChlc2MoZGVmKSkgPSBDb3JlLmFwcGxpY2FibGUoQmFzZS5nZXQsIGVsKSA/IEJhc2UuZ2V0KGVsKSA6IGl2KGVsKQogICAgICAgIGVsCiAgICBlbmQKZW5kCgojIOKVlOKVkOKVoSBhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTEKYmVnaW4gCgkjIEBiaW5kIGJpbmRKU3Vkb2t1IFN1ZGluaSAjIGV0IHNvbiBqYXZhc2NyaXB0IGVzdCBpbmNsdXMgYXUgcGx1cyBoYXV0CgkjIHN0eWzDqWzDoGJhc2F2ZWNib251cyEgIyMgdm9pciBqdXN0ZSBkYW5zIGxhIGNlbGx1bGUgI0JvbnVzIGF1IGRlc3N1cyDihpEKCWNvbnN0IMOgY29ycmlnZXIgPSAi8J+YnCBNZXJjaSBkZSBjb3JyaWdlciBsZSBTdWRva3UiLCBtZCIiIiMjIyMjIPCfmJwgTWVyY2kgZGUgcmV2b2lyIGxlIFN1ZG9rdSBtb2RpZmlhYmxlLCBpbCBuJ2VzdCBwYXMgY29uZm9ybWUgOiAKCQlFbiBlZmZldCwgaWwgZG9pdCB5IGF2b2lyICoqdW4gY2hpZmZyZSBlbiBkb3VibGUqKiBhdSBtb2lucyBzdXIgdW5lIGxpZ25lIG91IGNvbG9ubmUgb3UgY2FycsOpIPCfmIQiIiIKCWNvbnN0IGltcG9zc2libGUgPSAi8J+nkCBTdWRva3UgZmF1eCBldCBpbXBvc3NpYmxlIiwgbWQiIiIjIyMjIyDwn6eQIFN1ZG9rdSBmYXV4IGV0IGltcG9zc2libGUgw6AgcsOpc291ZHJlIDoKCQlTaSBjZSBuJ2VzdCBwYXMgbGUgY2FzLCByZXbDqXJpZmllciBsZSBTdWRva3UgbW9kaWZpYWJsZSwgY2FyIGNlbHVpLWNpIG4nYSBwYXMgZGUgc29sdXRpb24iIiIKCXRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKSA9IG1hdHJpY2XDoGxpc3RlSlMobVMpLCBtZCIqKlN0YXRpc3RpcXVlc8KgOioqIGNlIHByb2dyYW1tZSBmYWl0ICoqJG5iQ2hvaXhmYWl0IGNob2l4KiogZXQgXyRuYlRvdXJzVG90YWwgJCgobmJUb3Vyc1RvdGFsPjEpID8gOnRvdXJzIDogOnRvdXIpXyBwb3VyIHLDqXNvdWRyZSBjZSBzdWRva3UiCgljb25zdCBmb290aXggPSAiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXNmb290XCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNsaWNrXCIpKSIKCQoJY29uc3Qgc2V0MTkgPSBTZXQoMTo5KSAjIFBvdXIgbmUgcGFzIGxlIHJlY2FsY3VsZXIgw6AgY2hhcXVlIGZvaXMKCWNvbnN0IGNvb2wgPSBodG1sIjxzcGFuIGlkPSdCTicgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyc+8J+Yjjwvc3Bhbj4iCglqc3ZkKCkgPSBmaWxsKGZpbGwoMCw5KSw5KSAjIEpTdmlkZSBvdSBKQ1ZEIF5eIHBzZXVkbyBjb25zdAoJdXNpbmcgUmFuZG9tOiBzaHVmZmxlISAjIEFzdHVjZSBwb3VyIMOqdHJlIGVuY29yZSBwbHVzIHJhcGlkZSA9IEZhc3QgJiBGdXJpb3VzCgkjIyBzaHVmZmxlISh4KSA9IHggIyMgU2kgYmVzb2luLCBtYWlzLi4uIEV2ZXJ5ZGF5IEkgc2h1ZmZsaW5nICEgKGRpeGl0IExNRkFPKQoJCglzdHJ1Y3QgQm9uZEphbWVzQm9uZCAjIyBCb25kRGVmYXVsdChlbGVtZW50LCBkZWZhdWx0KSAjIyMgcG91ciBCYXNlLmdldCgpIGV0IEBiaW5kCgkJb283ICMgZWxlbWVudCAJIAkJCSAjIyMgQm9uZCAow6AgYmluZGVyKQoJCXZvZGthTWFydGluaSAjIGRlZmF1bHQgCQkgIyMjIHVuIGTDqWZhdXQgXl4KCWVuZCAjIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci9wdWxsLzExCglCYXNlLnNob3coaW86OklPLCBtOjpNSU1FInRleHQvaHRtbCIsIGJkOjpCb25kSmFtZXNCb25kKSA9IAoJCUJhc2Uuc2hvdyhpbyxtLCBiZC5vbzcpCglCYXNlLmdldChiZDo6Qm9uZEphbWVzQm9uZCkgPSBiZC52b2RrYU1hcnRpbmkgCgoJU3Vkb2t1TcOpbW8gPSBwdXNoZmlyc3QhKHJlcGVhdChbW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwxLDIsMyw0LDUsMCwwLDBdLFswLDIsMCwwLDMsMCw2LDAsMF0sWzAsMyw0LDUsNiwwLDAsNywwXSxbMCw2LDAsMCw3LDAsOCwwLDBdLFswLDcsMCwwLDgsOSwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdXV0sIDMpLCAKCQlqc3ZkKCkpICMgRW4gdHJpcGxlIHBvdXIgZ2FyZGVyIG1lcyBpbml0aWFsKGUpcyBeXgoJbGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1OjpWZWN0b3J7VmVjdG9ye0ludH19KSA9IGhjYXQoSlN1ZG9rdS4uLikgIycgZW4gcGluYWlsbGFudAoJCWpzbSA9IGxpc3RlSlPDoG1hdHJpY2UgIyMgbWluaSB2ZXJzaW9uCgltYXRyaWNlw6BsaXN0ZUpTKG1hdCxkPTkpID0gW21hdFs6LGldIGZvciBpIGluIDE6ZF0gI0kgd2lsbCBiZSBiYWNrISAjIyBtYXQzIGF1c3NpCgkJbWpzID0gbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24KCSMjIyBtYXRyaWNlw6BsaXN0ZUpTKGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkpID09IEpTdWRva3UgIyMgRXQgaW52ZXJzZW1lbnQKCSMgbmJjbShtYXQpID0gY291bnQoPigwKSwgbWF0ICkgIyBOb21icmUgZGUgY2hpZmZyZXMgPiAwIGRhbnMgdW5lIG1hdHJpY2UKCSMgbmJjaihsanMpID0gY291bnQoPigwKSwgbGlzdGVKU8OgbWF0cmljZShsanMpICkgIyBpZGVtIHBvdXIgdW5lIGxpc3RlIEpTCglrZWxjYXJyw6koaTo6SW50LGo6OkludCkgPSAxKyAzKmRpdihpLTEsMykgKyBkaXYoai0xLDMpICMgbsKwIGR1IGNhcnLDqSBkdSBzdWRva3UKCWNhcnLDqShpOjpJbnQsajo6SW50KT0gMStkaXYoaS0xLDMpKjM6MytkaXYoaS0xLDMpKjMsIDErZGl2KGotMSwzKSozOjMrZGl2KGotMSwzKSozICMgcGVybWV0IGRlIGZhYnJpcXVlciBsZXMgZmlsdHJlcyBwb3VyIG5lIHJlZ2FyZGVyIHF1J3VuIHNldWwgY2FycsOpCgljYXJyKGk6OkludCk9IDErZGl2KGktMSwzKSozOjMrZGl2KGktMSwzKSozICMgZmlsdHJlIGNhcnLDqSDDoCBtb2l0aSAgICDDqSAhCgl2dWVzKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSAodmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSApICMgbGlzdGUgY2hpZmZyZXMgcG9zc2libGVzIHBhciBsaWduZXMvY29sb25uZXMvY2FycsOpcwoJbGlzdGVjYXJyw6kobWF0OjpBcnJheXtJbnQsMn0pPSBbdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSBmb3IgaSBpbiAxOjM6OSBmb3IgaiBpbiAxOjM6OV0gIyBMYSBsaXN0ZSBkZSB0b3VzIGxlcyBjYXJyw6lzIGR1IHN1ZG9rdQoJdHVwbGVjYXJyw6koaWk6OlVuaXRSYW5nZXtJbnR9LGpqOjpVbml0UmFuZ2V7SW50fSAjPSxzZXRpajo6U2V0e1R1cGxle0ludCxJbnR9fT0jKT0gWyhpLGopIGZvciBpIGluIGlpLCBqIGluIGpqXSAjaWYgKGksaikg4oiJIHNldGlqXQoJc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSBzZXRkaWZmKHNldDE5LHZpZXcobWF0LGksOiksIHZpZXcobWF0LDosaiksIHZpZXcobWF0LGNhcnIoaSksY2FycihqKSkpICMgY2FzZSBpLGoKCSMjIyBzZXRkaWZmKHNldDE5LHZ1ZXMobWF0LGksaikuLi4pICMgUG91ciB1bmUgY2FzZSBlbiBpLGoKCWNoaWZmcmVQb3NzaWJsZShtYXQ6OkFycmF5e0ludCwyfSxpOjpJbnQsajo6SW50LGxpbXA6OlNldHtJbnR9LCBpaT1jYXJyKGkpOjpVbml0UmFuZ2V7SW50fSwgamo9Y2FycihqKTo6VW5pdFJhbmdle0ludH0pPSBzZXRkaWZmKHNldDE5LGxpbXAsdmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsIGlpLGpqKSkgIyBQbHVzIGZpbgoKCWZ1bmN0aW9uIHbDqXJpZlN1ZG9rdUJvbihtYXQ6OkFycmF5e0ludCwyfSkgIyBWw6lyaWZpZSBzaSBsZSBzdWRva3UgZXN0IHLDqWdsbwoJCWxlc2NhcnLDqXMgPSBsaXN0ZWNhcnLDqShtYXQpCgkJZm9yIHggaW4gMTo5ICMgUG91ciB0b3VzIGxlcyBjaGlmZnJlcyBkZSAxIMOgIDkuLi4KCQkJZm9yIGkgaW4gMTo5ICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1bmUgbGlnbmUgb3UgdW5lIGNvbG9ubmUgPwoJCQkJaWYgY291bnQoPT0oeCksIG1hdFtpLDpdKT4xIHx8IGNvdW50KD09KHgpLCBtYXRbOixpXSk+MQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVuZAoJCQlmb3IgYyBpbiBsZXNjYXJyw6lzICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1biBjYXJyw6kgPwoJCQkJaWYgY291bnQoPT0oeCksIGMpPjEKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCWVuZAoJCQllbmQKCQllbmQKCQlyZXR1cm4gdHJ1ZSAjIExlIHN1ZG9rdSBzZW1ibGUgY29uZm9ybWUgKG1haXMgaWwgcGV1dCDDqnRyZSBpbXBvc3NpYmxlKQoJZW5kIAoJZnVuY3Rpb24gc2FjIShuOjpJbnQsIGw6OkludCwgazo6SW50LCBpaTo6VW5pdFJhbmdle0ludH0sIGpqOjpVbml0UmFuZ2V7SW50fSwgbGlzdGVwb3NzaWJsZXM6OlNldHtJbnR9LCBmdXNpYmxlczo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljbzo6RGljdHtJbnQsRGljdHtJbnQsSW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAjIGNvbXB0ZSBsJ29jY3VyZW5jZSBkJ3VuIGNoaWZmcmUgcG91ci4uLiBjZi4gdW5pY2xrIQoJICMgcG91ciBsaWduZSBldCBjb2xvbm5lCgkgZ2V0IShkaWNvLCBuLCBEaWN0e0ludCxJbnR9KCkgKSAjIGRpY28gOiBwb3NpYmlsaXTDqXMgcGFyIGNvbG9ubmUvbGlnbmUKCSBnZXQhKGRpbG8sIG4sIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUvY29sb25uZSDimbsKCSBnZXQhKGRpa28sIG4sIERpY3R7SW50LEludH0oKSApICMgZGlrbyA6IGNhcnLDqSBxdWkgZGV2cmEgc3VwcHIuIGxhIHBvc3NpYmlsaXTDqQoJIGdldCEoZnVzaWJsZXMsIG4sIFNldHtJbnR9KCkgKSAjIGZ1c2libGVzIDogbsKwIGTDqWrDoCBncmlsbMOpcwoJIGZvciBuZSBpbiBzZXRkaWZmKGxpc3RlcG9zc2libGVzLGZ1c2libGVzW25dKSAjCgkJZGljb1tuXVtuZV0gPSBnZXQoZGljb1tuXSwgbmUsIDApICsgMQoJCWlmIGRpY29bbl1bbmVdID09IDEgCgkJCWRpa29bbl1bbmVdID0gayAKCQkJZGlsb1tuXVtuZV0gPSAobCwgaWksIGpqKQoJCWVsc2VpZiBkaWNvW25dW25lXSA+IDMgfHwgZGlrb1tuXVtuZV0gIT0gayAKCQkJcHVzaCEoZnVzaWJsZXNbbl0sIG5lKSAKCQkJZGVsZXRlIShkaWNvW25dLCBuZSkgCgkJZW5kCgkgZW5kCgllbmQKCWZ1bmN0aW9uIHNhayEoaTo6SW50LCBqOjpJbnQsIGs6OkludCwgaWk6OlVuaXRSYW5nZXtJbnR9LCBqajo6VW5pdFJhbmdle0ludH0sIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSwgZnVzaWJsZXM6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpY286OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAKCSAjIGlkZW0gcG91ciBsZXMga2FycsOpcyA7KQoJIGdldCEoZGlrbywgaywgRGljdHtJbnQsSW50fSgpICkgIyBkaWtvIDogcG9zc2liaWxpdMOpIHBhciBrYXJyw6kKCSBnZXQhKGRpY28sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWNvIDogY29sb25uZSDimbsKCSBnZXQhKGRpbG8sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUg4pm7CgkgZ2V0IShmdXNpYmxlcywgaywgU2V0e0ludH0oKSApICMgZnVzaWJsZXMgOiBuwrAgZMOpasOgIGdyaWxsw6lzCgkgZm9yIG5lIGluIHNldGRpZmYobGlzdGVwb3NzaWJsZXMsZnVzaWJsZXNba10pICMKCQlkaWtvW2tdW25lXSA9IGdldChkaWtvW2tdLCBuZSwgMCkgKyAxCgkJaWYgZGlrb1trXVtuZV0gPT0gMSAKCQkJZGljb1trXVtuZV0gPSAoaiwgaWkpCgkJCWRpbG9ba11bbmVdID0gKGksIGpqKQoJCWVsc2VpZiBkaWtvW2tdW25lXSA+IDMgfHwgKGRpY29ba11bbmVdWzFdICE9IGogJiYgZGlsb1trXVtuZV1bMV0gIT0gaSkKCQkJcHVzaCEoZnVzaWJsZXNba10sIG5lKSAKCQkJZGVsZXRlIShkaWtvW2tdLCBuZSkgCgkJZWxzZWlmIGRpY29ba11bbmVdWzFdICE9IGoKCQkJZGljb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBjb2xvbm5lCgkJZWxzZWlmIGRpbG9ba11bbmVdWzFdICE9IGkKCQkJZGlsb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBsaWduZQoJCWVuZAoJIGVuZAoJZW5kCglmdW5jdGlvbiB1bmljbGshKGRpY2xvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19ICxkaWNjbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWNrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxsbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxjbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSwgZGlsa286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlrbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2NvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fX19LCBkaWtrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBtYXQ6OkFycmF5e0ludCwyfSwgZGltcDo6RGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19LCBkaWNvcsOpemxpZzo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjb2w6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y2FyOjpEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0sIGxlc1rDqXJvc8OgU3VwcHI6OlNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19LCDDp2FOYXZhbmNlUGFzOjpCb29sKSAjLi4uIHZvaXIgc2kgdW4gY2hpZmZyZSBlc3Qgc2V1bCAob3UgdW5pcXVlbWVudCBzdXIgdW5lIG3Dqm1lIGxpZ25lLCBjb2wuLi4pLiBDYXIgcGFyIGV4ZW1wbGUsIHMnaWwgYXBwYXJhw650IHVuZSBzZXVsZSBmb2lzIHN1ciBsYSBsaWduZSA6IGMnZXN0IHF1J2lsIG5lIHBldXQgcXUnw6p0cmUgbMOgIF5eCgkjIEF1dHJlcyBleGVtcGxlLCBzaSBkYW5zIHVuZSBsaWduZSwgaWwgbid5IGEgZCdvY2N1cmVuY2UgcXVlIGRhbnMgdW4gZGVzIDMgY2FycsOpLCBpbCBuZSBwb3VycmEgcGFzIMOqdHJlIGFpbGxldXJzIGRhbnMgbGUgY2FycsOpLgoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCW1hdFtkaWNsb1tqXVtuXVsxXSxqXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWNsb1tqXVtuXVsxXSwgaiwgZGlja29bal1bbl0sIGRpY2xvW2pdW25dWzJdLCBkaWNsb1tqXVtuXVszXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2RpY2xvW2pdW25dWzFdXSwgaikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjb2xbal0sIGRpY2xvW2pdW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sIChkaWNsb1tqXVtuXVsxXSwgaikgKQoJCQkJaGFza2V5KGRpbGxvLCBkaWNsb1tqXVtuXVsxXSkgJiYgZGVsZXRlIShkaWxsb1tkaWNsb1tqXVtuXVsxXV0sIG4pCgkJCQloYXNrZXkoZGlra28sIGRpY2tvW2pdW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpY2tvW2pdW25dXSwgbikKCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsIGNvbCkgaW4gc2V0ZGlmZihkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sICgoaSwgaikgZm9yIGkgaW4gZGljbG9bal1bbl1bMl0pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKSAjIMOnYU5hdmFuY2VQYXMgJiBkaW1wID8KCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGksZGwpIGluIGRpbGxvICMgcG91ciBsZXMgbGlnbmVzCgkJZm9yIChuLHYpIGluIGRsCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2ksZGlsY29baV1bbl1bMV1dID0gbgoJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksIGRpbGNvW2ldW25dWzFdLCBkaWxrb1tpXVtuXSwgZGlsY29baV1bbl1bMl0sIGRpbGNvW2ldW25dWzNdKSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0sIGRpbGNvW2ldW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtkaWxjb1tpXVtuXVsxXV0sIGkpCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2RpbGtvW2ldW25dXSwoaSwgZGlsY29baV1bbl1bMV0pICkKCQkJCSMgaGFza2V5KGRpY2NvLGRpY29baV1bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1tpXVtuXVsxXV0sIG4pICNzaW8KCQkJCWhhc2tleShkaWtrbyxkaWxrb1tpXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWxrb1tpXVtuXV0sIG4pCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWZvciAobGlnLCBjb2wpIGluIHNldGRpZmYoZGljb3LDqXpjYXJbZGlsa29baV1bbl1dLCAoKGksIGopIGZvciBqIGluIGRpbGNvW2ldW25dWzNdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGssZGspIGluIGRpa2tvICMgcG91ciBsZXMga2FycsOpCgkJZm9yIChuLHYpIGluIGRrCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2Rpa2xvW2tdW25dWzFdLGRpa2NvW2tdW25dWzFdXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWtsb1trXVtuXVsxXSwgZGlrY29ba11bbl1bMV0sIGssIGRpa2NvW2tdW25dWzJdLCBkaWtsb1trXVtuXVsyXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2tdLCAoZGlrbG9ba11bbl1bMV0sIGRpa2NvW2tdW25dWzFdKSApCgkJCQkjIGhhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjIGhhc2tleShkaWNjbyxkaWNvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpY2NvW2RpY29ba11bbl1bMV1dLCBuKSAjcmRlCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWlmIGRpa2NvW2tdW25dWzFdID09IDAgCgkJCQkJZm9yIGNvbCBpbiBzZXRkaWZmKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGRpa2NvW2tdW25dWzFdKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgcmV0dXJuIMOnYU5hdmFuY2VQYXMKCWVuZAoJZnVuY3Rpb24gTFVuaWNsayEoZGljbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0sIGRpY2NvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpY2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGxvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGNvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19LCBkaWxrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWtsbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX19fSwgZGlrY286OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbXA6OkRpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSkgIyB1bmljbGshIHBvdXIgaHRtbFN1ZG9rdVByb3BhbAoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCSMgKGRpY2xvW2pdW25dWzFdLGosZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10pCgkJCQlpLGssIGlpLGpqID0gZGljbG9bal1bbl1bMV0sZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJaGFza2V5KGRpbGxvLGRpY2xvW2pdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpY2xvW2pdW25dWzFdXSwgbikKCQkJCWhhc2tleShkaWtrbyxkaWNrb1tqXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWNrb1tqXVtuXV0sIG4pCgkJCQkjIMOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsY29sKSBpbiBzZXRkaWZmKHR1cGxlY2FycsOpKGRpY2xvW2pdW25dWzJdLGRpY2xvW2pdW25dWzNdKSwgKChpLGopIGZvciBpIGluIGRpY2xvW2pdW25dWzJdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikgIyDDp2FOYXZhbmNlUGFzIGRpbXAgPwoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoaSxkbCkgaW4gZGlsbG8gIyBwb3VyIGxlcyBsaWduZXMKCQlmb3IgKG4sdikgaW4gZGwKCQkJaWYgdiA9PSAxCgkJCQkjIChpLGRpbGNvW2ldW25dWzFdLGRpbGtvW2ldW25dLGRpbGNvW2ldW25dWzJdLGRpbGNvW2ldW25dWzNdKQoJCQkJaiwgaywgaWksIGpqID0gZGlsY29baV1bbl1bMV0sZGlsa29baV1bbl0sZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJIyBoYXNrZXkoZGljY28sZGljb1tpXVtuXVsxXSkgJiYgZGVsZXRlIShkaWNjb1tkaWNvW2ldW25dWzFdXSwgbikgI3NpbwoJCQkJaGFza2V5KGRpa2tvLGRpbGtvW2ldW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpbGtvW2ldW25dXSwgbikKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlmb3IgKGxpZyxjb2wpIGluIHNldGRpZmYodHVwbGVjYXJyw6koZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10pLCAoKGksaikgZm9yIGogaW4gZGlsY29baV1bbl1bM10pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoayxkaykgaW4gZGlra28gIyBwb3VyIGxlcyBrYXJyw6kKCQlmb3IgKG4sdikgaW4gZGsKCQkJaWYgdiA9PSAxCgkJCQkjIChkaWtsb1trXVtuXVsxXSxkaWtjb1trXVtuXVsxXSxrLGRpa2NvW2tdW25dWzJdLGRpa2xvW2tdW25dWzJdKQoJCQkJaSwgaiwgaWksIGpqID0gZGlrbG9ba11bbl1bMV0sZGlrY29ba11bbl1bMV0sZGlrY29ba11bbl1bMl0sZGlrbG9ba11bbl1bMl0KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJI2hhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjaGFza2V5KGRpY2NvLGRpY29ba11bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1trXVtuXVsxXV0sIG4pICNyZGUKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlpZiBkaWtjb1trXVtuXVsxXSA9PSAwIAoJCQkJCWZvciBjb2wgaW4gc2V0ZGlmZihzZXQxOSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKHNldDE5LCBkaWtjb1trXVtuXVsyXSkKCQkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsZGlrY29ba11bbl1bMV0pLFNldHtJbnR9KCkgKSwgbikKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQgIyByZXR1cm4gw6dhTmF2YW5jZVBhcwoJIHJldHVybiBub3RoaW5nCgllbmQKCWZ1bmN0aW9uIHBhc0Fzc2V6RGVQcm9wYWwhKGk6OkludCxqOjpJbnQsIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSxkaWN0Q2hlY2tMaTo6RGljdHtTZXR7SW50fSwgU2V0e0ludH19LGRpY3RDaGVja0NqOjpEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0sZGljdENoZWNrQ2FycsOpOjpEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19fSxOaW1wOjpEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0pICMsIHNldGxpZzo6U2V0e0ludH09c2V0MTksIHNldGNvbDo6U2V0e0ludH09c2V0MTkpICMjLCBpaTo6VW5pdFJhbmdle0ludH09Y2FycihpKSwgamo6OlVuaXRSYW5nZXtJbnR9PWNhcnIoaiksIHNldGNhcjo6U2V0e1R1cGxle0ludCxJbnR9fT1TZXQodHVwbGVjYXJyw6koaWksamopKSApIAoJIyBJY2kgbCdpZMOpZSBlc3QgZGUgdm9pciBzJ2lsIHkgYSBwbHVzIGNoaWZmcmVzIMOgIG1ldHRyZSBxdWUgZGUgY2FzZXMgOiBlbiByZWdhcmRhbnQgdG91dCAhIGVudHJlIGRldXggY2FzZXMsIHRyb2lzIGNhc2VzLi4uIHN1ciBsYSBsaWduZSwgY29sb25uZSwgY2FycsOpIF5eCgkjIEJyZWYsIHMnaWwgbid5IGEgcGFzIGFzc2V6IGRlIHByb3Bvc2l0aW9ucyBwb3VyIGxlcyBjaGlmZnJlcyDDoCBjYXNlciBjJ2VzdCB2cmFpCgkjIEMnZXN0IHBhcyBmYXV4IDogZG9uYyDDp2EgdmEuIAoJIyBEZSBwbHVzLCBzaSB1biAoZW5zZW1ibGUgZGUpIGNoaWZmcmUgZXN0IHBvc3NpYmxlIHF1ZSBzdXIgY2VydGFpbmVzIGNlbGx1bGVzLCBjZWxhIGxlIHJldGlyZSBkdSByZXN0ZSAoZW4gZ2FyZGFudCB2aWEgbGEgbWF0cmljZSBOaW1wKS4gUGFyIGV4ZW1wbGUsIHN1ciB1bmUgbGlnbmUsIG9uIGEgMSDDoCA4LCBsYSBkZXJuacOocmUgY2VsbHVsZSBuZSBwZXV0IHF1ZSDDqnRyZSA5IC0+IGdyw6JjZSDDoCBOaW1wLCBvbiByZXRpcmUgbGUgOSBkZXMgcG9zc2liaWxpdMOpcyBkZSB0b3V0ZXMgbGVzIGNlbGx1bGVzIGRlIGxhIGNvbG9ubmUsIGR1IGNhcnLDqSAoZXQgZGUgbGEgbGlnbmUuLi4pIHNhdWYgcG91ciBjZXR0ZSBkZXJuacOocmUgY2VsbHVsZSBqdXN0ZW1lbnQgXl4KCSMgQ2VsYSBwZXJtZXQgZGUgbGltaXRlciBsZXMgcG9zc2liaWxpdMOpcyBwb3VyIMOpdml0ZXIgYXUgbWlldXggbGVzIGN1bHMgZGUgc2FjIQoJIyBFdGFudCBxdWFuZC1tw6ptZSB1biBwZXUgdHJvcCBsb3VyZCwgaWwgZmF1dCBsJ3V0aWxpc2VyIHF1ZSBzaSBiZXNvaW4KCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDaikgIyBkaWNvICMgUG91ciBsZXMgY29sb25uZXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChpKSwgZ2V0KGRpY3RDaGVja0NqLCBraywgU2V0e0ludH0oKSApKSAKCQkJCWlmIGxlbmd0aChraykgPT0gbGVuZ3RoKHZ2KQoJCQkJCSMgTGVzIGNoaWZmcmVzIGtrIHNvbnQgw6AgcmV0aXJlciBkZSB0b3V0ZSBsYSBjb2xvbm5lIHNhdWYgYXV4IGtrCgkJCQkJZm9yIGxpbXAgaW4gc2V0ZGlmZihzZXQxOSwgdnYpCgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsaiksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2pba2tdID0gdnYKCQkJZWxzZSAKCQkJCXJldHVybiB0cnVlCgkJCWVuZAoJCWVuZAkKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tMaSkgIyBkaWxpICMgUG91ciBsZXMgbGlnbmVzCgkJCWtrID0gdW5pb24oayxsaXN0ZXBvc3NpYmxlcykKCQkJaWYgbGVuZ3RoKGtrKSA+IGxlbmd0aCh2KQoJCQkJdnYgPSB1bmlvbih2LCBTZXQoaiksIGdldChkaWN0Q2hlY2tMaSwga2ssIFNldHtJbnR9KCkgKSApIAoJCQkJaWYgbGVuZ3RoKGtrKSA9PSBsZW5ndGgodnYpCgkJCQkJIyBMZXMgY2hpZmZyZXMga2sgc29udCDDoCByZXRpcmVyIGRlIHRvdXRlIGxhIGxpZ25lIHNhdWYgYXV4IGtrIAoJCQkJCWZvciBsaW1wIGluIHNldGRpZmYoc2V0MTksIHZ2KQoJCQkJCQl1bmlvbiEoZ2V0IShOaW1wLChpLGxpbXApLFNldHtJbnR9KCkgKSwga2spCgkJCQkJZW5kCgkJCQllbmQKCQkJCWRpY3RDaGVja0xpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDYXJyw6kpICMgZGljYSAjIFBvdXIgbGVzIGNhcnLDqXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChbKGksaildKSwgZ2V0KGRpY3RDaGVja0NhcnLDqSwga2ssIFNldHtUdXBsZXtJbnQsSW50fX0oKSApICkgCgkJCQlpZiBsZW5ndGgoa2spID09IGxlbmd0aCh2dikKCQkJCQlmb3IgKGxpbXAsbGptcCkgaW4gc2V0ZGlmZihTZXQodHVwbGVjYXJyw6koY2FycihpKSxjYXJyKGopKSksIHZ2KSAjc2V0Y2FyLHZ2CgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsbGptcCksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2FycsOpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQJCgkJZ2V0IShkaWN0Q2hlY2tMaSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBqICkgKQoJCWdldCEoZGljdENoZWNrQ2osbGlzdGVwb3NzaWJsZXMsIFNldCggaSApICkKCQlnZXQhKGRpY3RDaGVja0NhcnLDqSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBbKGksaildICkgKQoJCXJldHVybiBmYWxzZQoJZW5kCglmdW5jdGlvbiBwdWNlcyhsaXN0ZSwgdmFsZMOpZmF1dD1ub3RoaW5nIDsgaWRQdWNlcz0icCIqc3RyaW5nKHJhbmQoSW50KSksIGNsYXNzZT0iIikgIyBQZXJtZXQgZGUgZmFpcmUgZGVzIHB1Y2VzIGVuIEhUTUwgcG91ciBmYWlyZSB1biBjaG9peCB1bmlxdWUKCSMgU2kgIvCfpKvCoENhY2jDqWUiIGNvY2jDqWUsIGNlbGEgZmxvdXRlIGxlcyBwdWNlcyBkdSBkZXNzb3VzIChQb3NzaWJsZXNFdFNvbHV0aW9uKQoJCWTDqWJ1dCA9ICI8c3BhbiBpZD0nJGlkUHVjZXMnICIgKihjbGFzc2U9PSIiID8gIj4iIDogImNsYXNzPSckY2xhc3NlJz4iKQoJCWZpbiA9ICI8L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJyRpZFB1Y2VzJykKCWZvcm0ub25pbnB1dCA9IChlKSA9PiB7IGZvcm0udmFsdWUgPSBlLnRhcmdldC52YWx1ZTsgIiAqCgkJKGlkUHVjZXM9PSJDYWNoZXJSw6lzdWx0YXQiID8gcmF3ImlmIChlLnRhcmdldC52YWx1ZT09J/CfpKvCoENhY2jDqWUnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCX0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWU9PSdQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNhcm9saWduZScpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9OyIgOiAiIikgKgoJCShpZFB1Y2VzPT0iUG9zc2libGVzRXRTb2x1dGlvbiIgPyByYXciaWYgKGUudGFyZ2V0LnZhbHVlPT0n4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCX0gZWxzZSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ21haXN0ZXNvdScpOwoJCX07IiA6ICIiKSAqICJ9PC9zY3JpcHQ+IgoJCWlucHV0cyA9ICIiCgkJZm9yIGl0ZW0gaW4gbGlzdGUKCQkJaW5wdXRzICo9ICIiIjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9JyRpZFB1Y2VzJGl0ZW0nIG5hbWU9JyRpZFB1Y2VzJyB2YWx1ZT0nJGl0ZW0nIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9JyRpZFB1Y2VzJGl0ZW0nPiRpdGVtPC9sYWJlbD48L3NwYW4+IiIiCgkJZW5kCgkJIyBmb3IgKGl0ZW0sdmFsZXVyKSBpbiBsaXN0ZSAjIyMgc2kgbGlzdGU6OkFycmF5e1BhaXJ7U3RyaW5nLFN0cmluZ30sMX0KCQkjIAlpbnB1dHMgKj0gIiIiPGlucHV0IHR5cGU9InJhZGlvIiBpZD0iJGlkUHVjZXMkaXRlbSIgbmFtZT0iJGlkUHVjZXMiIHZhbHVlPSIkaXRlbSIgc3R5bGU9Im1hcmdpbjogMCA0cHggMCAyMHB4OyIgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIGZvcj0iJGlkUHVjZXMkaXRlbSI+JHZhbGV1cjwvbGFiZWw+IiIiCgkJIyBlbmQKCQlyZXR1cm4gRG9jcy5IVE1MKGTDqWJ1dCAqIGlucHV0cyAqIGZpbikKCWVuZAoJdmFldHZpZW50ID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PiB2YXIgdmllaWxsZWNvcGllID0gZmFsc2U7CgoJZnVuY3Rpb24gZMOpasOgdnUoKSB7IAoJCXZhciBww6hyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5wYXJlbnRFbGVtZW50OwoJCXZhciBmaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKTsKCQl2YXIgYW5jaWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlpZiAodmllaWxsZWNvcGllLmlzRXF1YWxOb2RlKGFuY2llbikpIHsKCQkJYW5jaWVuLmlubmVySFRNTCA9IGZpbHMuaW5uZXJIVE1MOwoJCQlhbmNpZW4ucmVtb3ZlQ2hpbGQoYW5jaWVuLnF1ZXJ5U2VsZWN0b3IoJ3Rmb290JykpOwoJCQltc2dhKGFuY2llbik7CgkJfQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5oaWRkZW4gPSBmYWxzZTsKCQlww6hyZS5yZW1vdmVDaGlsZChmaWxzKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU3Vkb2t1IGluaXRpYWzCoOKktCAobW9kaWZpYWJsZSkgZXQgc2Egc29sdXRpb27CoDogYAoJfTsKCglmdW5jdGlvbiBsw6BoYXV0KCkgeyAKCQl2YXIgcMOocmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykucGFyZW50RWxlbWVudDsKCQl2YXIgZmlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJyk7CgkJdmFyIGNvcGllID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlmaWxzID8gcMOocmUucmVtb3ZlQ2hpbGQoIGZpbHMgKSA6IHRydWU7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLmhpZGRlbiA9IHRydWU7CgkJdmFyIHRhYmwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpOwoJCXZpZWlsbGVjb3BpZSA9IChjb3BpZSA/IGNvcGllLmNsb25lTm9kZSh0cnVlKSA6IHRhYmwpOwoJCXRhYmwuaWQgPSAnY29waWVmaW5pZSc7CgkJdGFibC5jbGFzc0xpc3QuYWRkKCdzdWRva29vbCcpOwoJCXRhYmwuaW5uZXJIVE1MID0gKGNvcGllID8gY29waWUuaW5uZXJIVE1MIDogYDx0aGVhZCBpZD0ndGFpZGUnPjx0cj48dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt3aWR0aDogMzQwcHg7cGFkZGluZzogMjZweCAwO2JvcmRlcjogMDsnPlJpZW4gw6AgbW9udHJlciwgYydlc3QgY29jaMOpwqDCoDxjb2RlPvCfpKvCoENhY2jDqWU8L2NvZGU+PC90ZD48L3RyPjwvdGhlYWQ+YCkgKyBgPHRmb290IGlkPSd0ZXNmb290Jz48dHIgaWQ9J2xpZ25lbm9udmlzaWJsZSc+PHRoIGNvbHNwYW49JzknPuKGqiBDbGlxdWVyIGljaSBwb3VyIHJldmVuaXIgYXUgc3Vkb2t1IG1vZGlmaWFibGU8L3RoPjwvdHI+PC90Zm9vdD5gOwoJCXDDqHJlLmFwcGVuZENoaWxkKHRhYmwpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWlkZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGTDqWrDoHZ1KTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzZm9vdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZMOpasOgdnUpOwoJCWNvcGllID8gbXNnYShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29waWVmaW5pZScpKSA6IHRydWU7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuaW5uZXJIVE1MID0gYFNvbHV0aW9uwqDihpEgKGF1IGxpZXUgZHUgc3Vkb2t1IG1vZGlmaWFibGXCoGluaXRpYWwpYAoJfTsKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbMOgaGF1dCk7CgoJPC9zY3JpcHQ+PHNwYW4gaWQ9J3ZhX2V0X3ZpZW50Jz4iKSAjIFBvdXIgbGUgdGV4dGUgZW50cmUgbGVzIGRldXggc3Vkb2t1IChpbml0YXV4IGV0IHNvbHV0aW9uKS4gQ2VsYSBwZXJtZXQgZGUgcmVtb250ZXIgbGEgc29sdXRpb24gZW4gY2xpcXVhbnQgZGVzc3VzCglpbnRlcnZhbChtaW5pLG1heGksdmFsKSA9IERvY3MuSFRNTCgiPGlucHV0IHR5cGU9J3JhbmdlJyBtaW49JyQobWluaSknIG1heD0nJChtYXhpKScgdmFsdWU9JyQodmFsKScgb25pbnB1dD0ndGhpcy5uZXh0RWxlbWVudFNpYmxpbmcudmFsdWU9dGhpcy52YWx1ZSc+PG91dHB1dD7CoCQodmFsKTwvb3V0cHV0PiIpICMgc2xpZGVyCgkKCVN1ZGluaShtw6ltbywgY2hvaXgpID0gRG9jcy5IVE1MKCI8c2NyaXB0PiAvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgljb25zdCBwcmVtaWVyID0gSlNPTi5zdHJpbmdpZnkoICQobcOpbW9bMV0pICk7Cgljb25zdCBkZXV4acOobWUgPSBKU09OLnN0cmluZ2lmeSggJChtw6ltb1syXSkgKTsKCWNvbnN0IGRlZmF1bHRGaXhlZFZhbHVlcyA9ICQobcOpbW9bY2hvaXhdKSIgKiByYXciIiIKCQkJCQoJLy8gY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gW1swLDAsMCw3LDAsMCwwLDAsMF0sWzEsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsNCwzLDAsMiwwLDBdLFswLDAsMCwwLDAsMCwwLDAsNl0sWzAsMCwwLDUsMCw5LDAsMCwwXSxbMCwwLDAsMCwwLDAsNCwxLDhdLFswLDAsMCwwLDgsMSwwLDAsMF0sWzAsMCwyLDAsMCwwLDAsNSwwXSxbMCw0LDAsMCwwLDAsMywwLDBdXTsKCQkJCgl3aW5kb3cuY3JlYXRlU3Vkb2t1SHRtbCA9ICh2YWx1ZXMpID0+IHsKCSAgY29uc3QgZGF0YSA9IFtdOwoJICBjb25zdCBodG1sRGF0YSA9IFtdOwoJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkgICAgbGV0IGh0bWxSb3cgPSBbXTsKCSAgICBkYXRhLnB1c2goW10pOwoJICAgIGZvcihsZXQgaj0wOyBqPDk7aisrKXsKCSAgICAgIGNvbnN0IHZhbHVlc0xpbmUgPSB2YWx1ZXNbaV07CgkgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc0xpbmU/dmFsdWVzTGluZVtqXTowOwoJICAgICAgY29uc3QgaHRtbElucHV0ID0gaHRtbGA8aW5wdXQgdHlwZT0ndGV4dCcgCgkgICAgICAgIGRhdGEtcm93PScke2l9JwoJICAgICAgICBkYXRhLWNvbD0nJHtqfScKCSAgICAgICAgbWF4bGVuZ3RoPScxJyAKCSAgICAgICAgdmFsdWU9JyR7KHZhbHVlfHwnJyl9JwoJICAgICAgPmA7CgkJICBjb25zdCBpc01lZGl1bSA9IChqJTMgPT09IDApOwoJCSAgY29uc3QgYmxvY2sgPSBbTWF0aC5mbG9vcihpLzMpLCBNYXRoLmZsb29yKGovMyldOyAvLyBmb25kIGVuIGRhbWllcgoJCSAgY29uc3QgY2xhc3NvdXBhcyA9ICgoYmxvY2tbMF0rYmxvY2tbMV0pJTIgIT09IDApPyhpc01lZGl1bT8nY2xhc3M9ImRhbWllciB0cm9pc2QiJzonY2xhc3M9ImRhbWllciInKTooaXNNZWRpdW0/J2NsYXNzPSJ0cm9pc2QiJzonJyk7CgkgICAgICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkICR7Y2xhc3NvdXBhc30+JHtodG1sSW5wdXR9PC90ZD5gCgkgICAgICBkYXRhW2ldW2pdID0gdmFsdWV8fDA7CgkgICAgICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJICAgIH0KCQkKCSAgICBjb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwoJICAgIGh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOiIifT4ke2h0bWxSb3d9PC90cj5gKTsKCSAgfQoJICBjb25zdCBfc3Vkb2t1ID0gaHRtbGA8dGFibGUgaWQ9InN1ZG9raW5jaXBpdCIgc3VkYXRhPSR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9IGNsYXNzPSdzdWRva29vbCc+CgkgICAgICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJICAgIDwvdGFibGU+YCAgCgkgIHJldHVybiB7X3N1ZG9rdSxkYXRhfTsKCSAgLy8gLy8gcmV0dXJuIF9zdWRva3UgOwoJICAKCX0KCQoJd2luZG93LnN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlID0gKHtfc3Vkb2t1Omh0bWwsIGRhdGF9KSA9PiB7CgkgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSk9PnsKCSAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IAoJICAgIGh0bWwudmFsdWUgPSBkYXRhOwoJICAgIHJldHVybiBmYWxzZTsKCSAgfSk7IAoJICAKCSAgbGV0IGlucHV0cyA9IGh0bWwucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTsKCSAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gewoJCQoJCWNvbnN0IGRhbGlnbmUgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCWNvbnN0IGRhY29sID0gKGUpID0+IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsKCQljb25zdCBldHAyID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKCQljb25zdCBldHAzID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCgkJY29uc3QgbW92ZURvd24gPSAoZSkgPT4geyAKCQkJaWYgKGV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsgCgkJCWV0cDMoZSkuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7IAoJCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gCgkJfQoJCWNvbnN0IG1vdmVVcCA9IChlKSA9PiB7CgkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgeyAKCQkJZXRwMyhlKS5sYXN0Q2hpbGQuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IGVsc2UgeyAKCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZUxlZnQgPSAoZSkgPT4gewoJCQlpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJCWV0cDMoZSkubGFzdENoaWxkLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCQl9IGVsc2UgewoJCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gfSBlbHNlIHsKCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZVJpZ2h0ID0gKGUpID0+IHsgCgkJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQlpZiAoZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJCWV0cDMoZSkuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJCX0gZWxzZSB7CgkJCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSB9IGVsc2UgeyAKCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQkJCgkJaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsKGUpID0+IHsKCQkgIC8vIGUudGFyZ2V0LmZvY3VzKCk7CgkJICBlLnRhcmdldC5zZWxlY3QoKTsKCQkJCgkJICBzd2l0Y2ggKGUua2V5KSB7CgkJCWNhc2UgIkFycm93RG93biI6CgkJCQltb3ZlRG93bihlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd1VwIjoKCQkJCW1vdmVVcChlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd0xlZnQiOgoJCQkJbW92ZUxlZnQoZSk7IGJyZWFrOyAKCQkJY2FzZSAiQXJyb3dSaWdodCI6CgkJCQltb3ZlUmlnaHQoZSk7IGJyZWFrOyAKCQkJY2FzZSAiU2hpZnQiOgoJCQljYXNlICJDYXBzTG9jayI6CgkJCWNhc2UgIk51bUxvY2siOgoJCQkJYnJlYWs7IC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1rZXkvI2tleXMtbW9kaWZpZXIKCQkJY2FzZSAiQmFja3NwYWNlIjoKCQkJY2FzZSAiRGVsZXRlIjoKCQkJCWlmIChkYXRhW2RhbGlnbmUoZSldW2RhY29sKGUpXSAhPT0gMCkgewoJCQkJCWRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldID0gMDsKCQkJCQllLnRhcmdldC52YWx1ZSA9ICIiOwoJCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCQlmb3IodmFyIG5pPTA7bmk8ZWxlLmxlbmd0aDtuaSsrKQoJCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJCWlmIChqZGF0YSA9PSBwcmVtaWVyKSB7CgkJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7CgkJCQkJfQoJCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQkJaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkJCQl9CgkJCQkoZS5rZXk9PT0iRGVsZXRlIik/bW92ZVJpZ2h0KGUpOm1vdmVMZWZ0KGUpOwoJCQkJdmFyIGRhID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCQkJCShlLmtleT09PSJEZWxldGUiKT8oZGEuc2VsZWN0aW9uU3RhcnQgPSBkYS5zZWxlY3Rpb25FbmQgPSBkYS52YWx1ZS5sZW5ndGgpOihkYS5zZWxlY3Rpb25TdGFydCA9IGRhLnNlbGVjdGlvbkVuZCA9IDApOyAvL3NlbGVjdCBLTyA6KAoJCQkJYnJlYWs7CgkJCWRlZmF1bHQ6CgkJCQlyZXR1cm47CgkJCX0gfSkgCgkJCQoJICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywoZSkgPT4gewoJCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCQkgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlIC8vcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpOwoJCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCQoJCSAgY29uc3QgYmlkb3VpbGxpc3RlID0ge2E6MSx6OjIsZTozLHI6NCx0OjUseTo2LHU6NyxpOjgsbzo5LAoJCQlBOjEsWjoyLEU6MyxSOjQsVDo1LFk6NixVOjcsSTo4LE86OSwKCQkJJ1wmJzoxLMOpOjIsJ1wiJzozLCJcJyI6NCwnXCgnOjUsJ1wtJzo2LMOoOjcsXzo4LMOnOjksCgkJCSfCpyc6NiwnISc6OCwgICAgcToxLFE6MSwgdzoyLFc6Mn07CgkKCQkgIGNvbnN0IGFuZHJvaWRDaHJvbWVFc3RDaGlhbnQgPSB7J2InOm1vdmVEb3duLCdCJzptb3ZlRG93biwKCQkJJ2gnOm1vdmVVcCwnSCc6bW92ZVVwLCAgICAgICAgJ2onOm1vdmVSaWdodCwnSic6bW92ZVJpZ2h0LAoJCQknZyc6bW92ZUxlZnQsJ0cnOm1vdmVMZWZ0LCd2Jzptb3ZlTGVmdCwnVic6bW92ZUxlZnQsCgkJCSdkJzptb3ZlUmlnaHQsJ0QnOm1vdmVSaWdodCwnbic6bW92ZVJpZ2h0LCdOJzptb3ZlUmlnaHR9OwoJCgkJICBpZiAodmFsIGluIGJpZG91aWxsaXN0ZSkgewoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPSBiaWRvdWlsbGlzdGVbdmFsXTsKCQkgIH0gZWxzZSBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCQlkYXRhW2ldW2pdID0gcGFyc2VJbnQodmFsKTsKCQkgIH0gZWxzZSBpZiAoKHZhbCA9PSAwKXx8KHZhbCA9PSAnw6AnKXx8KHZhbCA9PSAncCcpfHwodmFsID09ICdQJykpIHsKCQkJZGF0YVtpXVtqXSA9IDA7CgkJCWUudGFyZ2V0LnZhbHVlID0gJyc7CgkJICB9IGVsc2UgeyAKCQkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJCSAgfQoJCgkJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkJCX0gZWxzZSB7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJCgkJCWlmICh2YWwgaW4gYW5kcm9pZENocm9tZUVzdENoaWFudCkgewoJCQkJYW5kcm9pZENocm9tZUVzdENoaWFudFt2YWxdKGUpOwoJCQl9IGVsc2UgewoJCQkJbW92ZVJpZ2h0KGUpOwoJCQl9CgkJCWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2VsZWN0KCk7CgkgICAgfSkKCQkJCgkgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY3RvcCcsKGUpID0+IHsgLy8gbWlzIMOgIGpvdXIgcGFyIGNoaWZmcmUgc8OpbGVjdGlvbm7DqQoJCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCQkgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlIC8vcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpOwoJCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCQoJCSAgaWYgKHZhbCA8PSA5ICYmIHZhbCA+PTEpIHsKCQkJZGF0YVtpXVtqXSA9IHBhcnNlSW50KHZhbCk7CgkJICB9IGVsc2UgeyAKCQkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJCSAgfQoJCgkJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkJCX0gZWxzZSB7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJICAgIH0pCgkJCQoJICB9KSAKCSAgdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCSAgY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKCSAgaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkgIH0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOyAvLyAuLi5dLmNsaWNrKCk7IC8vIMOpdGFpdCBLTy4uLgoJICB9CgkgIGh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkgIGh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJICByZXR1cm4gaHRtbDsKCQoJfTsKCQoJcmV0dXJuIHN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlKGNyZWF0ZVN1ZG9rdUh0bWwoZGVmYXVsdEZpeGVkVmFsdWVzKSk7Cgk8L3NjcmlwdD4iIiIpCglmdW5jdGlvbiBodG1sU3Vkb2t1KEpTdWRva3VGaW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKSxKU3Vkb2t1aW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKTsgdG91dFZvaXI6OkJvb2w9dHJ1ZSkKCSMgUG91ciBzb3J0aXIgZGUgbGEgbWF0cmljZSAoY29udmVyc2lvbiBlbiB0YWJsZWF1IGVuIEhUTUwpIGR1IHN1ZG9rdQoJIyBMZSBKU3Vkb2t1aW5pIHBlcm1ldCBkZSBtZXR0cmUgbGVzIGNoaWZmcmVzIGVuIGJsZXUgKHNhdm9pciBkJ2/DuSBsJ29uIHZpZW50KQoJIyBFbmZpbiwgb24gcGV1dCBjaG9pc2lyIGRlIHZvaXIgcGV0aXQgw6AgcGV0aXQgZW4gY2xpcXVhbnQgb3UgdG91dFZvaXIgZCd1biBjb3VwCgkjIyMgaWYgaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcpLi4uIGF2YWl0IHVuIGJ1ZyBkJ2FmZmljaGFnZSBwb3VyIGxlIHJlc3RlIGR1IGNvZGUuLi4KCQlpc2EoSlN1ZG9rdUZpbmksIFN0cmluZykgPyAocmV0dXJuIERvY3MuSFRNTCgiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7bWFyZ2luLWJvdHRvbTogNnB4O3VzZXItc2VsZWN0OiBub25lOycgb25jbGljaz0nJGZvb3RpeCc+IOKaoSBBdHRlbnRpb24sIHN1ZG9rdSBpbml0aWFsIMOgIHJldm9pciAhIDwvaDU+PHRhYmxlIGlkPSdzdWRva3VmaW5pJyBjbGFzcz0nc3Vkb2tvb2wnIHN0eWxlPSd1c2VyLXNlbGVjdDogbm9uZTsnIDx0Ym9keT48dHI+PHRkIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7d2lkdGg6IDM0MHB4Oycgb25jbGljaz0nJGZvb3RpeCc+JEpTdWRva3VGaW5pPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4iKSkgOiAocmV0dXJuIERvY3MuSFRNTChyYXciIiI8c2NyaXB0IGlkPSJzY3JpcHRmaW5pIj4KCQkvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgkJCQkKCQljb25zdCBjcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcywgdmFsdWVzX2luaSkgPT4gewkKCQkgIGNvbnN0IGRhdGEgPSBbXTsKCQkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkJCWxldCBodG1sUm93ID0gW107CgkJCWRhdGEucHVzaChbXSk7CgkJCWZvcihsZXQgaj0wOyBqPDk7aisrKXsKCQkJICBjb25zdCB2YWx1ZXNMaW5lID0gdmFsdWVzW2ldOwoJCQkgIGNvbnN0IHZhbHVlID0gdmFsdWVzTGluZT92YWx1ZXNMaW5lW2pdOjA7CgkJCSAgY29uc3QgaXNJbml0aWFsID0gdmFsdWVzX2luaVtpXVtqXT4wOwoJCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJCSAgY29uc3QgaHRtbENlbGwgPSBodG1sYDx0ZCBjbGFzcz0nIiIiKih0b3V0Vm9pciA/IHJhdyIiIiR7aXNJbml0aWFsPyJpbmkiOiJ2aWRlIn0iIiIgOiByYXciIiIke2lzSW5pdGlhbD8iaW5pIjoidmlkZSBjYWNow6llIn0iIiIpKnJhdyIiIiR7aXNNZWRpdW0/JyB0cm9pc2QnOicnfScgZGF0YS1yb3c9JyR7aX0nIGRhdGEtY29sPScke2p9Jz4keyh2YWx1ZXx8J8KgJyl9PC90ZD5gOwoJCQkgIGRhdGFbaV1bal0gPSB2YWx1ZXx8MDsKCQkJICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJCQl9CgkJCWNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CiAgICAJCWh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOiIifT4ke2h0bWxSb3d9PC90cj5gKTsKCQkgIH0KCQkgIGNvbnN0IF9zdWRva3UgPSBodG1sYDx0YWJsZSBpZD0ic3Vkb2t1ZmluaSIgIiIiKih0b3V0Vm9pciA/ICIiIDogcmF3IiIic3R5bGU9InVzZXItc2VsZWN0OiBub25lOyIgIiIiKSpyYXciIiIgY2xhc3M9J3N1ZG9rb29sJz4KCQkJICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJCQk8L3RhYmxlPmAgIAoJCSAgLy8gcmV0dXJuIHtfc3Vkb2t1LGRhdGF9OwoJCWNvbnN0IGpkYXRhaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzX2luaSk7CgkJY29uc3QgamRhdGFGaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFpbmknLCBqZGF0YWluaSk7CiAgCQlfc3Vkb2t1LnNldEF0dHJpYnV0ZSgnc3VkYXRhZmluaScsIGpkYXRhRmluaSk7CgkJdmFyIHN1ZG9rdWluacOgdsOpcmlmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJCWlmIChzdWRva3VpbmnDoHbDqXJpZiAmJiBzdWRva3VpbmnDoHbDqXJpZi5nZXRBdHRyaWJ1dGUoJ3N1ZGF0YScpICE9IGpkYXRhaW5pKSB7CgkJCXJldHVybiBodG1sYDxoNSBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3VzZXItc2VsZWN0OiBub25lOyc+8J+agCBSZWNhbGN1bCByYXBpZGXCoDspPC9oNT5gOwoJCX07IC8vIHYwLjE5IHNlbWJsZSBkZSBub3V2ZWF1IE9rIC0+IGh0dHBzOi8vbXliaW5kZXIub3JnL3YyL2doL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci92MC4xNC43P3VybHBhdGg9cGx1dG8KCQlyZXR1cm4gX3N1ZG9rdTsKCQkJCX07CgkJd2luZG93Lm1zZ2EgPSAoX3N1ZG9rdSkgPT4gewoJCQkJIiIiKih0b3V0Vm9pciA/IHJhdyIiIiAKCQlsZXQgdGRzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC52aWRlJyk7CiAgCQl0ZHMuZm9yRWFjaCh0ZCA9PiB7CgkJCQkKCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0IikpIHsKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKS5jaGVja2VkKSB7CgkJCQkJCWNvbnN0IGxpZ24gPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtcm93IikpICsgMTsKCQkJCQkJY29uc3QgY29sbyA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1jb2wiKSkgKyAxOwoJCQkJCQljb25zdCB2YWxlID0gZS50YXJnZXQuaW5uZXJIVE1MOwoJCQkJCQl2YXIgY2libGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3Vkb2tpbmNpcGl0ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoIisgbGlnbiArIikgPiB0ZDpudGgtY2hpbGQoIisgY29sbyArIikgPiBpbnB1dFt0eXBlPXRleHRdIik7CgkJCQkJCWlmICghKGlzTmFOKHZhbGUpKSkgewoJCQkJCQkJY2libGUudmFsdWUgPSB2YWxlOyAKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoInZpZGUiKTsKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoImluaSIpOwoJCQkJCQkJLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc2Zvb3QiKT8uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImNsaWNrIikpOwoJCQkJCQkJY2libGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2N0b3AnKSk7IAoJCQkJCQl9OwoJCQkJfX07IAoJCQkJCgkJCX0pOwoJCX0pOyIiIiA6IHJhdyIiIgoJCWxldCB0ZGJsZXVzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5pbmknKTsKICAJCXRkYmxldXMuZm9yRWFjaCh0ZGJsZXUgPT4gewoJCQl0ZGJsZXUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJdmFyIGdyYW50YiA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKCQkJCWZvcihsZXQgZ3Jhbmk9MDsgZ3Jhbmk8OTtncmFuaSsrKXsgCgkJCQlmb3IobGV0IGdyYW5qPTA7IGdyYW5qPDk7Z3JhbmorKyl7IAoJCQkJIGlmICggIShncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2xhc3NMaXN0LmNvbnRhaW5zKCJpbmkiKSkgKSB7CgkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2xhc3NMaXN0LmFkZCgiY2FjaMOpZSIpOwoJCQkJCgkJCQl9IH19OwoJCQl9KTsKCQl9KTsKCQkKCQlsZXQgdGRzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5jYWNow6llJyk7CiAgCQl0ZHMuZm9yRWFjaCh0ZCA9PiB7CgkJCQkKCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKSkgewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewkKCQkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQkJY29uc3QgamNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJCWNvbnN0IG9yTmljYXIgPSAobGlnbiwgY29sbykgPT4gTWF0aC5mbG9vcihpbGlnLzMpPT1NYXRoLmZsb29yKGxpZ24vMykgJiYgTWF0aC5mbG9vcihqY29sLzMpPT1NYXRoLmZsb29yKGNvbG8vMykgOwoJCQkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJCQlmb3IobGV0IGdyYW5pPTA7IGdyYW5pPDk7Z3JhbmkrKyl7IAoJCQkJCQlmb3IobGV0IGdyYW5qPTA7IGdyYW5qPDk7Z3JhbmorKyl7IAoJCQkJCQkgdmFyIHRkZiA9IGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXTsKCQkJCQkJIGlmICh0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpID09IGlsaWcgfHwgdGRmLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSA9PSBqY29sIHx8IG9yTmljYXIodGRmLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSx0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpKSApIHsKCQkJCQkJICB0ZGYuY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQl9IH19OwoJCQkJCX0gZWxzZSB7CgkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJfX07CgkJCQkvLyBlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQkJCgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKSkgewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpLmNoZWNrZWQpIHsKCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1yb3ciKSkgKyAxOwoJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbCIpKSArIDE7CgkJCQkJCWNvbnN0IHZhbGUgPSBlLnRhcmdldC5pbm5lckhUTUw7CgkJCQkJCXZhciBjaWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdWRva2luY2lwaXQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgiKyBsaWduICsiKSA+IHRkOm50aC1jaGlsZCgiKyBjb2xvICsiKSA+IGlucHV0W3R5cGU9dGV4dF0iKTsKCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQljaWJsZS52YWx1ZSA9IHZhbGU7IAoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgidmlkZSIpOwoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiaW5pIik7CgkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQljaWJsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY3RvcCcpKTsgCgkJCQkJCX07CgkJCQl9fTsgCgkJCQkKCQkJfSk7CgkJfSk7CSIiIikqcmF3IiIiCgkJICByZXR1cm4gX3N1ZG9rdTsKCgkJfTsKCQkKCQkvLyBzaW5vbiA6IHJldHVybiBjcmVhdGVTdWRva3VIdG1sKC4uLikuX3N1ZG9rdTsKCQlyZXR1cm4gbXNnYShjcmVhdGVTdWRva3VIdG1sKCIiIiAqIiRKU3Vkb2t1RmluaSIqIiwgIioiJEpTdWRva3VpbmkiKiIiIikgKTsKCQk8L3NjcmlwdD4iIiIpCgkJKSMjIyBlbmQgIyMjIGlmIGlzYShKU3Vkb2t1RmluaSwgU3RyaW5nKS4uLiBzdWl0ZSBldCBmaW4gZHUgYnVnIGQnYWZmaWNoYWdlCgllbmQKCWh0bWxzID0gaHRtbFN1ZG9rdSAjIyBtaW5pIHZlcnNpb24gKG91IGFsaWFzIHBsdXMgY291cnQgc2kgYmVzb2luKQoJaHRtYXQgPSBodG1sU3Vkb2t1IOKImCBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbiAKCgljb25zdCBwdDEgPSAiwrciICMgIi4iICMjIENhcmFjdMOocmVzIGRlIHJlbXBsaXNzYWdlIHBvdXIgbWlldXggdm9pciBsZSBuYlByb3BhbAoJY29uc3QgcHQyID0gIuKXjCIgIyAi4peLIiAjICLil5giICMgIi0iICMgIjoiCgljb25zdCBwdDMgPSAi4pePIiAjICLilqAiICMgIuKWrCIgIyAi4oCUIiAjICLigZYiICMgIuKrtiIKCWZ1bmN0aW9uIGNoaWZmcmVQcm9wYWwobWF0OjpBcnJheXtJbnQsMn0sbGltcDo6U2V0e0ludH0saTo6SW50LGo6OkludCx2aWRlOjpCb29sKSAjIFJlbXBsaXQgdW5lIGNhc2UgYXZlYyB0b3VzIHNlcyBjaGlmZnJlcyBwb3NzaWJsZXMsIGVuIG1ldHRhbnQgbGUgMSBlbiBoYXV0IMOgIGdhdWNoZSBldCBsZSA5IGVuIGJhcyDDoCBkcm9pdGUgKGxlIDUgZXN0IGRvbmMgYXUgY2VudHJlKS4gUydpbCBuJ3kgYSBhdWN1bmUgcG9zc2liaWxpdMOpLCBvbiByZW1wbGl0IHRvdXQgYXZlYyBkZXMgY2FyYWN0w6hyZXMgYml6YXJyZXMg4oC9CgkjIFBvdXIgbWlzZSBlbiBmb3JtZSBlbiBIVE1MIG1hdDMgOiAzeDMgKHVuZSBtYXRyaWNlIGRlIDMgbGlnbmVzIGV0IDMgY29sb25uZXMpCgkJY3AgPSBjaGlmZnJlUG9zc2libGUobWF0LGksaixsaW1wKQoJCWlmIGlzZW1wdHkoY3ApCgkJCXJldHVybiBbWyLil5wiLCLigL0iLCLil50iXSxbIsKhIiwiLyIsIiEiXSxbIuKXnyIsIl8iLCLil54iXV0KCQkJIyByZXR1cm4gW1si4qivIiwi4qivIiwi4qivIl0sWyLiqK8iLCLiqK8iLCLiqK8iXSxbIuKoryIsIuKoryIsIuKoryJdXQoJCWVuZAoJCSMgbGNwID0gbGVuZ3RoKGNwKQoJCSMgdmkgPSAodmlkZSA/ICLCoCIgOiAobGNwPDQgPyBwdDEgOiAobGNwPDcgPyBwdDIgOiBwdDMpKSkKCQl2aSA9ICh2aWRlID8gIsKgIiA6ICLCtyIpICMi4pemIikgIyAi4qivIikgIyBwdDEpICMjIHJldG91ciDDoCBwdDEgXl4KCQlyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhyZXNoYXBlKFsoKHggaW4gY3ApID8gc3RyaW5nKHgpIDogdmkpIGZvciB4IGluIDE6OV0sICgzLDMpKSwzKQoJZW5kCglmdW5jdGlvbiBuYlByb3BhbChtYXQ6OkFycmF5e0ludCwyfSxsaW1wOjpTZXR7SW50fSxpOjpJbnQsajo6SW50KSAjIEFzc2V6IHByb2NoZSBkZSBjaGlmZnJlUHJvcGFsIGNpLWRlc3N1cywgbWFpcyBuZSBtb250cmUgcGFzIGxlcyBjaGlmZnJlcyBwb3NzaWJsZXMuIENlbGEgbW9udHJlIGxlIG5vbWJyZXMgZGUgY2hpZmZyZXMgcG9zc2libGVzLCBlbiByZW1wbGlzc2FudCBwZXRpdCDDoCBwZXRpdCBhdmVjIHB0MSDDoCBwdDMgc3VpdmFudC4KCSMgUG91ciBtaXNlIGVuIGZvcm1lIGVuIEhUTUwgbWF0MyA6IDN4MwoJCWxjcCA9IGxlbmd0aChjaGlmZnJlUG9zc2libGUobWF0LGksaixsaW1wKSkKCQlpZiBsY3AgPT0gMAoJCQlyZXR1cm4gW1si4oaYIiwi4oaTIiwi4oaZIl0sWyLihpIiLCIwIiwi4oaQIl0sWyLihpciLCLihpEiLCLihpYiXV0sIDAKCQllbHNlCgkJCXJldHVybiBtYXRyaWNlw6BsaXN0ZUpTKHJlc2hhcGUoWyh4ID09IGxjcCA/IHN0cmluZyh4KSA6ICh4PGxjcCA/IChsY3A8NCA/IHB0MSA6IChsY3A8NyA/IHB0MiA6IHB0MykpIDogIsKgIikpIGZvciB4IGluIDE6OV0sICgzLDMpKSwzKSwgbGNwCgkJZW5kCgllbmQKCWZ1bmN0aW9uIGh0bWxTdWRva3VQcm9wYWwoSlN1ZG9rdWluaTo6VW5pb257U3RyaW5nLCBWZWN0b3J7VmVjdG9ye0ludH19fT1qc3ZkKCksSlN1ZG9rdUZpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpIDsgdG91dFZvaXI6OkJvb2w9dHJ1ZSwgcGFyQ2FzZTo6Qm9vbD10cnVlLCBzb21tZTo6Qm9vbD10cnVlKQoJIyBBc3NleiBwcm9jaGUgZGUgaHRtbFN1ZG9rdSwgbWFpcyBuJ2EgcGFzIGJlc29pbiBkJ2F2b2lyIHVuIHN1ZG9rdSByw6lzb2x1IGVuIGVudHLDqWUuIEVuIGVmZmV0LCBpbCBuZSBtb250cmUgcXVlIGxlcyBjaGlmZnJlcyAob3UgbGV1ciBub21icmUgPSBzb21tZSkgcG9zc2libGVzIHBvdXIgbGUgbW9tZW50LgoJIyBJbCB5IGEgcGx1c2lldXJzIGNhcyA6IChjZWxhIGVzdCBwZXV0w6p0cmUgw6AgY2hhbmdlcikKCQkjIHRvdXRWb2lyIG91IG5vbiA6IGTDqWNvdXZyZSB0b3VzIGxlcyBjZWxsdWxlcyBzaSB0b3V0Vm9pciAoc2lub24gw6AgY2xpcXVlcikKCQkjIHBhckNhc2UgOiBkw6ljb3V2cmUgdW5lIGNlbGxlIGNlbGx1bGUgKHNpbm9uIHBsdXNpZXVycykKCQkjIHNvbW1lIDogdm9pciBqdXN0ZSBsZSBub21icmUgZGUgcG9zc2liaWxpdMOpLCBzaW5vbiwgdm9pciBsZXMgcG9zc2liaWxpdMOpcwoJCW1TOjpBcnJheXtJbnQsMn0gPSBsaXN0ZUpTw6BtYXRyaWNlKEpTdWRva3VpbmkpCgkJIyBtSW1wID0gWyBTZXR7SW50fSgpIGZvciBfID0gMTo5LCBfID0gMTo5IF0KCQltSW1wID0gRGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19KCkKCQl3aGlsZSB0cnVlCgkJCW5Bd2FrID0gZGVlcGNvcHkobUltcCkKCQkJdsOpcmlmbGlnbmUgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY29sID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNhcnLDqSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e1R1cGxle0ludCxJbnR9fSB9KCkgZm9yIF8gPSAxOjkgXQoJCQlkaWxsbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNjbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWtrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxjbyA9IERpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSgpCgkJCWRpY2xvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGlrY28gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWRpa2xvID0gRGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0oKQoJCQlmdXNpYmxlc2xpZyA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NvbCA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NhciA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5CgkJCQlpZiBtU1tpLGpdID09IDAKCQkJCQlnZXQhKG1JbXAsKGksaiksU2V0e0ludH0oKSApCgkJCQkJbGNwID0gY2hpZmZyZVBvc3NpYmxlKG1TLGksaixtSW1wW2ksal0pCgkJCQkJayA9IGtlbGNhcnLDqShpLGopCgkJCQkJaWkgPSBjYXJyKGkpCgkJCQkJamogPSBjYXJyKGopCgkJCQkJc2FjIShqLGksayxpaSxqaixsY3AsZnVzaWJsZXNjb2wsZGljY28sZGljbG8sZGlja28pCgkJCQkJc2FjIShpLGosayxpaSxqaixsY3AsZnVzaWJsZXNsaWcsZGlsbG8sZGlsY28sZGlsa28pCgkJCQkJc2FrIShpLGosayxpaSxqaixsY3AsZnVzaWJsZXNjYXIsZGlrbG8sZGlrY28sZGlra28pCgkJCQkJaWYgbGVuZ3RoKGxjcCkgPT0gMQoJCQkJCQlmb3IgaWlpIGluIDE6OSAjIC4uLm9uIHJldGlyZSBzdXIgbGEgbGlnbmUgZXQgbGEgY29sb25uZQoJCQkJCQkJZ2V0IShtSW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJCQlnZXQhKG1JbXAsKGlpaSxqKSxTZXR7SW50fSgpICkKCQkJCQkJCWlpaSAhPSBqICYmIHVuaW9uIShtSW1wW2ksaWlpXSxsY3ApCgkJCQkJCQlpaWkgIT0gaSAmJiB1bmlvbiEobUltcFtpaWksal0sbGNwKQoJCQkJCQllbmQKCQkJCQkJIyBmb3IgamogaW4gY2FycihqKSwgaWkgaW4gY2FycihpKSAjIC4uLmV0IHN1ciBsZSBjYXJyw6kKCQkJCQkJZm9yIGpqaiBpbiBqaiwgaWlpIGluIGlpICMgLi4uZXQgc3VyIGxlIGNhcnLDqQoJCQkJCQkJIyBqaiAhPSBqICYmIGlpICE9IGkgJiYgdW5pb24hKG1JbXBbaWksampdLFNldChsY3ApKQoJCQkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgdW5pb24hKGdldCEobUltcCwoaWlpLGpqaiksU2V0e0ludH0oKSApLGxjcCkKCQkJCQkJZW5kCgkJCQkJZWxzZSBwYXNBc3NlekRlUHJvcGFsIShpLCBqLCBsY3AsIHbDqXJpZmxpZ25lW2ldLCB2w6lyaWZjb2xbal0sIHbDqXJpZmNhcnLDqVtrXSwgbUltcCApIAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQlMVW5pY2xrIShkaWNsbyxkaWNjbyxkaWNrbyxkaWxsbyxkaWxjbyxkaWxrbyxkaWtsbyxkaWtjbyxkaWtrbyxtSW1wKQoJCQlpZiBtSW1wID09IG5Bd2FrCgkJCQlicmVhawoJCQllbmQKCQllbmQKCQlpZiBzb21tZQkKCQkJbW5Qcm9wYWwgPSBmaWxsKGZpbGwoIGZpbGwoIjAiLDMpLDMpICwgKDksOSkgKQoJCQltaW5lID0gMTAKCQkJZ3Jpc2VtaW5lID0gVHVwbGV7SW50LEludH1bXQoJCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5CgkJCQlpZiBtU1tpLGpdID09IDAKCQkJCW1uUHJvcGFsW2ksal0sIGxjcCA9IG5iUHJvcGFsKG1TLCBtSW1wW2ksal0sIGksIGopCgkJCQkJaWYgbGNwIDwgbWluZQoJCQkJCQltaW5lID0gbGNwCgkJCQkJCWdyaXNlbWluZSA9IFsoaSxqKV0KCQkJCQllbHNlaWYgbGNwID09IG1pbmUKCQkJCQkJcHVzaCEoZ3Jpc2VtaW5lLCAoaSxqKSkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQkJcGFyQ2FzZSA9IHRvdXRWb2lyICMgYmlkb3VpbGxlIMOgIGNoYW5nZXIgPwoJCQl0b3V0Vm9pciA9IHRydWUKCQkJaWYgMCA8IG1pbmUgPCA5CgkJCQlmb3IgKGksaikgaW4gZ3Jpc2VtaW5lCgkJCQkJbW5Qcm9wYWxbaSxqXVszXVszXSA9ICLinJQiCgkJCQllbmQKCQkJZW5kCgkJCUpQcm9wYWwgPSBtYXRyaWNlw6BsaXN0ZUpTKG1uUHJvcGFsKQoJCWVsc2UKCQkJbVByb3BhbCA9IGZpbGwoZmlsbCggZmlsbCgiMCIsMyksMykgLCAoOSw5KSApCgkJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkKCQkJCWlmIG1TW2ksal0gPT0gMAoJCQkJCW1Qcm9wYWxbaSxqXSA9IGNoaWZmcmVQcm9wYWwobVMsIG1JbXBbaSxqXSwgaSwgaiwgcGFyQ2FzZSkKCQkJCWVuZAoJCQllbmQKCQkJSlByb3BhbCA9IG1hdHJpY2XDoGxpc3RlSlMobVByb3BhbCkKCQllbmQKCQkJCgkJcmV0dXJuIERvY3MuSFRNTChyYXciIiI8c2NyaXB0IGlkPSJzY3JpcHRmaW5pIj4KCQkvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgkJCgkJLy8gY29uc3Qga2VsY2FySlMgPSAobGlnLCBjb2wpID0+IFtNYXRoLmZsb29yKGxpZy8zKSwgTWF0aC5mbG9vcihjb2wvMyldOwoJCWNvbnN0IE1NY2FyID0gKGxpZywgY29sLCBsaWduLCBjb2xvKSA9PiBNYXRoLmZsb29yKGxpZy8zKT09TWF0aC5mbG9vcihsaWduLzMpICYmIE1hdGguZmxvb3IoY29sLzMpPT1NYXRoLmZsb29yKGNvbG8vMykgOwoJCQoJCWNvbnN0IGNyZWF0ZVN1ZG9rdUh0bWwgPSAobXZhbHVlcywgdmFsdWVzX2luaSkgPT4gewkKCQkgIGNvbnN0IGRhdGEgPSBbXTsKCQkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkJCWxldCBodG1sUm93ID0gW107CgkJCWRhdGEucHVzaChbXSk7CgkJCWZvcihsZXQgaj0wOyBqPDk7aisrKXsKCQkJCQoJCQkgIAljb25zdCBodG1sTWluaURhdGEgPSBbXTsKCQkJCWNvbnN0IGlzSW5pdGlhbCA9IHZhbHVlc19pbmlbaV1bal0+MDsKCQkJCXZhciBtaW5pX3N1ZG9rdSA9IHZhbHVlc19pbmlbaV1bal07CgkJCQlpZiAoIShpc0luaXRpYWwpKSB7CgkJCQkgIGZvcihsZXQgcGw9MDsgcGw8MztwbCsrKXsKCQkJCQlsZXQgaHRtbE1pbmlSb3cgPSBbXTsKCQkJCQlmb3IobGV0IHBqPTA7IHBqPDM7cGorKyl7CgkJCQkJY29uc3QgbWluaVZhbHVlID0gbXZhbHVlc1tpXVtqXVtwbF1bcGpdOwoJCQkJCWNvbnN0IGh0bWxNaW5pQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSJtaW5pIiIiKih0b3V0Vm9pciAmJiBwYXJDYXNlID8gIlwiIiA6IHJhdyIiIiR7aXNJbml0aWFsPycgcHJvcCc6JyB2aWRlIGNhY2jDqWUnfSIgIiIiKSpyYXciIiIgZGF0YS1yb3c9IiR7cGx9IiBkYXRhLWNvbD0iJHtwan0iPiR7KG1pbmlWYWx1ZXx8J8KgJyl9PC90ZD5gOyAKCQkJCQlodG1sTWluaVJvdy5wdXNoKGh0bWxNaW5pQ2VsbCk7CgkJCQkJfQoJCQkJCWh0bWxNaW5pRGF0YS5wdXNoKGh0bWxgPHRyIHN0eWxlPSJib3JkZXItc3R5bGU6IG5vbmUgIWltcG9ydGFudDsiPiR7aHRtbE1pbmlSb3d9PC90cj5gKTsKCQkJCSAgfQoJCQkJdmFyIG1pbmlfc3Vkb2t1ID0gaHRtbGA8dGFibGUgY2xhc3M9InN1ZG9rb29sbWluaSIgc3R5bGU9InVzZXItc2VsZWN0OiBub25lOyI+CgkJCSAgPHRib2R5PiR7aHRtbE1pbmlEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YAoJCQkJfQoJCQkgIGNvbnN0IHZhbHVlZSA9IG1pbmlfc3Vkb2t1OwoJCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJCSAgY29uc3QgaHRtbENlbGwgPSBodG1sYDx0ZCBjbGFzcz0iJHtpc0luaXRpYWw/J2luaSc6J3Byb3BzJ30gJHtpc01lZGl1bT8nIHRyb2lzZCc6Jyd9IiBkYXRhLXJvdz0iJHtpfSIgZGF0YS1jb2w9IiR7an0iPiR7KHZhbHVlZXx8J8KgJyl9PC90ZD5gOwoJCQkgIGRhdGFbaV1bal0gPSB2YWx1ZWV8fDA7CgkJCSAgaHRtbFJvdy5wdXNoKGh0bWxDZWxsKTsKCQkJfQoJCQljb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwogICAgCQlodG1sRGF0YS5wdXNoKGh0bWxgPHRyICR7aXNNZWRpdW1CaXM/J2NsYXNzPSJ0cm9pc3IiJzonJ30+JHtodG1sUm93fTwvdHI+YCk7CgkJICB9CgkJICBjb25zdCBfc3Vkb2t1ID0gaHRtbGAiIiIgKiAoaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcpID8gIjxoNSBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3VzZXItc2VsZWN0OiBub25lOycgb25jbGljaz0nJGZvb3RpeCc+IOKaoSBBdHRlbnRpb24sIHN1ZG9rdSBpbml0aWFsIMOgIHJldm9pciAhIDwvaDU+IiA6ICIiKSAqIHJhdyIiIjx0YWJsZSBpZD0ic3Vkb2t1ZmluaSIgY2xhc3M9InN1ZG9rb29sIiBzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7Ij4KCQkJICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJCQk8L3RhYmxlPmAgIAoJCQkKCQljb25zdCBqZGF0YWluaSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlc19pbmkpOwoJCWNvbnN0IGpkYXRhRmluaSA9IEpTT04uc3RyaW5naWZ5KG12YWx1ZXMpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWluaScsIGpkYXRhaW5pKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFmaW5pJywgamRhdGFGaW5pKTsKCQl2YXIgc3Vkb2t1aW5pw6B2w6lyaWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vkb2tpbmNpcGl0Iik7CgkJaWYgKHN1ZG9rdWluacOgdsOpcmlmICYmIHN1ZG9rdWluacOgdsOpcmlmLmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgIT0gamRhdGFpbmkpIHsKCQkJcmV0dXJuIGh0bWxgPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5qAIFJlY2FsY3VsIHJhcGlkZcKgOyk8L2g1PmA7CgkJfTsgLy8gZW50cmUgUGx1dG8gPnYwLjE0LjcgZXQgMC4xOSBjZi4gcGx1cyBoYXV0CgkJcmV0dXJuIF9zdWRva3U7CgkJCX07CgkJCXdpbmRvdy5tc2dhID0gKF9zdWRva3UpID0+IHsKCQkJCWNvbnN0IGp1c3RlcmVtb250ZSA9ICh0ZG1pbmkpID0+IHsgLy8gMyBldCAyKzMKCQkJCSIiIiooc29tbWUgPyByYXciIiA6IHJhdyIiIgoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJCgkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpKSB7CgkJCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKS5jaGVja2VkKSB7CgkJCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpKSArIDE7IC8vIDMgZXQgMiszCgkJCQkJCQkJY29uc3QgY29sbyA9IHBhcnNlSW50KGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpKSArIDE7CgkJCQkJCQkJY29uc3QgdmFsZSA9IGUudGFyZ2V0LmlubmVySFRNTDsgLy8gcGFzIHV0aWxlIGRhbnMgY2UgY2FzICEKCQkJCQkJCQl2YXIgY2libGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3Vkb2tpbmNpcGl0ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoIisgbGlnbiArIikgPiB0ZDpudGgtY2hpbGQoIisgY29sbyArIikgPiBpbnB1dFt0eXBlPXRleHRdIik7CgkJCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQkJCWNpYmxlLnZhbHVlID0gdmFsZTsgCgkJCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImluaSIpOwoJCQkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQkJCWNpYmxlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjdG9wJykpOyAKCQkJCQkJCQl9OwoJCQkJCQl9fTsJCgkJCQkJCQoJCQkJfSl9KTsgIiIiKSpyYXciIiJ9OwoKCQkJCWNvbnN0IGNhcm9saWduID0gKGUpID0+IHsgLy8gMyBldCAxLi4uIMOgIGxhIGJhc2UKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IGdyYW5saWcgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBncmFuY29sID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IG9yTmljYXIgPSAodGxpZyx0Y29sKSA9PiBNTWNhcihncmFubGlnLGdyYW5jb2wsdGxpZyx0Y29sKTsKCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJCQkJCQl0ci5jaGlsZE5vZGVzLmZvckVhY2godGRkID0+IHsKCgkJCQkJCQlpZiAoKHRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpICYmICh0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpID09IGdyYW5saWcgfHwgdGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSA9PSBncmFuY29sIHx8IG9yTmljYXIodGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSx0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpKSApKXsKCQkJCQkJCQkvL3RkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1tpbGlnXS5jaGlsZE5vZGVzW2pjb2xdLmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsKCQkJCQkJCQl0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbaWxpZ10uY2hpbGROb2Rlc1tqY29sXS5jbGFzc0xpc3QucmVtb3ZlKCJjYWNow6llIik7CgkJCQkJCQkJfSB9KTsKCQkJCQl9KTsKCQkJCX07IAoKCQkJCWNvbnN0IGNhc2VjYXJvbGlnbiA9IChlKSA9PiB7IC8vIDIgZXQgMiBib251cwoJCQkJCWNvbnN0IGlsaWcgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgamNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3QgZ3JhbmxpZyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGdyYW5jb2wgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3Qgb3JOaWNhciA9ICh0bGlnLHRjb2wpID0+IE1NY2FyKGdyYW5saWcsZ3JhbmNvbCx0bGlnLHRjb2wpOwoJCQkJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCh0ciA9PiB7CgkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoKCQkJCQkJCWlmICgodGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgJiYgKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gZ3JhbmxpZyB8fCB0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGdyYW5jb2wgfHwgb3JOaWNhcih0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkpewoJCQkJCQkJCXRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlcy5mb3JFYWNoKGxpZ25lID0+IHsKCQkJCQkJCQkJbGlnbmUuY2hpbGROb2Rlcy5mb3JFYWNoKGNvbG9uID0+IHsKCQkJCQkJCQkJY29sb24uY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQkJCSAgfSk7CgkJCQkJCQkJfSk7IAoJCQkJCQkJfSB9KTsKCQkJCQl9KTsKCQkJCX07IAoJCQkJCgkJCQljb25zdCB0b3VzbGVzw6lnYWxpdCA9IChlKSA9PiB7CgkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAJCgkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKHRyID0+IHsKCQkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoJCQkJCQkJCWlmICh0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdIT1udWxsKXsKCQkJCQkJCQkJdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2lsaWddLmNoaWxkTm9kZXNbamNvbF0uY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJCQkJfX0pOwoJCQkJCX0pOwkJCgkJCQl9OwoKCQkJCWNvbnN0IGp1c3RldW5lY2FzZSA9ICh0ZG1pbmkpID0+IHsgLy8gMiBldCAyCgkJCQlqdXN0ZXJlbW9udGUodGRtaW5pKTsKCQkJCXRkbWluaS5mb3JFYWNoKHRkID0+IHsKCQkJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CQkKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpKSB7CgkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewkKCQkJCQkJCWNhc2VjYXJvbGlnbihlKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChsaWduZSA9PiB7CgkJCQkJCSAgbGlnbmUuY2hpbGROb2Rlcy5mb3JFYWNoKGNvbG9uID0+IHsKCQkJCQkJCWNvbG9uLmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCQkJICB9KTsKCQkJCQkJfSk7IAoJCQkJCX19IH0pOwkKCQkJCX0pIH07CgkJCQkKCQkJCWNvbnN0IHRvdXNsZXPDqWdhbGl0aW9zID0gKHRkbWluaSkgPT4geyAvLyAyIGV0IDEKCQkJCWp1c3RlcmVtb250ZSh0ZG1pbmkpOwoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJIiIiKihzb21tZSA/IHJhdyIiImlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikpIHsKCQkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewkKCQkJCQkJCQljYXJvbGlnbihlKTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJdG91c2xlc8OpZ2FsaXQoZSkgfX07CgkJCQkJCSIiIiA6IHJhdyIiInRvdXNsZXPDqWdhbGl0KGUpOyAiIiIpKnJhdyIiIgoJCQkJfSl9KSB9OwoJCQkJCgkJCQljb25zdCBjYXJvbGlnbmlvcyA9ICh0ZG1pbmkpID0+IHsgLy8gMyBldCAxCgkJCQlqdXN0ZXJlbW9udGUodGRtaW5pKTsKCQkJCXRkbWluaS5mb3JFYWNoKHRkID0+IHsKCQkJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKSkgewoJCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpLmNoZWNrZWQpIHsKCQkJCQkJCWNhcm9saWduKGUpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIil9fTsKCQkJCX0pIH0pIH07IAoJCQkJCgkJCQljb25zdCB0b3V0ZWZmYWNlciA9ICh0ZGJsZXVzKSA9PiB7CgkJCQkJdGRibGV1cy5mb3JFYWNoKHRkYmxldSA9PiB7CgkJCQkJCXRkYmxldS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJCQkJZm9yKGxldCBncmFuaT0wOyBncmFuaTw5O2dyYW5pKyspeyAKCQkJCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkJCQkgaWYgKGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpIHsKCQkJCQkJCWZvcihsZXQgbWluaWk9MDsgbWluaWk8MzttaW5paSsrKXsgCgkJCQkJCQlmb3IobGV0IG1pbmlqPTA7IG1pbmlqPDM7bWluaWorKyl7IAoJCQkJCQkJZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW21pbmlpXS5jaGlsZE5vZGVzW21pbmlqXS5jbGFzc0xpc3QuYWRkKCJjYWNow6llIik7CgkJCQkJCQkKCQkJCQkJCX19IH0gfX07CgkJCQkJCX0pOwoJCQkJCX0pOyB9OwoJCQkJCgkJCQkKCQlsZXQgdGRtaW5pID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5taW5pJyk7IAoJCS8vIC9wYXJDYXNlID0gdG91dFZvaXIgIyBiaWRvdWlsbGUgw6AgY2hhbmdlciA/IC90b3V0Vm9pciA9IHRydWUgLy8vIHBsdXMgaGF1dAogIAkJIiIiKih0b3V0Vm9pciAmJiBwYXJDYXNlID8gcmF3IiIianVzdGVyZW1vbnRlKHRkbWluaSk7LyogMyBldCAyKzMgKi8KCQkJIiIiIDogcmF3IiIiIGxldCB0ZGJsZXVzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5pbmknKTsgdG91dGVmZmFjZXIodGRibGV1cyk7IAoJCQkJCSIiIioocGFyQ2FzZSA/IHJhdyIiImp1c3RldW5lY2FzZSh0ZG1pbmkpOyAvKiAyIGV0IDIgKi8gCgkJCQkJCQkiIiIgOiAodG91dFZvaXIgPyByYXciIiJ0b3VzbGVzw6lnYWxpdGlvcyh0ZG1pbmkpOyAvKiAzIGV0IDEgKyAyIGV0IDMgKi8gIiIiIDogcmF3IiIiY2Fyb2xpZ25pb3ModGRtaW5pKTsgLyogMiBldCAxICovICIiIikpKSogcmF3IiIiCgkJICByZXR1cm4gX3N1ZG9rdTsKCQl9OwoJCS8vIHNpbm9uIDogcmV0dXJuIGNyZWF0ZVN1ZG9rdUh0bWwoLi4uKS5fc3Vkb2t1OwoJCXJldHVybiBtc2dhKGNyZWF0ZVN1ZG9rdUh0bWwoIiIiICoiJEpQcm9wYWwiKiIsICIqIiRKU3Vkb2t1aW5pIioiIiIpKTsKCQk8L3NjcmlwdD4iIiIpCgllbmQKCWh0bWxzcCA9IGh0bWxTdWRva3VQcm9wYWwgIyMgbWluaSB2ZXJzaW9uCglodG1hdHAgPSBodG1sU3Vkb2t1UHJvcGFsIOKImCBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbiAKCQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgRm9uY3Rpb24gcHJpY2lwYWxlIHF1aSByw6lzb3V0IG4naW1wb3J0ZSBxdWVsIHN1ZG9rdSAobcOqbWUgZmF1eCkgIyMjIyMjIyMjIyMjIyMjIyMjIwojIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjCiAgZnVuY3Rpb24gcsOpc291dFN1ZG9rdU1heChtUzo6QXJyYXl7SW50LDJ9LCBsZXNaw6lyb3M6OlNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19LCBkaWNvcsOpemxpZzo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjb2w6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y2FyOjpEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0gOyB0b3Vyczo6SW50ID0gODEpIAoJbmJUb3Vyc1RvdGFsID0gdG91cnMgIyBsZSBub21icmUgcXVpIGNlIHByb2dyYW1tZSBhIHLDqWVsbGVtZW50IGZhaXQgcGFyIGVzc2FpCgkjIGxlc1rDqXJvcyA9IFNldCh2WsOpcm9zKSAjIyBhdmFudCBTZXQoc2h1ZmZsZSEodlrDqXJvcykpICMgU2V0IHVuZSBib25uZSBeXgoJbGlzdGVkZWNob2l4ID0gVHVwbGV7SW50LEludCxJbnQsSW50LFNldHtJbnR9fVtdCglsaXN0ZWRhbmNpZW5uZU1hdCA9IEFycmF5e0ludCwyfVtdCglsaXN0ZWRlc1rDqXJvcyA9IFNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19W10KCWxlWsOpcm/DoFN1cHByID0gKDAsMCwwLDA6MCwwOjApICMgVHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19CgluYkNob2l4ZmFpdCA9IDAKCW1pbkNob2l4ZGVzWsOpcm9zID0gMTAKCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlID0gKDAsMCwwLDAsU2V0e0ludH0oKSkgCglsaXN0ZWRhbmNpZW5JbXAgPSBEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX1bXSAjIHNpIGRpY09rIAoJbGlzdGVkaWNvcsOpemxpZyA9IERpY3R7SW50LCBTZXR7SW50fX1bXQoJbGlzdGVkaWNvcsOpemNvbCA9IERpY3R7SW50LCBTZXR7SW50fX1bXQoJbGlzdGVkaWNvcsOpemNhciA9IERpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fVtdIAoJbUltcCA9IERpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSgpCgnDp2FOYXZhbmNlUGFzID0gdHJ1ZSAjIFBlcm1ldCBkZSB2b2lyIHNpIHJpZW4gbmUgc2UgcmVtcGxpdCBlbiB1biB0b3VyCglsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19KCkKCXdoaWxlICFpc2VtcHR5KGxlc1rDqXJvcykgIyAmJiBuYlRvdXJzVG90YWwgPCBuYlRvdXJzTWF4CgkJaWYgIWFsbGVyQXVDaG9peFN1aXZhbnQKCQkJbmJUb3Vyc1RvdGFsICs9IDEKCQkJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyByZXNldCDDoCBjaGFxdWUgdG91cgoJCQltaW5DaG9peGRlc1rDqXJvcyA9IDEwCgkJCWRpbGxvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGtvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2NvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpa2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGNvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGljbG8gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWtjbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZGlrbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWZ1c2libGVzbGlnID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY29sID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY2FyID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCXbDqXJpZmxpZ25lID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNvbCA9IFsgRGljdHtTZXR7SW50fSwgU2V0e0ludH19KCkgZm9yIF8gPSAxOjkgXQoJCQl2w6lyaWZjYXJyw6kgPSBbIERpY3R7U2V0e0ludH0sIFNldHtUdXBsZXtJbnQsSW50fX0gfSgpIGZvciBfID0gMTo5IF0KCQkJZm9yIChpLGosayxpaSxqaikgaW4gbGVzWsOpcm9zCgkJCQlsaXN0ZWNoaWZmcmUgPSBjaGlmZnJlUG9zc2libGUobVMsaSxqLGdldCEobUltcCwoaSxqKSxTZXR7SW50fSgpICksaWksamopIAoJCQkJc2FjIShqLGksayxpaSxqaixsaXN0ZWNoaWZmcmUsZnVzaWJsZXNjb2wsZGljY28sZGljbG8sZGlja28pCgkJCQlzYWMhKGksaixrLGlpLGpqLGxpc3RlY2hpZmZyZSxmdXNpYmxlc2xpZyxkaWxsbyxkaWxjbyxkaWxrbykKCQkJCXNhayEoaSxqLGssaWksamosbGlzdGVjaGlmZnJlLGZ1c2libGVzY2FyLGRpa2xvLGRpa2NvLGRpa2tvKQoJCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpIHx8IHBhc0Fzc2V6RGVQcm9wYWwhKGksaixsaXN0ZWNoaWZmcmUsIHbDqXJpZmxpZ25lW2ldLCB2w6lyaWZjb2xbal0sIHbDqXJpZmNhcnLDqVtrXSxtSW1wKQoJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSB0cnVlICMgZG9uYyBtYXV2YWlzIGNob2l4CgkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJCQkJCWJyZWFrCgkJCQllbHNlaWYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPT0gMSAjIEwnaWTDqWFsLCB1bmUgc2V1bGUgcG9zc2liaWxpdMOpCgkJCQkJbVNbaSxqXT1jb2xsZWN0KGxpc3RlY2hpZmZyZSlbMV0gIyBsZSBTZXQgZW4gbGlzdGUKCQkJCQkjIG1TW2ksal09cG9wIShsaXN0ZWNoaWZmcmUpICMjIG5lIGZvbmN0aW9ubmUgcGFzCgkJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksaixrLGlpLGpqKSkKCQkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2ldLGopCgkJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtqXSxpKQoJCQkJCWRlbGV0ZSEoZGljb3LDqXpjYXJba10sKGksaikgKQoJCQkJCWhhc2tleShkaWxsbyxpKSAmJiBkZWxldGUhKGRpbGxvW2ldLCBtU1tpLGpdKSAjIHV0aWxlIGV0IHPDu3IKCQkJCQloYXNrZXkoZGljY28saikgJiYgZGVsZXRlIShkaWNjb1tqXSwgbVNbaSxqXSkKCQkJCQloYXNrZXkoZGlra28saykgJiYgZGVsZXRlIShkaWtrb1trXSwgbVNbaSxqXSkKCQkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJCWVsc2VpZiDDp2FOYXZhbmNlUGFzICYmIGxlbmd0aChsaXN0ZWNoaWZmcmUpIDwgbWluQ2hvaXhkZXNaw6lyb3MKCQkJCQltaW5DaG9peGRlc1rDqXJvcyA9IGxlbmd0aChsaXN0ZWNoaWZmcmUpCgkJCQkJY2hvaXhBZmFpcmUgPSAoaSxqLCAxLCBtaW5DaG9peGRlc1rDqXJvcywgbGlzdGVjaGlmZnJlKSAKCQkJCQlsZVrDqXJvw6BTdXBwciA9IChpLGosayxpaSxqaikgIyBPbiBnYXJkZSBsZXMgY2VsbHVsZXMgYXZlYyAuLi4gCgkJCQllbmQgIyAuLi4gbGUgbW9pbnMgZGUgY2hvaXggw6AgZmFpcmUsIHNpIMOnYSBuJ2F2YW5jZSBwYXMKCQkJZW5kCgkJZW5kCgkJIyBpZiBhbGxlckF1Q2hvaXhTdWl2YW50IHx8IMOnYU5hdmFuY2VQYXMgJiYgKGRJbXAgPT0gbUltcCkgIyBlbiBtaWV1eCBeXgoJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgfHwgdW5pY2xrIShkaWNsbyxkaWNjbyxkaWNrbyxkaWxsbyxkaWxjbyxkaWxrbyxkaWtsbyxkaWtjbyxkaWtrbyxtUyxtSW1wLGRpY29yw6l6bGlnLGRpY29yw6l6Y29sLGRpY29yw6l6Y2FyLGxlc1rDqXJvc8OgU3VwcHIsw6dhTmF2YW5jZVBhcykKCQkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCAjIFNpIGxlIGNob2l4IGVuIGNvdXJzIG4nZXN0IHBhcyBib24KCQkJCWlmIGlzZW1wdHkobGlzdGVkZWNob2l4KSAjIHBhcyBkZSBib2wgaGVpbgoJCQkJCSMgQGluZm8gIjFtcCAkbmJUb3Vyc1RvdGFsICRuYkNob2l4ZmFpdCIKCQkJCQlyZXR1cm4gaW1wb3NzaWJsZSAjIGZhdXggY2FyIHRyb3AgY29udHJhaW50IOKGkiBleDogMTIzNDU2NzgrOSAjIywgKHRvdXI9bmJUb3Vycyx0dD1uYlRvdXJzVG90YWwsZXNzYWk9ZXNzYWksbm9peD1uYkNob2l4ZmFpdCx0b3Vycz1saXN0ZVRvdXJzLGNob2l4PWxpc3RlZGVjaG9peCwgesOpcm9zPWxpc3RlZGVzWsOpcm9zLG1hdGhzPWxpc3RlZGFuY2llbm5lTWF0KSAKCQkJCWVsc2VpZiBjaG9peFByw6ljw6lkZW50WzNdIDwgY2hvaXhQcsOpY8OpZGVudFs0XSAjIEFsbGVyIGF1IHN1aXZhbnQKCQkJCQkjIyBwdXNoIShsaXN0ZUhpc3RvTWF0ICwgY29weShtUykpICMjIGhpc3RvaXJlIDEgCgkJCQkJIyMgcHVzaCEobGlzdGVIaXN0b0Nob2l4ICwgY2hvaXhQcsOpY8OpZGVudCkgIyMgaGlzdG9pcmUgMSAKCQkJCQkjIyBwdXNoIShsaXN0ZUhpc3RvVG91cnNUb3RhbCAsIChuYlRvdXJzLCBuYlRvdXJzVG90YWwpKSAjIyBoaTEgCgkJCQkJIyMgbmJIaXN0b1RvdCArPSAxICMjIGhpc3RvaXJlIDEKCQkJCQkoaSxqLCBjaG9peCwgbCwgbGMpID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSAoaSxqLCBjaG9peCsxLCBsLCBsYykKCQkJCQlsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCW1TID0gY29weShsaXN0ZWRhbmNpZW5uZU1hdFtuYkNob2l4ZmFpdF0pCgkJCQkJbUltcCA9IGRlZXBjb3B5KGxpc3RlZGFuY2llbkltcFtuYkNob2l4ZmFpdF0pCgkJCQkJYWxsZXJBdUNob2l4U3VpdmFudCA9IGZhbHNlCgkJCQkJbVNbaSxqXSA9IHBvcCEobGMpCgkJCQkJbGVzWsOpcm9zID0gY29weShsaXN0ZWRlc1rDqXJvc1tuYkNob2l4ZmFpdF0pCgkJCQkJZGljb3LDqXpsaWcgPSBkZWVwY29weShsaXN0ZWRpY29yw6l6bGlnW25iQ2hvaXhmYWl0XSkKCQkJCQlkaWNvcsOpemNvbCA9IGRlZXBjb3B5KGxpc3RlZGljb3LDqXpjb2xbbmJDaG9peGZhaXRdKQoJCQkJCWRpY29yw6l6Y2FyID0gZGVlcGNvcHkobGlzdGVkaWNvcsOpemNhcltuYkNob2l4ZmFpdF0pCgkJCQllbHNlaWYgbGVuZ3RoKGxpc3RlZGVjaG9peCkgPCAyICMgcGFzIDIgYm9sCgkJCQkJIyBAaW5mbyAiMmJhbCAkbmJUb3Vyc1RvdGFsICRuYkNob2l4ZmFpdCIKCQkJCQlyZXR1cm4gaW1wb3NzaWJsZQoJCQkJZWxzZSAjIElsIGZhdXQgcmV2ZW5pciBkJ3VuIGNyYW4gZGFucyBsYSBsaXN0ZSBoaXN0b3JpcXVlCgkJCQkJbWFwKHBvcCEsKGxpc3RlZGVjaG9peCxsaXN0ZWRhbmNpZW5uZU1hdCxsaXN0ZWRhbmNpZW5JbXAsIGxpc3RlZGVzWsOpcm9zLGxpc3RlZGljb3LDqXpsaWcsbGlzdGVkaWNvcsOpemNvbCxsaXN0ZWRpY29yw6l6Y2FyKSkKCQkJCQluYkNob2l4ZmFpdCAtPSAxCgkJCQkJY2hvaXhQcsOpY8OpZGVudCA9IGxpc3RlZGVjaG9peFtuYkNob2l4ZmFpdF0KCQkJCWVuZAoJCQllbHNlICMgTm91dmVhdSBjaG9peCDDoCBmYWlyZSBldCDDoCBnYXJkZXIgZW4gbcOpbW9pcmUKCQkJCXB1c2ghKGxpc3RlZGVjaG9peCwgY2hvaXhBZmFpcmUpICMgaWNpIHBhcyBiZXNvaW4gZGUgY29waWUKCQkJCXB1c2ghKGxpc3RlZGFuY2llbm5lTWF0ICwgY29weShtUykpICMgY29waWUgZW4gZHVyCgkJCQlwdXNoIShsaXN0ZWRhbmNpZW5JbXAgLCBkZWVwY29weShtSW1wKSkgIyBjb3BpZSBlbiBkdXIKCQkJCWRlbGV0ZSEobGVzWsOpcm9zLCBsZVrDqXJvw6BTdXBwcikgIyBPbiByZXRpcmUgY2V1eC4uLiBpZGVtIHNldAoJCQkJcHVzaCEobGlzdGVkZXNaw6lyb3MgLCBjb3B5KGxlc1rDqXJvcykpICMgY29waWUgZW4gZHVyIGF1c3NpCgkJCQluYkNob2l4ZmFpdCArPSAxCgoJCQkJaXN1cHByID0gbGVaw6lyb8OgU3VwcHJbMV0KCQkJCWpzdXBwciA9IGxlWsOpcm/DoFN1cHByWzJdCgkJCQlrc3VwcHIgPSBsZVrDqXJvw6BTdXBwclszXQoJCQkJIyMgbVNbY2hvaXhBZmFpcmVbMToyXS4uLl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoJCQkJbVNbaXN1cHByLCBqc3VwcHJdID0gcG9wIShjaG9peEFmYWlyZVs1XSkKCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2lzdXBwcl0sanN1cHByKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtqc3VwcHJdLGlzdXBwcikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjYXJba3N1cHByXSwoaXN1cHByLGpzdXBwcikgKQoJCQkJcHVzaCEobGlzdGVkaWNvcsOpemxpZywgZGVlcGNvcHkoZGljb3LDqXpsaWcpKQoJCQkJcHVzaCEobGlzdGVkaWNvcsOpemNvbCwgZGVlcGNvcHkoZGljb3LDqXpjb2wpKQoJCQkJcHVzaCEobGlzdGVkaWNvcsOpemNhciwgZGVlcGNvcHkoZGljb3LDqXpjYXIpKQoKCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZQoJCQllbmQgCgkJZWxzZSAjICHDp2FOYXZhbmNlUGFzICYmICFhbGxlckF1Q2hvaXhTdWl2YW50ICMjIFRvdXQgdmEgYmllbiBpY2kKCQkJc2V0ZGlmZiEobGVzWsOpcm9zLCBsZXNaw6lyb3PDoFN1cHByKSAjIE9uIHJldGlyZSBjZXV4IHJlbXBsaXMgCgkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJCWVuZAkKCWVuZAoJcmV0dXJuIHRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKQogIGVuZAojICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIwojICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAKICBmdW5jdGlvbiByw6lzb3V0U3Vkb2t1KEpTdWRva3U6OlZlY3RvcntWZWN0b3J7SW50fX0gOyBuYlRvdXJzTWF4OjpJbnQgPSA4MSkgCgluYlRvdXJzVG90YWw6OkludCA9IDAKCW1TOjpBcnJheXtJbnQsMn0gPSBsaXN0ZUpTw6BtYXRyaWNlKEpTdWRva3UpICMgQ29udmVydGkgZW4gdnJhaWUgbWF0cmljZQoJbGVzWsOpcm9zID0gU2V0KHNodWZmbGUhKFsoaSxqKSBmb3IgaiBpbiAxOjksIGkgaW4gMTo5IGlmIG1TW2ksal09PTBdKSkKCWxpc3RlZGVjaG9peCA9IFR1cGxle0ludCxJbnQsSW50LEludCxTZXR7SW50fX1bXQoJbGlzdGVkYW5jaWVubmVNYXQgPSBBcnJheXtJbnQsMn1bXQoJbGlzdGVkZXNaw6lyb3MgPSBTZXR7VHVwbGV7SW50LEludH19W10KCW5iQ2hvaXhmYWl0ID0gMAoJbWluQ2hvaXhkZXNaw6lyb3MgPSAxMAoJYWxsZXJBdUNob2l4U3VpdmFudCA9IGZhbHNlCgljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUgPSAoMCwwLDAsMCxTZXR7SW50fSgpKSAKCcOnYU5hdmFuY2VQYXMgPSB0cnVlICMgUGVybWV0IGRlIHZvaXIgc2kgcmllbiBuZSBzZSByZW1wbGl0IGVuIHVuIHRvdXIKCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnR9fSgpCglpZiB2w6lyaWZTdWRva3VCb24obVMpCgkJd2hpbGUgIWlzZW1wdHkobGVzWsOpcm9zKSAmJiBuYlRvdXJzVG90YWwgPCBuYlRvdXJzTWF4CgkJIyMgZm9yIG5idCBpbiAxOm5iVG91cnNNYXggIyMjIG1hdXZhaXNlIGlkw6llCgkJCSMjIGlzZW1wdHkobGVzWsOpcm9zKSAmJiAobmJUb3Vyc1RvdGFsICs9IG5idCAtIDE7IGJyZWFrKQoJCQlpZiAhYWxsZXJBdUNob2l4U3VpdmFudAoJCQkJbmJUb3Vyc1RvdGFsICs9IDEKCQkJCcOnYU5hdmFuY2VQYXMgPSB0cnVlICMgcmVzZXQgw6AgY2hhcXVlIHRvdXIgPyBpZGVtIHBvdXIgbGUgcmVzdGUgPwoJCQkJbWluQ2hvaXhkZXNaw6lyb3MgPSAxMAoJCQkJZm9yIChpLGopIGluIGxlc1rDqXJvcwoJCQkJCWxpc3RlY2hpZmZyZSA9IHNpbXBsZWNoaWZmcmVQb3NzaWJsZShtUyxpLGopIAoJCQkJCWlmIGlzZW1wdHkobGlzdGVjaGlmZnJlKQoJCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gdHJ1ZSAjIGRvbmMgbWF1dmFpcyBjaG9peAoJCQkJCQlsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50fX0oKQoJCQkJCQlicmVhawoJCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVjaGlmZnJlKSA9PSAxICMgTCdpZMOpYWwsIHVuZSBzZXVsZSBwb3NzaWJpbGl0w6kKCQkJCQkJbVNbaSxqXT1jb2xsZWN0KGxpc3RlY2hpZmZyZSlbMV0gIyMgYXZhbnQgbGUgU2V0IGVuIGxpc3RlCgkJCQkJCSMgbVNbaSxqXT1wb3AhKGxpc3RlY2hpZmZyZSkgIyMgbmUgZm9uY3Rpb25uZSBwYXMKCQkJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksaikpCgkJCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQkJCWVsc2VpZiDDp2FOYXZhbmNlUGFzICYmIGxlbmd0aChsaXN0ZWNoaWZmcmUpIDwgbWluQ2hvaXhkZXNaw6lyb3MKCQkJCQkJbWluQ2hvaXhkZXNaw6lyb3MgPSBsZW5ndGgobGlzdGVjaGlmZnJlKQoJCQkJCQljaG9peEFmYWlyZSA9IChpLGosIDEsIG1pbkNob2l4ZGVzWsOpcm9zLCBsaXN0ZWNoaWZmcmUpICAKCQkJCQkJZW5kICMgLi4uIGxlIG1vaW5zIGRlIGNob2l4IMOgIGZhaXJlLCBzaSDDp2EgbidhdmFuY2UgcGFzCgkJCQllbmQKCQkJZW5kCgkJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgfHwgw6dhTmF2YW5jZVBhcyAKCQkJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgIyBTaSBsZSBjaG9peCBlbiBjb3VycyBuJ2VzdCBwYXMgYm9uCgkJCQkJaWYgaXNlbXB0eShsaXN0ZWRlY2hvaXgpICMgcGFzIGRlIGJvbCBoZWluCgkJCQkJCXJldHVybiBpbXBvc3NpYmxlCgkJCQkJZWxzZWlmIGNob2l4UHLDqWPDqWRlbnRbM10gPCBjaG9peFByw6ljw6lkZW50WzRdICMgQWxsZXIgYXUgc3VpdmFudCAKCQkJCQkJKGksaiwgY2hvaXgsIGwsIGxjKSA9IGNob2l4UHLDqWPDqWRlbnQKCQkJCQkJY2hvaXhQcsOpY8OpZGVudCA9IChpLGosIGNob2l4KzEsIGwsIGxjKQoJCQkJCQlsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCQltUyA9IGNvcHkobGlzdGVkYW5jaWVubmVNYXRbbmJDaG9peGZhaXRdKQoJCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCQkJCQkJbVNbaSxqXSA9IHBvcCEobGMpCgkJCQkJCWxlc1rDqXJvcyA9IGNvcHkobGlzdGVkZXNaw6lyb3NbbmJDaG9peGZhaXRdKQoJCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVkZWNob2l4KSA8IDIgIyBwYXMgMiBib2wKCQkJCQkJcmV0dXJuIGltcG9zc2libGUKCQkJCQllbHNlICMgSWwgZmF1dCByZXZlbmlyIGQndW4gY3JhbiBkYW5zIGxhIGxpc3RlIGhpc3RvcmlxdWUgCgkJCQkJCW1hcChwb3AhLChsaXN0ZWRlY2hvaXgsbGlzdGVkYW5jaWVubmVNYXQsIGxpc3RlZGVzWsOpcm9zKSkKCQkJCQkJbmJDaG9peGZhaXQgLT0gMQoJCQkJCQljaG9peFByw6ljw6lkZW50ID0gbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XQoJCQkJCWVuZAoJCQkJZWxzZSAjIE5vdXZlYXUgY2hvaXggw6AgZmFpcmUgZXQgw6AgZ2FyZGVyIGVuIG3DqW1vaXJlIAoJCQkJCXB1c2ghKGxpc3RlZGVjaG9peCwgY2hvaXhBZmFpcmUpICMgaWNpIHBhcyBiZXNvaW4gZGUgY29waWUKCQkJCQlwdXNoIShsaXN0ZWRhbmNpZW5uZU1hdCAsIGNvcHkobVMpKSAjIGNvcGllIGVuIGR1cgoJCQkJCWRlbGV0ZSEobGVzWsOpcm9zLCBjaG9peEFmYWlyZVsxOjJdKSAjIE9uIHJldGlyZSBjZXV4Li4uIGlkZW0gc2V0ID8KCQkJCQlwdXNoIShsaXN0ZWRlc1rDqXJvcyAsIGNvcHkobGVzWsOpcm9zKSkgIyBjb3BpZSBlbiBkdXIgYXVzc2kgCgkJCQkJbmJDaG9peGZhaXQgKz0gMQoJCQkJCW1TW2Nob2l4QWZhaXJlWzE6Ml0uLi5dID0gcG9wIShjaG9peEFmYWlyZVs1XSkKCQkJCQljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUKCQkJCWVuZCAKCQkJZWxzZSAjICHDp2FOYXZhbmNlUGFzICYmICFhbGxlckF1Q2hvaXhTdWl2YW50ICMjIFRvdXQgdmEgYmllbiBpY2kKCQkJCXNldGRpZmYhKGxlc1rDqXJvcywgbGVzWsOpcm9zw6BTdXBwcikgIyBPbiByZXRpcmUgY2V1eCByZW1wbGlzIAoJCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludH19KCkKCQkJZW5kCQoJCWVuZAoJZWxzZSByZXR1cm4gw6Bjb3JyaWdlcgoJZW5kCglpZiBuYlRvdXJzVG90YWwgPT0gbmJUb3Vyc01heCB8fCBuYlRvdXJzVG90YWwgPiBuYlRvdXJzTWF4CgkJbUNvcGllID0gZ2V0KGxpc3RlZGFuY2llbm5lTWF0LCAxLCBjb3B5KG1TKSkKCQl2WsOpcm9zID0gU2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJCWRpY29yw6l6bGlnID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJZGljb3LDqXpjb2wgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQlkaWNvcsOpemNhciA9IERpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fSgpCgkJZm9yIGogaW4gMTo5LCBpIGluIDE6OSAKCQkJaWYgbUNvcGllW2ksal09PTAKCQkJCWsgPSBrZWxjYXJyw6koaSxqKQoJCQkJcHVzaCEodlrDqXJvcywgKGksaixrLGNhcnIoaSksY2FycihqKSkgKQoJCQkJcHVzaCEoZ2V0IShkaWNvcsOpemxpZyxpLFNldHtJbnR9KCkgKSxqKQoJCQkJcHVzaCEoZ2V0IShkaWNvcsOpemNvbCxqLFNldHtJbnR9KCkgKSxpKQoJCQkJcHVzaCEoZ2V0IShkaWNvcsOpemNhcixrLFNldHtUdXBsZXtJbnQsSW50fX0oKSApLChpLGopICkKCQkJZW5kCgkJZW5kIAoJCXJldHVybiByw6lzb3V0U3Vkb2t1TWF4KG1Db3BpZSwgdlrDqXJvcywgZGljb3LDqXpsaWcsIGRpY29yw6l6Y29sLCBkaWNvcsOpemNhcjsgdG91cnM9bmJUb3Vyc1RvdGFsKSAKCWVsc2UgcmV0dXJuIHRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKQoJZW5kCiAgZW5kCiAgcmpzID0gcsOpc291dFN1ZG9rdSAjIyBtaW5pIHZlcnNpb24gICAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIwogIHJtYXQgPSByw6lzb3V0U3Vkb2t1IOKImCBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbiAgICMjICMjICMjICMjICMjICMjICMjICMjICMjCiMgRmluIGRlIGxhIGZvbmN0aW9uIHByaW5jaXBhbGUgOiByw6lzb3V0U3Vkb2t1ICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgZnVuY3Rpb24gc3Vkb2t1QWzDqWF0b2lyZUZpbmkoKSAjIyBHw6luw6hyZSB1biBzdWRva3UgYWzDqWF0b2lyZSBmaW5pIChhdWN1biB2aWRlKQoJcmV0dXJuIGxpc3RlSlPDoG1hdHJpY2UocsOpc291dFN1ZG9rdShqc3ZkKCkpWzFdKQogIGVuZAogIGZ1bmN0aW9uIHN1ZG9rdUFsw6lhdG9pcmUoeD0xOTo2MiA7IGZ1bj1yYW5kLCBtYXR6w6lybz1zdWRva3VBbMOpYXRvaXJlRmluaSgpKSNyYW5kMTo4MQogICMgVW5lIGZvaXMgbGUgc3Vkb2t1QWzDqWF0b2lyZUZpbmksIG9uIGxlIHZpZGUgdW4gcGV1IGQndW4gbm9tYnJlIHggZGUgY2VsbHVsZXMKCWlmICFpc2EoeCwgSW50KSAjIFBlcm1ldCBkZSBjaG9pc2lyIGxlIG5vbWJyZSBkZSB6w6lybyBvdSB1biBpbnRlcnZhbGUKCQl4PWZ1bih4KQoJZW5kCgl4ID0gKDAgPD0geCA8IDgyKSA/IHggOiA4MSAjIFBvdXIgY2V1eCBhdXggZ3JvcyBkb2lndHMsIG91IHF1aSB2b2l0IHRyb3AgZ3JhbmQKCWxpc3RlID0gc2h1ZmZsZSEoWyhpLGopIGZvciBpIGluIDE6OSBmb3IgaiBpbiAxOjldKQoJZm9yIChpLGopIGluIGxpc3RlWzE6eF0gIyBuYkFwcHJveERlWsOpcm9zCgkJbWF0esOpcm9baSxqXSA9IDAKCWVuZAoJcmV0dXJuIG1hdHJpY2XDoGxpc3RlSlMobWF0esOpcm8pCiAgZW5kCgogIGZ1bmN0aW9uIHZpZXV4U3Vkb2t1IShub3V2ZWF1PXN1ZG9rdUFsw6lhdG9pcmUoKSA7IGTDqWZhdXQ9ZmFsc2UsIG3DqW1vaXJlPVN1ZG9rdU3DqW1vLCBtYXR6w6lybz1zdWRva3VBbMOpYXRvaXJlRmluaSgpLCBpZExpZW49ImxpZW4iKnN0cmluZyhyYW5kKEludCkpKQogICMgT24gcGV1dCByZXRyb3V2ZXIgdW4gdmlldXhTdWRva3UhIHBvdXIgbGUgbWV0dHJlIGF1IGxpZXUgZHUgc3Vkb2t1IGluaXRpYWwKICAjIyBFeGVtcGxlIGRlIHN1ZG9rdSA6CiAgIyB2aWV1eFN1ZG9rdSEoW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwzLDAsOCw1XSxbMCwwLDEsMCwyLDAsMCwwLDBdLFswLDAsMCw1LDAsNywwLDAsMF0sWzAsMCw0LDAsMCwwLDEsMCwwXSxbMCw5LDAsMCwwLDAsMCwwLDBdLFs1LDAsMCwwLDAsMCwwLDcsM10sWzAsMCwyLDAsMSwwLDAsMCwwXSxbMCwwLDAsMCw0LDAsMCwwLDldXSkKCWlmIGTDqWZhdXQ9PXRydWUgIyBNw6lnYWxvbWFuaWUgIyMgT24gcmV2aWVudCDDoCBtb24gZMOpZmF1dCBeXgoJCW3DqW1vaXJlWzJdID0gY29weShtw6ltb2lyZVs0XSkKCWVsc2VpZiBpc2Eobm91dmVhdSwgSW50KSB8fCBpc2Eobm91dmVhdSwgVW5pdFJhbmdle0ludH0pCgkJbcOpbW9pcmVbMl0gPSBzdWRva3VBbMOpYXRvaXJlKG5vdXZlYXUgOyBtYXR6w6lybz1tYXR6w6lybykKCWVsc2VpZiBub3V2ZWF1PT1tw6ltb2lyZVsxXSAKCQltw6ltb2lyZVsyXSA9IHN1ZG9rdUFsw6lhdG9pcmUoKQoJZWxzZSBtw6ltb2lyZVsyXSA9IGNvcHkobm91dmVhdSkgIyBBc3R1Y2UgcG91ciBzYXV2ZXIgbGUgc3Vkb2t1IGVuIGNvdXJzCgllbmQKCXJldHVybiBEb2NzLkhUTUwoIiIiPHNjcmlwdD4KCXZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0Iik7Cglmb3IodmFyIG5pPTA7bmk8ZWxlLmxlbmd0aDtuaSsrKQoJCWVsZVtuaV0uY2hlY2tlZCA9IGZhbHNlOwoKCWZ1bmN0aW9uIGdvU3Vkb2t1SW5pKCkgewoJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKVsxXS5jbGljaygpOwoJfQoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiRpZExpZW4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGdvU3Vkb2t1SW5pKTsKCWdvU3Vkb2t1SW5pKCk7Cgl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIjTW9kaWZpZXJJbml0IjsKCTwvc2NyaXB0PjxoNiBzdHlsZT0ibWFyZ2luLXRvcDogMDsiPiBDaS1kZXNzb3VzLCBsZSBib3V0b27CoOKWtiByZXN0b3JlIGxlIHZpZXV4IHN1ZG9rdSBlbiBzdWRva3UgaW5pdGlhbMKgIcKg8J+lsyA8YSBpZD0iJGlkTGllbiIgaHJlZj0nI01vZGlmaWVySW5pdCc+IHJldG91csKgZW7CoGhhdXTCoOKGkSA8L2E+IDwvaDY+IiIiKQogIGVuZAogIHZpZXV4ID0gdnMgPSB2cyEgPSB2UyEgPSB2aWV1eFN1ZG9rdSEgIyMgbWluaSB2ZXJzaW9uCiAgdnNkKCkgPSB2aWV1eFN1ZG9rdSEoZMOpZmF1dD10cnVlKSAjIyBQb3VyIHJldmVuaXIgw6AgbCdvcmlnaW5hbAogIGluaSA9IGTDqWZhdXQgPSBkZWZhdXQgPSB2c2QgIyMgbWluaSB2ZXJzaW9uCiAgc3Vkb2t1aW5pdGlhbCEoKSA9IHZpZXV4U3Vkb2t1IShTdWRva3VNw6ltb1szXSkKICB2aWV1eFN1ZG9rdSEobm91dmVhdTo6QXJyYXl7SW50LDJ9IDsgZMOpZmF1dD1mYWxzZSwgbcOpbW9pcmU9U3Vkb2t1TcOpbW8sIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCksIGlkTGllbj0ibGllbiIqc3RyaW5nKHJhbmQoSW50KSkpID0gdmlldXhTdWRva3UhKG1hdHJpY2XDoGxpc3RlSlMobm91dmVhdScpOyBkw6lmYXV0PWTDqWZhdXQsIG3DqW1vaXJlPW3DqW1vaXJlLCBtYXR6w6lybz1tYXR6w6lybywgaWRMaWVuPWlkTGllbikKCiAgIz0gRCdhdXRyZXMgZm9uY3Rpb25zIHNpIGJlc29pbiBwb3VyIHRlc3RlciBldCByZXDDqXJlciBkZXMgZXJyZXVycyA6CiAgZnVuY3Rpb24gc3Vkb2t1QWx0KG5iQ2hpZmZyZXNNYXg9cmFuZCgyNjo4MSksIG1vaW5zT0s9dHJ1ZSwgbmJlc3NhaT0xKSAKICAjIFNvcnRlIGRlIHN1ZG9rdUFsw6lhdG9pcmUgbWFpcyB1biBwZXUgcGx1cyBmb2lyZXV4LCBlbiBlZmZldCwgaWwgbidlc3QgcGFzIGZvcmPDqW1lbnQgcsOpYWxpc2FibGUuIEMnw6l0YWl0IHN1cnRvdXQgcG91ciBmYWlyZSBkZXMgdGVzdHMuCgluYkNoaWZmcmVzID0gMQoJCgltUzo6QXJyYXl7SW50LDJ9ID0gemVyb3MoSW50LCA5LDkpICMgTWF0cmljZSBkZSB6w6lybwoJbGVzWsOpcm9zID0gc2h1ZmZsZSEoWyhpLGopIGZvciBqIGluIDE6OSwgaSBpbiAxOjldKSMgRmFzdCAmIEZ1cmlvdXMKCQoJZm9yIChpLGopIGluIGxlc1rDqXJvcwoJCWlmIG5iQ2hpZmZyZXMgPiBuYkNoaWZmcmVzTWF4CgkJCXJldHVybiBtUwoJCWVsc2UgCgkJbGlzdGVjaGlmZnJlID0gc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1TLGksaikKCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpICMjIyBQYXMgYm9uIHNpZ25lIF5eCgkJCQlpZiBtb2luc09LIHx8IG5iZXNzYWkgPiAyNgoJCQkJCXJldHVybiBtUwoJCQkJZWxzZSAKCQkJCQlyZXR1cm4gc3Vkb2t1QWx0KG5iQ2hpZmZyZXNNYXgsIGZhbHNlLCBuYmVzc2FpKzEpCgkJCQllbmQKCQkJZWxzZSAjIGxlbmd0aChsaXN0ZWNoaWZmcmUpID09IDEgIyBMJ2lkw6lhbCwgdW5lIHNldWxlIHBvc3NpYmlsaXTDqQoJCQkJIyBtU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXQoJCQkJbVNbaSxqXT1wb3AhKGxpc3RlY2hpZmZyZSkKCQkJCW5iQ2hpZmZyZXMgKz0gMQoJCQllbmQKCQllbmQKCWVuZAogIGVuZAogIHNhbHQgPSBzdWRva3VBbHQgIyMgbWluaSB2ZXJzaW9uCiAgZnVuY3Rpb24gYmxpbmR0ZXN0KG5idGVzdD0xMDAgOyB0bWF4PTgxLCBuYnrDqXJvID0gKHJhbmQsIDc6NzcpLCBzdWRmPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKQogICMgUGVybWV0IGRlIHRlc3RlciBsYSByYXBpZGl0w6kgZXQgY2VydGFpbnMgYnVncyBkZSBtYSBmb25jdGlvbiBwcmluY2lwYWxlIHLDqXNvdXRTdWRva3UuIEMnZXN0IGRvbmMgdW5lIGZvbmN0aW9uIHF1aSBlc3QgdGVjaG5pcXVlIGV0IHF1aSBzZXJ0IHN1cnRvdXQgcXVhbmQgaWwgeSBhIGRlcyDDqXZvbHV0aW9ucyBkZSBjZXR0ZSBmb25jdGlvbi4KCW5iesOpcm9mKCkgPSBpc2EobmJ6w6lybyxUdXBsZSkgPyBuYnrDqXJvPW5iesOpcm9bMV0obmJ6w6lyb1syXSkgOiBOb3RoaW5nCglmb3IgaSBpbiAxOm5idGVzdAoJCXN1ZGluaSA9IHN1ZGYoKQoJCW5iesOpcm9mKCkKCQlzdWRhbMOpYSA9IHN1ZG9rdUFsw6lhdG9pcmUobmJ6w6lybywgZnVuPWlkZW50aXR5LCBtYXR6w6lybz1jb3B5KHN1ZGluaSkpCgkJIyB0cnkgCgkJIyAJcsOpc291dFN1ZG9rdShzdWRhbMOpYSA7IG5iVG91cnNNYXg9dG1heCkKCQkjIGNhdGNoIGUKCQkjIAlyZXR1cm4gKCJidWciLCBlLCBzdWRhbMOpYSkKCQkjIGVuZAoJCXNvbHVjZSA9IHLDqXNvdXRTdWRva3Uoc3VkYWzDqWEgOyBuYlRvdXJzTWF4PXRtYXgpCgkJaWYgc29sdWNlWzFdIGlzYSBTdHJpbmcKCQkJIyMgaWYgc3VkZj09c3Vkb2t1QWzDqWF0b2lyZUZpbmkgfHwgc29sdWNlWzFdICE9IGltcG9zc2libGVbMV0KCQkjIGlmIHNvbHVjZVsxXSA9PSBpbXBvc3NpYmxlWzFdCgkJIyBpZiBzb2x1Y2VbMV0gPT0gw6Bjb3JyaWdlclsxXQoJCQkJcmV0dXJuIG1hdHJpY2XDoGxpc3RlSlMoc3VkaW5pKSwgaSwgbmJ6w6lybywgc29sdWNlLCBzdWRpbmksICByZXBsYWNlKCJ2aWV1eCggJChtYXRyaWNlw6BsaXN0ZUpTKHN1ZGluaSkpICkiLCIgIj0+IiIpLCBzdWRhbMOpYSwgcmVwbGFjZSgidmlldXgoJHN1ZGFsw6lhKSIsIiAiPT4iIikKCQkJIyBlbmQKCQllbmQKCWVuZAoJcmV0dXJuIFtbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDIsMywwLDAsMCwxLDUsMF0sWzcsMCwwLDQsMCwyLDAsMCw2XSxbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCwwLDAsMCwwLDAsMF0sWzAsNywyLDAsMCwwLDgsNCwwXSxbMCwxLDQsMCwwLDAsNyw5LDBdLFswLDAsNyw5LDIsNCwzLDAsMF0sWzAsMCwwLDEsNSw3LDAsMCwwXV0sICJUb3V0IHZhIGJpZW4uLi4gcG91ciBsZSBtb21lbnQg8J+RjSIKCSMgcmV0dXJuICJUb3V0IHZhIGJpZW4uLi4gcG91ciBsZSBtb21lbnQg8J+RjSIKICBlbmQKICBidCA9IHRlc3RtZSA9IGJsaW5kdGVzdCAjIyBtaW5pIHZlcnNpb24gPSMKICAjIyBleGVtcGxldGVzdCA9IGJ0KDEwMCxzdWRmPXNhbHQpO3ZpZXV4KGV4ZW1wbGV0ZXN0WzFdKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwplbmQ7IG5vdGhpbmc7ICMgc3R5bMOpbMOgYmFzYXZlY2JvbnVzISAjIyB2b2lyIGp1c3RlIGRhbnMgbGEgY2VsbHVsZSAjQm9udXMgYXUgZGVzc3VzIOKGkQojIFZvaWzDoCAhIGZpbiBkZSBsYSBwbHVwYXJ0IGR1IGNvZGUgZGUgY2UgcHJvZ3JhbW1lIFBsdXRva3UuamwKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMQptZCIjIFLDqXNvdWRyZSB1biBTdWRva3UgcGFyIEFsZXhpc8KgJGNvb2wiICM9IHYxLjguNsKgamV1ZGnCoDA3LzA3LzIwMjLCoPCfmIkKClBvdXIgbGEgdnVlIEhUTUwgZXQgbGUgc3R5bGUgQ1NTLCBjZWxhIGVzdCBpbnNwaXLDqSBkdSBzdWRva3UgaHR0cHM6Ly9vYnNlcnZhYmxlaHEuY29tL0BmaWxpcGVybWxoL2lhLXN1ZG9rdS1wbGUxClBvdXIgbGUgSmF2YVNjcmlwdCwgbWVyY2kgw6AgKGNhc2Ugc3VpdmFudGUgaW5wdXQpIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNTU5NTczMiwgKHRvdWNoZXMgY2xhdmllcikgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ0MjEzMDM2CkV0IGJpZW4gc8O7ciBsZSBjYWxlcGluIGQnZXhlbXBsZSBkZSBGb25zICIzLiBJbnRlcmFjdGl2aXR5IgpQb3VyIGluZm8sIGxlIGNvZGUgcHJpbmNpcGFsIGVzdCBzdHlsw6lsw6BiYXNhdmVjYm9udXMhIG91IHBsdXTDtHQgY2FjaMOpIGp1c3RlIGFwcsOocyA6KQoKQ2UgInBsdXRva3UiIGVzdCB2aXNpYmxlIHN1csKgOiAKaHR0cHM6Ly9naXRodWIuY29tLzRMRC9wbHV0b2t1CgpQb3VyIGxlIHJlbGFuY2VyIHBvdXIgaW5mb8KgOiAKaHR0cHM6Ly9teWJpbmRlci5vcmcvdjIvZ2gvZm9uc3AvcGx1dG8tb24tYmluZGVyL0hFQUQ/dXJscGF0aD1wbHV0by9vcGVuP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vNExEL3BsdXRva3UvbWFpbi9QbHV0b2t1LmpsCk91IGNmLiBodHRwczovL2dpdGh1Yi5jb20vZm9uc3AvUGx1dG8uamwgZXQgaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlciA6IApodHRwczovL2JpbmRlci5wbHV0b2psLm9yZy9vcGVuP3VybD1odHRwczolMjUyRiUyNTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyNTJGNExEJTI1MkZwbHV0b2t1JTI1MkZtYWluJTI1MkZQbHV0b2t1LmpsIAoKPSMKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAzLTEyMzQ1Njc4OTAwMwptZCIiIlBvdXIgY2V0dGUgc2Vzc2lvbiwgc2kgYmVzb2luIGQndW4gOiAkKEBiaW5kIGJvdXRvblN1ZG9rdUluaXRpYWwgaHRtbCI8aW5wdXQgdHlwZT1idXR0b24gc3R5bGU9J21hcmdpbjogMCA2cHggMCA2cHgnIHZhbHVlPSfwn5O3IGluc3RhbnRhbsOpIDspJz4iKSAqKHNpwqBzdWRva3XCoHZpZGXCoOKGksKgc3Vkb2t1wqBhbMOpYXRvaXJlKSoiIiIKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA0LTEyMzQ1Njc4OTAwMgpiZWdpbiAKCWJvdXRvblN1ZG9rdUluaXRpYWwgIyBSZW1ldHRyZSBsZSBwdWNlICJNb2RpZmllckluaXQiIHN1ciBSZXRvdXIgaW5zdGFudGFuw6kgOykKCXN1ZG9rdWluaXRpYWwhKCkgIyB2aWV1eFN1ZG9rdSEoU3Vkb2t1TcOpbW9bM10pIFBvdXIgcmVtcGxhY2VyIHBhciBjZWx1aSBtb2RpZmnDqQoJbWQiIiIgJChAYmluZCB2aWRlck91cGFzIHB1Y2VzKFsiVmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwiLCJSZXRvdXIgaW5zdGFudGFuw6kgOykiXSwiUmV0b3VyIGluc3RhbnRhbsOpIDspIjsgaWRQdWNlcz0iTW9kaWZpZXJJbml0IikpICQoaHRtbCLCoDxhIGhyZWY9JyNCb251cycgc3R5bGU9J3BhZGRpbmctbGVmdDogMTBweDsgYm9yZGVyLWxlZnQ6IG1lZGl1bSBkYXNoZWQgIzc3NzsnPkJvbnVzwqBlbsKgYmFzwqDihpM8L2E+IinCoF86wqBhc3R1Y2VzwqArwqB2aWV1eFN1ZG9rdSFfIiIiCmVuZAoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1CmJlZ2luCgljaG9peFN1ZG9rdSA9ICghaXNhKHZpZGVyT3VwYXMsIFN0cmluZykgfHwgdmlkZXJPdXBhcyAhPSAiVmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwiIAkJICA/ICAyICA6ICAxICApCglAYmluZCBiaW5kSlN1ZG9rdSBCb25kSmFtZXNCb25kKFN1ZGluaShTdWRva3VNw6ltbywgY2hvaXhTdWRva3UpLCBTdWRva3VNw6ltb1szXSkKZW5kCgojIOKVlOKVkOKVoSBhMjM0NTY3OC03NjU0LTMyMTAtYjAwNi0xMjM0NTY3ODkwMDQKYmVnaW4gCglTdWRva3VNw6ltb1szXSA9IGJpbmRKU3Vkb2t1ICMgUG91ciBxdWUgbGUgc3Vkb2t1IGVuIGNvdXJzIChpbml0aWFsIG1vZGlmacOpKSByZXN0ZSBlbiBtw6ltb2lyZSBzaSBiZXNvaW4gLT4gUmV0b3VyIGluc3RhbnRhbsOpIDspIAoJc3Vkb2t1U29sdXRpb24gPSByw6lzb3V0U3Vkb2t1KGJpbmRKU3Vkb2t1KSAjIGNhbGN1bGUgbGEgc29sdXRpb24KCSMgc3Vkb2t1U29sdXRpb24gPSByw6lzb3V0U3Vkb2t1KGJpbmRKU3Vkb2t1OyBuYlRvdXJzTWF4PTApICMjIFBvdXIgcmFsZW50aXIg8J+QjPCfkKIKCXN1ZG9rdVNvbHV0aW9uVnVlID0gc3Vkb2t1U29sdXRpb25bMV0KCXN1ZG9rdVNvbHV0aW9uWzJdICMgTGEgcGV0aXRlIGV4cGxpY2F0aW9uIHNldWxlIDogImlsIGEgZmFsbHUgWFggY2hvaXguLi4iCmVuZCAjIyMgbWVzdXJhYmxlIGF2ZWMgIyMgdXNpbmcgQmVuY2htYXJrVG9vbHMgIyBAYmVuY2htYXJrIHLDqXNvdXRTdWRva3UoYmluZEpTdWRva3UpCgojIOKVlOKVkOKVoSBhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDYKdmlkZXJPdXBhczsgbWQiIiIjIyMjICR2YWV0dmllbnQgU3Vkb2t1IGluaXRpYWzCoOKktCAobW9kaWZpYWJsZSkgZXQgc2Egc29sdXRpb27CoDogJChodG1sIjwvc3Bhbj4iKSAiIiIKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwNwptZCIiIiQoQGJpbmQgdm9pck91UGFzIEJvbmRKYW1lc0JvbmQocHVjZXMoWyLwn6SrwqBDYWNow6llIiwgIkVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmIiwgIlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiXSwi8J+kq8KgQ2FjaMOpZSI7IGlkUHVjZXM9IkNhY2hlclLDqXN1bHRhdCIpLCAi8J+kq8KgQ2FjaMOpZSIpICkgCgokKGh0bWwiPGRpdiBzdHlsZT0nbWFyZ2luOiAycHg7IGJvcmRlci1ib3R0b206IG1lZGl1bSBkYXNoZWQgIzc3NzsnPjwvZGl2PiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAokKEBiaW5kIFByb3BhbE91U29sdWNlIEJvbmRKYW1lc0JvbmQocHVjZXMoWyLigKZwYXLCoGNoaWZmcmUiLCAi4oCmcGFywqBjYXNlwqDwn5SiIiwgIuKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpIiwgIuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqkiXSwgIuKApnBhcsKgY2hpZmZyZSI7IGlkUHVjZXM9IlBvc3NpYmxlc0V0U29sdXRpb24iLCBjbGFzc2U9InBhc2xhIiApLCAi4oCmcGFywqBjaGlmZnJlIikgKSAKCiQoaHRtbCI8ZGl2IGlkPSdkaXZlcnMnIGNsYXNzPSdwYXNsYScgc3R5bGU9J21hcmdpbi10b3A6IDhweDsgbWFyZ2luLWxlZnQ6IDElOyB1c2VyLXNlbGVjdDogbm9uZTsgZm9udC1zdHlsZTogaXRhbGljOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM3NzcnPjxzcGFuIGlkPSdwdWNhcm9saWduZSc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2Fyb2xpZ25lJyBuYW1lPSdjYXJvbGlnbmUnPjxsYWJlbCBmb3I9J2Nhcm9saWduZScgc3R5bGU9J21hcmdpbi1sZWZ0OiAycHg7Jz5DYXJvbGlnbmXCoOKalDwvbGFiZWw+PC9zcGFuPiIpCiQoaHRtbCI8c3BhbiBpZD0ncHVjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDUlJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBuYW1lPSdjaG9peMOgbWV0dHJlZW5oYXV0Jz48bGFiZWwgZm9yPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDJweDsnPkNvY2hlcsKgaWNpLCBwdWlzIHRvdWNoZXIgbGUgY2hpZmZyZSDDoCBtZXR0cmUgZGFucyBsZSBTdWRva3XCoGluaXRpYWw8L2xhYmVsPjwvc3Bhbj48L2Rpdj4iKSIiIiAKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOApiZWdpbgoJaWYgIWlzYSh2b2lyT3VQYXMsIFN0cmluZykgfHwgdm9pck91UGFzID09ICLwn6SrwqBDYWNow6llIgoJCU1hcmtkb3duLnBhcnNlKCAoIHN1ZG9rdVNvbHV0aW9uVnVlIGlzYSBTdHJpbmcgPyAKCQkiIyMjIyMg8J+kkCBDZWxhIGVzdCBjYWNow6kgcG91ciBsZSBtb21lbnQgY29tbWUgZGVtYW5kw6kg4pqhCk1hbGNoYW5jZSAhICIgOiAKCQkiIyMjIyMg8J+kkCBDZWxhIGVzdCBjYWNow6kgcG91ciBsZSBtb21lbnQgY29tbWUgZGVtYW5kw6kKQm9ubmUgY2hhbmNlICEgIiAKCQkpICogIlNpIGJlc29pbiwgY29jaGVyIGDwn6SrwqBDYWNow6llYCBwb3VyIHJldm9pciBjZXR0ZSBpbmZvcm1hdGlvbsKgOiAKCmBFbiB0b3VjaGFudCwgZW50cmV2b2lyIGxlcyBjaGlmZnJlc+KApmAgcGVybWV0IGVuIGNsaXF1YW50IGRlIGZhaXJlIGFwcGFyYcOudHJlIGxlIGNvbnRlbnXigKZcXApfKGNsaXF1ZXIgc3VyIGxlcyBjaGlmZnJlcyBlbiBibGV1IHBvdXIgdG91dCByZWZhaXJlIGRpc3BhcmHDrnRyZSlfIAoKICAgLSBg4oCmcGFywqBjaGlmZnJlYCBtb250cmUgc2kgbGUgY2hpZmZyZSBlc3QgcG9zc2libGUsIGVuIGNsaXF1YW50IHByw6ljaXPDqW1lbnTCoDogZHXCoDHCoGVuwqBoYXV0wqDDoMKgZ2F1Y2hlLCBhdSA5wqBlbsKgYmFzwqDDoMKgZHJvaXRlIGRlIGxhIGNhc2Ug4oaSwqBsZcKgNcKgZXN0IGRvbmMgYXUgY2VudHJlCiAgIC0gYOKApnBhcsKgY2FzZcKg8J+UomAgbW9udHJlIGxhIGwnZW5zZW1ibGXCoGRlcyBjaGlmZnJlcyBwb3NzaWJsZXMgcGFyIGNhc2UKICAgLSBg4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclClgIGZhaXQgbGUgY29tcHRlIGRlIGwnZW5zZW1ibGUuIExhIG91IGxlcyBjYXNlcyBhdmVjwqBg4pyUYCDDoCBsYSBwbGFjZSBkdcKgOSBvbnQgbGVzIHBsdXMgcGV0aXRzIG5vbWJyZSBkZSBwb3NzaWJpbGl0w6lzIGR1IHN1ZG9rdQogICAtIHNldWwgYOKApmRlwqBsYcKgc29sdXRpb27CoPCfmqlgIG1vbnRyZSAodW4gb3UpIGRlcyBjaGlmZnJlcyBkdSBzdWRva3UgZmluaQoKRCd1biBjb3VwIGBQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmYCBkZSBsYSBzb3VzLWNhdMOpZ29yaWUgY2hvaXNpZQoKRW5maW4sIGlsIHkgYSBkZXV4IG9wdGlvbnPCoDogIApgQ2Fyb2xpZ25lwqDimpRgIG1vbnRyZSBsZXMgY2FzZXMgbGnDqWVzIOKGksKgY2FycsOpLCBjb2xvbm5lLCBsaWduZcKgOyBcXApvdSBgQ29jaGVywqBpY2ksIHB1aXMgdG91Y2hlciBsZSBjaGlmZnJlIMOgIG1ldHRyZSBkYW5zIGxlIFN1ZG9rdcKgaW5pdGlhbGAiICkKCWVsc2VpZiBQcm9wYWxPdVNvbHVjZSA9PSAi4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqSIgIyB8fCBQcm9wYWxPdVNvbHVjZSBpc2EgTWlzc2luZwoJCWh0bWxTdWRva3Uoc3Vkb2t1U29sdXRpb25WdWUsYmluZEpTdWRva3UgOyB0b3V0Vm9pcj0gKHZvaXJPdVBhcz09IlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiKSApCgllbHNlIGh0bWxTdWRva3VQcm9wYWwoYmluZEpTdWRva3Usc3Vkb2t1U29sdXRpb25WdWUgOyB0b3V0Vm9pcj0gKHZvaXJPdVBhcz09IlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiKSwgcGFyQ2FzZT0gKFByb3BhbE91U29sdWNlID09IuKApnBhcsKgY2FzZcKg8J+UoiIpLCBzb21tZT0gKFByb3BhbE91U29sdWNlPT0i4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCkiKSkKCWVuZAplbmQKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDEwLTEyMzQ1Njc4OTAwOQpzdHlsw6lsw6BiYXNhdmVjYm9udXMgPSAjPSBzdHlsZSBDU1MgcG91ciBsZSBzdWRva3VIVE1MLCBsZSBjb2RlIHByaW5jaXBhbCBlc3QgZGFucyBsYSBjZWxsdWxlIGNhY2jDqWUgdG91dCBlbiBiYXMsIGp1c3RlIGFwcsOocyBsYSBjZWxsdWxlIHZpZGUgX2BFbnRlcsKgY2VsbMKgY29kZS4uLmBfIiA9IyBEb2NzLkhUTUwocmF3IiIiPHN0eWxlPiAvKiBQb3VyIGxlcyBib3V0b25zIGV0ICdjb2RlJyAqLwoJaW5wdXRbdHlwZT0iYnV0dG9uIiBpXSB7CgkJYmFja2dyb3VuZC1jb2xvcjogI2FhYTsKCQljb2xvcjogYmxhY2s7CgkJYm9yZGVyOiAycHggb3V0c2V0ICNiYmI7CgkJYm9yZGVyLXJhZGl1czogMnB4O30KCWlucHV0W3R5cGU9ImJ1dHRvbiIgaV06aG92ZXIsCglpbnB1dFt0eXBlPSJidXR0b24iIGldOmFjdGl2ZXsKCQliYWNrZ3JvdW5kLWNvbG9yOiAjNzc3OwoJCWNvbG9yOiB3aGl0ZTsKCQlib3JkZXI6IDJweCBzb2xpZCAjNzc3O30KCXBsdXRvLW91dHB1dC5yaWNoX291dHB1dCBjb2RlIHtib3JkZXI6IHNvbGlkIDFweCAjOWI5ZjlmOyAvKi8gY29udG91ciBmaW4gLyovfQovKiBhdXRyZXMgYmlkb3VpbGxlcyAqLwoJI3RhaWRlLCAjdGVzZm9vdCwgI3ZhX2V0X3ZpZW50IHt1c2VyLXNlbGVjdDogbm9uZTt9Cgkjc3Vkb2t1ZmluaSwgI2NvcGllZmluaWUge2N1cnNvcjogcG9pbnRlcjt9IC8qLyBkb2lndCBldCBub24gc291cmlzIC8qLwoJaW5wdXRbdHlwZT0icmFkaW8iIGldIHttYXJnaW46IDNweCAzcHggM3B4IDA7fQoJLnBhc2xhLCAubWFpc3Rlc291eyAvKiB2aXNpYmlsaXR5OiBoaWRkZW47ICovIGZpbHRlcjogb3BhY2l0eSg2MiUpIGJsdXIoMnB4KTt9Cgl0ciNsaWduZW5vbnZpc2libGUge2JvcmRlci10b3A6IGhpZGRlbjt9CglwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhIC5ydW5jZWxsIHtkaXNwbGF5OiBub25lO30KCS8qIHBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEsICovCgkvKiAjYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4ID4gcGx1dG8tcnVuYXJlYSwgKi8KCSNhMjM0NTY3OC03NjU0LTMyMTAtYjAwNi0xMjM0NTY3ODkwMDQgPiBwbHV0by1ydW5hcmVhIHsKCSAgICBkaXNwbGF5OiBibG9jazsKCQliYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDsKCSAgICBvcGFjaXR5OiAxO30KLyogUG91ciBsZSBzdWRva3UgaW5pdGlhbCAqLwoJdGFibGUuc3Vkb2tvb2wgewoJCWJvcmRlcjogaGlkZGVuOwoJCW1hcmdpbi1ibG9jay1zdGFydDogMDsKCQltYXJnaW4tYmxvY2stZW5kOiAwO30KCXRhYmxlLnN1ZG9rb29sIHRyIHtib3JkZXI6MDt9Cgl0YWJsZS5zdWRva29vbCB0ci50cm9pc3Ige2JvcmRlci10b3A6IHRoaWNrIHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwgIzc3Nyk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQgewoJCWJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwgIzc3Nyk7IAoJCXBhZGRpbmc6IDAgIWltcG9ydGFudDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC50cm9pc2Qge2JvcmRlci1sZWZ0OiB0aGljayBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIGlucHV0IHsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiAxNHB0OwoJCXdpZHRoOiAxMDAlOwoJCWhlaWdodDogMTAwJTsKCQliYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKCQlib3JkZXI6MDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5kYW1pZXJ7CgkJYmFja2dyb3VuZC1jb2xvcjojNzc3Nzc3MjY7IH0gLyogIzc3NyBvdSAjNzc3Nzc3IGFkb3VjaSAqLwovKiBQb3VyIGxlIHLDqXN1bHRhdCBvdSBhaWRlICovCgl0YWJsZS5zdWRva29vbCB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMzhweDsKCQloZWlnaHQ6IDM4cHg7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuaW5pIHsKCQlmb250LXdlaWdodDogYm9sZDsKCQljb2xvcjogdmFyKC0tY20tdmFyLWNvbG9yLCAjYWZiN2QzKTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC52aWRlIHsKCQljb2xvcjogdmFyKC0tY20tcHJvcGVydHktY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmNhY2jDqWUgewoJCWNvbG9yOiB0cmFuc3BhcmVudDt9Ci8qUG91ciBsZSByw6lzdWx0YXRtaW5pIG91IGFpZGVtaW5pKi8KCXRhYmxlLnN1ZG9rb29sbWluaSB7CgkJYm9yZGVyOiBoaWRkZW4gIWltcG9ydGFudDsKCQltYXJnaW4tYmxvY2stc3RhcnQ6IDA7CgkJbWFyZ2luLWJsb2NrLWVuZDogMDt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIsCgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQge2JvcmRlcjowICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHsKCQl1c2VyLXNlbGVjdDogbm9uZTsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiA3LjQ5OTk5cHQ7CgkJd2lkdGg6IDEycHg7CgkJaGVpZ2h0OiAxMS42NzE4N3B4OyAKCQkJY29sb3I6IHZhcigtLWNtLXByb3BlcnR5LWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQuY2FjaMOpZSB7Y29sb3I6IHRyYW5zcGFyZW50O30KPC9zdHlsZT4iIiIpOyBwb3Vydm9pcnBsdXTDtHQgPSBEb2NzLkhUTUwocmF3IiIiPHNjcmlwdD4KLy8gY29uc3QgcGx1dMO0dHN0eWzDqSA9IGA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4vaGlkZS11aS5jc3MiPjxzdHlsZSBpZD0iY2FjaMOpbW9pcGx1dMO0dCI+CmNvbnN0IHBsdXTDtHRzdHlsw6kgPSBgPHN0eWxlIGlkPSJjYWNow6ltb2lwbHV0w7R0Ij4KbWFpbiB7CiAgICAvLyBtYXJnaW4tdG9wOiAyMHB4OwogICAgY3Vyc29yOiBhdXRvOwoJbWFyZ2luOiAwICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7CiAgICAvLyBwYWRkaW5nLWJvdHRvbTogNHJlbSAhaW1wb3J0YW50O30KbmF2LCBoZWFkZXIsIHByZWFtYmxlLApwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhIC5ydW5jZWxsLApib2R5ID4gaGVhZGVyLApwcmVhbWJsZSA+IGJ1dHRvbiwgCnBsdXRvLWNlbGwgPiBidXR0b24sCnBsdXRvLWlucHV0ID4gYnV0dG9uLApmb290ZXIsCnBsdXRvLXJ1bmFyZWEsCiNoZWxwYm94LXdyYXBwZXIgewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30KcGx1dG8tc2hvdWxkZXIgewoJdmlzaWJpbGl0eTpoaWRkZW47fQpwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhLApwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwoJYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7fQoKQG1lZGlhIHNjcmVlbiBhbmQgKGFueS1wb2ludGVyOiBmaW5lKSB7CiAgICBwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICAgICAgLy8gb3BhY2l0eTogMC41OwogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgLyogdG8gbWFrZSBpdCBmZWVsIHNtb290aDogKi8KICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzIGVhc2UtaW4tb3V0OwogICAgfQogICAgcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgPiBidXR0b246aG92ZXIgPiBzcGFuLAogICAgcGx1dG8tY2VsbDpob3ZlciA+IHBsdXRvLXJ1bmFyZWEgPiBzcGFuIHsKICAgICAgICAvLyAvKiBhdmFudCAqLyBvcGFjaXR5OiAxOwogICAgICAgIG9wYWNpdHk6IDAuNTsKICAgICAgICAvKiB0byBtYWtlIGl0IGZlZWwgc25hcHB5OiAqLwogICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZS1pbi1vdXQ7CiAgICB9CiAgLy8gIHBsdXRvLWNlbGwgPiBwbHV0by1zaG91bGRlciA+IGJ1dHRvbjpob3ZlciB7CiAgLy8gICAgICBvcGFjaXR5OiAwOwogIC8vICAgICAgLyogdG8gbWFrZSBpdCBmZWVsIHNuYXBweTogKi8KICAvLyAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZS1pbi1vdXQ7CiAgLy8gIH0gCn0gCjwvc3R5bGU+YDsKZnVuY3Rpb24gY29vbG91cGFzKCkgeyAKCXZhciBCTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJCTiIpOwoJaWYgKEJOLmlubmVySFRNTCA9PSAi8J+YiSIpIHsgQk4uaW5uZXJIVE1MID0gIvCfmI4iO30gZWxzZSB7IEJOLmlubmVySFRNTCA9ICLwn5iJIjt9Owp9OwovLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBjb29sb3VwYXMpOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBjb29sb3VwYXMpOwoKdmFyIHN0eWzDqWNhY2jDqSA9IGh0bWxgPHNwYW4gaWQ9InN0eWzDqSI+JHtwbHV0w7R0c3R5bMOpfTwvc3Bhbj5gOwovLyB2YXIgc3R5bMOpY2FjaMOpID0gaHRtbGA8c3BhbiBpZD0ic3R5bMOpIj48L3NwYW4+YDsgLy8gRkFVWCBiaWRvdWlsbGUgw6Agc3VwcHJpbWVyIC8vLy8KZnVuY3Rpb24gc3R5bMOpb3VwYXMoKSB7IAoJdmFyIHN0eWzDqSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHlsw6kiKTsKCXZhciBjYWNow6ltb2lwbHV0w7R0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhY2jDqW1vaXBsdXTDtHQiKTsKCWlmIChjYWNow6ltb2lwbHV0w7R0KSB7IAoJCXN0eWzDqS5pbm5lckhUTUwgPSAnJzsKCX0gZWxzZSB7CgkJc3R5bMOpLmlubmVySFRNTCA9IHBsdXTDtHRzdHlsw6k7Cgl9Owp9Owpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGx1dG90IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBzdHlsw6lvdXBhcyk7CnJldHVybiBzdHlsw6ljYWNow6k7Cjwvc2NyaXB0PiIiIik7IGNhbGVwaW4gPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+cmV0dXJuIGh0bWxgPGEgaHJlZj0ke2RvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSA/IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdodG1sJywgJ2psJykgOiBkb2N1bWVudC5VUkwucmVwbGFjZSgnZWRpdCcsICdub3RlYm9va2ZpbGUnKX0gdGFyZ2V0PSdfYmxhbmsnIGRvd25sb2FkPiR7ZG9jdW1lbnQudGl0bGUucmVwbGFjZSgn8J+OiCAnLCcnKS5yZXBsYWNlKCfigJQgUGx1dG8uamwnLCcnKX08L2E+YDs8L3NjcmlwdD4iKTsgY2FsZXdlYiA9IERvY3MuSFRNTChyYXciPHNjcmlwdD5yZXR1cm4gaHRtbGA8YSBocmVmPSR7ZG9jdW1lbnQuVVJMLnNlYXJjaCgnLmh0bWwnKT4xID8gZG9jdW1lbnQuVVJMIDogZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2VkaXQnLCAnbm90ZWJvb2tleHBvcnQnKX0gdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXdlaWdodDogbm9ybWFsOycgZG93bmxvYWQ+SFRNTDwvYT5gOzwvc2NyaXB0PiIpOyBwbHV0b29qbCA9IERvY3MuSFRNTChyYXciPHNjcmlwdD5pZiAoZG9jdW1lbnQuVVJMLnNlYXJjaCgnLmh0bWwnKT4xKSB7CglyZXR1cm4gaHRtbGA8ZW0+UGx1dG8uamw8L2VtPmAKICAgIH0gZWxzZSB7IHJldHVybiBodG1sYDxhIGhyZWY9Jy4vJyB0YXJnZXQ9J19ibGFuaycgc3R5bGU9J2ZvbnQtd2VpZ2h0OiBub3JtYWw7Jz48ZW0+UGx1dG88L2VtPjwvYT48ZW0+LmpsPC9lbT5gfTwvc2NyaXB0PiIpOyBwb3VyZ2FyZGVybGV0ZW1wcyA9IERvY3MuSFRNTChyYXciIiI8c2NyaXB0PmZ1bmN0aW9uIGfDqW7DqXJhdGV1ckRlQ29kZUNsw6koKSB7Cgl2YXIgY29weVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicG91ci1kw6lmaW5pci1sZS1zdWRva3UtaW5pdGlhbCIpOwoJdmFyIHBhc3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vkb2tpbmNpcGl0Iik7Cgljb3B5VGV4dC52YWx1ZSA9ICd2aWV1eFN1ZG9rdSEoJyArIHBhc3RleHQuZ2V0QXR0cmlidXRlKCdzdWRhdGEnKSArICcpJzsKCWNvcHlUZXh0LnNlbGVjdCgpOwoJbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29weVRleHQudmFsdWUpOyAvLyBkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpOwp9CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbMOpZ8OpbiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZ8OpbsOpcmF0ZXVyRGVDb2RlQ2zDqSk7CgkKdmFyIGVkaXRDU1MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwplZGl0Q1NTLmlkID0gInRvdXNsZXN0ZW1wcyI7CnZhciB0b2dnbMOpID0gIjAiOwoKbGV0IHRvdXNsZXN0ZW1wcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInJ1bnRpbWUiKTsKLy8gdG91c2xlc3RlbXBzLmZvckVhY2goIGUgPT4geyAvLyBuZSBmb25jdGlvbm5lIHBhcyA6JygKZm9yKGxldCBqPTA7IGo8KE9iamVjdC5rZXlzKHRvdXNsZXN0ZW1wcykubGVuZ3RoKTsgaisrKXsKCXRvdXNsZXN0ZW1wc1tqXS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CgkJLy8gYWxlcnQoZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgib3BhcXVlb3VwYXMiKSk7CgkJdmFyIHN0eWzDqXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG91c2xlc3RlbXBzIik7CgkJdG9nZ2zDqSA9ICh0b2dnbMOpPT0iMCIpID8gIjAuNyIgOiAiMCIgOwoJCXN0eWzDqXQuaW5uZXJIVE1MID0gInBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhIHsgb3BhY2l0eTogIisgdG9nZ2zDqSArICI7IH0iOwoJfSk7Cn07CnJldHVybiBlZGl0Q1NTOwo8L3NjcmlwdD4iIiIpOyBib251c2V0YXN0dWNlcyA9IG1kIiIiIyMjIyAkKGh0bWwiPGRpdiBpZD0nQm9udXMnIHN0eWxlPSd1c2VyLXNlbGVjdDogbm9uZTsgbWFyZ2luLXRvcDogMTdweCAhaW1wb3J0YW50Oyc+Qm9udXPCoDogbGUgc3Vkb2t1IGVuIGNvdXJzIHBvdXIgcGx1c8KgdGFyZC4uLjwvZGl2PiIpIApKZSBjb25zZWlsbGUgZGUgZ2FyZGVyIGxlIGNvZGUgZHUgc3Vkb2t1IGVuIGNvdXJzIChlbiBjbGlxdWFudCwgbGEgY29waWUgZXN0IGF1dG9tYXRpcXVlwqDinKgpIAokKGh0bWwiPGlucHV0IHR5cGU9YnV0dG9uIGlkPSdjbMOpZ8OpbicgdmFsdWU9J0NvcGllciBsZSBjb2RlIMOgIGdhcmRlciA6KSc+PGlucHV0IGlkPSdwb3VyLWTDqWZpbmlyLWxlLXN1ZG9rdS1pbml0aWFsJyB0eXBlPSd0ZXh0JyBzdHlsZT0nZm9udC1zaXplOiB4LXNtYWxsOyBtYXJnaW4tcmlnaHQ6IDZweDsgbWF4LXdpZHRoOiAzOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM3Nzc3NzcyNjsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiAwIDhweCA4cHggMDsgZmlsdGVyOiBvcGFjaXR5KDg5JSk7JyAvPiIpICoqTm90ZSoqwqA6wqDDoMKgY29sbGVywqBhaWxsZXVycyBkYW5zIHVuIGJsb2Mtbm90ZXMgcGFyIGV4ZW1wbGUgCgojIyMjIyAuLi7DoCByZXRyb3V2ZXIgY29tbWUgZCdhdXRyZXMgdmlldXggc3Vkb2t1c8KgOiAKCkVuc3VpdGUsIGRhbnMgdW5lIChub3V2ZWxsZSkgc2Vzc2lvbiwgY2xpcXVlciBkYW5zIF9gRW50ZXLCoGNlbGzCoGNvZGUuLi5gXyB0b3V0IGVuIGJhc8Kg4oaTIGV0IGNvbGxlciBsZSBjb2RlIHF1aSBmdXQgZ2FyZMOpIChjZi4gbm90ZSBjaS1kZXNzdXMpLgpFbmZpbiwgbGFuY2VyIGxlIGNvZGUgYXZlYyBsZSBib3V0b27CoOKWtiB0b3V0IMOgIGRyb2l0ZSAocXVpIGNsaWdub3RlIGp1c3RlbWVudCkuIApDZSB2aWV1eCBzdWRva3UgZXN0IHJlc3RvcsOpIGVuIHBsYWNlIGR1IFJldG91ciBpbnN0YW50YW7DqcKgISAoY2VsYSBbcmV0b3VybmUgZW7CoGhhdXTCoOKGkV0oI01vZGlmaWVySW5pdCkgZGUgbGEgcGFnZSkgCgkKJChodG1sIjxkZXRhaWxzIG9wZW4+PHN1bW1hcnkgc3R5bGU9J2xpc3Qtc3R5bGU6IG5vbmU7Jz48aDYgaWQ9J0JvbnVzQXN0dWNlcycgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrO3VzZXItc2VsZWN0OiBub25lOyc+IEF1dHJlcyBwZXRpdGVzIGFzdHVjZXPCoDo8L2g2Pjwvc3VtbWFyeT48c3R5bGU+ZGV0YWlsc1tvcGVuXSBzdW1tYXJ5OjphZnRlciB7Y29udGVudDogJyAoY2xpcXVlciBpY2kgcG91ciBsZXMgY2FjaGVyKSc7fSBzdW1tYXJ5Om5vdChkZXRhaWxzW29wZW5dIHN1bW1hcnkpOjphZnRlciB7Y29udGVudDogJyAoY2xpcXVlciBpY2kgcG91ciBsZXMgcmV2b2lyKSc7fTwvc3R5bGU+IikKICAgMS4gTW9kaWZpZXIgbGUgcHJlbWllciBzdWRva3UgKMOgIHZpZGVyIHNpIGJlc29pbiwgZ3LDomNlIGF1IHByZW1pZXIgY2hvaXgpIGV0IGNvY2hlciBlbnN1aXRlIGNlIHF1ZSBsJ29uIHNvdWhhaXRlIHZvaXIgY29tbWUgKiphaWRlIG91IHNvbHV0aW9uKirCoDsgbGUgc3Vkb2t1IGR1IGRlc3NvdXMgcsOpcG9uZCBhaW5zaSBhdXggb3JkcmVzLiBDb2NoZXIgYPCfpKvCoENhY2jDqWVgIHBvdXIgcmV2b2lyIGRlcyBpbmRpY2F0aW9ucyBzdXIgbCdlbXBsb2kgZGVzIGNhc2VzIAogICAyLiBJbCBlc3QgcG9zc2libGUgZGUgYm91Z2VyIGF2ZWMgbGVzIGZsw6hjaGVzLCBhbGxlciDDoCBsYSBsaWduZSBzdWl2YW50ZSBhdXRvbWF0aXF1ZW1lbnQgKMOgIGxhIF9bU25ha2VdKGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9U25ha2UpXykuIElsIHkgYSBhdXNzaSBkZXMgcmFjY291cmNpcywgY29tbWUgYEhgwqA9wqBoYXV0LCBgVmAgb3UgYEdgwqA9wqBnYXVjaGUsIGBEYCBgSmAgYE5gwqA9wqBkcm9pdGUsIGBCYMKgPcKgYmFzLiBOaSBiZXNvaW4gZGUgcGF2w6kgbnVtw6lyaXF1ZSwgbmkgZCdhcHB1eWVyIHN1ciBfTWFqdXNjdWxlXywgbGVzIHRvdWNoZXMgc3VpdmFudGVzIHNvbnQgaWRlbmRpcXVlcyBgMTIzNMKgNTY3wqA4OTBgID0gYEFaRVLCoFRZVcKgSU9QYCA9IGAmw6kiJ8KgKC3DqMKgX8Onw6BgIAogICAzLiBPbiBwZXV0ICoqcmVtb250ZXIgbGEgc29sdXRpb24qKiBhdSBsaWV1IGR1IHByZW1pZXIgc3Vkb2t1IGVuIGNsaXF1YW50IHN1ciBsZSB0ZXh0ZSBbU3Vkb2t1IGluaXRpYWzCoOKktOKApl0oI3ZhX2V0X3ZpZW50KSBldCBwb3VyIHJldmVuaXIgYXUgc3Vkb2t1IGluaXRpYWwgbW9kaWZpYWJsZSBb4oaqwqBDbGlxdWVy4oCmXSgjbGlnbmVub252aXNpYmxlKcKgc3VyIGxlIHRleHRlIHF1aSBhcHBhcmFpdCBqdXN0ZSBlbiBkZXNzb3VzIAogICA0LiBQb3VyIGluZm9ybWF0aW9uLCBsYSBmb25jdGlvbiAqKnZpZXV4U3Vkb2t1ISoqKCksIG91ICoqdmlldXgqKigpIG91ICoqdnMqKigpLCBzYW5zIHBhcmFtw6h0cmUgcGVybWV0IGRlIGfDqW7DqXJlciB1biBzdWRva3UgYWzDqWF0b2lyZS4gRW4gbWV0dGFudCB1biBub21icmUsIHBhciBleGVtcGxlICoqdmlldXhTdWRva3UhKDYyKiopwqA6IGNlIHNlcmEgbGUgdG90YWwgZGUgY2FzZXMgdmlkZXMgZHUgc3Vkb2t1IGFsw6lhdG9pcmUgY29uc3RydWl0LiBFbmZpbiwgZW4gbWV0dGFudCB1biBpbnRlcnZhbGxlLCBzb3VzIGxhIGZvcm1lICoqZMOpYnV0wqA6wqBmaW4qKiwgcGFyIGV4ZW1wbGUgKip2aWV1eFN1ZG9rdSEqKigqKjA6ODEqKinCoDogdW4gbm9tYnJlIGFsw6lhdG9pcmUgZGFucyBjZXQgaW50ZXJ2YWxsZSBzZXJhIHV0aWxpc8OpLiBQb3VyIGxlcyBzdWRva3VzIGFsw6lhdG9pcmVzLCBsZSBmYWl0IGRlIHJlY2xpcXVlciBzdXIgbGUgYm91dG9uwqDilrYgZW4gZ8OpbsOocmUgdW4gbm91dmVhdSAKICAgNS4gTGUgY29kZSBkZSBjZSBwcm9ncmFtbWUgZW4gW19KdWxpYV9dKGh0dHBzOi8vZnIud2lraXBlZGlhLm9yZy93aWtpL0p1bGlhXyhsYW5nYWdlX2RlX3Byb2dyYW1tYXRpb24pKSBlc3Qgb2JzZXJ2YWJsZSBlbiBjbGlxdWFudCBkJ2Fib3JkIHN1ciAkKGh0bWwiPGlucHV0IHR5cGU9YnV0dG9uIGlkPSdwbHV0b3QnIHZhbHVlPSdDZWNpwqDwn5Od8J+kkyc+IikgcG91ciBiYXNjdWxlciBzdXIgbCdpbnRlcmZhY2UgZGUgJHBsdXRvb2psLCBwdWlzIGVuIGNsaXF1YW50IHN1ciBsJ8WTaWwg8J+RgSDDoCBjw7R0w6kgZGUgY2hhcXVlIGNlbGx1bGUuIElsIGVzdCBhdXNzaSBwb3NzaWJsZSBkZSB0w6lsw6ljaGFyZ2VyIGNlIGNhbGVwaW4gJGNhbGVwaW4gb3UgZW4gJGNhbGV3ZWIKJChodG1sIjwvZGV0YWlscz4iKQokcG91cnZvaXJwbHV0w7R0IAokc3R5bMOpbMOgYmFzYXZlY2JvbnVzCiRwb3VyZ2FyZGVybGV0ZW1wcyIiIgoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwCgoKIyDilZTilZDilaEgMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAxClBMVVRPX1BST0pFQ1RfVE9NTF9DT05URU5UUyA9ICIiIgpbZGVwc10KUmFuZG9tID0gIjlhM2Y4Mjg0LWEyYzktNWYwMi05YTExLTg0NTk4MGExZmQ1YyIKIiIiCgojIOKVlOKVkOKVoSAwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDIKUExVVE9fTUFOSUZFU1RfVE9NTF9DT05URU5UUyA9ICIiIgojIFRoaXMgZmlsZSBpcyBtYWNoaW5lLWdlbmVyYXRlZCAtIGVkaXRpbmcgaXQgZGlyZWN0bHkgaXMgbm90IGFkdmlzZWQKCmp1bGlhX3ZlcnNpb24gPSAiMS44LjMiCm1hbmlmZXN0X2Zvcm1hdCA9ICIyLjAiCnByb2plY3RfaGFzaCA9ICJmYTNlMTk0MTg4ODFiZjM0NGY1Nzk2ZTE1MDQ5MjNhN2M4MGFiMWVkIgoKW1tkZXBzLlJhbmRvbV1dCmRlcHMgPSBbIlNIQSIsICJTZXJpYWxpemF0aW9uIl0KdXVpZCA9ICI5YTNmODI4NC1hMmM5LTVmMDItOWExMS04NDU5ODBhMWZkNWMiCgpbW2RlcHMuU0hBXV0KdXVpZCA9ICJlYThlOTE5Yy0yNDNjLTUxYWYtODgyNS1hYWE2M2NkNzIxY2UiCnZlcnNpb24gPSAiMC43LjAiCgpbW2RlcHMuU2VyaWFsaXphdGlvbl1dCnV1aWQgPSAiOWU4OGI0MmEtZjgyOS01YjBjLWJiZTktOWU5MjMxOTgxNjZiIgoiIiIKCiMg4pWU4pWQ4pWhIENlbGwgb3JkZXI6CiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAxCiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDQtMTIzNDU2Nzg5MDAyCiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAzCiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA0CiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1CiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDctMTIzNDU2Nzg5MDA2CiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3CiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4CiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5CiMg4pWg4pWQYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwCiMg4pWf4pSAYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExCiMg4pWf4pSAMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAxCiMg4pWf4pSAMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAyCg==";
window.pluto_disable_ui = true;
window.pluto_slider_server_url = undefined;
window.pluto_binder_url = "https://mybinder.org/v2/gh/fonsp/pluto-on-binder/v0.17.7";
window.pluto_statefile = "data:;base64,j6Vib25kc4CsY2VsbF9yZXN1bHRzi9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExiaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9keaCwcGVyc2lzdF9qc19zdGF0ZcKkbWltZap0ZXh0L3BsYWlusmxhc3RfcnVuX3RpbWVzdGFtcMtB2OPlJeSMULdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTG5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4QiePltXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOImmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaBV88ZGl2IGNsYXNzPSJtYXJrZG93biI+PGg1PvCfpJAgQ2VsYSBlc3QgY2FjaMOpIHBvdXIgbGUgbW9tZW50IGNvbW1lIGRlbWFuZMOpPC9oNT4KPHA+Qm9ubmUgY2hhbmNlICYjMzM7IFNpIGJlc29pbiwgY29jaGVyIDxjb2RlPvCfpKvCoENhY2jDqWU8L2NvZGU+IHBvdXIgcmV2b2lyIGNldHRlIGluZm9ybWF0aW9uwqA6IDwvcD4KPHA+PGNvZGU+RW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKY8L2NvZGU+IHBlcm1ldCBlbiBjbGlxdWFudCBkZSBmYWlyZSBhcHBhcmHDrnRyZSBsZSBjb250ZW514oCmPGJyIC8+PGVtPiYjNDA7Y2xpcXVlciBzdXIgbGVzIGNoaWZmcmVzIGVuIGJsZXUgcG91ciB0b3V0IHJlZmFpcmUgZGlzcGFyYcOudHJlJiM0MTs8L2VtPiA8L3A+Cjx1bD4KPGxpPjxwPjxjb2RlPuKApnBhcsKgY2hpZmZyZTwvY29kZT4gbW9udHJlIHNpIGxlIGNoaWZmcmUgZXN0IHBvc3NpYmxlLCBlbiBjbGlxdWFudCBwcsOpY2lzw6ltZW50wqA6IGR1wqAxwqBlbsKgaGF1dMKgw6DCoGdhdWNoZSwgYXUgOcKgZW7CoGJhc8Kgw6DCoGRyb2l0ZSBkZSBsYSBjYXNlIOKGksKgbGXCoDXCoGVzdCBkb25jIGF1IGNlbnRyZTwvcD4KPC9saT4KPGxpPjxwPjxjb2RlPuKApnBhcsKgY2FzZcKg8J+UojwvY29kZT4gbW9udHJlIGxhIGwmIzM5O2Vuc2VtYmxlwqBkZXMgY2hpZmZyZXMgcG9zc2libGVzIHBhciBjYXNlPC9wPgo8L2xpPgo8bGk+PHA+PGNvZGU+4oCmcGFywqB0b3RhbMKgJiM0MDttaW5pbXVtwqAmIzYxO8Kg4pyUJiM0MTs8L2NvZGU+IGZhaXQgbGUgY29tcHRlIGRlIGwmIzM5O2Vuc2VtYmxlLiBMYSBvdSBsZXMgY2FzZXMgYXZlY8KgPGNvZGU+4pyUPC9jb2RlPiDDoCBsYSBwbGFjZSBkdcKgOSBvbnQgbGVzIHBsdXMgcGV0aXRzIG5vbWJyZSBkZSBwb3NzaWJpbGl0w6lzIGR1IHN1ZG9rdTwvcD4KPC9saT4KPGxpPjxwPnNldWwgPGNvZGU+4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqTwvY29kZT4gbW9udHJlICYjNDA7dW4gb3UmIzQxOyBkZXMgY2hpZmZyZXMgZHUgc3Vkb2t1IGZpbmk8L3A+CjwvbGk+CjwvdWw+CjxwPkQmIzM5O3VuIGNvdXAgPGNvZGU+UG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApjwvY29kZT4gZGUgbGEgc291cy1jYXTDqWdvcmllIGNob2lzaWU8L3A+CjxwPkVuZmluLCBpbCB5IGEgZGV1eCBvcHRpb25zwqA6ICAgPGNvZGU+Q2Fyb2xpZ25lwqDimpQ8L2NvZGU+IG1vbnRyZSBsZXMgY2FzZXMgbGnDqWVzIOKGksKgY2FycsOpLCBjb2xvbm5lLCBsaWduZcKgOyA8YnIgLz5vdSA8Y29kZT5Db2NoZXLCoGljaSwgcHVpcyB0b3VjaGVyIGxlIGNoaWZmcmUgw6AgbWV0dHJlIGRhbnMgbGUgU3Vkb2t1wqBpbml0aWFsPC9jb2RlPjwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2OPlJ9ancrdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDi5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4AjdRUtXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNImmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnZnjxkaXYgY2xhc3M9Im1hcmtkb3duIj48cD48c3Ryb25nPlN0YXRpc3RpcXVlc8KgOjwvc3Ryb25nPiBjZSBwcm9ncmFtbWUgZmFpdCA8c3Ryb25nPjI1IGNob2l4PC9zdHJvbmc+IGV0IDxlbT40NiB0b3VyczwvZW0+IHBvdXIgcsOpc291ZHJlIGNlIHN1ZG9rdTwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2OPlJ6znybdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNi0xMjM0NTY3ODkwMDS5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4AElm5tXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN4mmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaEYU8ZGl2IGNsYXNzPSJtYXJrZG93biI+PGJvbmQgZGVmPSJ2b2lyT3VQYXMiIHVuaXF1ZV9pZD0iSW9sSFZsc2JYcyYjNDM7VyI+PHNwYW4gaWQ9J0NhY2hlclLDqXN1bHRhdCcgPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J0NhY2hlclLDqXN1bHRhdPCfpKvCoENhY2jDqWUnIG5hbWU9J0NhY2hlclLDqXN1bHRhdCcgdmFsdWU9J/CfpKvCoENhY2jDqWUnIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgY2hlY2tlZD48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nQ2FjaGVyUsOpc3VsdGF08J+kq8KgQ2FjaMOpZSc+8J+kq8KgQ2FjaMOpZTwvbGFiZWw+PC9zcGFuPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J0NhY2hlclLDqXN1bHRhdEVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmJyBuYW1lPSdDYWNoZXJSw6lzdWx0YXQnIHZhbHVlPSdFbiB0b3VjaGFudCwgZW50cmV2b2lyIGxlcyBjaGlmZnJlc+KApicgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J0NhY2hlclLDqXN1bHRhdEVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmJz5FbiB0b3VjaGFudCwgZW50cmV2b2lyIGxlcyBjaGlmZnJlc+KApjwvbGFiZWw+PC9zcGFuPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J0NhY2hlclLDqXN1bHRhdFBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYnIG5hbWU9J0NhY2hlclLDqXN1bHRhdCcgdmFsdWU9J1BvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYnIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSdDYWNoZXJSw6lzdWx0YXRQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmJz5Qb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmPC9sYWJlbD48L3NwYW4+PC9zcGFuPjxzY3JpcHQ+Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdDYWNoZXJSw6lzdWx0YXQnKQoJZm9ybS5vbmlucHV0ID0gKGUpID0+IHsgZm9ybS52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOyBpZiAoZS50YXJnZXQudmFsdWU9PSfwn6SrwqBDYWNow6llJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LmFkZCgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LmFkZCgncGFzbGEnKTsKCQl9IGVsc2UgaWYgKGUudGFyZ2V0LnZhbHVlPT0nUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApicpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QuYWRkKCdtYWlzdGVzb3UnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUG9zc2libGVzRXRTb2x1dGlvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmVycycpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJfSBlbHNlIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUG9zc2libGVzRXRTb2x1dGlvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmVycycpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhc2xhJyk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2Fyb2xpZ25lJykuY2xhc3NMaXN0LnJlbW92ZSgnbWFpc3Rlc291Jyk7CgkJfTt9PC9zY3JpcHQ+PC9ib25kPgo8ZGl2IHN0eWxlPSdtYXJnaW46IDJweDsgYm9yZGVyLWJvdHRvbTogbWVkaXVtIGRhc2hlZCAjNzc3Oyc+PC9kaXY+Cjxib25kIGRlZj0iUHJvcGFsT3VTb2x1Y2UiIHVuaXF1ZV9pZD0ibm4vUmxqVnk0bGFXIj48c3BhbiBpZD0nUG9zc2libGVzRXRTb2x1dGlvbicgY2xhc3M9J3Bhc2xhJz48c3BhbiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7Jz48aW5wdXQgdHlwZT0ncmFkaW8nIGlkPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmcGFywqBjaGlmZnJlJyBuYW1lPSdQb3NzaWJsZXNFdFNvbHV0aW9uJyB2YWx1ZT0n4oCmcGFywqBjaGlmZnJlJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnIGNoZWNrZWQ+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZwYXLCoGNoaWZmcmUnPuKApnBhcsKgY2hpZmZyZTwvbGFiZWw+PC9zcGFuPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZwYXLCoGNhc2XCoPCflKInIG5hbWU9J1Bvc3NpYmxlc0V0U29sdXRpb24nIHZhbHVlPSfigKZwYXLCoGNhc2XCoPCflKInIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmcGFywqBjYXNlwqDwn5SiJz7igKZwYXLCoGNhc2XCoPCflKI8L2xhYmVsPjwvc3Bhbj48c3BhbiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7Jz48aW5wdXQgdHlwZT0ncmFkaW8nIGlkPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknIG5hbWU9J1Bvc3NpYmxlc0V0U29sdXRpb24nIHZhbHVlPSfigKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKScgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKSc+4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCk8L2xhYmVsPjwvc3Bhbj48c3BhbiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7Jz48aW5wdXQgdHlwZT0ncmFkaW8nIGlkPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqScgbmFtZT0nUG9zc2libGVzRXRTb2x1dGlvbicgdmFsdWU9J+KApmRlwqBsYcKgc29sdXRpb27CoPCfmqknIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSdQb3NzaWJsZXNFdFNvbHV0aW9u4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqSc+4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqTwvbGFiZWw+PC9zcGFuPjwvc3Bhbj48c2NyaXB0PmNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUG9zc2libGVzRXRTb2x1dGlvbicpCglmb3JtLm9uaW5wdXQgPSAoZSkgPT4geyBmb3JtLnZhbHVlID0gZS50YXJnZXQudmFsdWU7IGlmIChlLnRhcmdldC52YWx1ZT09J+KApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNob2l4w6BtZXR0cmVlbmhhdXQnKS5jbGFzc0xpc3QuYWRkKCdtYWlzdGVzb3UnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNob2l4w6BtZXR0cmVlbmhhdXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9O308L3NjcmlwdD48L2JvbmQ+CjxkaXYgaWQ9J2RpdmVycycgY2xhc3M9J3Bhc2xhJyBzdHlsZT0nbWFyZ2luLXRvcDogOHB4OyBtYXJnaW4tbGVmdDogMSU7IHVzZXItc2VsZWN0OiBub25lOyBmb250LXN0eWxlOiBpdGFsaWM7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzc3Nyc+PHNwYW4gaWQ9J3B1Y2Fyb2xpZ25lJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjYXJvbGlnbmUnIG5hbWU9J2Nhcm9saWduZSc+PGxhYmVsIGZvcj0nY2Fyb2xpZ25lJyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDJweDsnPkNhcm9saWduZcKg4pqUPC9sYWJlbD48L3NwYW4+CjxzcGFuIGlkPSdwdWNob2l4w6BtZXR0cmVlbmhhdXQnIHN0eWxlPSdtYXJnaW4tbGVmdDogNSUnPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2Nob2l4w6BtZXR0cmVlbmhhdXQnIG5hbWU9J2Nob2l4w6BtZXR0cmVlbmhhdXQnPjxsYWJlbCBmb3I9J2Nob2l4w6BtZXR0cmVlbmhhdXQnIHN0eWxlPSdtYXJnaW4tbGVmdDogMnB4Oyc+Q29jaGVywqBpY2ksIHB1aXMgdG91Y2hlciBsZSBjaGlmZnJlIMOgIG1ldHRyZSBkYW5zIGxlIFN1ZG9rdcKgaW5pdGlhbDwvbGFiZWw+PC9zcGFuPjwvZGl2Pgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HY4+UnyDJAt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN7lkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgFD6Fm1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5iaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedonhDxkaXYgY2xhc3M9Im1hcmtkb3duIj48aDQ+PGRpdiBpZD0nQm9udXMnIHN0eWxlPSd1c2VyLXNlbGVjdDogbm9uZTsgbWFyZ2luLXRvcDogMTdweCAhaW1wb3J0YW50Oyc+Qm9udXPCoDogbGUgc3Vkb2t1IGVuIGNvdXJzIHBvdXIgcGx1c8KgdGFyZC4uLjwvZGl2PjwvaDQ+CjxwPkplIGNvbnNlaWxsZSBkZSBnYXJkZXIgbGUgY29kZSBkdSBzdWRva3UgZW4gY291cnMgJiM0MDtlbiBjbGlxdWFudCwgbGEgY29waWUgZXN0IGF1dG9tYXRpcXVlwqDinKgmIzQxOyAgPGlucHV0IHR5cGU9YnV0dG9uIGlkPSdjbMOpZ8OpbicgdmFsdWU9J0NvcGllciBsZSBjb2RlIMOgIGdhcmRlciA6KSc+PGlucHV0IGlkPSdwb3VyLWTDqWZpbmlyLWxlLXN1ZG9rdS1pbml0aWFsJyB0eXBlPSd0ZXh0JyBzdHlsZT0nZm9udC1zaXplOiB4LXNtYWxsOyBtYXJnaW4tcmlnaHQ6IDZweDsgbWF4LXdpZHRoOiAzOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM3Nzc3NzcyNjsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiAwIDhweCA4cHggMDsgZmlsdGVyOiBvcGFjaXR5KDg5JSk7JyAvPiA8c3Ryb25nPk5vdGU8L3N0cm9uZz7CoDrCoMOgwqBjb2xsZXLCoGFpbGxldXJzIGRhbnMgdW4gYmxvYy1ub3RlcyBwYXIgZXhlbXBsZSA8L3A+CjxoNT4uLi7DoCByZXRyb3V2ZXIgY29tbWUgZCYjMzk7YXV0cmVzIHZpZXV4IHN1ZG9rdXPCoDo8L2g1Pgo8cD5FbnN1aXRlLCBkYW5zIHVuZSAmIzQwO25vdXZlbGxlJiM0MTsgc2Vzc2lvbiwgY2xpcXVlciBkYW5zIDxlbT48Y29kZT5FbnRlcsKgY2VsbMKgY29kZS4uLjwvY29kZT48L2VtPiB0b3V0IGVuIGJhc8Kg4oaTIGV0IGNvbGxlciBsZSBjb2RlIHF1aSBmdXQgZ2FyZMOpICYjNDA7Y2YuIG5vdGUgY2ktZGVzc3VzJiM0MTsuIEVuZmluLCBsYW5jZXIgbGUgY29kZSBhdmVjIGxlIGJvdXRvbsKg4pa2IHRvdXQgw6AgZHJvaXRlICYjNDA7cXVpIGNsaWdub3RlIGp1c3RlbWVudCYjNDE7LiAgQ2UgdmlldXggc3Vkb2t1IGVzdCByZXN0b3LDqSBlbiBwbGFjZSBkdSBSZXRvdXIgaW5zdGFudGFuw6nCoCYjMzM7ICYjNDA7Y2VsYSA8YSBocmVmPSIjTW9kaWZpZXJJbml0Ij5yZXRvdXJuZSBlbsKgaGF1dMKg4oaRPC9hPiBkZSBsYSBwYWdlJiM0MTsgPC9wPgo8ZGV0YWlscyBvcGVuPjxzdW1tYXJ5IHN0eWxlPSdsaXN0LXN0eWxlOiBub25lOyc+PGg2IGlkPSdCb251c0FzdHVjZXMnIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazt1c2VyLXNlbGVjdDogbm9uZTsnPiBBdXRyZXMgcGV0aXRlcyBhc3R1Y2VzwqA6PC9oNj48L3N1bW1hcnk+PHN0eWxlPmRldGFpbHNbb3Blbl0gc3VtbWFyeTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIGNhY2hlciknO30gc3VtbWFyeTpub3QoZGV0YWlsc1tvcGVuXSBzdW1tYXJ5KTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIHJldm9pciknO308L3N0eWxlPgo8b2w+CjxsaT48cD5Nb2RpZmllciBsZSBwcmVtaWVyIHN1ZG9rdSAmIzQwO8OgIHZpZGVyIHNpIGJlc29pbiwgZ3LDomNlIGF1IHByZW1pZXIgY2hvaXgmIzQxOyBldCBjb2NoZXIgZW5zdWl0ZSBjZSBxdWUgbCYjMzk7b24gc291aGFpdGUgdm9pciBjb21tZSA8c3Ryb25nPmFpZGUgb3Ugc29sdXRpb248L3N0cm9uZz7CoDsgbGUgc3Vkb2t1IGR1IGRlc3NvdXMgcsOpcG9uZCBhaW5zaSBhdXggb3JkcmVzLiBDb2NoZXIgPGNvZGU+8J+kq8KgQ2FjaMOpZTwvY29kZT4gcG91ciByZXZvaXIgZGVzIGluZGljYXRpb25zIHN1ciBsJiMzOTtlbXBsb2kgZGVzIGNhc2VzIDwvcD4KPC9saT4KPGxpPjxwPklsIGVzdCBwb3NzaWJsZSBkZSBib3VnZXIgYXZlYyBsZXMgZmzDqGNoZXMsIGFsbGVyIMOgIGxhIGxpZ25lIHN1aXZhbnRlIGF1dG9tYXRpcXVlbWVudCAmIzQwO8OgIGxhIDxlbT48YSBocmVmPSJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xJiM2MTtTbmFrZSI+U25ha2U8L2E+PC9lbT4mIzQxOy4gSWwgeSBhIGF1c3NpIGRlcyByYWNjb3VyY2lzLCBjb21tZSA8Y29kZT5IPC9jb2RlPsKgJiM2MTvCoGhhdXQsIDxjb2RlPlY8L2NvZGU+IG91IDxjb2RlPkc8L2NvZGU+wqAmIzYxO8KgZ2F1Y2hlLCA8Y29kZT5EPC9jb2RlPiA8Y29kZT5KPC9jb2RlPiA8Y29kZT5OPC9jb2RlPsKgJiM2MTvCoGRyb2l0ZSwgPGNvZGU+QjwvY29kZT7CoCYjNjE7wqBiYXMuIE5pIGJlc29pbiBkZSBwYXbDqSBudW3DqXJpcXVlLCBuaSBkJiMzOTthcHB1eWVyIHN1ciA8ZW0+TWFqdXNjdWxlPC9lbT4sIGxlcyB0b3VjaGVzIHN1aXZhbnRlcyBzb250IGlkZW5kaXF1ZXMgPGNvZGU+MTIzNMKgNTY3wqA4OTA8L2NvZGU+ICYjNjE7IDxjb2RlPkFaRVLCoFRZVcKgSU9QPC9jb2RlPiAmIzYxOyA8Y29kZT4mYW1wO8OpJnF1b3Q7JiMzOTvCoCYjNDA7LcOowqBfw6fDoDwvY29kZT4gPC9wPgo8L2xpPgo8bGk+PHA+T24gcGV1dCA8c3Ryb25nPnJlbW9udGVyIGxhIHNvbHV0aW9uPC9zdHJvbmc+IGF1IGxpZXUgZHUgcHJlbWllciBzdWRva3UgZW4gY2xpcXVhbnQgc3VyIGxlIHRleHRlIDxhIGhyZWY9IiN2YV9ldF92aWVudCI+U3Vkb2t1IGluaXRpYWzCoOKktOKApjwvYT4gZXQgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBpbml0aWFsIG1vZGlmaWFibGUgPGEgaHJlZj0iI2xpZ25lbm9udmlzaWJsZSI+4oaqwqBDbGlxdWVy4oCmPC9hPsKgc3VyIGxlIHRleHRlIHF1aSBhcHBhcmFpdCBqdXN0ZSBlbiBkZXNzb3VzIDwvcD4KPC9saT4KPGxpPjxwPlBvdXIgaW5mb3JtYXRpb24sIGxhIGZvbmN0aW9uIDxzdHJvbmc+dmlldXhTdWRva3UmIzMzOzwvc3Ryb25nPiYjNDA7JiM0MTssIG91IDxzdHJvbmc+dmlldXg8L3N0cm9uZz4mIzQwOyYjNDE7IG91IDxzdHJvbmc+dnM8L3N0cm9uZz4mIzQwOyYjNDE7LCBzYW5zIHBhcmFtw6h0cmUgcGVybWV0IGRlIGfDqW7DqXJlciB1biBzdWRva3UgYWzDqWF0b2lyZS4gRW4gbWV0dGFudCB1biBub21icmUsIHBhciBleGVtcGxlIDxzdHJvbmc+dmlldXhTdWRva3UmIzMzOyYjNDA7NjI8L3N0cm9uZz4mIzQxO8KgOiBjZSBzZXJhIGxlIHRvdGFsIGRlIGNhc2VzIHZpZGVzIGR1IHN1ZG9rdSBhbMOpYXRvaXJlIGNvbnN0cnVpdC4gRW5maW4sIGVuIG1ldHRhbnQgdW4gaW50ZXJ2YWxsZSwgc291cyBsYSBmb3JtZSA8c3Ryb25nPmTDqWJ1dMKgOsKgZmluPC9zdHJvbmc+LCBwYXIgZXhlbXBsZSA8c3Ryb25nPnZpZXV4U3Vkb2t1JiMzMzs8L3N0cm9uZz4mIzQwOzxzdHJvbmc+MDo4MTwvc3Ryb25nPiYjNDE7wqA6IHVuIG5vbWJyZSBhbMOpYXRvaXJlIGRhbnMgY2V0IGludGVydmFsbGUgc2VyYSB1dGlsaXPDqS4gUG91ciBsZXMgc3Vkb2t1cyBhbMOpYXRvaXJlcywgbGUgZmFpdCBkZSByZWNsaXF1ZXIgc3VyIGxlIGJvdXRvbsKg4pa2IGVuIGfDqW7DqHJlIHVuIG5vdXZlYXUgPC9wPgo8L2xpPgo8bGk+PHA+TGUgY29kZSBkZSBjZSBwcm9ncmFtbWUgZW4gPGEgaHJlZj0iaHR0cHM6Ly9mci53aWtpcGVkaWEub3JnL3dpa2kvSnVsaWFfJiM0MDtsYW5nYWdlX2RlX3Byb2dyYW1tYXRpb24mIzQxOyI+PGVtPkp1bGlhPC9lbT48L2E+IGVzdCBvYnNlcnZhYmxlIGVuIGNsaXF1YW50IGQmIzM5O2Fib3JkIHN1ciA8aW5wdXQgdHlwZT1idXR0b24gaWQ9J3BsdXRvdCcgdmFsdWU9J0NlY2nCoPCfk53wn6STJz4gcG91ciBiYXNjdWxlciBzdXIgbCYjMzk7aW50ZXJmYWNlIGRlIDxzY3JpcHQ+aWYgKGRvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSkgewoJcmV0dXJuIGh0bWxgPGVtPlBsdXRvLmpsPC9lbT5gCiAgICB9IGVsc2UgeyByZXR1cm4gaHRtbGA8YSBocmVmPScuLycgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXdlaWdodDogbm9ybWFsOyc+PGVtPlBsdXRvPC9lbT48L2E+PGVtPi5qbDwvZW0+YH08L3NjcmlwdD4sIHB1aXMgZW4gY2xpcXVhbnQgc3VyIGwmIzM5O8WTaWwg8J+RgSDDoCBjw7R0w6kgZGUgY2hhcXVlIGNlbGx1bGUuIElsIGVzdCBhdXNzaSBwb3NzaWJsZSBkZSB0w6lsw6ljaGFyZ2VyIGNlIGNhbGVwaW4gPHNjcmlwdD5yZXR1cm4gaHRtbGA8YSBocmVmPSR7ZG9jdW1lbnQuVVJMLnNlYXJjaCgnLmh0bWwnKT4xID8gZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2h0bWwnLCAnamwnKSA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZmlsZScpfSB0YXJnZXQ9J19ibGFuaycgZG93bmxvYWQ+JHtkb2N1bWVudC50aXRsZS5yZXBsYWNlKCfwn46IICcsJycpLnJlcGxhY2UoJ+KAlCBQbHV0by5qbCcsJycpfTwvYT5gOzwvc2NyaXB0PiBvdSBlbiA8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwgOiBkb2N1bWVudC5VUkwucmVwbGFjZSgnZWRpdCcsICdub3RlYm9va2V4cG9ydCcpfSB0YXJnZXQ9J19ibGFuaycgc3R5bGU9J2ZvbnQtd2VpZ2h0OiBub3JtYWw7JyBkb3dubG9hZD5IVE1MPC9hPmA7PC9zY3JpcHQ+PC9wPgo8L2xpPgo8L29sPgo8L2RldGFpbHM+CjxzY3JpcHQ+Ci8vIGNvbnN0IHBsdXTDtHRzdHlsw6kgPSBgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuL2hpZGUtdWkuY3NzIj48c3R5bGUgaWQ9ImNhY2jDqW1vaXBsdXTDtHQiPgpjb25zdCBwbHV0w7R0c3R5bMOpID0gYDxzdHlsZSBpZD0iY2FjaMOpbW9pcGx1dMO0dCI+Cm1haW4gewogICAgLy8gbWFyZ2luLXRvcDogMjBweDsKICAgIGN1cnNvcjogYXV0bzsKCW1hcmdpbjogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgLy8gcGFkZGluZy1ib3R0b206IDRyZW0gIWltcG9ydGFudDt9Cm5hdiwgaGVhZGVyLCBwcmVhbWJsZSwKcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCwKYm9keSA+IGhlYWRlciwKcHJlYW1ibGUgPiBidXR0b24sIApwbHV0by1jZWxsID4gYnV0dG9uLApwbHV0by1pbnB1dCA+IGJ1dHRvbiwKZm9vdGVyLApwbHV0by1ydW5hcmVhLAojaGVscGJveC13cmFwcGVyIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9CnBsdXRvLXNob3VsZGVyIHsKCXZpc2liaWxpdHk6aGlkZGVuO30KcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSwKcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKCWJhY2tncm91bmQtY29sb3I6IHVuc2V0O30KCkBtZWRpYSBzY3JlZW4gYW5kIChhbnktcG9pbnRlcjogZmluZSkgewogICAgcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgICAgIC8vIG9wYWNpdHk6IDAuNTsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIC8qIHRvIG1ha2UgaXQgZmVlbCBzbW9vdGg6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjI1cyBlYXNlLWluLW91dDsKICAgIH0KICAgIHBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhID4gYnV0dG9uOmhvdmVyID4gc3BhbiwKICAgIHBsdXRvLWNlbGw6aG92ZXIgPiBwbHV0by1ydW5hcmVhID4gc3BhbiB7CiAgICAgICAgLy8gLyogYXZhbnQgKi8gb3BhY2l0eTogMTsKICAgICAgICBvcGFjaXR5OiAwLjU7CiAgICAgICAgLyogdG8gbWFrZSBpdCBmZWVsIHNuYXBweTogKi8KICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogICAgfQogIC8vICBwbHV0by1jZWxsID4gcGx1dG8tc2hvdWxkZXIgPiBidXR0b246aG92ZXIgewogIC8vICAgICAgb3BhY2l0eTogMDsKICAvLyAgICAgIC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgLy8gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogIC8vICB9IAp9IAo8L3N0eWxlPmA7CmZ1bmN0aW9uIGNvb2xvdXBhcygpIHsgCgl2YXIgQk4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKTsKCWlmIChCTi5pbm5lckhUTUwgPT0gIvCfmIkiKSB7IEJOLmlubmVySFRNTCA9ICLwn5iOIjt9IGVsc2UgeyBCTi5pbm5lckhUTUwgPSAi8J+YiSI7fTsKfTsKLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKCnZhciBzdHlsw6ljYWNow6kgPSBodG1sYDxzcGFuIGlkPSJzdHlsw6kiPiR7cGx1dMO0dHN0eWzDqX08L3NwYW4+YDsKLy8gdmFyIHN0eWzDqWNhY2jDqSA9IGh0bWxgPHNwYW4gaWQ9InN0eWzDqSI+PC9zcGFuPmA7IC8vIEZBVVggYmlkb3VpbGxlIMOgIHN1cHByaW1lciAvLy8vCmZ1bmN0aW9uIHN0eWzDqW91cGFzKCkgeyAKCXZhciBzdHlsw6kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R5bMOpIik7Cgl2YXIgY2FjaMOpbW9pcGx1dMO0dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYWNow6ltb2lwbHV0w7R0Iik7CglpZiAoY2FjaMOpbW9pcGx1dMO0dCkgeyAKCQlzdHlsw6kuaW5uZXJIVE1MID0gJyc7Cgl9IGVsc2UgewoJCXN0eWzDqS5pbm5lckhUTUwgPSBwbHV0w7R0c3R5bMOpOwoJfTsKfTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsdXRvdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc3R5bMOpb3VwYXMpOwpyZXR1cm4gc3R5bMOpY2FjaMOpOwo8L3NjcmlwdD4KPHN0eWxlPiAvKiBQb3VyIGxlcyBib3V0b25zIGV0ICdjb2RlJyAqLwoJaW5wdXRbdHlwZT0iYnV0dG9uIiBpXSB7CgkJYmFja2dyb3VuZC1jb2xvcjogI2FhYTsKCQljb2xvcjogYmxhY2s7CgkJYm9yZGVyOiAycHggb3V0c2V0ICNiYmI7CgkJYm9yZGVyLXJhZGl1czogMnB4O30KCWlucHV0W3R5cGU9ImJ1dHRvbiIgaV06aG92ZXIsCglpbnB1dFt0eXBlPSJidXR0b24iIGldOmFjdGl2ZXsKCQliYWNrZ3JvdW5kLWNvbG9yOiAjNzc3OwoJCWNvbG9yOiB3aGl0ZTsKCQlib3JkZXI6IDJweCBzb2xpZCAjNzc3O30KCXBsdXRvLW91dHB1dC5yaWNoX291dHB1dCBjb2RlIHtib3JkZXI6IHNvbGlkIDFweCAjOWI5ZjlmOyAvKi8gY29udG91ciBmaW4gLyovfQovKiBhdXRyZXMgYmlkb3VpbGxlcyAqLwoJI3RhaWRlLCAjdGVzZm9vdCwgI3ZhX2V0X3ZpZW50IHt1c2VyLXNlbGVjdDogbm9uZTt9Cgkjc3Vkb2t1ZmluaSwgI2NvcGllZmluaWUge2N1cnNvcjogcG9pbnRlcjt9IC8qLyBkb2lndCBldCBub24gc291cmlzIC8qLwoJaW5wdXRbdHlwZT0icmFkaW8iIGldIHttYXJnaW46IDNweCAzcHggM3B4IDA7fQoJLnBhc2xhLCAubWFpc3Rlc291eyAvKiB2aXNpYmlsaXR5OiBoaWRkZW47ICovIGZpbHRlcjogb3BhY2l0eSg2MiUpIGJsdXIoMnB4KTt9Cgl0ciNsaWduZW5vbnZpc2libGUge2JvcmRlci10b3A6IGhpZGRlbjt9CglwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhIC5ydW5jZWxsIHtkaXNwbGF5OiBub25lO30KCS8qIHBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEsICovCgkvKiAjYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4ID4gcGx1dG8tcnVuYXJlYSwgKi8KCSNhMjM0NTY3OC03NjU0LTMyMTAtYjAwNi0xMjM0NTY3ODkwMDQgPiBwbHV0by1ydW5hcmVhIHsKCSAgICBkaXNwbGF5OiBibG9jazsKCQliYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDsKCSAgICBvcGFjaXR5OiAxO30KLyogUG91ciBsZSBzdWRva3UgaW5pdGlhbCAqLwoJdGFibGUuc3Vkb2tvb2wgewoJCWJvcmRlcjogaGlkZGVuOwoJCW1hcmdpbi1ibG9jay1zdGFydDogMDsKCQltYXJnaW4tYmxvY2stZW5kOiAwO30KCXRhYmxlLnN1ZG9rb29sIHRyIHtib3JkZXI6MDt9Cgl0YWJsZS5zdWRva29vbCB0ci50cm9pc3Ige2JvcmRlci10b3A6IHRoaWNrIHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwgIzc3Nyk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQgewoJCWJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwgIzc3Nyk7IAoJCXBhZGRpbmc6IDAgIWltcG9ydGFudDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC50cm9pc2Qge2JvcmRlci1sZWZ0OiB0aGljayBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIGlucHV0IHsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiAxNHB0OwoJCXdpZHRoOiAxMDAlOwoJCWhlaWdodDogMTAwJTsKCQliYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKCQlib3JkZXI6MDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5kYW1pZXJ7CgkJYmFja2dyb3VuZC1jb2xvcjojNzc3Nzc3MjY7IH0gLyogIzc3NyBvdSAjNzc3Nzc3IGFkb3VjaSAqLwovKiBQb3VyIGxlIHLDqXN1bHRhdCBvdSBhaWRlICovCgl0YWJsZS5zdWRva29vbCB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMzhweDsKCQloZWlnaHQ6IDM4cHg7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuaW5pIHsKCQlmb250LXdlaWdodDogYm9sZDsKCQljb2xvcjogdmFyKC0tY20tdmFyLWNvbG9yLCAjYWZiN2QzKTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC52aWRlIHsKCQljb2xvcjogdmFyKC0tY20tcHJvcGVydHktY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmNhY2jDqWUgewoJCWNvbG9yOiB0cmFuc3BhcmVudDt9Ci8qUG91ciBsZSByw6lzdWx0YXRtaW5pIG91IGFpZGVtaW5pKi8KCXRhYmxlLnN1ZG9rb29sbWluaSB7CgkJYm9yZGVyOiBoaWRkZW4gIWltcG9ydGFudDsKCQltYXJnaW4tYmxvY2stc3RhcnQ6IDA7CgkJbWFyZ2luLWJsb2NrLWVuZDogMDt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIsCgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQge2JvcmRlcjowICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHsKCQl1c2VyLXNlbGVjdDogbm9uZTsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiA3LjQ5OTk5cHQ7CgkJd2lkdGg6IDEycHg7CgkJaGVpZ2h0OiAxMS42NzE4N3B4OyAKCQkJY29sb3I6IHZhcigtLWNtLXByb3BlcnR5LWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQuY2FjaMOpZSB7Y29sb3I6IHRyYW5zcGFyZW50O30KPC9zdHlsZT4KPHNjcmlwdD5mdW5jdGlvbiBnw6luw6lyYXRldXJEZUNvZGVDbMOpKCkgewoJdmFyIGNvcHlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBvdXItZMOpZmluaXItbGUtc3Vkb2t1LWluaXRpYWwiKTsKCXZhciBwYXN0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJY29weVRleHQudmFsdWUgPSAndmlldXhTdWRva3UhKCcgKyBwYXN0ZXh0LmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgKyAnKSc7Cgljb3B5VGV4dC5zZWxlY3QoKTsKCW5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvcHlUZXh0LnZhbHVlKTsgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2zDqWfDqW4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGfDqW7DqXJhdGV1ckRlQ29kZUNsw6kpOwoJCnZhciBlZGl0Q1NTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKZWRpdENTUy5pZCA9ICJ0b3VzbGVzdGVtcHMiOwp2YXIgdG9nZ2zDqSA9ICIwIjsKCmxldCB0b3VzbGVzdGVtcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJydW50aW1lIik7Ci8vIHRvdXNsZXN0ZW1wcy5mb3JFYWNoKCBlID0+IHsgLy8gbmUgZm9uY3Rpb25uZSBwYXMgOicoCmZvcihsZXQgaj0wOyBqPChPYmplY3Qua2V5cyh0b3VzbGVzdGVtcHMpLmxlbmd0aCk7IGorKyl7Cgl0b3VzbGVzdGVtcHNbal0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewoJCS8vIGFsZXJ0KGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoIm9wYXF1ZW91cGFzIikpOwoJCXZhciBzdHlsw6l0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdXNsZXN0ZW1wcyIpOwoJCXRvZ2dsw6kgPSAodG9nZ2zDqT09IjAiKSA/ICIwLjciIDogIjAiIDsKCQlzdHlsw6l0LmlubmVySFRNTCA9ICJwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7IG9wYWNpdHk6ICIrIHRvZ2dsw6kgKyAiOyB9IjsKCX0pOwp9OwpyZXR1cm4gZWRpdENTUzsKPC9zY3JpcHQ+CjwvZGl2PrBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqXRleHQvaHRtbLJsYXN0X3J1bl90aW1lc3RhbXDLQdjj5SflvAq3aGFzX3BsdXRvX2hvb2tfZmVhdHVyZXPCrHJvb3Rhc3NpZ25lZcCnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5uWRlcGVuZHNfb25fZGlzYWJsZWRfY2VsbHPCp3J1bnRpbWXOAPzdJLVwdWJsaXNoZWRfb2JqZWN0X2tleXOQp2Vycm9yZWTC2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMS0xMjM0NTY3ODkwMTCJpnF1ZXVlZMKkbG9nc5CncnVubmluZ8Kmb3V0cHV0hqRib2R5oLBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqnRleHQvcGxhaW6ybGFzdF9ydW5fdGltZXN0YW1wy0HY4+Ufcs9Xt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDExLTEyMzQ1Njc4OTAxMLlkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgABjzq1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDQtMTIzNDU2Nzg5MDAyiaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedoEAzxkaXYgY2xhc3M9Im1hcmtkb3duIj48cD48Ym9uZCBkZWY9InZpZGVyT3VwYXMiIHVuaXF1ZV9pZD0iS2dSQlNpSkswY3lzIj48c3BhbiBpZD0nTW9kaWZpZXJJbml0JyA+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nTW9kaWZpZXJJbml0VmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwnIG5hbWU9J01vZGlmaWVySW5pdCcgdmFsdWU9J1ZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnID48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nTW9kaWZpZXJJbml0VmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwnPlZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nTW9kaWZpZXJJbml0UmV0b3VyIGluc3RhbnRhbsOpIDspJyBuYW1lPSdNb2RpZmllckluaXQnIHZhbHVlPSdSZXRvdXIgaW5zdGFudGFuw6kgOyknIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgY2hlY2tlZD48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nTW9kaWZpZXJJbml0UmV0b3VyIGluc3RhbnRhbsOpIDspJz5SZXRvdXIgaW5zdGFudGFuw6kgOyk8L2xhYmVsPjwvc3Bhbj48L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ01vZGlmaWVySW5pdCcpCglmb3JtLm9uaW5wdXQgPSAoZSkgPT4geyBmb3JtLnZhbHVlID0gZS50YXJnZXQudmFsdWU7IH08L3NjcmlwdD48L2JvbmQ+IMKgPGEgaHJlZj0nI0JvbnVzJyBzdHlsZT0ncGFkZGluZy1sZWZ0OiAxMHB4OyBib3JkZXItbGVmdDogbWVkaXVtIGRhc2hlZCAjNzc3Oyc+Qm9udXPCoGVuwqBiYXPCoOKGkzwvYT7CoDxlbT46wqBhc3R1Y2VzwqAmIzQzO8KgdmlldXhTdWRva3UmIzMzOzwvZW0+PC9wPgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HY4+UnW4dRt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA0LTEyMzQ1Njc4OTAwMrlkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzwAAAAEKGVHCtXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNommcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaB608ZGl2IGNsYXNzPSJtYXJrZG93biI+PGg0PjxzY3JpcHQ+IHZhciB2aWVpbGxlY29waWUgPSBmYWxzZTsKCglmdW5jdGlvbiBkw6lqw6B2dSgpIHsgCgkJdmFyIHDDqHJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLnBhcmVudEVsZW1lbnQ7CgkJdmFyIGZpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29waWVmaW5pZScpOwoJCXZhciBhbmNpZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2t1ZmluaScpOwoJCWlmICh2aWVpbGxlY29waWUuaXNFcXVhbE5vZGUoYW5jaWVuKSkgewoJCQlhbmNpZW4uaW5uZXJIVE1MID0gZmlscy5pbm5lckhUTUw7CgkJCWFuY2llbi5yZW1vdmVDaGlsZChhbmNpZW4ucXVlcnlTZWxlY3RvcigndGZvb3QnKSk7CgkJCW1zZ2EoYW5jaWVuKTsKCQl9CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLmhpZGRlbiA9IGZhbHNlOwoJCXDDqHJlLnJlbW92ZUNoaWxkKGZpbHMpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmlubmVySFRNTCA9IGBTdWRva3UgaW5pdGlhbMKg4qS0IChtb2RpZmlhYmxlKSBldCBzYSBzb2x1dGlvbsKgOiBgCgl9OwoKCWZ1bmN0aW9uIGzDoGhhdXQoKSB7IAoJCXZhciBww6hyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5wYXJlbnRFbGVtZW50OwoJCXZhciBmaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKTsKCQl2YXIgY29waWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2t1ZmluaScpOwoJCWZpbHMgPyBww6hyZS5yZW1vdmVDaGlsZCggZmlscyApIDogdHJ1ZTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykuaGlkZGVuID0gdHJ1ZTsKCQl2YXIgdGFibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7CgkJdmllaWxsZWNvcGllID0gKGNvcGllID8gY29waWUuY2xvbmVOb2RlKHRydWUpIDogdGFibCk7CgkJdGFibC5pZCA9ICdjb3BpZWZpbmllJzsKCQl0YWJsLmNsYXNzTGlzdC5hZGQoJ3N1ZG9rb29sJyk7CgkJdGFibC5pbm5lckhUTUwgPSAoY29waWUgPyBjb3BpZS5pbm5lckhUTUwgOiBgPHRoZWFkIGlkPSd0YWlkZSc+PHRyPjx0ZCBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3dpZHRoOiAzNDBweDtwYWRkaW5nOiAyNnB4IDA7Ym9yZGVyOiAwOyc+UmllbiDDoCBtb250cmVyLCBjJ2VzdCBjb2Now6nCoMKgPGNvZGU+8J+kq8KgQ2FjaMOpZTwvY29kZT48L3RkPjwvdHI+PC90aGVhZD5gKSArIGA8dGZvb3QgaWQ9J3Rlc2Zvb3QnPjx0ciBpZD0nbGlnbmVub252aXNpYmxlJz48dGggY29sc3Bhbj0nOSc+4oaqIENsaXF1ZXIgaWNpIHBvdXIgcmV2ZW5pciBhdSBzdWRva3UgbW9kaWZpYWJsZTwvdGg+PC90cj48L3Rmb290PmA7CgkJcMOocmUuYXBwZW5kQ2hpbGQodGFibCk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhaWRlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZMOpasOgdnUpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXNmb290JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkw6lqw6B2dSk7CgkJY29waWUgPyBtc2dhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJykpIDogdHJ1ZTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU29sdXRpb27CoOKGkSAoYXUgbGlldSBkdSBzdWRva3UgbW9kaWZpYWJsZcKgaW5pdGlhbClgCgl9OwoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsw6BoYXV0KTsKCgk8L3NjcmlwdD48c3BhbiBpZD0ndmFfZXRfdmllbnQnPiBTdWRva3UgaW5pdGlhbMKg4qS0ICYjNDA7bW9kaWZpYWJsZSYjNDE7IGV0IHNhIHNvbHV0aW9uwqA6IDwvc3Bhbj48L2g0Pgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HY4+Unxj5wt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNrlkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgB6I7q1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAxiaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedl6PGRpdiBjbGFzcz0ibWFya2Rvd24iPjxoMT5Sw6lzb3VkcmUgdW4gU3Vkb2t1IHBhciBBbGV4aXPCoDxzcGFuIGlkPSdCTicgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyc+8J+Yjjwvc3Bhbj48L2gxPgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HY4+UmJlbet2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMblkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgA90ae1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1iaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedoggzxib25kIGRlZj0iYmluZEpTdWRva3UiIHVuaXF1ZV9pZD0icFJhYUpzZVRva0VRIj48c2NyaXB0PiAvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgljb25zdCBwcmVtaWVyID0gSlNPTi5zdHJpbmdpZnkoIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXSApOwoJY29uc3QgZGV1eGnDqG1lID0gSlNPTi5zdHJpbmdpZnkoIFtbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDEsIDIsIDMsIDQsIDUsIDAsIDAsIDBdLCBbMCwgMiwgMCwgMCwgMywgMCwgNiwgMCwgMF0sIFswLCAzLCA0LCA1LCA2LCAwLCAwLCA3LCAwXSwgWzAsIDYsIDAsIDAsIDcsIDAsIDgsIDAsIDBdLCBbMCwgNywgMCwgMCwgOCwgOSwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXSApOwoJY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMSwgMiwgMywgNCwgNSwgMCwgMCwgMF0sIFswLCAyLCAwLCAwLCAzLCAwLCA2LCAwLCAwXSwgWzAsIDMsIDQsIDUsIDYsIDAsIDAsIDcsIDBdLCBbMCwgNiwgMCwgMCwgNywgMCwgOCwgMCwgMF0sIFswLCA3LCAwLCAwLCA4LCA5LCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dCQkJCi8vIGNvbnN0IGRlZmF1bHRGaXhlZFZhbHVlcyA9IFtbMCwwLDAsNywwLDAsMCwwLDBdLFsxLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDQsMywwLDIsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDZdLFswLDAsMCw1LDAsOSwwLDAsMF0sWzAsMCwwLDAsMCwwLDQsMSw4XSxbMCwwLDAsMCw4LDEsMCwwLDBdLFswLDAsMiwwLDAsMCwwLDUsMF0sWzAsNCwwLDAsMCwwLDMsMCwwXV07CgkJCndpbmRvdy5jcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcykgPT4gewogIGNvbnN0IGRhdGEgPSBbXTsKICBjb25zdCBodG1sRGF0YSA9IFtdOwogIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKICAgIGxldCBodG1sUm93ID0gW107CiAgICBkYXRhLnB1c2goW10pOwogICAgZm9yKGxldCBqPTA7IGo8OTtqKyspewogICAgICBjb25zdCB2YWx1ZXNMaW5lID0gdmFsdWVzW2ldOwogICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc0xpbmU/dmFsdWVzTGluZVtqXTowOwogICAgICBjb25zdCBodG1sSW5wdXQgPSBodG1sYDxpbnB1dCB0eXBlPSd0ZXh0JyAKICAgICAgICBkYXRhLXJvdz0nJHtpfScKICAgICAgICBkYXRhLWNvbD0nJHtqfScKICAgICAgICBtYXhsZW5ndGg9JzEnIAogICAgICAgIHZhbHVlPSckeyh2YWx1ZXx8JycpfScKICAgICAgPmA7CgkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkgIGNvbnN0IGJsb2NrID0gW01hdGguZmxvb3IoaS8zKSwgTWF0aC5mbG9vcihqLzMpXTsgLy8gZm9uZCBlbiBkYW1pZXIKCSAgY29uc3QgY2xhc3NvdXBhcyA9ICgoYmxvY2tbMF0rYmxvY2tbMV0pJTIgIT09IDApPyhpc01lZGl1bT8nY2xhc3M9ImRhbWllciB0cm9pc2QiJzonY2xhc3M9ImRhbWllciInKTooaXNNZWRpdW0/J2NsYXNzPSJ0cm9pc2QiJzonJyk7CiAgICAgIGNvbnN0IGh0bWxDZWxsID0gaHRtbGA8dGQgJHtjbGFzc291cGFzfT4ke2h0bWxJbnB1dH08L3RkPmAKICAgICAgZGF0YVtpXVtqXSA9IHZhbHVlfHwwOwogICAgICBodG1sUm93LnB1c2goaHRtbENlbGwpOwogICAgfQoJCiAgICBjb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwogICAgaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwogIH0KICBjb25zdCBfc3Vkb2t1ID0gaHRtbGA8dGFibGUgaWQ9InN1ZG9raW5jaXBpdCIgc3VkYXRhPSR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9IGNsYXNzPSdzdWRva29vbCc+CiAgICAgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CiAgICA8L3RhYmxlPmAgIAogIHJldHVybiB7X3N1ZG9rdSxkYXRhfTsKICAvLyAvLyByZXR1cm4gX3N1ZG9rdSA7CiAgCn0KCndpbmRvdy5zdWRva3VWaWV3UmVhY3RpdmVWYWx1ZSA9ICh7X3N1ZG9rdTpodG1sLCBkYXRhfSkgPT4gewogIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSk9PnsKICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCiAgICBodG1sLnZhbHVlID0gZGF0YTsKICAgIHJldHVybiBmYWxzZTsKICB9KTsgCiAgCiAgbGV0IGlucHV0cyA9IGh0bWwucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTsKICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7CgkKCWNvbnN0IGRhbGlnbmUgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJY29uc3QgZGFjb2wgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOwoJY29uc3QgZXRwMiA9IChlKSA9PiBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7Cgljb25zdCBldHAzID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoKCWNvbnN0IG1vdmVEb3duID0gKGUpID0+IHsgCgkJaWYgKGV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsgCgkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQl9IGVsc2UgeyAKCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSAKCX0KCWNvbnN0IG1vdmVVcCA9IChlKSA9PiB7CgkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7IAoJCWV0cDMoZSkubGFzdENoaWxkLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQl9IGVsc2UgeyAKCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gCgl9Cgljb25zdCBtb3ZlTGVmdCA9IChlKSA9PiB7CgkJaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJZXRwMyhlKS5sYXN0Q2hpbGQubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSBlbHNlIHsKCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSB9IGVsc2UgewoJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSAKCX0KCWNvbnN0IG1vdmVSaWdodCA9IChlKSA9PiB7IAoJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCWlmIChldHAyKGUpLm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQlldHAzKGUpLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7CgkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gfSBlbHNlIHsgCgkJZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gCgl9CgkJCglpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywoZSkgPT4gewoJICAvLyBlLnRhcmdldC5mb2N1cygpOwoJICBlLnRhcmdldC5zZWxlY3QoKTsKCQkKCSAgc3dpdGNoIChlLmtleSkgewoJCWNhc2UgIkFycm93RG93biI6CgkJCW1vdmVEb3duKGUpOyBicmVhazsgCgkJY2FzZSAiQXJyb3dVcCI6CgkJCW1vdmVVcChlKTsgYnJlYWs7IAoJCWNhc2UgIkFycm93TGVmdCI6CgkJCW1vdmVMZWZ0KGUpOyBicmVhazsgCgkJY2FzZSAiQXJyb3dSaWdodCI6CgkJCW1vdmVSaWdodChlKTsgYnJlYWs7IAoJCWNhc2UgIlNoaWZ0IjoKCQljYXNlICJDYXBzTG9jayI6CgkJY2FzZSAiTnVtTG9jayI6CgkJCWJyZWFrOyAvLyBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMta2V5LyNrZXlzLW1vZGlmaWVyCgkJY2FzZSAiQmFja3NwYWNlIjoKCQljYXNlICJEZWxldGUiOgoJCQlpZiAoZGF0YVtkYWxpZ25lKGUpXVtkYWNvbChlKV0gIT09IDApIHsKCQkJCWRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldID0gMDsKCQkJCWUudGFyZ2V0LnZhbHVlID0gIiI7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJCQkoZS5rZXk9PT0iRGVsZXRlIik/bW92ZVJpZ2h0KGUpOm1vdmVMZWZ0KGUpOwoJCQl2YXIgZGEgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwoJCQkoZS5rZXk9PT0iRGVsZXRlIik/KGRhLnNlbGVjdGlvblN0YXJ0ID0gZGEuc2VsZWN0aW9uRW5kID0gZGEudmFsdWUubGVuZ3RoKTooZGEuc2VsZWN0aW9uU3RhcnQgPSBkYS5zZWxlY3Rpb25FbmQgPSAwKTsgLy9zZWxlY3QgS08gOigKCQkJYnJlYWs7CgkJZGVmYXVsdDoKCQkJcmV0dXJuOwoJCX0gfSkgCgkJCiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsKGUpID0+IHsKCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJICBjb25zdCB2YWwgPSBlLnRhcmdldC52YWx1ZSAvL3BhcnNlSW50KGUudGFyZ2V0LnZhbHVlKTsKCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCgkgIGNvbnN0IGJpZG91aWxsaXN0ZSA9IHthOjEsejoyLGU6MyxyOjQsdDo1LHk6Nix1OjcsaTo4LG86OSwKCQlBOjEsWjoyLEU6MyxSOjQsVDo1LFk6NixVOjcsSTo4LE86OSwKCQknXCYnOjEsw6k6MiwnIic6MywiXCciOjQsJ1woJzo1LCdcLSc6NizDqDo3LF86OCzDpzo5LAoJCSfCpyc6NiwnISc6OCwgICAgcToxLFE6MSwgdzoyLFc6Mn07CgoJICBjb25zdCBhbmRyb2lkQ2hyb21lRXN0Q2hpYW50ID0geydiJzptb3ZlRG93biwnQic6bW92ZURvd24sCgkJJ2gnOm1vdmVVcCwnSCc6bW92ZVVwLCAgICAgICAgJ2onOm1vdmVSaWdodCwnSic6bW92ZVJpZ2h0LAoJCSdnJzptb3ZlTGVmdCwnRyc6bW92ZUxlZnQsJ3YnOm1vdmVMZWZ0LCdWJzptb3ZlTGVmdCwKCQknZCc6bW92ZVJpZ2h0LCdEJzptb3ZlUmlnaHQsJ24nOm1vdmVSaWdodCwnTic6bW92ZVJpZ2h0fTsKCgkgIGlmICh2YWwgaW4gYmlkb3VpbGxpc3RlKSB7CgkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID0gYmlkb3VpbGxpc3RlW3ZhbF07CgkgIH0gZWxzZSBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCWRhdGFbaV1bal0gPSBwYXJzZUludCh2YWwpOwoJICB9IGVsc2UgaWYgKCh2YWwgPT0gMCl8fCh2YWwgPT0gJ8OgJyl8fCh2YWwgPT0gJ3AnKXx8KHZhbCA9PSAnUCcpKSB7CgkJZGF0YVtpXVtqXSA9IDA7CgkJZS50YXJnZXQudmFsdWUgPSAnJzsKCSAgfSBlbHNlIHsgCgkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJICB9CgoJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQl9IGVsc2UgewoJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQlmb3IodmFyIG5pPTA7bmk8ZWxlLmxlbmd0aDtuaSsrKQoJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCWlmIChqZGF0YSA9PSBwcmVtaWVyKSB7CgkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7CgkJCX0KCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkJfQoKCQlpZiAodmFsIGluIGFuZHJvaWRDaHJvbWVFc3RDaGlhbnQpIHsKCQkJYW5kcm9pZENocm9tZUVzdENoaWFudFt2YWxdKGUpOwoJCX0gZWxzZSB7CgkJCW1vdmVSaWdodChlKTsKCQl9CgkJZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5zZWxlY3QoKTsKICAgIH0pCgkJCiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjdG9wJywoZSkgPT4geyAvLyBtaXMgw6Agam91ciBwYXIgY2hpZmZyZSBzw6lsZWN0aW9ubsOpCgkgIGNvbnN0IGkgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7IC8vIGRhbGlnbmUoZSkKCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkgIGNvbnN0IG9sZGF0YSA9IGRhdGFbaV1bal07CgoJICBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCWRhdGFbaV1bal0gPSBwYXJzZUludCh2YWwpOwoJICB9IGVsc2UgeyAKCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPT09IDAgPyAnJyA6IGRhdGFbaV1bal07CgkgIH0KCgkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQllLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IAoJCX0gZWxzZSB7CgkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCXZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0Iik7CgkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJfSBlbHNlIGlmIChqZGF0YSA9PSBkZXV4acOobWUpIHsKCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJfQoJCQlodG1sLnNldEF0dHJpYnV0ZSgnc3VkYXRhJywgamRhdGEpOwoJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQl9CiAgICB9KQoJCQogIH0pIAogIHZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0Iik7CiAgY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICBpZiAoamRhdGEgPT0gcHJlbWllcikgewoJZWxlWzBdLmNoZWNrZWQgPSB0cnVlOwogIH0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgllbGVbMV0uY2hlY2tlZCA9IHRydWU7IC8vIC4uLl0uY2xpY2soKTsgLy8gw6l0YWl0IEtPLi4uCiAgfQogIGh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CiAgaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CiAgcmV0dXJuIGh0bWw7Cgp9OwoKcmV0dXJuIHN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlKGNyZWF0ZVN1ZG9rdUh0bWwoZGVmYXVsdEZpeGVkVmFsdWVzKSk7Cjwvc2NyaXB0PjwvYm9uZD6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HY4+UndtPyt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNblkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzg/XyLm1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAziaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9kedoBGTxkaXYgY2xhc3M9Im1hcmtkb3duIj48cD5Qb3VyIGNldHRlIHNlc3Npb24sIHNpIGJlc29pbiBkJiMzOTt1biA6IDxib25kIGRlZj0iYm91dG9uU3Vkb2t1SW5pdGlhbCIgdW5pcXVlX2lkPSJoSHRJcHBmWm8mIzQzOzBlIj48aW5wdXQgdHlwZT1idXR0b24gc3R5bGU9J21hcmdpbjogMCA2cHggMCA2cHgnIHZhbHVlPSfwn5O3IGluc3RhbnRhbsOpIDspJz48L2JvbmQ+IDxlbT4mIzQwO3NpwqBzdWRva3XCoHZpZGXCoOKGksKgc3Vkb2t1wqBhbMOpYXRvaXJlJiM0MTs8L2VtPjwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2OPlJkIVnLdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDO5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4NS+x6tXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMKxY2VsbF9kZXBlbmRlbmNpZXOL2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTGEtHByZWNlZGVuY2VfaGV1cmlzdGljB6djZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTG0ZG93bnN0cmVhbV9jZWxsc19tYXDeAD2oTFVuaWNsayGQpmZvb3RpeJCqaW1wb3NzaWJsZZCpa2VsY2FycsOpkKNqc22QpHNhayGQpWh0bWxzkKZodG1hdHCQo3Jqc5CoaW50ZXJ2YWyQqXZhZXR2aWVudJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNqNwdDKQt3RvdXRlc3RiaWVucXVpZmluaXRiaWVukKpodG1sU3Vkb2t1kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4r2NoaWZmcmVQb3NzaWJsZZCuc3Vkb2t1aW5pdGlhbCGR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDKwcsOpc291dFN1ZG9rdU1heJClcHVjZXOS2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN6d1bmljbGshkKVzZXQxOZCwaHRtbFN1ZG9rdVByb3BhbJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOKtsaXN0ZWNhcnLDqZCtcsOpc291dFN1ZG9rdZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNKt0dXBsZWNhcnLDqZCqw6Bjb3JyaWdlcpCwbWF0cmljZcOgbGlzdGVKU5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaNwdDOQpGNhcnKQtXNpbXBsZWNoaWZmcmVQb3NzaWJsZZCkY29vbJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMahzaHVmZmxlIZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaRybWF0kKhuYlByb3BhbJCmY2FycsOpkKN2cyGQo2luaZCjbWpzkLRzdWRva3VBbMOpYXRvaXJlRmluaZCkanN2ZJCldmlldXiQqUJhc2Uuc2hvd5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMbBsaXN0ZUpTw6BtYXRyaWNlkKN2c2SQpHNhYyGQpHZ1ZXOQrUJvbmRKYW1lc0JvbmST2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDXZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExpWh0bWF0kKJ2c5CvdsOpcmlmU3Vkb2t1Qm9ukLFwYXNBc3NlekRlUHJvcGFsIZCmZGVmYXV0kKtTdWRva3VNw6ltb5LZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1qEJhc2UuZ2V0kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1pmh0bWxzcJCsdmlldXhTdWRva3UhkKNwdDGQrWNoaWZmcmVQcm9wYWyQsHN1ZG9rdUFsw6lhdG9pcmWQplN1ZGluaZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNaN2UyGQp2TDqWZhdXSQsnVwc3RyZWFtX2NlbGxzX21hcN4AQqEhkKE+kKVUdXBsZZCmaXNsZXNzkKREb2NzkKZyZXBlYXSQpnVuaW9uIZCnbm90aGluZ5CmbGVuZ3RokKdkZWxldGUhkKE8kKRjb3B5kKhkZWVwY29weZCmVmVjdG9ykKdzZXRkaWZmkKdpc2VtcHR5kKRjb25qkKNTZXSQrUJhc2UuZ2V0aW5kZXiQrkJhc2UuRG9jcy5IVE1MkKhzZXRkaWZmIZCnY29sbGVjdJCjZGl2kKZoYXNrZXmQpXVuaW9ukLBtYXRyaWNlw6BsaXN0ZUpTkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExpHJhbmSQo+KImJCjaXNhkKRCYXNlkKI8PZClcHVzaCGQoS2Qo0ludJChK5ClVW5pb26QoSqQqHNodWZmbGUhkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExpUFycmF5kKREaWN0kKdAbWRfc3RykKZzdHJpbmeQqnB1c2hmaXJzdCGQoklPkKRwb3AhkKR2aWV3kKZTdHJpbmeQp2Fkam9pbnSQqUJhc2Uuc2hvd5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaNtYXCQpWNvdW50kKIhPZCtQm9uZEphbWVzQm9uZJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaRmaWxskKI9PZCpRG9jcy5IVE1MkKJpbpCpVW5pdFJhbmdlkKE6kKlAaHRtbF9zdHKQpGhjYXSQqEByYXdfc3RykKRCb29skKlATUlNRV9zdHKQp3Jlc2hhcGWQpGdldCGQ2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDiEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDi0ZG93bnN0cmVhbV9jZWxsc19tYXCAsnVwc3RyZWFtX2NlbGxzX21hcI2rYmluZEpTdWRva3WR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDWwaHRtbFN1ZG9rdVByb3BhbJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaEhkK5Qcm9wYWxPdVNvbHVjZZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN6ZTdHJpbmeQo2lzYZCuTWFya2Rvd24ucGFyc2WQsXN1ZG9rdVNvbHV0aW9uVnVlkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA0oSqQqE1hcmtkb3dukKI9PZCpdm9pck91UGFzkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3qmh0bWxTdWRva3WR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNIS0cHJlY2VkZW5jZV9oZXVyaXN0aWMJp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNLRkb3duc3RyZWFtX2NlbGxzX21hcIKuc3Vkb2t1U29sdXRpb26QsXN1ZG9rdVNvbHV0aW9uVnVlkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4snVwc3RyZWFtX2NlbGxzX21hcIOrYmluZEpTdWRva3WR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDWtcsOpc291dFN1ZG9rdZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMatTdWRva3VNw6ltb5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3tGRvd25zdHJlYW1fY2VsbHNfbWFwgq5Qcm9wYWxPdVNvbHVjZZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOKl2b2lyT3VQYXOR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDiydXBzdHJlYW1fY2VsbHNfbWFwjKdAbWRfc3RykK1CYXNlLmdldGluZGV4kNkgTWFpbi5QbHV0b1J1bm5lci5Db3JlLmFwcGxpY2FibGWQrkJhc2UuRG9jcy5IVE1MkKlAaHRtbF9zdHKQuU1haW4uUGx1dG9SdW5uZXIuQmFzZS5nZXSQpUBiaW5kkNkoTWFpbi5QbHV0b1J1bm5lci5QbHV0b1J1bm5lci5jcmVhdGVfYm9uZJCkTWFpbpCkQmFzZZCtQm9uZEphbWVzQm9uZJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaVwdWNlc5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5tGRvd25zdHJlYW1fY2VsbHNfbWFwh7VzdHlsw6lsw6BiYXNhdmVjYm9udXOQp2NhbGVwaW6QqHBsdXRvb2pskK5ib251c2V0YXN0dWNlc5CxcG91cmdhcmRlcmxldGVtcHOQp2NhbGV3ZWKQr3BvdXJ2b2lycGx1dMO0dJCydXBzdHJlYW1fY2VsbHNfbWFwiKdAbWRfc3RykK1CYXNlLmdldGluZGV4kKRCYXNlkK5CYXNlLkRvY3MuSFRNTJCpQGh0bWxfc3RykKhAcmF3X3N0cpCkRG9jc5CpRG9jcy5IVE1MkNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwhLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwtGRvd25zdHJlYW1fY2VsbHNfbWFwgLJ1cHN0cmVhbV9jZWxsc19tYXCA2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDKEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDK0ZG93bnN0cmVhbV9jZWxsc19tYXCBqnZpZGVyT3VwYXOS2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDXZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNrJ1cHN0cmVhbV9jZWxsc19tYXCNp0BtZF9zdHKQrUJhc2UuZ2V0aW5kZXiQpXB1Y2VzkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExrkJhc2UuRG9jcy5IVE1MkKlAaHRtbF9zdHKQ2SBNYWluLlBsdXRvUnVubmVyLkNvcmUuYXBwbGljYWJsZZC5TWFpbi5QbHV0b1J1bm5lci5CYXNlLmdldJClQGJpbmSQ2ShNYWluLlBsdXRvUnVubmVyLlBsdXRvUnVubmVyLmNyZWF0ZV9ib25kkLNib3V0b25TdWRva3VJbml0aWFskdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAzpE1haW6QpEJhc2WQrnN1ZG9rdWluaXRpYWwhkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDEx2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDaEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDa0ZG93bnN0cmVhbV9jZWxsc19tYXCAsnVwc3RyZWFtX2NlbGxzX21hcIenQG1kX3N0cpCtQmFzZS5nZXRpbmRleJCkQmFzZZCuQmFzZS5Eb2NzLkhUTUyQqUBodG1sX3N0cpCpdmFldHZpZW50kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExqnZpZGVyT3VwYXOR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMYS0cHJlY2VkZW5jZV9oZXVyaXN0aWMJp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMbRkb3duc3RyZWFtX2NlbGxzX21hcICydXBzdHJlYW1fY2VsbHNfbWFwgqRjb29skdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExqGdldGluZGV4kNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1tGRvd25zdHJlYW1fY2VsbHNfbWFwgqtiaW5kSlN1ZG9rdZLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4q2Nob2l4U3Vkb2t1kLJ1cHN0cmVhbV9jZWxsc19tYXCPpENvcmWQoSGQq1N1ZG9rdU3DqW1vkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExqEJhc2UuZ2V0kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExplN0cmluZ5CjaXNhkKRCYXNlkKtQbHV0b1J1bm5lcpC3UGx1dG9SdW5uZXIuY3JlYXRlX2JvbmSQr0NvcmUuYXBwbGljYWJsZZCmU3VkaW5pkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExoiE9kK1Cb25kSmFtZXNCb25kkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExoj09kKp2aWRlck91cGFzkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDQtMTIzNDU2Nzg5MDAy2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDOEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDO0ZG93bnN0cmVhbV9jZWxsc19tYXCBs2JvdXRvblN1ZG9rdUluaXRpYWyR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDKydXBzdHJlYW1fY2VsbHNfbWFwiqdAbWRfc3RykK1CYXNlLmdldGluZGV4kKRNYWlukKRCYXNlkKlAaHRtbF9zdHKQ2SBNYWluLlBsdXRvUnVubmVyLkNvcmUuYXBwbGljYWJsZZCuQmFzZS5Eb2NzLkhUTUyQuU1haW4uUGx1dG9SdW5uZXIuQmFzZS5nZXSQpUBiaW5kkNkoTWFpbi5QbHV0b1J1bm5lci5QbHV0b1J1bm5lci5jcmVhdGVfYm9uZJC0Y2VsbF9leGVjdXRpb25fb3JkZXKb2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAz2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA02SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDbZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA42SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMC0xMjM0NTY3ODkwMDnZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDExLTEyMzQ1Njc4OTAxMLRsYXN0X2hvdF9yZWxvYWRfdGltZcsAAAAAAAAAAKlzaG9ydHBhdGiqUGx1dG9rdS5qbK5wcm9jZXNzX3N0YXR1c6VyZWFkeaRwYXRo2TgvaG9tZS9ydW5uZXIvd29yay80TEQuZ2l0aHViLmlvLzRMRC5naXRodWIuaW8vUGx1dG9rdS5qbK5sYXN0X3NhdmVfdGltZctB2OPlHKiDPKpjZWxsX29yZGVym9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAx2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAzLTEyMzQ1Njc4OTAwM9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA02SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDXZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA32SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDjZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDEwLTEyMzQ1Njc4OTAwOdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEw2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTGxcHVibGlzaGVkX29iamVjdHOApW5icGtnh7JpbnN0YWxsZWRfdmVyc2lvbnOBplJhbmRvbaZzdGRsaWKwdGVybWluYWxfb3V0cHV0c4GmUmFuZG9toKdlbmFibGVkw7dyZXN0YXJ0X3JlY29tbWVuZGVkX21zZ8C0cmVzdGFydF9yZXF1aXJlZF9tc2fArWJ1c3lfcGFja2FnZXOQrGluc3RhbnRpYXRlZMOrY2VsbF9pbnB1dHOL2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTGEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMbBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2vshYmVnaW4gCgkjIEBiaW5kIGJpbmRKU3Vkb2t1IFN1ZGluaSAjIGV0IHNvbiBqYXZhc2NyaXB0IGVzdCBpbmNsdXMgYXUgcGx1cyBoYXV0CgkjIHN0eWzDqWzDoGJhc2F2ZWNib251cyEgIyMgdm9pciBqdXN0ZSBkYW5zIGxhIGNlbGx1bGUgI0JvbnVzIGF1IGRlc3N1cyDihpEKCWNvbnN0IMOgY29ycmlnZXIgPSAi8J+YnCBNZXJjaSBkZSBjb3JyaWdlciBsZSBTdWRva3UiLCBtZCIiIiMjIyMjIPCfmJwgTWVyY2kgZGUgcmV2b2lyIGxlIFN1ZG9rdSBtb2RpZmlhYmxlLCBpbCBuJ2VzdCBwYXMgY29uZm9ybWUgOiAKCQlFbiBlZmZldCwgaWwgZG9pdCB5IGF2b2lyICoqdW4gY2hpZmZyZSBlbiBkb3VibGUqKiBhdSBtb2lucyBzdXIgdW5lIGxpZ25lIG91IGNvbG9ubmUgb3UgY2FycsOpIPCfmIQiIiIKCWNvbnN0IGltcG9zc2libGUgPSAi8J+nkCBTdWRva3UgZmF1eCBldCBpbXBvc3NpYmxlIiwgbWQiIiIjIyMjIyDwn6eQIFN1ZG9rdSBmYXV4IGV0IGltcG9zc2libGUgw6AgcsOpc291ZHJlIDoKCQlTaSBjZSBuJ2VzdCBwYXMgbGUgY2FzLCByZXbDqXJpZmllciBsZSBTdWRva3UgbW9kaWZpYWJsZSwgY2FyIGNlbHVpLWNpIG4nYSBwYXMgZGUgc29sdXRpb24iIiIKCXRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKSA9IG1hdHJpY2XDoGxpc3RlSlMobVMpLCBtZCIqKlN0YXRpc3RpcXVlc8KgOioqIGNlIHByb2dyYW1tZSBmYWl0ICoqJG5iQ2hvaXhmYWl0IGNob2l4KiogZXQgXyRuYlRvdXJzVG90YWwgJCgobmJUb3Vyc1RvdGFsPjEpID8gOnRvdXJzIDogOnRvdXIpXyBwb3VyIHLDqXNvdWRyZSBjZSBzdWRva3UiCgljb25zdCBmb290aXggPSAiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXNmb290XCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNsaWNrXCIpKSIKCQoJY29uc3Qgc2V0MTkgPSBTZXQoMTo5KSAjIFBvdXIgbmUgcGFzIGxlIHJlY2FsY3VsZXIgw6AgY2hhcXVlIGZvaXMKCWNvbnN0IGNvb2wgPSBodG1sIjxzcGFuIGlkPSdCTicgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyc+8J+Yjjwvc3Bhbj4iCglqc3ZkKCkgPSBmaWxsKGZpbGwoMCw5KSw5KSAjIEpTdmlkZSBvdSBKQ1ZEIF5eIHBzZXVkbyBjb25zdAoJdXNpbmcgUmFuZG9tOiBzaHVmZmxlISAjIEFzdHVjZSBwb3VyIMOqdHJlIGVuY29yZSBwbHVzIHJhcGlkZSA9IEZhc3QgJiBGdXJpb3VzCgkjIyBzaHVmZmxlISh4KSA9IHggIyMgU2kgYmVzb2luLCBtYWlzLi4uIEV2ZXJ5ZGF5IEkgc2h1ZmZsaW5nICEgKGRpeGl0IExNRkFPKQoJCglzdHJ1Y3QgQm9uZEphbWVzQm9uZCAjIyBCb25kRGVmYXVsdChlbGVtZW50LCBkZWZhdWx0KSAjIyMgcG91ciBCYXNlLmdldCgpIGV0IEBiaW5kCgkJb283ICMgZWxlbWVudCAJIAkJCSAjIyMgQm9uZCAow6AgYmluZGVyKQoJCXZvZGthTWFydGluaSAjIGRlZmF1bHQgCQkgIyMjIHVuIGTDqWZhdXQgXl4KCWVuZCAjIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci9wdWxsLzExCglCYXNlLnNob3coaW86OklPLCBtOjpNSU1FInRleHQvaHRtbCIsIGJkOjpCb25kSmFtZXNCb25kKSA9IAoJCUJhc2Uuc2hvdyhpbyxtLCBiZC5vbzcpCglCYXNlLmdldChiZDo6Qm9uZEphbWVzQm9uZCkgPSBiZC52b2RrYU1hcnRpbmkgCgoJU3Vkb2t1TcOpbW8gPSBwdXNoZmlyc3QhKHJlcGVhdChbW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwxLDIsMyw0LDUsMCwwLDBdLFswLDIsMCwwLDMsMCw2LDAsMF0sWzAsMyw0LDUsNiwwLDAsNywwXSxbMCw2LDAsMCw3LDAsOCwwLDBdLFswLDcsMCwwLDgsOSwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdXV0sIDMpLCAKCQlqc3ZkKCkpICMgRW4gdHJpcGxlIHBvdXIgZ2FyZGVyIG1lcyBpbml0aWFsKGUpcyBeXgoJbGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1OjpWZWN0b3J7VmVjdG9ye0ludH19KSA9IGhjYXQoSlN1ZG9rdS4uLikgIycgZW4gcGluYWlsbGFudAoJCWpzbSA9IGxpc3RlSlPDoG1hdHJpY2UgIyMgbWluaSB2ZXJzaW9uCgltYXRyaWNlw6BsaXN0ZUpTKG1hdCxkPTkpID0gW21hdFs6LGldIGZvciBpIGluIDE6ZF0gI0kgd2lsbCBiZSBiYWNrISAjIyBtYXQzIGF1c3NpCgkJbWpzID0gbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24KCSMjIyBtYXRyaWNlw6BsaXN0ZUpTKGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkpID09IEpTdWRva3UgIyMgRXQgaW52ZXJzZW1lbnQKCSMgbmJjbShtYXQpID0gY291bnQoPigwKSwgbWF0ICkgIyBOb21icmUgZGUgY2hpZmZyZXMgPiAwIGRhbnMgdW5lIG1hdHJpY2UKCSMgbmJjaihsanMpID0gY291bnQoPigwKSwgbGlzdGVKU8OgbWF0cmljZShsanMpICkgIyBpZGVtIHBvdXIgdW5lIGxpc3RlIEpTCglrZWxjYXJyw6koaTo6SW50LGo6OkludCkgPSAxKyAzKmRpdihpLTEsMykgKyBkaXYoai0xLDMpICMgbsKwIGR1IGNhcnLDqSBkdSBzdWRva3UKCWNhcnLDqShpOjpJbnQsajo6SW50KT0gMStkaXYoaS0xLDMpKjM6MytkaXYoaS0xLDMpKjMsIDErZGl2KGotMSwzKSozOjMrZGl2KGotMSwzKSozICMgcGVybWV0IGRlIGZhYnJpcXVlciBsZXMgZmlsdHJlcyBwb3VyIG5lIHJlZ2FyZGVyIHF1J3VuIHNldWwgY2FycsOpCgljYXJyKGk6OkludCk9IDErZGl2KGktMSwzKSozOjMrZGl2KGktMSwzKSozICMgZmlsdHJlIGNhcnLDqSDDoCBtb2l0aSAgICDDqSAhCgl2dWVzKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSAodmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSApICMgbGlzdGUgY2hpZmZyZXMgcG9zc2libGVzIHBhciBsaWduZXMvY29sb25uZXMvY2FycsOpcwoJbGlzdGVjYXJyw6kobWF0OjpBcnJheXtJbnQsMn0pPSBbdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSBmb3IgaSBpbiAxOjM6OSBmb3IgaiBpbiAxOjM6OV0gIyBMYSBsaXN0ZSBkZSB0b3VzIGxlcyBjYXJyw6lzIGR1IHN1ZG9rdQoJdHVwbGVjYXJyw6koaWk6OlVuaXRSYW5nZXtJbnR9LGpqOjpVbml0UmFuZ2V7SW50fSAjPSxzZXRpajo6U2V0e1R1cGxle0ludCxJbnR9fT0jKT0gWyhpLGopIGZvciBpIGluIGlpLCBqIGluIGpqXSAjaWYgKGksaikg4oiJIHNldGlqXQoJc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSBzZXRkaWZmKHNldDE5LHZpZXcobWF0LGksOiksIHZpZXcobWF0LDosaiksIHZpZXcobWF0LGNhcnIoaSksY2FycihqKSkpICMgY2FzZSBpLGoKCSMjIyBzZXRkaWZmKHNldDE5LHZ1ZXMobWF0LGksaikuLi4pICMgUG91ciB1bmUgY2FzZSBlbiBpLGoKCWNoaWZmcmVQb3NzaWJsZShtYXQ6OkFycmF5e0ludCwyfSxpOjpJbnQsajo6SW50LGxpbXA6OlNldHtJbnR9LCBpaT1jYXJyKGkpOjpVbml0UmFuZ2V7SW50fSwgamo9Y2FycihqKTo6VW5pdFJhbmdle0ludH0pPSBzZXRkaWZmKHNldDE5LGxpbXAsdmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsIGlpLGpqKSkgIyBQbHVzIGZpbgoKCWZ1bmN0aW9uIHbDqXJpZlN1ZG9rdUJvbihtYXQ6OkFycmF5e0ludCwyfSkgIyBWw6lyaWZpZSBzaSBsZSBzdWRva3UgZXN0IHLDqWdsbwoJCWxlc2NhcnLDqXMgPSBsaXN0ZWNhcnLDqShtYXQpCgkJZm9yIHggaW4gMTo5ICMgUG91ciB0b3VzIGxlcyBjaGlmZnJlcyBkZSAxIMOgIDkuLi4KCQkJZm9yIGkgaW4gMTo5ICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1bmUgbGlnbmUgb3UgdW5lIGNvbG9ubmUgPwoJCQkJaWYgY291bnQoPT0oeCksIG1hdFtpLDpdKT4xIHx8IGNvdW50KD09KHgpLCBtYXRbOixpXSk+MQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVuZAoJCQlmb3IgYyBpbiBsZXNjYXJyw6lzICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1biBjYXJyw6kgPwoJCQkJaWYgY291bnQoPT0oeCksIGMpPjEKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCWVuZAoJCQllbmQKCQllbmQKCQlyZXR1cm4gdHJ1ZSAjIExlIHN1ZG9rdSBzZW1ibGUgY29uZm9ybWUgKG1haXMgaWwgcGV1dCDDqnRyZSBpbXBvc3NpYmxlKQoJZW5kIAoJZnVuY3Rpb24gc2FjIShuOjpJbnQsIGw6OkludCwgazo6SW50LCBpaTo6VW5pdFJhbmdle0ludH0sIGpqOjpVbml0UmFuZ2V7SW50fSwgbGlzdGVwb3NzaWJsZXM6OlNldHtJbnR9LCBmdXNpYmxlczo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljbzo6RGljdHtJbnQsRGljdHtJbnQsSW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAjIGNvbXB0ZSBsJ29jY3VyZW5jZSBkJ3VuIGNoaWZmcmUgcG91ci4uLiBjZi4gdW5pY2xrIQoJICMgcG91ciBsaWduZSBldCBjb2xvbm5lCgkgZ2V0IShkaWNvLCBuLCBEaWN0e0ludCxJbnR9KCkgKSAjIGRpY28gOiBwb3NpYmlsaXTDqXMgcGFyIGNvbG9ubmUvbGlnbmUKCSBnZXQhKGRpbG8sIG4sIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUvY29sb25uZSDimbsKCSBnZXQhKGRpa28sIG4sIERpY3R7SW50LEludH0oKSApICMgZGlrbyA6IGNhcnLDqSBxdWkgZGV2cmEgc3VwcHIuIGxhIHBvc3NpYmlsaXTDqQoJIGdldCEoZnVzaWJsZXMsIG4sIFNldHtJbnR9KCkgKSAjIGZ1c2libGVzIDogbsKwIGTDqWrDoCBncmlsbMOpcwoJIGZvciBuZSBpbiBzZXRkaWZmKGxpc3RlcG9zc2libGVzLGZ1c2libGVzW25dKSAjCgkJZGljb1tuXVtuZV0gPSBnZXQoZGljb1tuXSwgbmUsIDApICsgMQoJCWlmIGRpY29bbl1bbmVdID09IDEgCgkJCWRpa29bbl1bbmVdID0gayAKCQkJZGlsb1tuXVtuZV0gPSAobCwgaWksIGpqKQoJCWVsc2VpZiBkaWNvW25dW25lXSA+IDMgfHwgZGlrb1tuXVtuZV0gIT0gayAKCQkJcHVzaCEoZnVzaWJsZXNbbl0sIG5lKSAKCQkJZGVsZXRlIShkaWNvW25dLCBuZSkgCgkJZW5kCgkgZW5kCgllbmQKCWZ1bmN0aW9uIHNhayEoaTo6SW50LCBqOjpJbnQsIGs6OkludCwgaWk6OlVuaXRSYW5nZXtJbnR9LCBqajo6VW5pdFJhbmdle0ludH0sIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSwgZnVzaWJsZXM6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpY286OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAKCSAjIGlkZW0gcG91ciBsZXMga2FycsOpcyA7KQoJIGdldCEoZGlrbywgaywgRGljdHtJbnQsSW50fSgpICkgIyBkaWtvIDogcG9zc2liaWxpdMOpIHBhciBrYXJyw6kKCSBnZXQhKGRpY28sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWNvIDogY29sb25uZSDimbsKCSBnZXQhKGRpbG8sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUg4pm7CgkgZ2V0IShmdXNpYmxlcywgaywgU2V0e0ludH0oKSApICMgZnVzaWJsZXMgOiBuwrAgZMOpasOgIGdyaWxsw6lzCgkgZm9yIG5lIGluIHNldGRpZmYobGlzdGVwb3NzaWJsZXMsZnVzaWJsZXNba10pICMKCQlkaWtvW2tdW25lXSA9IGdldChkaWtvW2tdLCBuZSwgMCkgKyAxCgkJaWYgZGlrb1trXVtuZV0gPT0gMSAKCQkJZGljb1trXVtuZV0gPSAoaiwgaWkpCgkJCWRpbG9ba11bbmVdID0gKGksIGpqKQoJCWVsc2VpZiBkaWtvW2tdW25lXSA+IDMgfHwgKGRpY29ba11bbmVdWzFdICE9IGogJiYgZGlsb1trXVtuZV1bMV0gIT0gaSkKCQkJcHVzaCEoZnVzaWJsZXNba10sIG5lKSAKCQkJZGVsZXRlIShkaWtvW2tdLCBuZSkgCgkJZWxzZWlmIGRpY29ba11bbmVdWzFdICE9IGoKCQkJZGljb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBjb2xvbm5lCgkJZWxzZWlmIGRpbG9ba11bbmVdWzFdICE9IGkKCQkJZGlsb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBsaWduZQoJCWVuZAoJIGVuZAoJZW5kCglmdW5jdGlvbiB1bmljbGshKGRpY2xvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19ICxkaWNjbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWNrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxsbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxjbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSwgZGlsa286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlrbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2NvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fX19LCBkaWtrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBtYXQ6OkFycmF5e0ludCwyfSwgZGltcDo6RGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19LCBkaWNvcsOpemxpZzo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjb2w6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y2FyOjpEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0sIGxlc1rDqXJvc8OgU3VwcHI6OlNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19LCDDp2FOYXZhbmNlUGFzOjpCb29sKSAjLi4uIHZvaXIgc2kgdW4gY2hpZmZyZSBlc3Qgc2V1bCAob3UgdW5pcXVlbWVudCBzdXIgdW5lIG3Dqm1lIGxpZ25lLCBjb2wuLi4pLiBDYXIgcGFyIGV4ZW1wbGUsIHMnaWwgYXBwYXJhw650IHVuZSBzZXVsZSBmb2lzIHN1ciBsYSBsaWduZSA6IGMnZXN0IHF1J2lsIG5lIHBldXQgcXUnw6p0cmUgbMOgIF5eCgkjIEF1dHJlcyBleGVtcGxlLCBzaSBkYW5zIHVuZSBsaWduZSwgaWwgbid5IGEgZCdvY2N1cmVuY2UgcXVlIGRhbnMgdW4gZGVzIDMgY2FycsOpLCBpbCBuZSBwb3VycmEgcGFzIMOqdHJlIGFpbGxldXJzIGRhbnMgbGUgY2FycsOpLgoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCW1hdFtkaWNsb1tqXVtuXVsxXSxqXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWNsb1tqXVtuXVsxXSwgaiwgZGlja29bal1bbl0sIGRpY2xvW2pdW25dWzJdLCBkaWNsb1tqXVtuXVszXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2RpY2xvW2pdW25dWzFdXSwgaikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjb2xbal0sIGRpY2xvW2pdW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sIChkaWNsb1tqXVtuXVsxXSwgaikgKQoJCQkJaGFza2V5KGRpbGxvLCBkaWNsb1tqXVtuXVsxXSkgJiYgZGVsZXRlIShkaWxsb1tkaWNsb1tqXVtuXVsxXV0sIG4pCgkJCQloYXNrZXkoZGlra28sIGRpY2tvW2pdW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpY2tvW2pdW25dXSwgbikKCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsIGNvbCkgaW4gc2V0ZGlmZihkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sICgoaSwgaikgZm9yIGkgaW4gZGljbG9bal1bbl1bMl0pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKSAjIMOnYU5hdmFuY2VQYXMgJiBkaW1wID8KCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGksZGwpIGluIGRpbGxvICMgcG91ciBsZXMgbGlnbmVzCgkJZm9yIChuLHYpIGluIGRsCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2ksZGlsY29baV1bbl1bMV1dID0gbgoJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksIGRpbGNvW2ldW25dWzFdLCBkaWxrb1tpXVtuXSwgZGlsY29baV1bbl1bMl0sIGRpbGNvW2ldW25dWzNdKSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0sIGRpbGNvW2ldW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtkaWxjb1tpXVtuXVsxXV0sIGkpCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2RpbGtvW2ldW25dXSwoaSwgZGlsY29baV1bbl1bMV0pICkKCQkJCSMgaGFza2V5KGRpY2NvLGRpY29baV1bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1tpXVtuXVsxXV0sIG4pICNzaW8KCQkJCWhhc2tleShkaWtrbyxkaWxrb1tpXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWxrb1tpXVtuXV0sIG4pCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWZvciAobGlnLCBjb2wpIGluIHNldGRpZmYoZGljb3LDqXpjYXJbZGlsa29baV1bbl1dLCAoKGksIGopIGZvciBqIGluIGRpbGNvW2ldW25dWzNdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGssZGspIGluIGRpa2tvICMgcG91ciBsZXMga2FycsOpCgkJZm9yIChuLHYpIGluIGRrCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2Rpa2xvW2tdW25dWzFdLGRpa2NvW2tdW25dWzFdXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWtsb1trXVtuXVsxXSwgZGlrY29ba11bbl1bMV0sIGssIGRpa2NvW2tdW25dWzJdLCBkaWtsb1trXVtuXVsyXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2tdLCAoZGlrbG9ba11bbl1bMV0sIGRpa2NvW2tdW25dWzFdKSApCgkJCQkjIGhhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjIGhhc2tleShkaWNjbyxkaWNvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpY2NvW2RpY29ba11bbl1bMV1dLCBuKSAjcmRlCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWlmIGRpa2NvW2tdW25dWzFdID09IDAgCgkJCQkJZm9yIGNvbCBpbiBzZXRkaWZmKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGRpa2NvW2tdW25dWzFdKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgcmV0dXJuIMOnYU5hdmFuY2VQYXMKCWVuZAoJZnVuY3Rpb24gTFVuaWNsayEoZGljbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0sIGRpY2NvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpY2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGxvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGNvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19LCBkaWxrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWtsbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX19fSwgZGlrY286OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbXA6OkRpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSkgIyB1bmljbGshIHBvdXIgaHRtbFN1ZG9rdVByb3BhbAoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCSMgKGRpY2xvW2pdW25dWzFdLGosZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10pCgkJCQlpLGssIGlpLGpqID0gZGljbG9bal1bbl1bMV0sZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJaGFza2V5KGRpbGxvLGRpY2xvW2pdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpY2xvW2pdW25dWzFdXSwgbikKCQkJCWhhc2tleShkaWtrbyxkaWNrb1tqXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWNrb1tqXVtuXV0sIG4pCgkJCQkjIMOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsY29sKSBpbiBzZXRkaWZmKHR1cGxlY2FycsOpKGRpY2xvW2pdW25dWzJdLGRpY2xvW2pdW25dWzNdKSwgKChpLGopIGZvciBpIGluIGRpY2xvW2pdW25dWzJdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikgIyDDp2FOYXZhbmNlUGFzIGRpbXAgPwoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoaSxkbCkgaW4gZGlsbG8gIyBwb3VyIGxlcyBsaWduZXMKCQlmb3IgKG4sdikgaW4gZGwKCQkJaWYgdiA9PSAxCgkJCQkjIChpLGRpbGNvW2ldW25dWzFdLGRpbGtvW2ldW25dLGRpbGNvW2ldW25dWzJdLGRpbGNvW2ldW25dWzNdKQoJCQkJaiwgaywgaWksIGpqID0gZGlsY29baV1bbl1bMV0sZGlsa29baV1bbl0sZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJIyBoYXNrZXkoZGljY28sZGljb1tpXVtuXVsxXSkgJiYgZGVsZXRlIShkaWNjb1tkaWNvW2ldW25dWzFdXSwgbikgI3NpbwoJCQkJaGFza2V5KGRpa2tvLGRpbGtvW2ldW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpbGtvW2ldW25dXSwgbikKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlmb3IgKGxpZyxjb2wpIGluIHNldGRpZmYodHVwbGVjYXJyw6koZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10pLCAoKGksaikgZm9yIGogaW4gZGlsY29baV1bbl1bM10pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoayxkaykgaW4gZGlra28gIyBwb3VyIGxlcyBrYXJyw6kKCQlmb3IgKG4sdikgaW4gZGsKCQkJaWYgdiA9PSAxCgkJCQkjIChkaWtsb1trXVtuXVsxXSxkaWtjb1trXVtuXVsxXSxrLGRpa2NvW2tdW25dWzJdLGRpa2xvW2tdW25dWzJdKQoJCQkJaSwgaiwgaWksIGpqID0gZGlrbG9ba11bbl1bMV0sZGlrY29ba11bbl1bMV0sZGlrY29ba11bbl1bMl0sZGlrbG9ba11bbl1bMl0KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJI2hhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjaGFza2V5KGRpY2NvLGRpY29ba11bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1trXVtuXVsxXV0sIG4pICNyZGUKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlpZiBkaWtjb1trXVtuXVsxXSA9PSAwIAoJCQkJCWZvciBjb2wgaW4gc2V0ZGlmZihzZXQxOSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKHNldDE5LCBkaWtjb1trXVtuXVsyXSkKCQkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsZGlrY29ba11bbl1bMV0pLFNldHtJbnR9KCkgKSwgbikKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQgIyByZXR1cm4gw6dhTmF2YW5jZVBhcwoJIHJldHVybiBub3RoaW5nCgllbmQKCWZ1bmN0aW9uIHBhc0Fzc2V6RGVQcm9wYWwhKGk6OkludCxqOjpJbnQsIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSxkaWN0Q2hlY2tMaTo6RGljdHtTZXR7SW50fSwgU2V0e0ludH19LGRpY3RDaGVja0NqOjpEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0sZGljdENoZWNrQ2FycsOpOjpEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19fSxOaW1wOjpEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0pICMsIHNldGxpZzo6U2V0e0ludH09c2V0MTksIHNldGNvbDo6U2V0e0ludH09c2V0MTkpICMjLCBpaTo6VW5pdFJhbmdle0ludH09Y2FycihpKSwgamo6OlVuaXRSYW5nZXtJbnR9PWNhcnIoaiksIHNldGNhcjo6U2V0e1R1cGxle0ludCxJbnR9fT1TZXQodHVwbGVjYXJyw6koaWksamopKSApIAoJIyBJY2kgbCdpZMOpZSBlc3QgZGUgdm9pciBzJ2lsIHkgYSBwbHVzIGNoaWZmcmVzIMOgIG1ldHRyZSBxdWUgZGUgY2FzZXMgOiBlbiByZWdhcmRhbnQgdG91dCAhIGVudHJlIGRldXggY2FzZXMsIHRyb2lzIGNhc2VzLi4uIHN1ciBsYSBsaWduZSwgY29sb25uZSwgY2FycsOpIF5eCgkjIEJyZWYsIHMnaWwgbid5IGEgcGFzIGFzc2V6IGRlIHByb3Bvc2l0aW9ucyBwb3VyIGxlcyBjaGlmZnJlcyDDoCBjYXNlciBjJ2VzdCB2cmFpCgkjIEMnZXN0IHBhcyBmYXV4IDogZG9uYyDDp2EgdmEuIAoJIyBEZSBwbHVzLCBzaSB1biAoZW5zZW1ibGUgZGUpIGNoaWZmcmUgZXN0IHBvc3NpYmxlIHF1ZSBzdXIgY2VydGFpbmVzIGNlbGx1bGVzLCBjZWxhIGxlIHJldGlyZSBkdSByZXN0ZSAoZW4gZ2FyZGFudCB2aWEgbGEgbWF0cmljZSBOaW1wKS4gUGFyIGV4ZW1wbGUsIHN1ciB1bmUgbGlnbmUsIG9uIGEgMSDDoCA4LCBsYSBkZXJuacOocmUgY2VsbHVsZSBuZSBwZXV0IHF1ZSDDqnRyZSA5IC0+IGdyw6JjZSDDoCBOaW1wLCBvbiByZXRpcmUgbGUgOSBkZXMgcG9zc2liaWxpdMOpcyBkZSB0b3V0ZXMgbGVzIGNlbGx1bGVzIGRlIGxhIGNvbG9ubmUsIGR1IGNhcnLDqSAoZXQgZGUgbGEgbGlnbmUuLi4pIHNhdWYgcG91ciBjZXR0ZSBkZXJuacOocmUgY2VsbHVsZSBqdXN0ZW1lbnQgXl4KCSMgQ2VsYSBwZXJtZXQgZGUgbGltaXRlciBsZXMgcG9zc2liaWxpdMOpcyBwb3VyIMOpdml0ZXIgYXUgbWlldXggbGVzIGN1bHMgZGUgc2FjIQoJIyBFdGFudCBxdWFuZC1tw6ptZSB1biBwZXUgdHJvcCBsb3VyZCwgaWwgZmF1dCBsJ3V0aWxpc2VyIHF1ZSBzaSBiZXNvaW4KCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDaikgIyBkaWNvICMgUG91ciBsZXMgY29sb25uZXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChpKSwgZ2V0KGRpY3RDaGVja0NqLCBraywgU2V0e0ludH0oKSApKSAKCQkJCWlmIGxlbmd0aChraykgPT0gbGVuZ3RoKHZ2KQoJCQkJCSMgTGVzIGNoaWZmcmVzIGtrIHNvbnQgw6AgcmV0aXJlciBkZSB0b3V0ZSBsYSBjb2xvbm5lIHNhdWYgYXV4IGtrCgkJCQkJZm9yIGxpbXAgaW4gc2V0ZGlmZihzZXQxOSwgdnYpCgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsaiksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2pba2tdID0gdnYKCQkJZWxzZSAKCQkJCXJldHVybiB0cnVlCgkJCWVuZAoJCWVuZAkKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tMaSkgIyBkaWxpICMgUG91ciBsZXMgbGlnbmVzCgkJCWtrID0gdW5pb24oayxsaXN0ZXBvc3NpYmxlcykKCQkJaWYgbGVuZ3RoKGtrKSA+IGxlbmd0aCh2KQoJCQkJdnYgPSB1bmlvbih2LCBTZXQoaiksIGdldChkaWN0Q2hlY2tMaSwga2ssIFNldHtJbnR9KCkgKSApIAoJCQkJaWYgbGVuZ3RoKGtrKSA9PSBsZW5ndGgodnYpCgkJCQkJIyBMZXMgY2hpZmZyZXMga2sgc29udCDDoCByZXRpcmVyIGRlIHRvdXRlIGxhIGxpZ25lIHNhdWYgYXV4IGtrIAoJCQkJCWZvciBsaW1wIGluIHNldGRpZmYoc2V0MTksIHZ2KQoJCQkJCQl1bmlvbiEoZ2V0IShOaW1wLChpLGxpbXApLFNldHtJbnR9KCkgKSwga2spCgkJCQkJZW5kCgkJCQllbmQKCQkJCWRpY3RDaGVja0xpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDYXJyw6kpICMgZGljYSAjIFBvdXIgbGVzIGNhcnLDqXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChbKGksaildKSwgZ2V0KGRpY3RDaGVja0NhcnLDqSwga2ssIFNldHtUdXBsZXtJbnQsSW50fX0oKSApICkgCgkJCQlpZiBsZW5ndGgoa2spID09IGxlbmd0aCh2dikKCQkJCQlmb3IgKGxpbXAsbGptcCkgaW4gc2V0ZGlmZihTZXQodHVwbGVjYXJyw6koY2FycihpKSxjYXJyKGopKSksIHZ2KSAjc2V0Y2FyLHZ2CgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsbGptcCksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2FycsOpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQJCgkJZ2V0IShkaWN0Q2hlY2tMaSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBqICkgKQoJCWdldCEoZGljdENoZWNrQ2osbGlzdGVwb3NzaWJsZXMsIFNldCggaSApICkKCQlnZXQhKGRpY3RDaGVja0NhcnLDqSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBbKGksaildICkgKQoJCXJldHVybiBmYWxzZQoJZW5kCglmdW5jdGlvbiBwdWNlcyhsaXN0ZSwgdmFsZMOpZmF1dD1ub3RoaW5nIDsgaWRQdWNlcz0icCIqc3RyaW5nKHJhbmQoSW50KSksIGNsYXNzZT0iIikgIyBQZXJtZXQgZGUgZmFpcmUgZGVzIHB1Y2VzIGVuIEhUTUwgcG91ciBmYWlyZSB1biBjaG9peCB1bmlxdWUKCSMgU2kgIvCfpKvCoENhY2jDqWUiIGNvY2jDqWUsIGNlbGEgZmxvdXRlIGxlcyBwdWNlcyBkdSBkZXNzb3VzIChQb3NzaWJsZXNFdFNvbHV0aW9uKQoJCWTDqWJ1dCA9ICI8c3BhbiBpZD0nJGlkUHVjZXMnICIgKihjbGFzc2U9PSIiID8gIj4iIDogImNsYXNzPSckY2xhc3NlJz4iKQoJCWZpbiA9ICI8L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJyRpZFB1Y2VzJykKCWZvcm0ub25pbnB1dCA9IChlKSA9PiB7IGZvcm0udmFsdWUgPSBlLnRhcmdldC52YWx1ZTsgIiAqCgkJKGlkUHVjZXM9PSJDYWNoZXJSw6lzdWx0YXQiID8gcmF3ImlmIChlLnRhcmdldC52YWx1ZT09J/CfpKvCoENhY2jDqWUnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCX0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWU9PSdQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNhcm9saWduZScpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9OyIgOiAiIikgKgoJCShpZFB1Y2VzPT0iUG9zc2libGVzRXRTb2x1dGlvbiIgPyByYXciaWYgKGUudGFyZ2V0LnZhbHVlPT0n4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCX0gZWxzZSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ21haXN0ZXNvdScpOwoJCX07IiA6ICIiKSAqICJ9PC9zY3JpcHQ+IgoJCWlucHV0cyA9ICIiCgkJZm9yIGl0ZW0gaW4gbGlzdGUKCQkJaW5wdXRzICo9ICIiIjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9JyRpZFB1Y2VzJGl0ZW0nIG5hbWU9JyRpZFB1Y2VzJyB2YWx1ZT0nJGl0ZW0nIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9JyRpZFB1Y2VzJGl0ZW0nPiRpdGVtPC9sYWJlbD48L3NwYW4+IiIiCgkJZW5kCgkJIyBmb3IgKGl0ZW0sdmFsZXVyKSBpbiBsaXN0ZSAjIyMgc2kgbGlzdGU6OkFycmF5e1BhaXJ7U3RyaW5nLFN0cmluZ30sMX0KCQkjIAlpbnB1dHMgKj0gIiIiPGlucHV0IHR5cGU9InJhZGlvIiBpZD0iJGlkUHVjZXMkaXRlbSIgbmFtZT0iJGlkUHVjZXMiIHZhbHVlPSIkaXRlbSIgc3R5bGU9Im1hcmdpbjogMCA0cHggMCAyMHB4OyIgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIGZvcj0iJGlkUHVjZXMkaXRlbSI+JHZhbGV1cjwvbGFiZWw+IiIiCgkJIyBlbmQKCQlyZXR1cm4gRG9jcy5IVE1MKGTDqWJ1dCAqIGlucHV0cyAqIGZpbikKCWVuZAoJdmFldHZpZW50ID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PiB2YXIgdmllaWxsZWNvcGllID0gZmFsc2U7CgoJZnVuY3Rpb24gZMOpasOgdnUoKSB7IAoJCXZhciBww6hyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5wYXJlbnRFbGVtZW50OwoJCXZhciBmaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKTsKCQl2YXIgYW5jaWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlpZiAodmllaWxsZWNvcGllLmlzRXF1YWxOb2RlKGFuY2llbikpIHsKCQkJYW5jaWVuLmlubmVySFRNTCA9IGZpbHMuaW5uZXJIVE1MOwoJCQlhbmNpZW4ucmVtb3ZlQ2hpbGQoYW5jaWVuLnF1ZXJ5U2VsZWN0b3IoJ3Rmb290JykpOwoJCQltc2dhKGFuY2llbik7CgkJfQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5oaWRkZW4gPSBmYWxzZTsKCQlww6hyZS5yZW1vdmVDaGlsZChmaWxzKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU3Vkb2t1IGluaXRpYWzCoOKktCAobW9kaWZpYWJsZSkgZXQgc2Egc29sdXRpb27CoDogYAoJfTsKCglmdW5jdGlvbiBsw6BoYXV0KCkgeyAKCQl2YXIgcMOocmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykucGFyZW50RWxlbWVudDsKCQl2YXIgZmlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJyk7CgkJdmFyIGNvcGllID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlmaWxzID8gcMOocmUucmVtb3ZlQ2hpbGQoIGZpbHMgKSA6IHRydWU7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLmhpZGRlbiA9IHRydWU7CgkJdmFyIHRhYmwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpOwoJCXZpZWlsbGVjb3BpZSA9IChjb3BpZSA/IGNvcGllLmNsb25lTm9kZSh0cnVlKSA6IHRhYmwpOwoJCXRhYmwuaWQgPSAnY29waWVmaW5pZSc7CgkJdGFibC5jbGFzc0xpc3QuYWRkKCdzdWRva29vbCcpOwoJCXRhYmwuaW5uZXJIVE1MID0gKGNvcGllID8gY29waWUuaW5uZXJIVE1MIDogYDx0aGVhZCBpZD0ndGFpZGUnPjx0cj48dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt3aWR0aDogMzQwcHg7cGFkZGluZzogMjZweCAwO2JvcmRlcjogMDsnPlJpZW4gw6AgbW9udHJlciwgYydlc3QgY29jaMOpwqDCoDxjb2RlPvCfpKvCoENhY2jDqWU8L2NvZGU+PC90ZD48L3RyPjwvdGhlYWQ+YCkgKyBgPHRmb290IGlkPSd0ZXNmb290Jz48dHIgaWQ9J2xpZ25lbm9udmlzaWJsZSc+PHRoIGNvbHNwYW49JzknPuKGqiBDbGlxdWVyIGljaSBwb3VyIHJldmVuaXIgYXUgc3Vkb2t1IG1vZGlmaWFibGU8L3RoPjwvdHI+PC90Zm9vdD5gOwoJCXDDqHJlLmFwcGVuZENoaWxkKHRhYmwpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWlkZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGTDqWrDoHZ1KTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzZm9vdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZMOpasOgdnUpOwoJCWNvcGllID8gbXNnYShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29waWVmaW5pZScpKSA6IHRydWU7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuaW5uZXJIVE1MID0gYFNvbHV0aW9uwqDihpEgKGF1IGxpZXUgZHUgc3Vkb2t1IG1vZGlmaWFibGXCoGluaXRpYWwpYAoJfTsKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbMOgaGF1dCk7CgoJPC9zY3JpcHQ+PHNwYW4gaWQ9J3ZhX2V0X3ZpZW50Jz4iKSAjIFBvdXIgbGUgdGV4dGUgZW50cmUgbGVzIGRldXggc3Vkb2t1IChpbml0YXV4IGV0IHNvbHV0aW9uKS4gQ2VsYSBwZXJtZXQgZGUgcmVtb250ZXIgbGEgc29sdXRpb24gZW4gY2xpcXVhbnQgZGVzc3VzCglpbnRlcnZhbChtaW5pLG1heGksdmFsKSA9IERvY3MuSFRNTCgiPGlucHV0IHR5cGU9J3JhbmdlJyBtaW49JyQobWluaSknIG1heD0nJChtYXhpKScgdmFsdWU9JyQodmFsKScgb25pbnB1dD0ndGhpcy5uZXh0RWxlbWVudFNpYmxpbmcudmFsdWU9dGhpcy52YWx1ZSc+PG91dHB1dD7CoCQodmFsKTwvb3V0cHV0PiIpICMgc2xpZGVyCgkKCVN1ZGluaShtw6ltbywgY2hvaXgpID0gRG9jcy5IVE1MKCI8c2NyaXB0PiAvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgljb25zdCBwcmVtaWVyID0gSlNPTi5zdHJpbmdpZnkoICQobcOpbW9bMV0pICk7Cgljb25zdCBkZXV4acOobWUgPSBKU09OLnN0cmluZ2lmeSggJChtw6ltb1syXSkgKTsKCWNvbnN0IGRlZmF1bHRGaXhlZFZhbHVlcyA9ICQobcOpbW9bY2hvaXhdKSIgKiByYXciIiIKCQkJCQoJLy8gY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gW1swLDAsMCw3LDAsMCwwLDAsMF0sWzEsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsNCwzLDAsMiwwLDBdLFswLDAsMCwwLDAsMCwwLDAsNl0sWzAsMCwwLDUsMCw5LDAsMCwwXSxbMCwwLDAsMCwwLDAsNCwxLDhdLFswLDAsMCwwLDgsMSwwLDAsMF0sWzAsMCwyLDAsMCwwLDAsNSwwXSxbMCw0LDAsMCwwLDAsMywwLDBdXTsKCQkJCgl3aW5kb3cuY3JlYXRlU3Vkb2t1SHRtbCA9ICh2YWx1ZXMpID0+IHsKCSAgY29uc3QgZGF0YSA9IFtdOwoJICBjb25zdCBodG1sRGF0YSA9IFtdOwoJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkgICAgbGV0IGh0bWxSb3cgPSBbXTsKCSAgICBkYXRhLnB1c2goW10pOwoJICAgIGZvcihsZXQgaj0wOyBqPDk7aisrKXsKCSAgICAgIGNvbnN0IHZhbHVlc0xpbmUgPSB2YWx1ZXNbaV07CgkgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc0xpbmU/dmFsdWVzTGluZVtqXTowOwoJICAgICAgY29uc3QgaHRtbElucHV0ID0gaHRtbGA8aW5wdXQgdHlwZT0ndGV4dCcgCgkgICAgICAgIGRhdGEtcm93PScke2l9JwoJICAgICAgICBkYXRhLWNvbD0nJHtqfScKCSAgICAgICAgbWF4bGVuZ3RoPScxJyAKCSAgICAgICAgdmFsdWU9JyR7KHZhbHVlfHwnJyl9JwoJICAgICAgPmA7CgkJICBjb25zdCBpc01lZGl1bSA9IChqJTMgPT09IDApOwoJCSAgY29uc3QgYmxvY2sgPSBbTWF0aC5mbG9vcihpLzMpLCBNYXRoLmZsb29yKGovMyldOyAvLyBmb25kIGVuIGRhbWllcgoJCSAgY29uc3QgY2xhc3NvdXBhcyA9ICgoYmxvY2tbMF0rYmxvY2tbMV0pJTIgIT09IDApPyhpc01lZGl1bT8nY2xhc3M9ImRhbWllciB0cm9pc2QiJzonY2xhc3M9ImRhbWllciInKTooaXNNZWRpdW0/J2NsYXNzPSJ0cm9pc2QiJzonJyk7CgkgICAgICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkICR7Y2xhc3NvdXBhc30+JHtodG1sSW5wdXR9PC90ZD5gCgkgICAgICBkYXRhW2ldW2pdID0gdmFsdWV8fDA7CgkgICAgICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJICAgIH0KCQkKCSAgICBjb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwoJICAgIGh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOiIifT4ke2h0bWxSb3d9PC90cj5gKTsKCSAgfQoJICBjb25zdCBfc3Vkb2t1ID0gaHRtbGA8dGFibGUgaWQ9InN1ZG9raW5jaXBpdCIgc3VkYXRhPSR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9IGNsYXNzPSdzdWRva29vbCc+CgkgICAgICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJICAgIDwvdGFibGU+YCAgCgkgIHJldHVybiB7X3N1ZG9rdSxkYXRhfTsKCSAgLy8gLy8gcmV0dXJuIF9zdWRva3UgOwoJICAKCX0KCQoJd2luZG93LnN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlID0gKHtfc3Vkb2t1Omh0bWwsIGRhdGF9KSA9PiB7CgkgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSk9PnsKCSAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IAoJICAgIGh0bWwudmFsdWUgPSBkYXRhOwoJICAgIHJldHVybiBmYWxzZTsKCSAgfSk7IAoJICAKCSAgbGV0IGlucHV0cyA9IGh0bWwucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTsKCSAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gewoJCQoJCWNvbnN0IGRhbGlnbmUgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCWNvbnN0IGRhY29sID0gKGUpID0+IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsKCQljb25zdCBldHAyID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKCQljb25zdCBldHAzID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCgkJY29uc3QgbW92ZURvd24gPSAoZSkgPT4geyAKCQkJaWYgKGV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsgCgkJCWV0cDMoZSkuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7IAoJCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gCgkJfQoJCWNvbnN0IG1vdmVVcCA9IChlKSA9PiB7CgkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgeyAKCQkJZXRwMyhlKS5sYXN0Q2hpbGQuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IGVsc2UgeyAKCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZUxlZnQgPSAoZSkgPT4gewoJCQlpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJCWlmIChldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJCWV0cDMoZSkubGFzdENoaWxkLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCQl9IGVsc2UgewoJCQkJZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmxhc3RDaGlsZC5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gfSBlbHNlIHsKCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZVJpZ2h0ID0gKGUpID0+IHsgCgkJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQlpZiAoZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJCWV0cDMoZSkuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJCX0gZWxzZSB7CgkJCQlldHAyKGUpLm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSB9IGVsc2UgeyAKCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQkJCgkJaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsKGUpID0+IHsKCQkgIC8vIGUudGFyZ2V0LmZvY3VzKCk7CgkJICBlLnRhcmdldC5zZWxlY3QoKTsKCQkJCgkJICBzd2l0Y2ggKGUua2V5KSB7CgkJCWNhc2UgIkFycm93RG93biI6CgkJCQltb3ZlRG93bihlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd1VwIjoKCQkJCW1vdmVVcChlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd0xlZnQiOgoJCQkJbW92ZUxlZnQoZSk7IGJyZWFrOyAKCQkJY2FzZSAiQXJyb3dSaWdodCI6CgkJCQltb3ZlUmlnaHQoZSk7IGJyZWFrOyAKCQkJY2FzZSAiU2hpZnQiOgoJCQljYXNlICJDYXBzTG9jayI6CgkJCWNhc2UgIk51bUxvY2siOgoJCQkJYnJlYWs7IC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1rZXkvI2tleXMtbW9kaWZpZXIKCQkJY2FzZSAiQmFja3NwYWNlIjoKCQkJY2FzZSAiRGVsZXRlIjoKCQkJCWlmIChkYXRhW2RhbGlnbmUoZSldW2RhY29sKGUpXSAhPT0gMCkgewoJCQkJCWRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldID0gMDsKCQkJCQllLnRhcmdldC52YWx1ZSA9ICIiOwoJCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCQlmb3IodmFyIG5pPTA7bmk8ZWxlLmxlbmd0aDtuaSsrKQoJCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJCWlmIChqZGF0YSA9PSBwcmVtaWVyKSB7CgkJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7CgkJCQkJfQoJCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQkJaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkJCQl9CgkJCQkoZS5rZXk9PT0iRGVsZXRlIik/bW92ZVJpZ2h0KGUpOm1vdmVMZWZ0KGUpOwoJCQkJdmFyIGRhID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCQkJCShlLmtleT09PSJEZWxldGUiKT8oZGEuc2VsZWN0aW9uU3RhcnQgPSBkYS5zZWxlY3Rpb25FbmQgPSBkYS52YWx1ZS5sZW5ndGgpOihkYS5zZWxlY3Rpb25TdGFydCA9IGRhLnNlbGVjdGlvbkVuZCA9IDApOyAvL3NlbGVjdCBLTyA6KAoJCQkJYnJlYWs7CgkJCWRlZmF1bHQ6CgkJCQlyZXR1cm47CgkJCX0gfSkgCgkJCQoJICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywoZSkgPT4gewoJCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCQkgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlIC8vcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpOwoJCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCQoJCSAgY29uc3QgYmlkb3VpbGxpc3RlID0ge2E6MSx6OjIsZTozLHI6NCx0OjUseTo2LHU6NyxpOjgsbzo5LAoJCQlBOjEsWjoyLEU6MyxSOjQsVDo1LFk6NixVOjcsSTo4LE86OSwKCQkJJ1wmJzoxLMOpOjIsJ1wiJzozLCJcJyI6NCwnXCgnOjUsJ1wtJzo2LMOoOjcsXzo4LMOnOjksCgkJCSfCpyc6NiwnISc6OCwgICAgcToxLFE6MSwgdzoyLFc6Mn07CgkKCQkgIGNvbnN0IGFuZHJvaWRDaHJvbWVFc3RDaGlhbnQgPSB7J2InOm1vdmVEb3duLCdCJzptb3ZlRG93biwKCQkJJ2gnOm1vdmVVcCwnSCc6bW92ZVVwLCAgICAgICAgJ2onOm1vdmVSaWdodCwnSic6bW92ZVJpZ2h0LAoJCQknZyc6bW92ZUxlZnQsJ0cnOm1vdmVMZWZ0LCd2Jzptb3ZlTGVmdCwnVic6bW92ZUxlZnQsCgkJCSdkJzptb3ZlUmlnaHQsJ0QnOm1vdmVSaWdodCwnbic6bW92ZVJpZ2h0LCdOJzptb3ZlUmlnaHR9OwoJCgkJICBpZiAodmFsIGluIGJpZG91aWxsaXN0ZSkgewoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPSBiaWRvdWlsbGlzdGVbdmFsXTsKCQkgIH0gZWxzZSBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCQlkYXRhW2ldW2pdID0gcGFyc2VJbnQodmFsKTsKCQkgIH0gZWxzZSBpZiAoKHZhbCA9PSAwKXx8KHZhbCA9PSAnw6AnKXx8KHZhbCA9PSAncCcpfHwodmFsID09ICdQJykpIHsKCQkJZGF0YVtpXVtqXSA9IDA7CgkJCWUudGFyZ2V0LnZhbHVlID0gJyc7CgkJICB9IGVsc2UgeyAKCQkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJCSAgfQoJCgkJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkJCX0gZWxzZSB7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJCgkJCWlmICh2YWwgaW4gYW5kcm9pZENocm9tZUVzdENoaWFudCkgewoJCQkJYW5kcm9pZENocm9tZUVzdENoaWFudFt2YWxdKGUpOwoJCQl9IGVsc2UgewoJCQkJbW92ZVJpZ2h0KGUpOwoJCQl9CgkJCWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2VsZWN0KCk7CgkgICAgfSkKCQkJCgkgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY3RvcCcsKGUpID0+IHsgLy8gbWlzIMOgIGpvdXIgcGFyIGNoaWZmcmUgc8OpbGVjdGlvbm7DqQoJCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJCSAgY29uc3QgaiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgLy8gZGFjb2woZSkKCQkgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlIC8vcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpOwoJCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCQoJCSAgaWYgKHZhbCA8PSA5ICYmIHZhbCA+PTEpIHsKCQkJZGF0YVtpXVtqXSA9IHBhcnNlSW50KHZhbCk7CgkJICB9IGVsc2UgeyAKCQkJZS50YXJnZXQudmFsdWUgPSBkYXRhW2ldW2pdID09PSAwID8gJycgOiBkYXRhW2ldW2pdOwoJCSAgfQoJCgkJCWlmIChvbGRhdGEgPT09IGRhdGFbaV1bal0pIHsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkJCX0gZWxzZSB7CgkJCQkvLyBFZmZhY2UgbGVzIHB1Y2VzIGNhciBjZWxhIGEgw6l0w6kgdG91Y2jDqQoJCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgkJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0KCQkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJfQoJICAgIH0pCgkJCQoJICB9KSAKCSAgdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCSAgY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKCSAgaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQllbGVbMF0uY2hlY2tlZCA9IHRydWU7CgkgIH0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOyAvLyAuLi5dLmNsaWNrKCk7IC8vIMOpdGFpdCBLTy4uLgoJICB9CgkgIGh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkgIGh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJICByZXR1cm4gaHRtbDsKCQoJfTsKCQoJcmV0dXJuIHN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlKGNyZWF0ZVN1ZG9rdUh0bWwoZGVmYXVsdEZpeGVkVmFsdWVzKSk7Cgk8L3NjcmlwdD4iIiIpCglmdW5jdGlvbiBodG1sU3Vkb2t1KEpTdWRva3VGaW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKSxKU3Vkb2t1aW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKTsgdG91dFZvaXI6OkJvb2w9dHJ1ZSkKCSMgUG91ciBzb3J0aXIgZGUgbGEgbWF0cmljZSAoY29udmVyc2lvbiBlbiB0YWJsZWF1IGVuIEhUTUwpIGR1IHN1ZG9rdQoJIyBMZSBKU3Vkb2t1aW5pIHBlcm1ldCBkZSBtZXR0cmUgbGVzIGNoaWZmcmVzIGVuIGJsZXUgKHNhdm9pciBkJ2/DuSBsJ29uIHZpZW50KQoJIyBFbmZpbiwgb24gcGV1dCBjaG9pc2lyIGRlIHZvaXIgcGV0aXQgw6AgcGV0aXQgZW4gY2xpcXVhbnQgb3UgdG91dFZvaXIgZCd1biBjb3VwCgkjIyMgaWYgaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcpLi4uIGF2YWl0IHVuIGJ1ZyBkJ2FmZmljaGFnZSBwb3VyIGxlIHJlc3RlIGR1IGNvZGUuLi4KCQlpc2EoSlN1ZG9rdUZpbmksIFN0cmluZykgPyAocmV0dXJuIERvY3MuSFRNTCgiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7bWFyZ2luLWJvdHRvbTogNnB4O3VzZXItc2VsZWN0OiBub25lOycgb25jbGljaz0nJGZvb3RpeCc+IOKaoSBBdHRlbnRpb24sIHN1ZG9rdSBpbml0aWFsIMOgIHJldm9pciAhIDwvaDU+PHRhYmxlIGlkPSdzdWRva3VmaW5pJyBjbGFzcz0nc3Vkb2tvb2wnIHN0eWxlPSd1c2VyLXNlbGVjdDogbm9uZTsnIDx0Ym9keT48dHI+PHRkIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7d2lkdGg6IDM0MHB4Oycgb25jbGljaz0nJGZvb3RpeCc+JEpTdWRva3VGaW5pPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4iKSkgOiAocmV0dXJuIERvY3MuSFRNTChyYXciIiI8c2NyaXB0IGlkPSJzY3JpcHRmaW5pIj4KCQkvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgkJCQkKCQljb25zdCBjcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcywgdmFsdWVzX2luaSkgPT4gewkKCQkgIGNvbnN0IGRhdGEgPSBbXTsKCQkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkJCWxldCBodG1sUm93ID0gW107CgkJCWRhdGEucHVzaChbXSk7CgkJCWZvcihsZXQgaj0wOyBqPDk7aisrKXsKCQkJICBjb25zdCB2YWx1ZXNMaW5lID0gdmFsdWVzW2ldOwoJCQkgIGNvbnN0IHZhbHVlID0gdmFsdWVzTGluZT92YWx1ZXNMaW5lW2pdOjA7CgkJCSAgY29uc3QgaXNJbml0aWFsID0gdmFsdWVzX2luaVtpXVtqXT4wOwoJCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJCSAgY29uc3QgaHRtbENlbGwgPSBodG1sYDx0ZCBjbGFzcz0nIiIiKih0b3V0Vm9pciA/IHJhdyIiIiR7aXNJbml0aWFsPyJpbmkiOiJ2aWRlIn0iIiIgOiByYXciIiIke2lzSW5pdGlhbD8iaW5pIjoidmlkZSBjYWNow6llIn0iIiIpKnJhdyIiIiR7aXNNZWRpdW0/JyB0cm9pc2QnOicnfScgZGF0YS1yb3c9JyR7aX0nIGRhdGEtY29sPScke2p9Jz4keyh2YWx1ZXx8J8KgJyl9PC90ZD5gOwoJCQkgIGRhdGFbaV1bal0gPSB2YWx1ZXx8MDsKCQkJICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJCQl9CgkJCWNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CiAgICAJCWh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOiIifT4ke2h0bWxSb3d9PC90cj5gKTsKCQkgIH0KCQkgIGNvbnN0IF9zdWRva3UgPSBodG1sYDx0YWJsZSBpZD0ic3Vkb2t1ZmluaSIgIiIiKih0b3V0Vm9pciA/ICIiIDogcmF3IiIic3R5bGU9InVzZXItc2VsZWN0OiBub25lOyIgIiIiKSpyYXciIiIgY2xhc3M9J3N1ZG9rb29sJz4KCQkJICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJCQk8L3RhYmxlPmAgIAoJCSAgLy8gcmV0dXJuIHtfc3Vkb2t1LGRhdGF9OwoJCWNvbnN0IGpkYXRhaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzX2luaSk7CgkJY29uc3QgamRhdGFGaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFpbmknLCBqZGF0YWluaSk7CiAgCQlfc3Vkb2t1LnNldEF0dHJpYnV0ZSgnc3VkYXRhZmluaScsIGpkYXRhRmluaSk7CgkJdmFyIHN1ZG9rdWluacOgdsOpcmlmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJCWlmIChzdWRva3VpbmnDoHbDqXJpZiAmJiBzdWRva3VpbmnDoHbDqXJpZi5nZXRBdHRyaWJ1dGUoJ3N1ZGF0YScpICE9IGpkYXRhaW5pKSB7CgkJCXJldHVybiBodG1sYDxoNSBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3VzZXItc2VsZWN0OiBub25lOyc+8J+agCBSZWNhbGN1bCByYXBpZGXCoDspPC9oNT5gOwoJCX07IC8vIHYwLjE5IHNlbWJsZSBkZSBub3V2ZWF1IE9rIC0+IGh0dHBzOi8vbXliaW5kZXIub3JnL3YyL2doL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci92MC4xNC43P3VybHBhdGg9cGx1dG8KCQlyZXR1cm4gX3N1ZG9rdTsKCQkJCX07CgkJd2luZG93Lm1zZ2EgPSAoX3N1ZG9rdSkgPT4gewoJCQkJIiIiKih0b3V0Vm9pciA/IHJhdyIiIiAKCQlsZXQgdGRzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC52aWRlJyk7CiAgCQl0ZHMuZm9yRWFjaCh0ZCA9PiB7CgkJCQkKCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0IikpIHsKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKS5jaGVja2VkKSB7CgkJCQkJCWNvbnN0IGxpZ24gPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtcm93IikpICsgMTsKCQkJCQkJY29uc3QgY29sbyA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1jb2wiKSkgKyAxOwoJCQkJCQljb25zdCB2YWxlID0gZS50YXJnZXQuaW5uZXJIVE1MOwoJCQkJCQl2YXIgY2libGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3Vkb2tpbmNpcGl0ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoIisgbGlnbiArIikgPiB0ZDpudGgtY2hpbGQoIisgY29sbyArIikgPiBpbnB1dFt0eXBlPXRleHRdIik7CgkJCQkJCWlmICghKGlzTmFOKHZhbGUpKSkgewoJCQkJCQkJY2libGUudmFsdWUgPSB2YWxlOyAKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoInZpZGUiKTsKCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoImluaSIpOwoJCQkJCQkJLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc2Zvb3QiKT8uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImNsaWNrIikpOwoJCQkJCQkJY2libGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2N0b3AnKSk7IAoJCQkJCQl9OwoJCQkJfX07IAoJCQkJCgkJCX0pOwoJCX0pOyIiIiA6IHJhdyIiIgoJCWxldCB0ZGJsZXVzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5pbmknKTsKICAJCXRkYmxldXMuZm9yRWFjaCh0ZGJsZXUgPT4gewoJCQl0ZGJsZXUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJdmFyIGdyYW50YiA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKCQkJCWZvcihsZXQgZ3Jhbmk9MDsgZ3Jhbmk8OTtncmFuaSsrKXsgCgkJCQlmb3IobGV0IGdyYW5qPTA7IGdyYW5qPDk7Z3JhbmorKyl7IAoJCQkJIGlmICggIShncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2xhc3NMaXN0LmNvbnRhaW5zKCJpbmkiKSkgKSB7CgkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2xhc3NMaXN0LmFkZCgiY2FjaMOpZSIpOwoJCQkJCgkJCQl9IH19OwoJCQl9KTsKCQl9KTsKCQkKCQlsZXQgdGRzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5jYWNow6llJyk7CiAgCQl0ZHMuZm9yRWFjaCh0ZCA9PiB7CgkJCQkKCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKSkgewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewkKCQkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQkJY29uc3QgamNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJCWNvbnN0IG9yTmljYXIgPSAobGlnbiwgY29sbykgPT4gTWF0aC5mbG9vcihpbGlnLzMpPT1NYXRoLmZsb29yKGxpZ24vMykgJiYgTWF0aC5mbG9vcihqY29sLzMpPT1NYXRoLmZsb29yKGNvbG8vMykgOwoJCQkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJCQlmb3IobGV0IGdyYW5pPTA7IGdyYW5pPDk7Z3JhbmkrKyl7IAoJCQkJCQlmb3IobGV0IGdyYW5qPTA7IGdyYW5qPDk7Z3JhbmorKyl7IAoJCQkJCQkgdmFyIHRkZiA9IGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXTsKCQkJCQkJIGlmICh0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpID09IGlsaWcgfHwgdGRmLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSA9PSBqY29sIHx8IG9yTmljYXIodGRmLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSx0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpKSApIHsKCQkJCQkJICB0ZGYuY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQl9IH19OwoJCQkJCX0gZWxzZSB7CgkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJfX07CgkJCQkvLyBlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQkJCgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKSkgewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpLmNoZWNrZWQpIHsKCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1yb3ciKSkgKyAxOwoJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbCIpKSArIDE7CgkJCQkJCWNvbnN0IHZhbGUgPSBlLnRhcmdldC5pbm5lckhUTUw7CgkJCQkJCXZhciBjaWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdWRva2luY2lwaXQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgiKyBsaWduICsiKSA+IHRkOm50aC1jaGlsZCgiKyBjb2xvICsiKSA+IGlucHV0W3R5cGU9dGV4dF0iKTsKCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQljaWJsZS52YWx1ZSA9IHZhbGU7IAoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgidmlkZSIpOwoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiaW5pIik7CgkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQljaWJsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY3RvcCcpKTsgCgkJCQkJCX07CgkJCQl9fTsgCgkJCQkKCQkJfSk7CgkJfSk7CSIiIikqcmF3IiIiCgkJICByZXR1cm4gX3N1ZG9rdTsKCgkJfTsKCQkKCQkvLyBzaW5vbiA6IHJldHVybiBjcmVhdGVTdWRva3VIdG1sKC4uLikuX3N1ZG9rdTsKCQlyZXR1cm4gbXNnYShjcmVhdGVTdWRva3VIdG1sKCIiIiAqIiRKU3Vkb2t1RmluaSIqIiwgIioiJEpTdWRva3VpbmkiKiIiIikgKTsKCQk8L3NjcmlwdD4iIiIpCgkJKSMjIyBlbmQgIyMjIGlmIGlzYShKU3Vkb2t1RmluaSwgU3RyaW5nKS4uLiBzdWl0ZSBldCBmaW4gZHUgYnVnIGQnYWZmaWNoYWdlCgllbmQKCWh0bWxzID0gaHRtbFN1ZG9rdSAjIyBtaW5pIHZlcnNpb24gKG91IGFsaWFzIHBsdXMgY291cnQgc2kgYmVzb2luKQoJaHRtYXQgPSBodG1sU3Vkb2t1IOKImCBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbiAKCgljb25zdCBwdDEgPSAiwrciICMgIi4iICMjIENhcmFjdMOocmVzIGRlIHJlbXBsaXNzYWdlIHBvdXIgbWlldXggdm9pciBsZSBuYlByb3BhbAoJY29uc3QgcHQyID0gIuKXjCIgIyAi4peLIiAjICLil5giICMgIi0iICMgIjoiCgljb25zdCBwdDMgPSAi4pePIiAjICLilqAiICMgIuKWrCIgIyAi4oCUIiAjICLigZYiICMgIuKrtiIKCWZ1bmN0aW9uIGNoaWZmcmVQcm9wYWwobWF0OjpBcnJheXtJbnQsMn0sbGltcDo6U2V0e0ludH0saTo6SW50LGo6OkludCx2aWRlOjpCb29sKSAjIFJlbXBsaXQgdW5lIGNhc2UgYXZlYyB0b3VzIHNlcyBjaGlmZnJlcyBwb3NzaWJsZXMsIGVuIG1ldHRhbnQgbGUgMSBlbiBoYXV0IMOgIGdhdWNoZSBldCBsZSA5IGVuIGJhcyDDoCBkcm9pdGUgKGxlIDUgZXN0IGRvbmMgYXUgY2VudHJlKS4gUydpbCBuJ3kgYSBhdWN1bmUgcG9zc2liaWxpdMOpLCBvbiByZW1wbGl0IHRvdXQgYXZlYyBkZXMgY2FyYWN0w6hyZXMgYml6YXJyZXMg4oC9CgkjIFBvdXIgbWlzZSBlbiBmb3JtZSBlbiBIVE1MIG1hdDMgOiAzeDMgKHVuZSBtYXRyaWNlIGRlIDMgbGlnbmVzIGV0IDMgY29sb25uZXMpCgkJY3AgPSBjaGlmZnJlUG9zc2libGUobWF0LGksaixsaW1wKQoJCWlmIGlzZW1wdHkoY3ApCgkJCXJldHVybiBbWyLil5wiLCLigL0iLCLil50iXSxbIsKhIiwiLyIsIiEiXSxbIuKXnyIsIl8iLCLil54iXV0KCQkJIyByZXR1cm4gW1si4qivIiwi4qivIiwi4qivIl0sWyLiqK8iLCLiqK8iLCLiqK8iXSxbIuKoryIsIuKoryIsIuKoryJdXQoJCWVuZAoJCSMgbGNwID0gbGVuZ3RoKGNwKQoJCSMgdmkgPSAodmlkZSA/ICLCoCIgOiAobGNwPDQgPyBwdDEgOiAobGNwPDcgPyBwdDIgOiBwdDMpKSkKCQl2aSA9ICh2aWRlID8gIsKgIiA6ICLCtyIpICMi4pemIikgIyAi4qivIikgIyBwdDEpICMjIHJldG91ciDDoCBwdDEgXl4KCQlyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhyZXNoYXBlKFsoKHggaW4gY3ApID8gc3RyaW5nKHgpIDogdmkpIGZvciB4IGluIDE6OV0sICgzLDMpKSwzKQoJZW5kCglmdW5jdGlvbiBuYlByb3BhbChtYXQ6OkFycmF5e0ludCwyfSxsaW1wOjpTZXR7SW50fSxpOjpJbnQsajo6SW50KSAjIEFzc2V6IHByb2NoZSBkZSBjaGlmZnJlUHJvcGFsIGNpLWRlc3N1cywgbWFpcyBuZSBtb250cmUgcGFzIGxlcyBjaGlmZnJlcyBwb3NzaWJsZXMuIENlbGEgbW9udHJlIGxlIG5vbWJyZXMgZGUgY2hpZmZyZXMgcG9zc2libGVzLCBlbiByZW1wbGlzc2FudCBwZXRpdCDDoCBwZXRpdCBhdmVjIHB0MSDDoCBwdDMgc3VpdmFudC4KCSMgUG91ciBtaXNlIGVuIGZvcm1lIGVuIEhUTUwgbWF0MyA6IDN4MwoJCWxjcCA9IGxlbmd0aChjaGlmZnJlUG9zc2libGUobWF0LGksaixsaW1wKSkKCQlpZiBsY3AgPT0gMAoJCQlyZXR1cm4gW1si4oaYIiwi4oaTIiwi4oaZIl0sWyLihpIiLCIwIiwi4oaQIl0sWyLihpciLCLihpEiLCLihpYiXV0sIDAKCQllbHNlCgkJCXJldHVybiBtYXRyaWNlw6BsaXN0ZUpTKHJlc2hhcGUoWyh4ID09IGxjcCA/IHN0cmluZyh4KSA6ICh4PGxjcCA/IChsY3A8NCA/IHB0MSA6IChsY3A8NyA/IHB0MiA6IHB0MykpIDogIsKgIikpIGZvciB4IGluIDE6OV0sICgzLDMpKSwzKSwgbGNwCgkJZW5kCgllbmQKCWZ1bmN0aW9uIGh0bWxTdWRva3VQcm9wYWwoSlN1ZG9rdWluaTo6VW5pb257U3RyaW5nLCBWZWN0b3J7VmVjdG9ye0ludH19fT1qc3ZkKCksSlN1ZG9rdUZpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpIDsgdG91dFZvaXI6OkJvb2w9dHJ1ZSwgcGFyQ2FzZTo6Qm9vbD10cnVlLCBzb21tZTo6Qm9vbD10cnVlKQoJIyBBc3NleiBwcm9jaGUgZGUgaHRtbFN1ZG9rdSwgbWFpcyBuJ2EgcGFzIGJlc29pbiBkJ2F2b2lyIHVuIHN1ZG9rdSByw6lzb2x1IGVuIGVudHLDqWUuIEVuIGVmZmV0LCBpbCBuZSBtb250cmUgcXVlIGxlcyBjaGlmZnJlcyAob3UgbGV1ciBub21icmUgPSBzb21tZSkgcG9zc2libGVzIHBvdXIgbGUgbW9tZW50LgoJIyBJbCB5IGEgcGx1c2lldXJzIGNhcyA6IChjZWxhIGVzdCBwZXV0w6p0cmUgw6AgY2hhbmdlcikKCQkjIHRvdXRWb2lyIG91IG5vbiA6IGTDqWNvdXZyZSB0b3VzIGxlcyBjZWxsdWxlcyBzaSB0b3V0Vm9pciAoc2lub24gw6AgY2xpcXVlcikKCQkjIHBhckNhc2UgOiBkw6ljb3V2cmUgdW5lIGNlbGxlIGNlbGx1bGUgKHNpbm9uIHBsdXNpZXVycykKCQkjIHNvbW1lIDogdm9pciBqdXN0ZSBsZSBub21icmUgZGUgcG9zc2liaWxpdMOpLCBzaW5vbiwgdm9pciBsZXMgcG9zc2liaWxpdMOpcwoJCW1TOjpBcnJheXtJbnQsMn0gPSBsaXN0ZUpTw6BtYXRyaWNlKEpTdWRva3VpbmkpCgkJIyBtSW1wID0gWyBTZXR7SW50fSgpIGZvciBfID0gMTo5LCBfID0gMTo5IF0KCQltSW1wID0gRGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19KCkKCQl3aGlsZSB0cnVlCgkJCW5Bd2FrID0gZGVlcGNvcHkobUltcCkKCQkJdsOpcmlmbGlnbmUgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY29sID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNhcnLDqSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e1R1cGxle0ludCxJbnR9fSB9KCkgZm9yIF8gPSAxOjkgXQoJCQlkaWxsbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNjbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWNrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWtrbyA9IERpY3R7SW50LCBEaWN0e0ludCxJbnR9fSgpIAoJCQlkaWxjbyA9IERpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSgpCgkJCWRpY2xvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGlrY28gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWRpa2xvID0gRGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0oKQoJCQlmdXNpYmxlc2xpZyA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NvbCA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmdXNpYmxlc2NhciA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5CgkJCQlpZiBtU1tpLGpdID09IDAKCQkJCQlnZXQhKG1JbXAsKGksaiksU2V0e0ludH0oKSApCgkJCQkJbGNwID0gY2hpZmZyZVBvc3NpYmxlKG1TLGksaixtSW1wW2ksal0pCgkJCQkJayA9IGtlbGNhcnLDqShpLGopCgkJCQkJaWkgPSBjYXJyKGkpCgkJCQkJamogPSBjYXJyKGopCgkJCQkJc2FjIShqLGksayxpaSxqaixsY3AsZnVzaWJsZXNjb2wsZGljY28sZGljbG8sZGlja28pCgkJCQkJc2FjIShpLGosayxpaSxqaixsY3AsZnVzaWJsZXNsaWcsZGlsbG8sZGlsY28sZGlsa28pCgkJCQkJc2FrIShpLGosayxpaSxqaixsY3AsZnVzaWJsZXNjYXIsZGlrbG8sZGlrY28sZGlra28pCgkJCQkJaWYgbGVuZ3RoKGxjcCkgPT0gMQoJCQkJCQlmb3IgaWlpIGluIDE6OSAjIC4uLm9uIHJldGlyZSBzdXIgbGEgbGlnbmUgZXQgbGEgY29sb25uZQoJCQkJCQkJZ2V0IShtSW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJCQlnZXQhKG1JbXAsKGlpaSxqKSxTZXR7SW50fSgpICkKCQkJCQkJCWlpaSAhPSBqICYmIHVuaW9uIShtSW1wW2ksaWlpXSxsY3ApCgkJCQkJCQlpaWkgIT0gaSAmJiB1bmlvbiEobUltcFtpaWksal0sbGNwKQoJCQkJCQllbmQKCQkJCQkJIyBmb3IgamogaW4gY2FycihqKSwgaWkgaW4gY2FycihpKSAjIC4uLmV0IHN1ciBsZSBjYXJyw6kKCQkJCQkJZm9yIGpqaiBpbiBqaiwgaWlpIGluIGlpICMgLi4uZXQgc3VyIGxlIGNhcnLDqQoJCQkJCQkJIyBqaiAhPSBqICYmIGlpICE9IGkgJiYgdW5pb24hKG1JbXBbaWksampdLFNldChsY3ApKQoJCQkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgdW5pb24hKGdldCEobUltcCwoaWlpLGpqaiksU2V0e0ludH0oKSApLGxjcCkKCQkJCQkJZW5kCgkJCQkJZWxzZSBwYXNBc3NlekRlUHJvcGFsIShpLCBqLCBsY3AsIHbDqXJpZmxpZ25lW2ldLCB2w6lyaWZjb2xbal0sIHbDqXJpZmNhcnLDqVtrXSwgbUltcCApIAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQlMVW5pY2xrIShkaWNsbyxkaWNjbyxkaWNrbyxkaWxsbyxkaWxjbyxkaWxrbyxkaWtsbyxkaWtjbyxkaWtrbyxtSW1wKQoJCQlpZiBtSW1wID09IG5Bd2FrCgkJCQlicmVhawoJCQllbmQKCQllbmQKCQlpZiBzb21tZQkKCQkJbW5Qcm9wYWwgPSBmaWxsKGZpbGwoIGZpbGwoIjAiLDMpLDMpICwgKDksOSkgKQoJCQltaW5lID0gMTAKCQkJZ3Jpc2VtaW5lID0gVHVwbGV7SW50LEludH1bXQoJCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5CgkJCQlpZiBtU1tpLGpdID09IDAKCQkJCW1uUHJvcGFsW2ksal0sIGxjcCA9IG5iUHJvcGFsKG1TLCBtSW1wW2ksal0sIGksIGopCgkJCQkJaWYgbGNwIDwgbWluZQoJCQkJCQltaW5lID0gbGNwCgkJCQkJCWdyaXNlbWluZSA9IFsoaSxqKV0KCQkJCQllbHNlaWYgbGNwID09IG1pbmUKCQkJCQkJcHVzaCEoZ3Jpc2VtaW5lLCAoaSxqKSkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQkJcGFyQ2FzZSA9IHRvdXRWb2lyICMgYmlkb3VpbGxlIMOgIGNoYW5nZXIgPwoJCQl0b3V0Vm9pciA9IHRydWUKCQkJaWYgMCA8IG1pbmUgPCA5CgkJCQlmb3IgKGksaikgaW4gZ3Jpc2VtaW5lCgkJCQkJbW5Qcm9wYWxbaSxqXVszXVszXSA9ICLinJQiCgkJCQllbmQKCQkJZW5kCgkJCUpQcm9wYWwgPSBtYXRyaWNlw6BsaXN0ZUpTKG1uUHJvcGFsKQoJCWVsc2UKCQkJbVByb3BhbCA9IGZpbGwoZmlsbCggZmlsbCgiMCIsMyksMykgLCAoOSw5KSApCgkJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkKCQkJCWlmIG1TW2ksal0gPT0gMAoJCQkJCW1Qcm9wYWxbaSxqXSA9IGNoaWZmcmVQcm9wYWwobVMsIG1JbXBbaSxqXSwgaSwgaiwgcGFyQ2FzZSkKCQkJCWVuZAoJCQllbmQKCQkJSlByb3BhbCA9IG1hdHJpY2XDoGxpc3RlSlMobVByb3BhbCkKCQllbmQKCQkJCgkJcmV0dXJuIERvY3MuSFRNTChyYXciIiI8c2NyaXB0IGlkPSJzY3JpcHRmaW5pIj4KCQkvLyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhCgkJCgkJLy8gY29uc3Qga2VsY2FySlMgPSAobGlnLCBjb2wpID0+IFtNYXRoLmZsb29yKGxpZy8zKSwgTWF0aC5mbG9vcihjb2wvMyldOwoJCWNvbnN0IE1NY2FyID0gKGxpZywgY29sLCBsaWduLCBjb2xvKSA9PiBNYXRoLmZsb29yKGxpZy8zKT09TWF0aC5mbG9vcihsaWduLzMpICYmIE1hdGguZmxvb3IoY29sLzMpPT1NYXRoLmZsb29yKGNvbG8vMykgOwoJCQoJCWNvbnN0IGNyZWF0ZVN1ZG9rdUh0bWwgPSAobXZhbHVlcywgdmFsdWVzX2luaSkgPT4gewkKCQkgIGNvbnN0IGRhdGEgPSBbXTsKCQkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkJICBmb3IobGV0IGk9MDsgaTw5O2krKyl7CgkJCWxldCBodG1sUm93ID0gW107CgkJCWRhdGEucHVzaChbXSk7CgkJCWZvcihsZXQgaj0wOyBqPDk7aisrKXsKCQkJCQoJCQkgIAljb25zdCBodG1sTWluaURhdGEgPSBbXTsKCQkJCWNvbnN0IGlzSW5pdGlhbCA9IHZhbHVlc19pbmlbaV1bal0+MDsKCQkJCXZhciBtaW5pX3N1ZG9rdSA9IHZhbHVlc19pbmlbaV1bal07CgkJCQlpZiAoIShpc0luaXRpYWwpKSB7CgkJCQkgIGZvcihsZXQgcGw9MDsgcGw8MztwbCsrKXsKCQkJCQlsZXQgaHRtbE1pbmlSb3cgPSBbXTsKCQkJCQlmb3IobGV0IHBqPTA7IHBqPDM7cGorKyl7CgkJCQkJY29uc3QgbWluaVZhbHVlID0gbXZhbHVlc1tpXVtqXVtwbF1bcGpdOwoJCQkJCWNvbnN0IGh0bWxNaW5pQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSJtaW5pIiIiKih0b3V0Vm9pciAmJiBwYXJDYXNlID8gIlwiIiA6IHJhdyIiIiR7aXNJbml0aWFsPycgcHJvcCc6JyB2aWRlIGNhY2jDqWUnfSIgIiIiKSpyYXciIiIgZGF0YS1yb3c9IiR7cGx9IiBkYXRhLWNvbD0iJHtwan0iPiR7KG1pbmlWYWx1ZXx8J8KgJyl9PC90ZD5gOyAKCQkJCQlodG1sTWluaVJvdy5wdXNoKGh0bWxNaW5pQ2VsbCk7CgkJCQkJfQoJCQkJCWh0bWxNaW5pRGF0YS5wdXNoKGh0bWxgPHRyIHN0eWxlPSJib3JkZXItc3R5bGU6IG5vbmUgIWltcG9ydGFudDsiPiR7aHRtbE1pbmlSb3d9PC90cj5gKTsKCQkJCSAgfQoJCQkJdmFyIG1pbmlfc3Vkb2t1ID0gaHRtbGA8dGFibGUgY2xhc3M9InN1ZG9rb29sbWluaSIgc3R5bGU9InVzZXItc2VsZWN0OiBub25lOyI+CgkJCSAgPHRib2R5PiR7aHRtbE1pbmlEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YAoJCQkJfQoJCQkgIGNvbnN0IHZhbHVlZSA9IG1pbmlfc3Vkb2t1OwoJCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJCSAgY29uc3QgaHRtbENlbGwgPSBodG1sYDx0ZCBjbGFzcz0iJHtpc0luaXRpYWw/J2luaSc6J3Byb3BzJ30gJHtpc01lZGl1bT8nIHRyb2lzZCc6Jyd9IiBkYXRhLXJvdz0iJHtpfSIgZGF0YS1jb2w9IiR7an0iPiR7KHZhbHVlZXx8J8KgJyl9PC90ZD5gOwoJCQkgIGRhdGFbaV1bal0gPSB2YWx1ZWV8fDA7CgkJCSAgaHRtbFJvdy5wdXNoKGh0bWxDZWxsKTsKCQkJfQoJCQljb25zdCBpc01lZGl1bUJpcyA9IChpJTMgPT09IDApOwogICAgCQlodG1sRGF0YS5wdXNoKGh0bWxgPHRyICR7aXNNZWRpdW1CaXM/J2NsYXNzPSJ0cm9pc3IiJzonJ30+JHtodG1sUm93fTwvdHI+YCk7CgkJICB9CgkJICBjb25zdCBfc3Vkb2t1ID0gaHRtbGAiIiIgKiAoaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcpID8gIjxoNSBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3VzZXItc2VsZWN0OiBub25lOycgb25jbGljaz0nJGZvb3RpeCc+IOKaoSBBdHRlbnRpb24sIHN1ZG9rdSBpbml0aWFsIMOgIHJldm9pciAhIDwvaDU+IiA6ICIiKSAqIHJhdyIiIjx0YWJsZSBpZD0ic3Vkb2t1ZmluaSIgY2xhc3M9InN1ZG9rb29sIiBzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7Ij4KCQkJICA8dGJvZHk+JHtodG1sRGF0YX08L3Rib2R5PgoJCQk8L3RhYmxlPmAgIAoJCQkKCQljb25zdCBqZGF0YWluaSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlc19pbmkpOwoJCWNvbnN0IGpkYXRhRmluaSA9IEpTT04uc3RyaW5naWZ5KG12YWx1ZXMpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWluaScsIGpkYXRhaW5pKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFmaW5pJywgamRhdGFGaW5pKTsKCQl2YXIgc3Vkb2t1aW5pw6B2w6lyaWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vkb2tpbmNpcGl0Iik7CgkJaWYgKHN1ZG9rdWluacOgdsOpcmlmICYmIHN1ZG9rdWluacOgdsOpcmlmLmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgIT0gamRhdGFpbmkpIHsKCQkJcmV0dXJuIGh0bWxgPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5qAIFJlY2FsY3VsIHJhcGlkZcKgOyk8L2g1PmA7CgkJfTsgLy8gZW50cmUgUGx1dG8gPnYwLjE0LjcgZXQgMC4xOSBjZi4gcGx1cyBoYXV0CgkJcmV0dXJuIF9zdWRva3U7CgkJCX07CgkJCXdpbmRvdy5tc2dhID0gKF9zdWRva3UpID0+IHsKCQkJCWNvbnN0IGp1c3RlcmVtb250ZSA9ICh0ZG1pbmkpID0+IHsgLy8gMyBldCAyKzMKCQkJCSIiIiooc29tbWUgPyByYXciIiA6IHJhdyIiIgoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJCgkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpKSB7CgkJCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKS5jaGVja2VkKSB7CgkJCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpKSArIDE7IC8vIDMgZXQgMiszCgkJCQkJCQkJY29uc3QgY29sbyA9IHBhcnNlSW50KGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpKSArIDE7CgkJCQkJCQkJY29uc3QgdmFsZSA9IGUudGFyZ2V0LmlubmVySFRNTDsgLy8gcGFzIHV0aWxlIGRhbnMgY2UgY2FzICEKCQkJCQkJCQl2YXIgY2libGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3Vkb2tpbmNpcGl0ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoIisgbGlnbiArIikgPiB0ZDpudGgtY2hpbGQoIisgY29sbyArIikgPiBpbnB1dFt0eXBlPXRleHRdIik7CgkJCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQkJCWNpYmxlLnZhbHVlID0gdmFsZTsgCgkJCQkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImluaSIpOwoJCQkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQkJCWNpYmxlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjdG9wJykpOyAKCQkJCQkJCQl9OwoJCQkJCQl9fTsJCgkJCQkJCQoJCQkJfSl9KTsgIiIiKSpyYXciIiJ9OwoKCQkJCWNvbnN0IGNhcm9saWduID0gKGUpID0+IHsgLy8gMyBldCAxLi4uIMOgIGxhIGJhc2UKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IGdyYW5saWcgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBncmFuY29sID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAoJCQkJCWNvbnN0IG9yTmljYXIgPSAodGxpZyx0Y29sKSA9PiBNTWNhcihncmFubGlnLGdyYW5jb2wsdGxpZyx0Y29sKTsKCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJCQkJCQl0ci5jaGlsZE5vZGVzLmZvckVhY2godGRkID0+IHsKCgkJCQkJCQlpZiAoKHRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpICYmICh0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpID09IGdyYW5saWcgfHwgdGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSA9PSBncmFuY29sIHx8IG9yTmljYXIodGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSx0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpKSApKXsKCQkJCQkJCQkvL3RkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1tpbGlnXS5jaGlsZE5vZGVzW2pjb2xdLmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsKCQkJCQkJCQl0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbaWxpZ10uY2hpbGROb2Rlc1tqY29sXS5jbGFzc0xpc3QucmVtb3ZlKCJjYWNow6llIik7CgkJCQkJCQkJfSB9KTsKCQkJCQl9KTsKCQkJCX07IAoKCQkJCWNvbnN0IGNhc2VjYXJvbGlnbiA9IChlKSA9PiB7IC8vIDIgZXQgMiBib251cwoJCQkJCWNvbnN0IGlsaWcgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgamNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3QgZ3JhbmxpZyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGdyYW5jb2wgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3Qgb3JOaWNhciA9ICh0bGlnLHRjb2wpID0+IE1NY2FyKGdyYW5saWcsZ3JhbmNvbCx0bGlnLHRjb2wpOwoJCQkJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCh0ciA9PiB7CgkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoKCQkJCQkJCWlmICgodGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgJiYgKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gZ3JhbmxpZyB8fCB0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGdyYW5jb2wgfHwgb3JOaWNhcih0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkpewoJCQkJCQkJCXRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlcy5mb3JFYWNoKGxpZ25lID0+IHsKCQkJCQkJCQkJbGlnbmUuY2hpbGROb2Rlcy5mb3JFYWNoKGNvbG9uID0+IHsKCQkJCQkJCQkJY29sb24uY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQkJCSAgfSk7CgkJCQkJCQkJfSk7IAoJCQkJCQkJfSB9KTsKCQkJCQl9KTsKCQkJCX07IAoJCQkJCgkJCQljb25zdCB0b3VzbGVzw6lnYWxpdCA9IChlKSA9PiB7CgkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAJCgkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKHRyID0+IHsKCQkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoJCQkJCQkJCWlmICh0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdIT1udWxsKXsKCQkJCQkJCQkJdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2lsaWddLmNoaWxkTm9kZXNbamNvbF0uY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJCQkJfX0pOwoJCQkJCX0pOwkJCgkJCQl9OwoKCQkJCWNvbnN0IGp1c3RldW5lY2FzZSA9ICh0ZG1pbmkpID0+IHsgLy8gMiBldCAyCgkJCQlqdXN0ZXJlbW9udGUodGRtaW5pKTsKCQkJCXRkbWluaS5mb3JFYWNoKHRkID0+IHsKCQkJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CQkKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpKSB7CgkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewkKCQkJCQkJCWNhc2VjYXJvbGlnbihlKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChsaWduZSA9PiB7CgkJCQkJCSAgbGlnbmUuY2hpbGROb2Rlcy5mb3JFYWNoKGNvbG9uID0+IHsKCQkJCQkJCWNvbG9uLmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCQkJICB9KTsKCQkJCQkJfSk7IAoJCQkJCX19IH0pOwkKCQkJCX0pIH07CgkJCQkKCQkJCWNvbnN0IHRvdXNsZXPDqWdhbGl0aW9zID0gKHRkbWluaSkgPT4geyAvLyAyIGV0IDEKCQkJCWp1c3RlcmVtb250ZSh0ZG1pbmkpOwoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJIiIiKihzb21tZSA/IHJhdyIiImlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikpIHsKCQkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewkKCQkJCQkJCQljYXJvbGlnbihlKTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJdG91c2xlc8OpZ2FsaXQoZSkgfX07CgkJCQkJCSIiIiA6IHJhdyIiInRvdXNsZXPDqWdhbGl0KGUpOyAiIiIpKnJhdyIiIgoJCQkJfSl9KSB9OwoJCQkJCgkJCQljb25zdCBjYXJvbGlnbmlvcyA9ICh0ZG1pbmkpID0+IHsgLy8gMyBldCAxCgkJCQlqdXN0ZXJlbW9udGUodGRtaW5pKTsKCQkJCXRkbWluaS5mb3JFYWNoKHRkID0+IHsKCQkJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKSkgewoJCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpLmNoZWNrZWQpIHsKCQkJCQkJCWNhcm9saWduKGUpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIil9fTsKCQkJCX0pIH0pIH07IAoJCQkJCgkJCQljb25zdCB0b3V0ZWZmYWNlciA9ICh0ZGJsZXVzKSA9PiB7CgkJCQkJdGRibGV1cy5mb3JFYWNoKHRkYmxldSA9PiB7CgkJCQkJCXRkYmxldS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJCQkJZm9yKGxldCBncmFuaT0wOyBncmFuaTw5O2dyYW5pKyspeyAKCQkJCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkJCQkgaWYgKGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpIHsKCQkJCQkJCWZvcihsZXQgbWluaWk9MDsgbWluaWk8MzttaW5paSsrKXsgCgkJCQkJCQlmb3IobGV0IG1pbmlqPTA7IG1pbmlqPDM7bWluaWorKyl7IAoJCQkJCQkJZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW21pbmlpXS5jaGlsZE5vZGVzW21pbmlqXS5jbGFzc0xpc3QuYWRkKCJjYWNow6llIik7CgkJCQkJCQkKCQkJCQkJCX19IH0gfX07CgkJCQkJCX0pOwoJCQkJCX0pOyB9OwoJCQkJCgkJCQkKCQlsZXQgdGRtaW5pID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5taW5pJyk7IAoJCS8vIC9wYXJDYXNlID0gdG91dFZvaXIgIyBiaWRvdWlsbGUgw6AgY2hhbmdlciA/IC90b3V0Vm9pciA9IHRydWUgLy8vIHBsdXMgaGF1dAogIAkJIiIiKih0b3V0Vm9pciAmJiBwYXJDYXNlID8gcmF3IiIianVzdGVyZW1vbnRlKHRkbWluaSk7LyogMyBldCAyKzMgKi8KCQkJIiIiIDogcmF3IiIiIGxldCB0ZGJsZXVzID0gX3N1ZG9rdS5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5pbmknKTsgdG91dGVmZmFjZXIodGRibGV1cyk7IAoJCQkJCSIiIioocGFyQ2FzZSA/IHJhdyIiImp1c3RldW5lY2FzZSh0ZG1pbmkpOyAvKiAyIGV0IDIgKi8gCgkJCQkJCQkiIiIgOiAodG91dFZvaXIgPyByYXciIiJ0b3VzbGVzw6lnYWxpdGlvcyh0ZG1pbmkpOyAvKiAzIGV0IDEgKyAyIGV0IDMgKi8gIiIiIDogcmF3IiIiY2Fyb2xpZ25pb3ModGRtaW5pKTsgLyogMiBldCAxICovICIiIikpKSogcmF3IiIiCgkJICByZXR1cm4gX3N1ZG9rdTsKCQl9OwoJCS8vIHNpbm9uIDogcmV0dXJuIGNyZWF0ZVN1ZG9rdUh0bWwoLi4uKS5fc3Vkb2t1OwoJCXJldHVybiBtc2dhKGNyZWF0ZVN1ZG9rdUh0bWwoIiIiICoiJEpQcm9wYWwiKiIsICIqIiRKU3Vkb2t1aW5pIioiIiIpKTsKCQk8L3NjcmlwdD4iIiIpCgllbmQKCWh0bWxzcCA9IGh0bWxTdWRva3VQcm9wYWwgIyMgbWluaSB2ZXJzaW9uCglodG1hdHAgPSBodG1sU3Vkb2t1UHJvcGFsIOKImCBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbiAKCQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgRm9uY3Rpb24gcHJpY2lwYWxlIHF1aSByw6lzb3V0IG4naW1wb3J0ZSBxdWVsIHN1ZG9rdSAobcOqbWUgZmF1eCkgIyMjIyMjIyMjIyMjIyMjIyMjIwojIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjCiAgZnVuY3Rpb24gcsOpc291dFN1ZG9rdU1heChtUzo6QXJyYXl7SW50LDJ9LCBsZXNaw6lyb3M6OlNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19LCBkaWNvcsOpemxpZzo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjb2w6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y2FyOjpEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0gOyB0b3Vyczo6SW50ID0gODEpIAoJbmJUb3Vyc1RvdGFsID0gdG91cnMgIyBsZSBub21icmUgcXVpIGNlIHByb2dyYW1tZSBhIHLDqWVsbGVtZW50IGZhaXQgcGFyIGVzc2FpCgkjIGxlc1rDqXJvcyA9IFNldCh2WsOpcm9zKSAjIyBhdmFudCBTZXQoc2h1ZmZsZSEodlrDqXJvcykpICMgU2V0IHVuZSBib25uZSBeXgoJbGlzdGVkZWNob2l4ID0gVHVwbGV7SW50LEludCxJbnQsSW50LFNldHtJbnR9fVtdCglsaXN0ZWRhbmNpZW5uZU1hdCA9IEFycmF5e0ludCwyfVtdCglsaXN0ZWRlc1rDqXJvcyA9IFNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19W10KCWxlWsOpcm/DoFN1cHByID0gKDAsMCwwLDA6MCwwOjApICMgVHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19CgluYkNob2l4ZmFpdCA9IDAKCW1pbkNob2l4ZGVzWsOpcm9zID0gMTAKCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlID0gKDAsMCwwLDAsU2V0e0ludH0oKSkgCglsaXN0ZWRhbmNpZW5JbXAgPSBEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX1bXSAjIHNpIGRpY09rIAoJbGlzdGVkaWNvcsOpemxpZyA9IERpY3R7SW50LCBTZXR7SW50fX1bXQoJbGlzdGVkaWNvcsOpemNvbCA9IERpY3R7SW50LCBTZXR7SW50fX1bXQoJbGlzdGVkaWNvcsOpemNhciA9IERpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fVtdIAoJbUltcCA9IERpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSgpCgnDp2FOYXZhbmNlUGFzID0gdHJ1ZSAjIFBlcm1ldCBkZSB2b2lyIHNpIHJpZW4gbmUgc2UgcmVtcGxpdCBlbiB1biB0b3VyCglsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19KCkKCXdoaWxlICFpc2VtcHR5KGxlc1rDqXJvcykgIyAmJiBuYlRvdXJzVG90YWwgPCBuYlRvdXJzTWF4CgkJaWYgIWFsbGVyQXVDaG9peFN1aXZhbnQKCQkJbmJUb3Vyc1RvdGFsICs9IDEKCQkJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyByZXNldCDDoCBjaGFxdWUgdG91cgoJCQltaW5DaG9peGRlc1rDqXJvcyA9IDEwCgkJCWRpbGxvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGtvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2NvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpa2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGNvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGljbG8gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWtjbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZGlrbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWZ1c2libGVzbGlnID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY29sID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY2FyID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCXbDqXJpZmxpZ25lID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNvbCA9IFsgRGljdHtTZXR7SW50fSwgU2V0e0ludH19KCkgZm9yIF8gPSAxOjkgXQoJCQl2w6lyaWZjYXJyw6kgPSBbIERpY3R7U2V0e0ludH0sIFNldHtUdXBsZXtJbnQsSW50fX0gfSgpIGZvciBfID0gMTo5IF0KCQkJZm9yIChpLGosayxpaSxqaikgaW4gbGVzWsOpcm9zCgkJCQlsaXN0ZWNoaWZmcmUgPSBjaGlmZnJlUG9zc2libGUobVMsaSxqLGdldCEobUltcCwoaSxqKSxTZXR7SW50fSgpICksaWksamopIAoJCQkJc2FjIShqLGksayxpaSxqaixsaXN0ZWNoaWZmcmUsZnVzaWJsZXNjb2wsZGljY28sZGljbG8sZGlja28pCgkJCQlzYWMhKGksaixrLGlpLGpqLGxpc3RlY2hpZmZyZSxmdXNpYmxlc2xpZyxkaWxsbyxkaWxjbyxkaWxrbykKCQkJCXNhayEoaSxqLGssaWksamosbGlzdGVjaGlmZnJlLGZ1c2libGVzY2FyLGRpa2xvLGRpa2NvLGRpa2tvKQoJCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpIHx8IHBhc0Fzc2V6RGVQcm9wYWwhKGksaixsaXN0ZWNoaWZmcmUsIHbDqXJpZmxpZ25lW2ldLCB2w6lyaWZjb2xbal0sIHbDqXJpZmNhcnLDqVtrXSxtSW1wKQoJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSB0cnVlICMgZG9uYyBtYXV2YWlzIGNob2l4CgkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJCQkJCWJyZWFrCgkJCQllbHNlaWYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPT0gMSAjIEwnaWTDqWFsLCB1bmUgc2V1bGUgcG9zc2liaWxpdMOpCgkJCQkJbVNbaSxqXT1jb2xsZWN0KGxpc3RlY2hpZmZyZSlbMV0gIyBsZSBTZXQgZW4gbGlzdGUKCQkJCQkjIG1TW2ksal09cG9wIShsaXN0ZWNoaWZmcmUpICMjIG5lIGZvbmN0aW9ubmUgcGFzCgkJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksaixrLGlpLGpqKSkKCQkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2ldLGopCgkJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtqXSxpKQoJCQkJCWRlbGV0ZSEoZGljb3LDqXpjYXJba10sKGksaikgKQoJCQkJCWhhc2tleShkaWxsbyxpKSAmJiBkZWxldGUhKGRpbGxvW2ldLCBtU1tpLGpdKSAjIHV0aWxlIGV0IHPDu3IKCQkJCQloYXNrZXkoZGljY28saikgJiYgZGVsZXRlIShkaWNjb1tqXSwgbVNbaSxqXSkKCQkJCQloYXNrZXkoZGlra28saykgJiYgZGVsZXRlIShkaWtrb1trXSwgbVNbaSxqXSkKCQkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJCWVsc2VpZiDDp2FOYXZhbmNlUGFzICYmIGxlbmd0aChsaXN0ZWNoaWZmcmUpIDwgbWluQ2hvaXhkZXNaw6lyb3MKCQkJCQltaW5DaG9peGRlc1rDqXJvcyA9IGxlbmd0aChsaXN0ZWNoaWZmcmUpCgkJCQkJY2hvaXhBZmFpcmUgPSAoaSxqLCAxLCBtaW5DaG9peGRlc1rDqXJvcywgbGlzdGVjaGlmZnJlKSAKCQkJCQlsZVrDqXJvw6BTdXBwciA9IChpLGosayxpaSxqaikgIyBPbiBnYXJkZSBsZXMgY2VsbHVsZXMgYXZlYyAuLi4gCgkJCQllbmQgIyAuLi4gbGUgbW9pbnMgZGUgY2hvaXggw6AgZmFpcmUsIHNpIMOnYSBuJ2F2YW5jZSBwYXMKCQkJZW5kCgkJZW5kCgkJIyBpZiBhbGxlckF1Q2hvaXhTdWl2YW50IHx8IMOnYU5hdmFuY2VQYXMgJiYgKGRJbXAgPT0gbUltcCkgIyBlbiBtaWV1eCBeXgoJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgfHwgdW5pY2xrIShkaWNsbyxkaWNjbyxkaWNrbyxkaWxsbyxkaWxjbyxkaWxrbyxkaWtsbyxkaWtjbyxkaWtrbyxtUyxtSW1wLGRpY29yw6l6bGlnLGRpY29yw6l6Y29sLGRpY29yw6l6Y2FyLGxlc1rDqXJvc8OgU3VwcHIsw6dhTmF2YW5jZVBhcykKCQkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCAjIFNpIGxlIGNob2l4IGVuIGNvdXJzIG4nZXN0IHBhcyBib24KCQkJCWlmIGlzZW1wdHkobGlzdGVkZWNob2l4KSAjIHBhcyBkZSBib2wgaGVpbgoJCQkJCSMgQGluZm8gIjFtcCAkbmJUb3Vyc1RvdGFsICRuYkNob2l4ZmFpdCIKCQkJCQlyZXR1cm4gaW1wb3NzaWJsZSAjIGZhdXggY2FyIHRyb3AgY29udHJhaW50IOKGkiBleDogMTIzNDU2NzgrOSAjIywgKHRvdXI9bmJUb3Vycyx0dD1uYlRvdXJzVG90YWwsZXNzYWk9ZXNzYWksbm9peD1uYkNob2l4ZmFpdCx0b3Vycz1saXN0ZVRvdXJzLGNob2l4PWxpc3RlZGVjaG9peCwgesOpcm9zPWxpc3RlZGVzWsOpcm9zLG1hdGhzPWxpc3RlZGFuY2llbm5lTWF0KSAKCQkJCWVsc2VpZiBjaG9peFByw6ljw6lkZW50WzNdIDwgY2hvaXhQcsOpY8OpZGVudFs0XSAjIEFsbGVyIGF1IHN1aXZhbnQKCQkJCQkjIyBwdXNoIShsaXN0ZUhpc3RvTWF0ICwgY29weShtUykpICMjIGhpc3RvaXJlIDEgCgkJCQkJIyMgcHVzaCEobGlzdGVIaXN0b0Nob2l4ICwgY2hvaXhQcsOpY8OpZGVudCkgIyMgaGlzdG9pcmUgMSAKCQkJCQkjIyBwdXNoIShsaXN0ZUhpc3RvVG91cnNUb3RhbCAsIChuYlRvdXJzLCBuYlRvdXJzVG90YWwpKSAjIyBoaTEgCgkJCQkJIyMgbmJIaXN0b1RvdCArPSAxICMjIGhpc3RvaXJlIDEKCQkJCQkoaSxqLCBjaG9peCwgbCwgbGMpID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSAoaSxqLCBjaG9peCsxLCBsLCBsYykKCQkJCQlsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCW1TID0gY29weShsaXN0ZWRhbmNpZW5uZU1hdFtuYkNob2l4ZmFpdF0pCgkJCQkJbUltcCA9IGRlZXBjb3B5KGxpc3RlZGFuY2llbkltcFtuYkNob2l4ZmFpdF0pCgkJCQkJYWxsZXJBdUNob2l4U3VpdmFudCA9IGZhbHNlCgkJCQkJbVNbaSxqXSA9IHBvcCEobGMpCgkJCQkJbGVzWsOpcm9zID0gY29weShsaXN0ZWRlc1rDqXJvc1tuYkNob2l4ZmFpdF0pCgkJCQkJZGljb3LDqXpsaWcgPSBkZWVwY29weShsaXN0ZWRpY29yw6l6bGlnW25iQ2hvaXhmYWl0XSkKCQkJCQlkaWNvcsOpemNvbCA9IGRlZXBjb3B5KGxpc3RlZGljb3LDqXpjb2xbbmJDaG9peGZhaXRdKQoJCQkJCWRpY29yw6l6Y2FyID0gZGVlcGNvcHkobGlzdGVkaWNvcsOpemNhcltuYkNob2l4ZmFpdF0pCgkJCQllbHNlaWYgbGVuZ3RoKGxpc3RlZGVjaG9peCkgPCAyICMgcGFzIDIgYm9sCgkJCQkJIyBAaW5mbyAiMmJhbCAkbmJUb3Vyc1RvdGFsICRuYkNob2l4ZmFpdCIKCQkJCQlyZXR1cm4gaW1wb3NzaWJsZQoJCQkJZWxzZSAjIElsIGZhdXQgcmV2ZW5pciBkJ3VuIGNyYW4gZGFucyBsYSBsaXN0ZSBoaXN0b3JpcXVlCgkJCQkJbWFwKHBvcCEsKGxpc3RlZGVjaG9peCxsaXN0ZWRhbmNpZW5uZU1hdCxsaXN0ZWRhbmNpZW5JbXAsIGxpc3RlZGVzWsOpcm9zLGxpc3RlZGljb3LDqXpsaWcsbGlzdGVkaWNvcsOpemNvbCxsaXN0ZWRpY29yw6l6Y2FyKSkKCQkJCQluYkNob2l4ZmFpdCAtPSAxCgkJCQkJY2hvaXhQcsOpY8OpZGVudCA9IGxpc3RlZGVjaG9peFtuYkNob2l4ZmFpdF0KCQkJCWVuZAoJCQllbHNlICMgTm91dmVhdSBjaG9peCDDoCBmYWlyZSBldCDDoCBnYXJkZXIgZW4gbcOpbW9pcmUKCQkJCXB1c2ghKGxpc3RlZGVjaG9peCwgY2hvaXhBZmFpcmUpICMgaWNpIHBhcyBiZXNvaW4gZGUgY29waWUKCQkJCXB1c2ghKGxpc3RlZGFuY2llbm5lTWF0ICwgY29weShtUykpICMgY29waWUgZW4gZHVyCgkJCQlwdXNoIShsaXN0ZWRhbmNpZW5JbXAgLCBkZWVwY29weShtSW1wKSkgIyBjb3BpZSBlbiBkdXIKCQkJCWRlbGV0ZSEobGVzWsOpcm9zLCBsZVrDqXJvw6BTdXBwcikgIyBPbiByZXRpcmUgY2V1eC4uLiBpZGVtIHNldAoJCQkJcHVzaCEobGlzdGVkZXNaw6lyb3MgLCBjb3B5KGxlc1rDqXJvcykpICMgY29waWUgZW4gZHVyIGF1c3NpCgkJCQluYkNob2l4ZmFpdCArPSAxCgoJCQkJaXN1cHByID0gbGVaw6lyb8OgU3VwcHJbMV0KCQkJCWpzdXBwciA9IGxlWsOpcm/DoFN1cHByWzJdCgkJCQlrc3VwcHIgPSBsZVrDqXJvw6BTdXBwclszXQoJCQkJIyMgbVNbY2hvaXhBZmFpcmVbMToyXS4uLl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoJCQkJbVNbaXN1cHByLCBqc3VwcHJdID0gcG9wIShjaG9peEFmYWlyZVs1XSkKCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2lzdXBwcl0sanN1cHByKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtqc3VwcHJdLGlzdXBwcikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjYXJba3N1cHByXSwoaXN1cHByLGpzdXBwcikgKQoJCQkJcHVzaCEobGlzdGVkaWNvcsOpemxpZywgZGVlcGNvcHkoZGljb3LDqXpsaWcpKQoJCQkJcHVzaCEobGlzdGVkaWNvcsOpemNvbCwgZGVlcGNvcHkoZGljb3LDqXpjb2wpKQoJCQkJcHVzaCEobGlzdGVkaWNvcsOpemNhciwgZGVlcGNvcHkoZGljb3LDqXpjYXIpKQoKCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZQoJCQllbmQgCgkJZWxzZSAjICHDp2FOYXZhbmNlUGFzICYmICFhbGxlckF1Q2hvaXhTdWl2YW50ICMjIFRvdXQgdmEgYmllbiBpY2kKCQkJc2V0ZGlmZiEobGVzWsOpcm9zLCBsZXNaw6lyb3PDoFN1cHByKSAjIE9uIHJldGlyZSBjZXV4IHJlbXBsaXMgCgkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJCWVuZAkKCWVuZAoJcmV0dXJuIHRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKQogIGVuZAojICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIwojICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAKICBmdW5jdGlvbiByw6lzb3V0U3Vkb2t1KEpTdWRva3U6OlZlY3RvcntWZWN0b3J7SW50fX0gOyBuYlRvdXJzTWF4OjpJbnQgPSA4MSkgCgluYlRvdXJzVG90YWw6OkludCA9IDAKCW1TOjpBcnJheXtJbnQsMn0gPSBsaXN0ZUpTw6BtYXRyaWNlKEpTdWRva3UpICMgQ29udmVydGkgZW4gdnJhaWUgbWF0cmljZQoJbGVzWsOpcm9zID0gU2V0KHNodWZmbGUhKFsoaSxqKSBmb3IgaiBpbiAxOjksIGkgaW4gMTo5IGlmIG1TW2ksal09PTBdKSkKCWxpc3RlZGVjaG9peCA9IFR1cGxle0ludCxJbnQsSW50LEludCxTZXR7SW50fX1bXQoJbGlzdGVkYW5jaWVubmVNYXQgPSBBcnJheXtJbnQsMn1bXQoJbGlzdGVkZXNaw6lyb3MgPSBTZXR7VHVwbGV7SW50LEludH19W10KCW5iQ2hvaXhmYWl0ID0gMAoJbWluQ2hvaXhkZXNaw6lyb3MgPSAxMAoJYWxsZXJBdUNob2l4U3VpdmFudCA9IGZhbHNlCgljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUgPSAoMCwwLDAsMCxTZXR7SW50fSgpKSAKCcOnYU5hdmFuY2VQYXMgPSB0cnVlICMgUGVybWV0IGRlIHZvaXIgc2kgcmllbiBuZSBzZSByZW1wbGl0IGVuIHVuIHRvdXIKCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnR9fSgpCglpZiB2w6lyaWZTdWRva3VCb24obVMpCgkJd2hpbGUgIWlzZW1wdHkobGVzWsOpcm9zKSAmJiBuYlRvdXJzVG90YWwgPCBuYlRvdXJzTWF4CgkJIyMgZm9yIG5idCBpbiAxOm5iVG91cnNNYXggIyMjIG1hdXZhaXNlIGlkw6llCgkJCSMjIGlzZW1wdHkobGVzWsOpcm9zKSAmJiAobmJUb3Vyc1RvdGFsICs9IG5idCAtIDE7IGJyZWFrKQoJCQlpZiAhYWxsZXJBdUNob2l4U3VpdmFudAoJCQkJbmJUb3Vyc1RvdGFsICs9IDEKCQkJCcOnYU5hdmFuY2VQYXMgPSB0cnVlICMgcmVzZXQgw6AgY2hhcXVlIHRvdXIgPyBpZGVtIHBvdXIgbGUgcmVzdGUgPwoJCQkJbWluQ2hvaXhkZXNaw6lyb3MgPSAxMAoJCQkJZm9yIChpLGopIGluIGxlc1rDqXJvcwoJCQkJCWxpc3RlY2hpZmZyZSA9IHNpbXBsZWNoaWZmcmVQb3NzaWJsZShtUyxpLGopIAoJCQkJCWlmIGlzZW1wdHkobGlzdGVjaGlmZnJlKQoJCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gdHJ1ZSAjIGRvbmMgbWF1dmFpcyBjaG9peAoJCQkJCQlsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50fX0oKQoJCQkJCQlicmVhawoJCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVjaGlmZnJlKSA9PSAxICMgTCdpZMOpYWwsIHVuZSBzZXVsZSBwb3NzaWJpbGl0w6kKCQkJCQkJbVNbaSxqXT1jb2xsZWN0KGxpc3RlY2hpZmZyZSlbMV0gIyMgYXZhbnQgbGUgU2V0IGVuIGxpc3RlCgkJCQkJCSMgbVNbaSxqXT1wb3AhKGxpc3RlY2hpZmZyZSkgIyMgbmUgZm9uY3Rpb25uZSBwYXMKCQkJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksaikpCgkJCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQkJCWVsc2VpZiDDp2FOYXZhbmNlUGFzICYmIGxlbmd0aChsaXN0ZWNoaWZmcmUpIDwgbWluQ2hvaXhkZXNaw6lyb3MKCQkJCQkJbWluQ2hvaXhkZXNaw6lyb3MgPSBsZW5ndGgobGlzdGVjaGlmZnJlKQoJCQkJCQljaG9peEFmYWlyZSA9IChpLGosIDEsIG1pbkNob2l4ZGVzWsOpcm9zLCBsaXN0ZWNoaWZmcmUpICAKCQkJCQkJZW5kICMgLi4uIGxlIG1vaW5zIGRlIGNob2l4IMOgIGZhaXJlLCBzaSDDp2EgbidhdmFuY2UgcGFzCgkJCQllbmQKCQkJZW5kCgkJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgfHwgw6dhTmF2YW5jZVBhcyAKCQkJCWlmIGFsbGVyQXVDaG9peFN1aXZhbnQgIyBTaSBsZSBjaG9peCBlbiBjb3VycyBuJ2VzdCBwYXMgYm9uCgkJCQkJaWYgaXNlbXB0eShsaXN0ZWRlY2hvaXgpICMgcGFzIGRlIGJvbCBoZWluCgkJCQkJCXJldHVybiBpbXBvc3NpYmxlCgkJCQkJZWxzZWlmIGNob2l4UHLDqWPDqWRlbnRbM10gPCBjaG9peFByw6ljw6lkZW50WzRdICMgQWxsZXIgYXUgc3VpdmFudCAKCQkJCQkJKGksaiwgY2hvaXgsIGwsIGxjKSA9IGNob2l4UHLDqWPDqWRlbnQKCQkJCQkJY2hvaXhQcsOpY8OpZGVudCA9IChpLGosIGNob2l4KzEsIGwsIGxjKQoJCQkJCQlsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCQltUyA9IGNvcHkobGlzdGVkYW5jaWVubmVNYXRbbmJDaG9peGZhaXRdKQoJCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCQkJCQkJbVNbaSxqXSA9IHBvcCEobGMpCgkJCQkJCWxlc1rDqXJvcyA9IGNvcHkobGlzdGVkZXNaw6lyb3NbbmJDaG9peGZhaXRdKQoJCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVkZWNob2l4KSA8IDIgIyBwYXMgMiBib2wKCQkJCQkJcmV0dXJuIGltcG9zc2libGUKCQkJCQllbHNlICMgSWwgZmF1dCByZXZlbmlyIGQndW4gY3JhbiBkYW5zIGxhIGxpc3RlIGhpc3RvcmlxdWUgCgkJCQkJCW1hcChwb3AhLChsaXN0ZWRlY2hvaXgsbGlzdGVkYW5jaWVubmVNYXQsIGxpc3RlZGVzWsOpcm9zKSkKCQkJCQkJbmJDaG9peGZhaXQgLT0gMQoJCQkJCQljaG9peFByw6ljw6lkZW50ID0gbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XQoJCQkJCWVuZAoJCQkJZWxzZSAjIE5vdXZlYXUgY2hvaXggw6AgZmFpcmUgZXQgw6AgZ2FyZGVyIGVuIG3DqW1vaXJlIAoJCQkJCXB1c2ghKGxpc3RlZGVjaG9peCwgY2hvaXhBZmFpcmUpICMgaWNpIHBhcyBiZXNvaW4gZGUgY29waWUKCQkJCQlwdXNoIShsaXN0ZWRhbmNpZW5uZU1hdCAsIGNvcHkobVMpKSAjIGNvcGllIGVuIGR1cgoJCQkJCWRlbGV0ZSEobGVzWsOpcm9zLCBjaG9peEFmYWlyZVsxOjJdKSAjIE9uIHJldGlyZSBjZXV4Li4uIGlkZW0gc2V0ID8KCQkJCQlwdXNoIShsaXN0ZWRlc1rDqXJvcyAsIGNvcHkobGVzWsOpcm9zKSkgIyBjb3BpZSBlbiBkdXIgYXVzc2kgCgkJCQkJbmJDaG9peGZhaXQgKz0gMQoJCQkJCW1TW2Nob2l4QWZhaXJlWzE6Ml0uLi5dID0gcG9wIShjaG9peEFmYWlyZVs1XSkKCQkJCQljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUKCQkJCWVuZCAKCQkJZWxzZSAjICHDp2FOYXZhbmNlUGFzICYmICFhbGxlckF1Q2hvaXhTdWl2YW50ICMjIFRvdXQgdmEgYmllbiBpY2kKCQkJCXNldGRpZmYhKGxlc1rDqXJvcywgbGVzWsOpcm9zw6BTdXBwcikgIyBPbiByZXRpcmUgY2V1eCByZW1wbGlzIAoJCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludH19KCkKCQkJZW5kCQoJCWVuZAoJZWxzZSByZXR1cm4gw6Bjb3JyaWdlcgoJZW5kCglpZiBuYlRvdXJzVG90YWwgPT0gbmJUb3Vyc01heCB8fCBuYlRvdXJzVG90YWwgPiBuYlRvdXJzTWF4CgkJbUNvcGllID0gZ2V0KGxpc3RlZGFuY2llbm5lTWF0LCAxLCBjb3B5KG1TKSkKCQl2WsOpcm9zID0gU2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJCWRpY29yw6l6bGlnID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJZGljb3LDqXpjb2wgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQlkaWNvcsOpemNhciA9IERpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fSgpCgkJZm9yIGogaW4gMTo5LCBpIGluIDE6OSAKCQkJaWYgbUNvcGllW2ksal09PTAKCQkJCWsgPSBrZWxjYXJyw6koaSxqKQoJCQkJcHVzaCEodlrDqXJvcywgKGksaixrLGNhcnIoaSksY2FycihqKSkgKQoJCQkJcHVzaCEoZ2V0IShkaWNvcsOpemxpZyxpLFNldHtJbnR9KCkgKSxqKQoJCQkJcHVzaCEoZ2V0IShkaWNvcsOpemNvbCxqLFNldHtJbnR9KCkgKSxpKQoJCQkJcHVzaCEoZ2V0IShkaWNvcsOpemNhcixrLFNldHtUdXBsZXtJbnQsSW50fX0oKSApLChpLGopICkKCQkJZW5kCgkJZW5kIAoJCXJldHVybiByw6lzb3V0U3Vkb2t1TWF4KG1Db3BpZSwgdlrDqXJvcywgZGljb3LDqXpsaWcsIGRpY29yw6l6Y29sLCBkaWNvcsOpemNhcjsgdG91cnM9bmJUb3Vyc1RvdGFsKSAKCWVsc2UgcmV0dXJuIHRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKQoJZW5kCiAgZW5kCiAgcmpzID0gcsOpc291dFN1ZG9rdSAjIyBtaW5pIHZlcnNpb24gICAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIyAjIwogIHJtYXQgPSByw6lzb3V0U3Vkb2t1IOKImCBtYXRyaWNlw6BsaXN0ZUpTICMjIG1pbmkgdmVyc2lvbiAgICMjICMjICMjICMjICMjICMjICMjICMjICMjCiMgRmluIGRlIGxhIGZvbmN0aW9uIHByaW5jaXBhbGUgOiByw6lzb3V0U3Vkb2t1ICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgZnVuY3Rpb24gc3Vkb2t1QWzDqWF0b2lyZUZpbmkoKSAjIyBHw6luw6hyZSB1biBzdWRva3UgYWzDqWF0b2lyZSBmaW5pIChhdWN1biB2aWRlKQoJcmV0dXJuIGxpc3RlSlPDoG1hdHJpY2UocsOpc291dFN1ZG9rdShqc3ZkKCkpWzFdKQogIGVuZAogIGZ1bmN0aW9uIHN1ZG9rdUFsw6lhdG9pcmUoeD0xOTo2MiA7IGZ1bj1yYW5kLCBtYXR6w6lybz1zdWRva3VBbMOpYXRvaXJlRmluaSgpKSNyYW5kMTo4MQogICMgVW5lIGZvaXMgbGUgc3Vkb2t1QWzDqWF0b2lyZUZpbmksIG9uIGxlIHZpZGUgdW4gcGV1IGQndW4gbm9tYnJlIHggZGUgY2VsbHVsZXMKCWlmICFpc2EoeCwgSW50KSAjIFBlcm1ldCBkZSBjaG9pc2lyIGxlIG5vbWJyZSBkZSB6w6lybyBvdSB1biBpbnRlcnZhbGUKCQl4PWZ1bih4KQoJZW5kCgl4ID0gKDAgPD0geCA8IDgyKSA/IHggOiA4MSAjIFBvdXIgY2V1eCBhdXggZ3JvcyBkb2lndHMsIG91IHF1aSB2b2l0IHRyb3AgZ3JhbmQKCWxpc3RlID0gc2h1ZmZsZSEoWyhpLGopIGZvciBpIGluIDE6OSBmb3IgaiBpbiAxOjldKQoJZm9yIChpLGopIGluIGxpc3RlWzE6eF0gIyBuYkFwcHJveERlWsOpcm9zCgkJbWF0esOpcm9baSxqXSA9IDAKCWVuZAoJcmV0dXJuIG1hdHJpY2XDoGxpc3RlSlMobWF0esOpcm8pCiAgZW5kCgogIGZ1bmN0aW9uIHZpZXV4U3Vkb2t1IShub3V2ZWF1PXN1ZG9rdUFsw6lhdG9pcmUoKSA7IGTDqWZhdXQ9ZmFsc2UsIG3DqW1vaXJlPVN1ZG9rdU3DqW1vLCBtYXR6w6lybz1zdWRva3VBbMOpYXRvaXJlRmluaSgpLCBpZExpZW49ImxpZW4iKnN0cmluZyhyYW5kKEludCkpKQogICMgT24gcGV1dCByZXRyb3V2ZXIgdW4gdmlldXhTdWRva3UhIHBvdXIgbGUgbWV0dHJlIGF1IGxpZXUgZHUgc3Vkb2t1IGluaXRpYWwKICAjIyBFeGVtcGxlIGRlIHN1ZG9rdSA6CiAgIyB2aWV1eFN1ZG9rdSEoW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwzLDAsOCw1XSxbMCwwLDEsMCwyLDAsMCwwLDBdLFswLDAsMCw1LDAsNywwLDAsMF0sWzAsMCw0LDAsMCwwLDEsMCwwXSxbMCw5LDAsMCwwLDAsMCwwLDBdLFs1LDAsMCwwLDAsMCwwLDcsM10sWzAsMCwyLDAsMSwwLDAsMCwwXSxbMCwwLDAsMCw0LDAsMCwwLDldXSkKCWlmIGTDqWZhdXQ9PXRydWUgIyBNw6lnYWxvbWFuaWUgIyMgT24gcmV2aWVudCDDoCBtb24gZMOpZmF1dCBeXgoJCW3DqW1vaXJlWzJdID0gY29weShtw6ltb2lyZVs0XSkKCWVsc2VpZiBpc2Eobm91dmVhdSwgSW50KSB8fCBpc2Eobm91dmVhdSwgVW5pdFJhbmdle0ludH0pCgkJbcOpbW9pcmVbMl0gPSBzdWRva3VBbMOpYXRvaXJlKG5vdXZlYXUgOyBtYXR6w6lybz1tYXR6w6lybykKCWVsc2VpZiBub3V2ZWF1PT1tw6ltb2lyZVsxXSAKCQltw6ltb2lyZVsyXSA9IHN1ZG9rdUFsw6lhdG9pcmUoKQoJZWxzZSBtw6ltb2lyZVsyXSA9IGNvcHkobm91dmVhdSkgIyBBc3R1Y2UgcG91ciBzYXV2ZXIgbGUgc3Vkb2t1IGVuIGNvdXJzCgllbmQKCXJldHVybiBEb2NzLkhUTUwoIiIiPHNjcmlwdD4KCXZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0Iik7Cglmb3IodmFyIG5pPTA7bmk8ZWxlLmxlbmd0aDtuaSsrKQoJCWVsZVtuaV0uY2hlY2tlZCA9IGZhbHNlOwoKCWZ1bmN0aW9uIGdvU3Vkb2t1SW5pKCkgewoJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKVsxXS5jbGljaygpOwoJfQoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiRpZExpZW4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGdvU3Vkb2t1SW5pKTsKCWdvU3Vkb2t1SW5pKCk7Cgl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIjTW9kaWZpZXJJbml0IjsKCTwvc2NyaXB0PjxoNiBzdHlsZT0ibWFyZ2luLXRvcDogMDsiPiBDaS1kZXNzb3VzLCBsZSBib3V0b27CoOKWtiByZXN0b3JlIGxlIHZpZXV4IHN1ZG9rdSBlbiBzdWRva3UgaW5pdGlhbMKgIcKg8J+lsyA8YSBpZD0iJGlkTGllbiIgaHJlZj0nI01vZGlmaWVySW5pdCc+IHJldG91csKgZW7CoGhhdXTCoOKGkSA8L2E+IDwvaDY+IiIiKQogIGVuZAogIHZpZXV4ID0gdnMgPSB2cyEgPSB2UyEgPSB2aWV1eFN1ZG9rdSEgIyMgbWluaSB2ZXJzaW9uCiAgdnNkKCkgPSB2aWV1eFN1ZG9rdSEoZMOpZmF1dD10cnVlKSAjIyBQb3VyIHJldmVuaXIgw6AgbCdvcmlnaW5hbAogIGluaSA9IGTDqWZhdXQgPSBkZWZhdXQgPSB2c2QgIyMgbWluaSB2ZXJzaW9uCiAgc3Vkb2t1aW5pdGlhbCEoKSA9IHZpZXV4U3Vkb2t1IShTdWRva3VNw6ltb1szXSkKICB2aWV1eFN1ZG9rdSEobm91dmVhdTo6QXJyYXl7SW50LDJ9IDsgZMOpZmF1dD1mYWxzZSwgbcOpbW9pcmU9U3Vkb2t1TcOpbW8sIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCksIGlkTGllbj0ibGllbiIqc3RyaW5nKHJhbmQoSW50KSkpID0gdmlldXhTdWRva3UhKG1hdHJpY2XDoGxpc3RlSlMobm91dmVhdScpOyBkw6lmYXV0PWTDqWZhdXQsIG3DqW1vaXJlPW3DqW1vaXJlLCBtYXR6w6lybz1tYXR6w6lybywgaWRMaWVuPWlkTGllbikKCiAgIz0gRCdhdXRyZXMgZm9uY3Rpb25zIHNpIGJlc29pbiBwb3VyIHRlc3RlciBldCByZXDDqXJlciBkZXMgZXJyZXVycyA6CiAgZnVuY3Rpb24gc3Vkb2t1QWx0KG5iQ2hpZmZyZXNNYXg9cmFuZCgyNjo4MSksIG1vaW5zT0s9dHJ1ZSwgbmJlc3NhaT0xKSAKICAjIFNvcnRlIGRlIHN1ZG9rdUFsw6lhdG9pcmUgbWFpcyB1biBwZXUgcGx1cyBmb2lyZXV4LCBlbiBlZmZldCwgaWwgbidlc3QgcGFzIGZvcmPDqW1lbnQgcsOpYWxpc2FibGUuIEMnw6l0YWl0IHN1cnRvdXQgcG91ciBmYWlyZSBkZXMgdGVzdHMuCgluYkNoaWZmcmVzID0gMQoJCgltUzo6QXJyYXl7SW50LDJ9ID0gemVyb3MoSW50LCA5LDkpICMgTWF0cmljZSBkZSB6w6lybwoJbGVzWsOpcm9zID0gc2h1ZmZsZSEoWyhpLGopIGZvciBqIGluIDE6OSwgaSBpbiAxOjldKSMgRmFzdCAmIEZ1cmlvdXMKCQoJZm9yIChpLGopIGluIGxlc1rDqXJvcwoJCWlmIG5iQ2hpZmZyZXMgPiBuYkNoaWZmcmVzTWF4CgkJCXJldHVybiBtUwoJCWVsc2UgCgkJbGlzdGVjaGlmZnJlID0gc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1TLGksaikKCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpICMjIyBQYXMgYm9uIHNpZ25lIF5eCgkJCQlpZiBtb2luc09LIHx8IG5iZXNzYWkgPiAyNgoJCQkJCXJldHVybiBtUwoJCQkJZWxzZSAKCQkJCQlyZXR1cm4gc3Vkb2t1QWx0KG5iQ2hpZmZyZXNNYXgsIGZhbHNlLCBuYmVzc2FpKzEpCgkJCQllbmQKCQkJZWxzZSAjIGxlbmd0aChsaXN0ZWNoaWZmcmUpID09IDEgIyBMJ2lkw6lhbCwgdW5lIHNldWxlIHBvc3NpYmlsaXTDqQoJCQkJIyBtU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXQoJCQkJbVNbaSxqXT1wb3AhKGxpc3RlY2hpZmZyZSkKCQkJCW5iQ2hpZmZyZXMgKz0gMQoJCQllbmQKCQllbmQKCWVuZAogIGVuZAogIHNhbHQgPSBzdWRva3VBbHQgIyMgbWluaSB2ZXJzaW9uCiAgZnVuY3Rpb24gYmxpbmR0ZXN0KG5idGVzdD0xMDAgOyB0bWF4PTgxLCBuYnrDqXJvID0gKHJhbmQsIDc6NzcpLCBzdWRmPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKQogICMgUGVybWV0IGRlIHRlc3RlciBsYSByYXBpZGl0w6kgZXQgY2VydGFpbnMgYnVncyBkZSBtYSBmb25jdGlvbiBwcmluY2lwYWxlIHLDqXNvdXRTdWRva3UuIEMnZXN0IGRvbmMgdW5lIGZvbmN0aW9uIHF1aSBlc3QgdGVjaG5pcXVlIGV0IHF1aSBzZXJ0IHN1cnRvdXQgcXVhbmQgaWwgeSBhIGRlcyDDqXZvbHV0aW9ucyBkZSBjZXR0ZSBmb25jdGlvbi4KCW5iesOpcm9mKCkgPSBpc2EobmJ6w6lybyxUdXBsZSkgPyBuYnrDqXJvPW5iesOpcm9bMV0obmJ6w6lyb1syXSkgOiBOb3RoaW5nCglmb3IgaSBpbiAxOm5idGVzdAoJCXN1ZGluaSA9IHN1ZGYoKQoJCW5iesOpcm9mKCkKCQlzdWRhbMOpYSA9IHN1ZG9rdUFsw6lhdG9pcmUobmJ6w6lybywgZnVuPWlkZW50aXR5LCBtYXR6w6lybz1jb3B5KHN1ZGluaSkpCgkJIyB0cnkgCgkJIyAJcsOpc291dFN1ZG9rdShzdWRhbMOpYSA7IG5iVG91cnNNYXg9dG1heCkKCQkjIGNhdGNoIGUKCQkjIAlyZXR1cm4gKCJidWciLCBlLCBzdWRhbMOpYSkKCQkjIGVuZAoJCXNvbHVjZSA9IHLDqXNvdXRTdWRva3Uoc3VkYWzDqWEgOyBuYlRvdXJzTWF4PXRtYXgpCgkJaWYgc29sdWNlWzFdIGlzYSBTdHJpbmcKCQkJIyMgaWYgc3VkZj09c3Vkb2t1QWzDqWF0b2lyZUZpbmkgfHwgc29sdWNlWzFdICE9IGltcG9zc2libGVbMV0KCQkjIGlmIHNvbHVjZVsxXSA9PSBpbXBvc3NpYmxlWzFdCgkJIyBpZiBzb2x1Y2VbMV0gPT0gw6Bjb3JyaWdlclsxXQoJCQkJcmV0dXJuIG1hdHJpY2XDoGxpc3RlSlMoc3VkaW5pKSwgaSwgbmJ6w6lybywgc29sdWNlLCBzdWRpbmksICByZXBsYWNlKCJ2aWV1eCggJChtYXRyaWNlw6BsaXN0ZUpTKHN1ZGluaSkpICkiLCIgIj0+IiIpLCBzdWRhbMOpYSwgcmVwbGFjZSgidmlldXgoJHN1ZGFsw6lhKSIsIiAiPT4iIikKCQkJIyBlbmQKCQllbmQKCWVuZAoJcmV0dXJuIFtbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDIsMywwLDAsMCwxLDUsMF0sWzcsMCwwLDQsMCwyLDAsMCw2XSxbMCwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCwwLDAsMCwwLDAsMF0sWzAsNywyLDAsMCwwLDgsNCwwXSxbMCwxLDQsMCwwLDAsNyw5LDBdLFswLDAsNyw5LDIsNCwzLDAsMF0sWzAsMCwwLDEsNSw3LDAsMCwwXV0sICJUb3V0IHZhIGJpZW4uLi4gcG91ciBsZSBtb21lbnQg8J+RjSIKCSMgcmV0dXJuICJUb3V0IHZhIGJpZW4uLi4gcG91ciBsZSBtb21lbnQg8J+RjSIKICBlbmQKICBidCA9IHRlc3RtZSA9IGJsaW5kdGVzdCAjIyBtaW5pIHZlcnNpb24gPSMKICAjIyBleGVtcGxldGVzdCA9IGJ0KDEwMCxzdWRmPXNhbHQpO3ZpZXV4KGV4ZW1wbGV0ZXN0WzFdKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwplbmQ7IG5vdGhpbmc7ICMgc3R5bMOpbMOgYmFzYXZlY2JvbnVzISAjIyB2b2lyIGp1c3RlIGRhbnMgbGEgY2VsbHVsZSAjQm9udXMgYXUgZGVzc3VzIOKGkQojIFZvaWzDoCAhIGZpbiBkZSBsYSBwbHVwYXJ0IGR1IGNvZGUgZGUgY2UgcHJvZ3JhbW1lIFBsdXRva3UuamyrY29kZV9mb2xkZWTD2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDiEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOLBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2gbbYmVnaW4KCWlmICFpc2Eodm9pck91UGFzLCBTdHJpbmcpIHx8IHZvaXJPdVBhcyA9PSAi8J+kq8KgQ2FjaMOpZSIKCQlNYXJrZG93bi5wYXJzZSggKCBzdWRva3VTb2x1dGlvblZ1ZSBpc2EgU3RyaW5nID8gCgkJIiMjIyMjIPCfpJAgQ2VsYSBlc3QgY2FjaMOpIHBvdXIgbGUgbW9tZW50IGNvbW1lIGRlbWFuZMOpIOKaoQpNYWxjaGFuY2UgISAiIDogCgkJIiMjIyMjIPCfpJAgQ2VsYSBlc3QgY2FjaMOpIHBvdXIgbGUgbW9tZW50IGNvbW1lIGRlbWFuZMOpCkJvbm5lIGNoYW5jZSAhICIgCgkJKSAqICJTaSBiZXNvaW4sIGNvY2hlciBg8J+kq8KgQ2FjaMOpZWAgcG91ciByZXZvaXIgY2V0dGUgaW5mb3JtYXRpb27CoDogCgpgRW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKZgIHBlcm1ldCBlbiBjbGlxdWFudCBkZSBmYWlyZSBhcHBhcmHDrnRyZSBsZSBjb250ZW514oCmXFwKXyhjbGlxdWVyIHN1ciBsZXMgY2hpZmZyZXMgZW4gYmxldSBwb3VyIHRvdXQgcmVmYWlyZSBkaXNwYXJhw650cmUpXyAKCiAgIC0gYOKApnBhcsKgY2hpZmZyZWAgbW9udHJlIHNpIGxlIGNoaWZmcmUgZXN0IHBvc3NpYmxlLCBlbiBjbGlxdWFudCBwcsOpY2lzw6ltZW50wqA6IGR1wqAxwqBlbsKgaGF1dMKgw6DCoGdhdWNoZSwgYXUgOcKgZW7CoGJhc8Kgw6DCoGRyb2l0ZSBkZSBsYSBjYXNlIOKGksKgbGXCoDXCoGVzdCBkb25jIGF1IGNlbnRyZQogICAtIGDigKZwYXLCoGNhc2XCoPCflKJgIG1vbnRyZSBsYSBsJ2Vuc2VtYmxlwqBkZXMgY2hpZmZyZXMgcG9zc2libGVzIHBhciBjYXNlCiAgIC0gYOKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpYCBmYWl0IGxlIGNvbXB0ZSBkZSBsJ2Vuc2VtYmxlLiBMYSBvdSBsZXMgY2FzZXMgYXZlY8KgYOKclGAgw6AgbGEgcGxhY2UgZHXCoDkgb250IGxlcyBwbHVzIHBldGl0cyBub21icmUgZGUgcG9zc2liaWxpdMOpcyBkdSBzdWRva3UKICAgLSBzZXVsIGDigKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpYCBtb250cmUgKHVuIG91KSBkZXMgY2hpZmZyZXMgZHUgc3Vkb2t1IGZpbmkKCkQndW4gY291cCBgUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApmAgZGUgbGEgc291cy1jYXTDqWdvcmllIGNob2lzaWUKCkVuZmluLCBpbCB5IGEgZGV1eCBvcHRpb25zwqA6ICAKYENhcm9saWduZcKg4pqUYCBtb250cmUgbGVzIGNhc2VzIGxpw6llcyDihpLCoGNhcnLDqSwgY29sb25uZSwgbGlnbmXCoDsgXFwKb3UgYENvY2hlcsKgaWNpLCBwdWlzIHRvdWNoZXIgbGUgY2hpZmZyZSDDoCBtZXR0cmUgZGFucyBsZSBTdWRva3XCoGluaXRpYWxgIiApCgllbHNlaWYgUHJvcGFsT3VTb2x1Y2UgPT0gIuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqkiICMgfHwgUHJvcGFsT3VTb2x1Y2UgaXNhIE1pc3NpbmcKCQlodG1sU3Vkb2t1KHN1ZG9rdVNvbHV0aW9uVnVlLGJpbmRKU3Vkb2t1IDsgdG91dFZvaXI9ICh2b2lyT3VQYXM9PSJQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmIikgKQoJZWxzZSBodG1sU3Vkb2t1UHJvcGFsKGJpbmRKU3Vkb2t1LHN1ZG9rdVNvbHV0aW9uVnVlIDsgdG91dFZvaXI9ICh2b2lyT3VQYXM9PSJQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmIiksIHBhckNhc2U9IChQcm9wYWxPdVNvbHVjZSA9PSLigKZwYXLCoGNhc2XCoPCflKIiKSwgc29tbWU9IChQcm9wYWxPdVNvbHVjZT09IuKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpIikpCgllbmQKZW5kq2NvZGVfZm9sZGVkw9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA0hKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNi0xMjM0NTY3ODkwMDSwcnVubmluZ19kaXNhYmxlZMKkY29kZdoB72JlZ2luIAoJU3Vkb2t1TcOpbW9bM10gPSBiaW5kSlN1ZG9rdSAjIFBvdXIgcXVlIGxlIHN1ZG9rdSBlbiBjb3VycyAoaW5pdGlhbCBtb2RpZmnDqSkgcmVzdGUgZW4gbcOpbW9pcmUgc2kgYmVzb2luIC0+IFJldG91ciBpbnN0YW50YW7DqSA7KSAKCXN1ZG9rdVNvbHV0aW9uID0gcsOpc291dFN1ZG9rdShiaW5kSlN1ZG9rdSkgIyBjYWxjdWxlIGxhIHNvbHV0aW9uCgkjIHN1ZG9rdVNvbHV0aW9uID0gcsOpc291dFN1ZG9rdShiaW5kSlN1ZG9rdTsgbmJUb3Vyc01heD0wKSAjIyBQb3VyIHJhbGVudGlyIPCfkIzwn5CiCglzdWRva3VTb2x1dGlvblZ1ZSA9IHN1ZG9rdVNvbHV0aW9uWzFdCglzdWRva3VTb2x1dGlvblsyXSAjIExhIHBldGl0ZSBleHBsaWNhdGlvbiBzZXVsZSA6ICJpbCBhIGZhbGx1IFhYIGNob2l4Li4uIgplbmQgIyMjIG1lc3VyYWJsZSBhdmVjICMjIHVzaW5nIEJlbmNobWFya1Rvb2xzICMgQGJlbmNobWFyayByw6lzb3V0U3Vkb2t1KGJpbmRKU3Vkb2t1Katjb2RlX2ZvbGRlZMPZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN4SnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3sHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXaBKRtZCIiIiQoQGJpbmQgdm9pck91UGFzIEJvbmRKYW1lc0JvbmQocHVjZXMoWyLwn6SrwqBDYWNow6llIiwgIkVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmIiwgIlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiXSwi8J+kq8KgQ2FjaMOpZSI7IGlkUHVjZXM9IkNhY2hlclLDqXN1bHRhdCIpLCAi8J+kq8KgQ2FjaMOpZSIpICkgCgokKGh0bWwiPGRpdiBzdHlsZT0nbWFyZ2luOiAycHg7IGJvcmRlci1ib3R0b206IG1lZGl1bSBkYXNoZWQgIzc3NzsnPjwvZGl2PiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAokKEBiaW5kIFByb3BhbE91U29sdWNlIEJvbmRKYW1lc0JvbmQocHVjZXMoWyLigKZwYXLCoGNoaWZmcmUiLCAi4oCmcGFywqBjYXNlwqDwn5SiIiwgIuKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpIiwgIuKApmRlwqBsYcKgc29sdXRpb27CoPCfmqkiXSwgIuKApnBhcsKgY2hpZmZyZSI7IGlkUHVjZXM9IlBvc3NpYmxlc0V0U29sdXRpb24iLCBjbGFzc2U9InBhc2xhIiApLCAi4oCmcGFywqBjaGlmZnJlIikgKSAKCiQoaHRtbCI8ZGl2IGlkPSdkaXZlcnMnIGNsYXNzPSdwYXNsYScgc3R5bGU9J21hcmdpbi10b3A6IDhweDsgbWFyZ2luLWxlZnQ6IDElOyB1c2VyLXNlbGVjdDogbm9uZTsgZm9udC1zdHlsZTogaXRhbGljOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM3NzcnPjxzcGFuIGlkPSdwdWNhcm9saWduZSc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2Fyb2xpZ25lJyBuYW1lPSdjYXJvbGlnbmUnPjxsYWJlbCBmb3I9J2Nhcm9saWduZScgc3R5bGU9J21hcmdpbi1sZWZ0OiAycHg7Jz5DYXJvbGlnbmXCoOKalDwvbGFiZWw+PC9zcGFuPiIpCiQoaHRtbCI8c3BhbiBpZD0ncHVjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDUlJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBuYW1lPSdjaG9peMOgbWV0dHJlZW5oYXV0Jz48bGFiZWwgZm9yPSdjaG9peMOgbWV0dHJlZW5oYXV0JyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDJweDsnPkNvY2hlcsKgaWNpLCBwdWlzIHRvdWNoZXIgbGUgY2hpZmZyZSDDoCBtZXR0cmUgZGFucyBsZSBTdWRva3XCoGluaXRpYWw8L2xhYmVsPjwvc3Bhbj48L2Rpdj4iKSIiIiCrY29kZV9mb2xkZWTD2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMC0xMjM0NTY3ODkwMDmEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDEwLTEyMzQ1Njc4OTAwObBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2ib/c3R5bMOpbMOgYmFzYXZlY2JvbnVzID0gIz0gc3R5bGUgQ1NTIHBvdXIgbGUgc3Vkb2t1SFRNTCwgbGUgY29kZSBwcmluY2lwYWwgZXN0IGRhbnMgbGEgY2VsbHVsZSBjYWNow6llIHRvdXQgZW4gYmFzLCBqdXN0ZSBhcHLDqHMgbGEgY2VsbHVsZSB2aWRlIF9gRW50ZXLCoGNlbGzCoGNvZGUuLi5gXyIgPSMgRG9jcy5IVE1MKHJhdyIiIjxzdHlsZT4gLyogUG91ciBsZXMgYm91dG9ucyBldCAnY29kZScgKi8KCWlucHV0W3R5cGU9ImJ1dHRvbiIgaV0gewoJCWJhY2tncm91bmQtY29sb3I6ICNhYWE7CgkJY29sb3I6IGJsYWNrOwoJCWJvcmRlcjogMnB4IG91dHNldCAjYmJiOwoJCWJvcmRlci1yYWRpdXM6IDJweDt9CglpbnB1dFt0eXBlPSJidXR0b24iIGldOmhvdmVyLAoJaW5wdXRbdHlwZT0iYnV0dG9uIiBpXTphY3RpdmV7CgkJYmFja2dyb3VuZC1jb2xvcjogIzc3NzsKCQljb2xvcjogd2hpdGU7CgkJYm9yZGVyOiAycHggc29saWQgIzc3Nzt9CglwbHV0by1vdXRwdXQucmljaF9vdXRwdXQgY29kZSB7Ym9yZGVyOiBzb2xpZCAxcHggIzliOWY5ZjsgLyovIGNvbnRvdXIgZmluIC8qL30KLyogYXV0cmVzIGJpZG91aWxsZXMgKi8KCSN0YWlkZSwgI3Rlc2Zvb3QsICN2YV9ldF92aWVudCB7dXNlci1zZWxlY3Q6IG5vbmU7fQoJI3N1ZG9rdWZpbmksICNjb3BpZWZpbmllIHtjdXJzb3I6IHBvaW50ZXI7fSAvKi8gZG9pZ3QgZXQgbm9uIHNvdXJpcyAvKi8KCWlucHV0W3R5cGU9InJhZGlvIiBpXSB7bWFyZ2luOiAzcHggM3B4IDNweCAwO30KCS5wYXNsYSwgLm1haXN0ZXNvdXsgLyogdmlzaWJpbGl0eTogaGlkZGVuOyAqLyBmaWx0ZXI6IG9wYWNpdHkoNjIlKSBibHVyKDJweCk7fQoJdHIjbGlnbmVub252aXNpYmxlIHtib3JkZXItdG9wOiBoaWRkZW47fQoJcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCB7ZGlzcGxheTogbm9uZTt9CgkvKiBwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhLCAqLwoJLyogI2EyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOCA+IHBsdXRvLXJ1bmFyZWEsICovCgkjYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA0ID4gcGx1dG8tcnVuYXJlYSB7CgkgICAgZGlzcGxheTogYmxvY2s7CgkJYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7CgkgICAgb3BhY2l0eTogMTt9Ci8qIFBvdXIgbGUgc3Vkb2t1IGluaXRpYWwgKi8KCXRhYmxlLnN1ZG9rb29sIHsKCQlib3JkZXI6IGhpZGRlbjsKCQltYXJnaW4tYmxvY2stc3RhcnQ6IDA7CgkJbWFyZ2luLWJsb2NrLWVuZDogMDt9Cgl0YWJsZS5zdWRva29vbCB0ciB7Ym9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIudHJvaXNyIHtib3JkZXItdG9wOiB0aGljayBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIHsKCQlib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpOyAKCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudHJvaXNkIHtib3JkZXItbGVmdDogdGhpY2sgc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCBpbnB1dCB7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMTAwJTsKCQloZWlnaHQ6IDEwMCU7CgkJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CgkJYm9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuZGFtaWVyewoJCWJhY2tncm91bmQtY29sb3I6Izc3Nzc3NzI2OyB9IC8qICM3Nzcgb3UgIzc3Nzc3NyBhZG91Y2kgKi8KLyogUG91ciBsZSByw6lzdWx0YXQgb3UgYWlkZSAqLwoJdGFibGUuc3Vkb2tvb2wgdHIgdGQgewoJCXVzZXItc2VsZWN0OiBub25lOwoJCXRleHQtYWxpZ246IGNlbnRlcjsKCQlmb250LXNpemU6IDE0cHQ7CgkJd2lkdGg6IDM4cHg7CgkJaGVpZ2h0OiAzOHB4O30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmluaSB7CgkJZm9udC13ZWlnaHQ6IGJvbGQ7CgkJY29sb3I6IHZhcigtLWNtLXZhci1jb2xvciwgI2FmYjdkMyk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudmlkZSB7CgkJY29sb3I6IHZhcigtLWNtLXByb3BlcnR5LWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5jYWNow6llIHsKCQljb2xvcjogdHJhbnNwYXJlbnQ7fQovKlBvdXIgbGUgcsOpc3VsdGF0bWluaSBvdSBhaWRlbWluaSovCgl0YWJsZS5zdWRva29vbG1pbmkgewoJCWJvcmRlcjogaGlkZGVuICFpbXBvcnRhbnQ7CgkJbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwoJCW1hcmdpbi1ibG9jay1lbmQ6IDA7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyLAoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHtib3JkZXI6MCAhaW1wb3J0YW50O30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogNy40OTk5OXB0OwoJCXdpZHRoOiAxMnB4OwoJCWhlaWdodDogMTEuNjcxODdweDsgCgkJCWNvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgIzc3Nyk7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkLmNhY2jDqWUge2NvbG9yOiB0cmFuc3BhcmVudDt9Cjwvc3R5bGU+IiIiKTsgcG91cnZvaXJwbHV0w7R0ID0gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQ+Ci8vIGNvbnN0IHBsdXTDtHRzdHlsw6kgPSBgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuL2hpZGUtdWkuY3NzIj48c3R5bGUgaWQ9ImNhY2jDqW1vaXBsdXTDtHQiPgpjb25zdCBwbHV0w7R0c3R5bMOpID0gYDxzdHlsZSBpZD0iY2FjaMOpbW9pcGx1dMO0dCI+Cm1haW4gewogICAgLy8gbWFyZ2luLXRvcDogMjBweDsKICAgIGN1cnNvcjogYXV0bzsKCW1hcmdpbjogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgLy8gcGFkZGluZy1ib3R0b206IDRyZW0gIWltcG9ydGFudDt9Cm5hdiwgaGVhZGVyLCBwcmVhbWJsZSwKcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCwKYm9keSA+IGhlYWRlciwKcHJlYW1ibGUgPiBidXR0b24sIApwbHV0by1jZWxsID4gYnV0dG9uLApwbHV0by1pbnB1dCA+IGJ1dHRvbiwKZm9vdGVyLApwbHV0by1ydW5hcmVhLAojaGVscGJveC13cmFwcGVyIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9CnBsdXRvLXNob3VsZGVyIHsKCXZpc2liaWxpdHk6aGlkZGVuO30KcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSwKcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKCWJhY2tncm91bmQtY29sb3I6IHVuc2V0O30KCkBtZWRpYSBzY3JlZW4gYW5kIChhbnktcG9pbnRlcjogZmluZSkgewogICAgcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgICAgIC8vIG9wYWNpdHk6IDAuNTsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIC8qIHRvIG1ha2UgaXQgZmVlbCBzbW9vdGg6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjI1cyBlYXNlLWluLW91dDsKICAgIH0KICAgIHBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhID4gYnV0dG9uOmhvdmVyID4gc3BhbiwKICAgIHBsdXRvLWNlbGw6aG92ZXIgPiBwbHV0by1ydW5hcmVhID4gc3BhbiB7CiAgICAgICAgLy8gLyogYXZhbnQgKi8gb3BhY2l0eTogMTsKICAgICAgICBvcGFjaXR5OiAwLjU7CiAgICAgICAgLyogdG8gbWFrZSBpdCBmZWVsIHNuYXBweTogKi8KICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogICAgfQogIC8vICBwbHV0by1jZWxsID4gcGx1dG8tc2hvdWxkZXIgPiBidXR0b246aG92ZXIgewogIC8vICAgICAgb3BhY2l0eTogMDsKICAvLyAgICAgIC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgLy8gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogIC8vICB9IAp9IAo8L3N0eWxlPmA7CmZ1bmN0aW9uIGNvb2xvdXBhcygpIHsgCgl2YXIgQk4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKTsKCWlmIChCTi5pbm5lckhUTUwgPT0gIvCfmIkiKSB7IEJOLmlubmVySFRNTCA9ICLwn5iOIjt9IGVsc2UgeyBCTi5pbm5lckhUTUwgPSAi8J+YiSI7fTsKfTsKLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKCnZhciBzdHlsw6ljYWNow6kgPSBodG1sYDxzcGFuIGlkPSJzdHlsw6kiPiR7cGx1dMO0dHN0eWzDqX08L3NwYW4+YDsKLy8gdmFyIHN0eWzDqWNhY2jDqSA9IGh0bWxgPHNwYW4gaWQ9InN0eWzDqSI+PC9zcGFuPmA7IC8vIEZBVVggYmlkb3VpbGxlIMOgIHN1cHByaW1lciAvLy8vCmZ1bmN0aW9uIHN0eWzDqW91cGFzKCkgeyAKCXZhciBzdHlsw6kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R5bMOpIik7Cgl2YXIgY2FjaMOpbW9pcGx1dMO0dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYWNow6ltb2lwbHV0w7R0Iik7CglpZiAoY2FjaMOpbW9pcGx1dMO0dCkgeyAKCQlzdHlsw6kuaW5uZXJIVE1MID0gJyc7Cgl9IGVsc2UgewoJCXN0eWzDqS5pbm5lckhUTUwgPSBwbHV0w7R0c3R5bMOpOwoJfTsKfTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsdXRvdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc3R5bMOpb3VwYXMpOwpyZXR1cm4gc3R5bMOpY2FjaMOpOwo8L3NjcmlwdD4iIiIpOyBjYWxlcGluID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwucmVwbGFjZSgnaHRtbCcsICdqbCcpIDogZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2VkaXQnLCAnbm90ZWJvb2tmaWxlJyl9IHRhcmdldD0nX2JsYW5rJyBkb3dubG9hZD4ke2RvY3VtZW50LnRpdGxlLnJlcGxhY2UoJ/CfjoggJywnJykucmVwbGFjZSgn4oCUIFBsdXRvLmpsJywnJyl9PC9hPmA7PC9zY3JpcHQ+Iik7IGNhbGV3ZWIgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+cmV0dXJuIGh0bWxgPGEgaHJlZj0ke2RvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSA/IGRvY3VtZW50LlVSTCA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZXhwb3J0Jyl9IHRhcmdldD0nX2JsYW5rJyBzdHlsZT0nZm9udC13ZWlnaHQ6IG5vcm1hbDsnIGRvd25sb2FkPkhUTUw8L2E+YDs8L3NjcmlwdD4iKTsgcGx1dG9vamwgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+aWYgKGRvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSkgewoJcmV0dXJuIGh0bWxgPGVtPlBsdXRvLmpsPC9lbT5gCiAgICB9IGVsc2UgeyByZXR1cm4gaHRtbGA8YSBocmVmPScuLycgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXdlaWdodDogbm9ybWFsOyc+PGVtPlBsdXRvPC9lbT48L2E+PGVtPi5qbDwvZW0+YH08L3NjcmlwdD4iKTsgcG91cmdhcmRlcmxldGVtcHMgPSBEb2NzLkhUTUwocmF3IiIiPHNjcmlwdD5mdW5jdGlvbiBnw6luw6lyYXRldXJEZUNvZGVDbMOpKCkgewoJdmFyIGNvcHlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBvdXItZMOpZmluaXItbGUtc3Vkb2t1LWluaXRpYWwiKTsKCXZhciBwYXN0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJY29weVRleHQudmFsdWUgPSAndmlldXhTdWRva3UhKCcgKyBwYXN0ZXh0LmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgKyAnKSc7Cgljb3B5VGV4dC5zZWxlY3QoKTsKCW5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvcHlUZXh0LnZhbHVlKTsgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2zDqWfDqW4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGfDqW7DqXJhdGV1ckRlQ29kZUNsw6kpOwoJCnZhciBlZGl0Q1NTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKZWRpdENTUy5pZCA9ICJ0b3VzbGVzdGVtcHMiOwp2YXIgdG9nZ2zDqSA9ICIwIjsKCmxldCB0b3VzbGVzdGVtcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJydW50aW1lIik7Ci8vIHRvdXNsZXN0ZW1wcy5mb3JFYWNoKCBlID0+IHsgLy8gbmUgZm9uY3Rpb25uZSBwYXMgOicoCmZvcihsZXQgaj0wOyBqPChPYmplY3Qua2V5cyh0b3VzbGVzdGVtcHMpLmxlbmd0aCk7IGorKyl7Cgl0b3VzbGVzdGVtcHNbal0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewoJCS8vIGFsZXJ0KGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoIm9wYXF1ZW91cGFzIikpOwoJCXZhciBzdHlsw6l0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdXNsZXN0ZW1wcyIpOwoJCXRvZ2dsw6kgPSAodG9nZ2zDqT09IjAiKSA/ICIwLjciIDogIjAiIDsKCQlzdHlsw6l0LmlubmVySFRNTCA9ICJwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7IG9wYWNpdHk6ICIrIHRvZ2dsw6kgKyAiOyB9IjsKCX0pOwp9OwpyZXR1cm4gZWRpdENTUzsKPC9zY3JpcHQ+IiIiKTsgYm9udXNldGFzdHVjZXMgPSBtZCIiIiMjIyMgJChodG1sIjxkaXYgaWQ9J0JvbnVzJyBzdHlsZT0ndXNlci1zZWxlY3Q6IG5vbmU7IG1hcmdpbi10b3A6IDE3cHggIWltcG9ydGFudDsnPkJvbnVzwqA6IGxlIHN1ZG9rdSBlbiBjb3VycyBwb3VyIHBsdXPCoHRhcmQuLi48L2Rpdj4iKSAKSmUgY29uc2VpbGxlIGRlIGdhcmRlciBsZSBjb2RlIGR1IHN1ZG9rdSBlbiBjb3VycyAoZW4gY2xpcXVhbnQsIGxhIGNvcGllIGVzdCBhdXRvbWF0aXF1ZcKg4pyoKSAKJChodG1sIjxpbnB1dCB0eXBlPWJ1dHRvbiBpZD0nY2zDqWfDqW4nIHZhbHVlPSdDb3BpZXIgbGUgY29kZSDDoCBnYXJkZXIgOiknPjxpbnB1dCBpZD0ncG91ci1kw6lmaW5pci1sZS1zdWRva3UtaW5pdGlhbCcgdHlwZT0ndGV4dCcgc3R5bGU9J2ZvbnQtc2l6ZTogeC1zbWFsbDsgbWFyZ2luLXJpZ2h0OiA2cHg7IG1heC13aWR0aDogMzhweDsgYmFja2dyb3VuZC1jb2xvcjojNzc3Nzc3MjY7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMCA4cHggOHB4IDA7IGZpbHRlcjogb3BhY2l0eSg4OSUpOycgLz4iKSAqKk5vdGUqKsKgOsKgw6DCoGNvbGxlcsKgYWlsbGV1cnMgZGFucyB1biBibG9jLW5vdGVzIHBhciBleGVtcGxlIAoKIyMjIyMgLi4uw6AgcmV0cm91dmVyIGNvbW1lIGQnYXV0cmVzIHZpZXV4IHN1ZG9rdXPCoDogCgpFbnN1aXRlLCBkYW5zIHVuZSAobm91dmVsbGUpIHNlc3Npb24sIGNsaXF1ZXIgZGFucyBfYEVudGVywqBjZWxswqBjb2RlLi4uYF8gdG91dCBlbiBiYXPCoOKGkyBldCBjb2xsZXIgbGUgY29kZSBxdWkgZnV0IGdhcmTDqSAoY2YuIG5vdGUgY2ktZGVzc3VzKS4KRW5maW4sIGxhbmNlciBsZSBjb2RlIGF2ZWMgbGUgYm91dG9uwqDilrYgdG91dCDDoCBkcm9pdGUgKHF1aSBjbGlnbm90ZSBqdXN0ZW1lbnQpLiAKQ2UgdmlldXggc3Vkb2t1IGVzdCByZXN0b3LDqSBlbiBwbGFjZSBkdSBSZXRvdXIgaW5zdGFudGFuw6nCoCEgKGNlbGEgW3JldG91cm5lIGVuwqBoYXV0wqDihpFdKCNNb2RpZmllckluaXQpIGRlIGxhIHBhZ2UpIAoJCiQoaHRtbCI8ZGV0YWlscyBvcGVuPjxzdW1tYXJ5IHN0eWxlPSdsaXN0LXN0eWxlOiBub25lOyc+PGg2IGlkPSdCb251c0FzdHVjZXMnIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazt1c2VyLXNlbGVjdDogbm9uZTsnPiBBdXRyZXMgcGV0aXRlcyBhc3R1Y2VzwqA6PC9oNj48L3N1bW1hcnk+PHN0eWxlPmRldGFpbHNbb3Blbl0gc3VtbWFyeTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIGNhY2hlciknO30gc3VtbWFyeTpub3QoZGV0YWlsc1tvcGVuXSBzdW1tYXJ5KTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIHJldm9pciknO308L3N0eWxlPiIpCiAgIDEuIE1vZGlmaWVyIGxlIHByZW1pZXIgc3Vkb2t1ICjDoCB2aWRlciBzaSBiZXNvaW4sIGdyw6JjZSBhdSBwcmVtaWVyIGNob2l4KSBldCBjb2NoZXIgZW5zdWl0ZSBjZSBxdWUgbCdvbiBzb3VoYWl0ZSB2b2lyIGNvbW1lICoqYWlkZSBvdSBzb2x1dGlvbioqwqA7IGxlIHN1ZG9rdSBkdSBkZXNzb3VzIHLDqXBvbmQgYWluc2kgYXV4IG9yZHJlcy4gQ29jaGVyIGDwn6SrwqBDYWNow6llYCBwb3VyIHJldm9pciBkZXMgaW5kaWNhdGlvbnMgc3VyIGwnZW1wbG9pIGRlcyBjYXNlcyAKICAgMi4gSWwgZXN0IHBvc3NpYmxlIGRlIGJvdWdlciBhdmVjIGxlcyBmbMOoY2hlcywgYWxsZXIgw6AgbGEgbGlnbmUgc3VpdmFudGUgYXV0b21hdGlxdWVtZW50ICjDoCBsYSBfW1NuYWtlXShodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPVNuYWtlKV8pLiBJbCB5IGEgYXVzc2kgZGVzIHJhY2NvdXJjaXMsIGNvbW1lIGBIYMKgPcKgaGF1dCwgYFZgIG91IGBHYMKgPcKgZ2F1Y2hlLCBgRGAgYEpgIGBOYMKgPcKgZHJvaXRlLCBgQmDCoD3CoGJhcy4gTmkgYmVzb2luIGRlIHBhdsOpIG51bcOpcmlxdWUsIG5pIGQnYXBwdXllciBzdXIgX01hanVzY3VsZV8sIGxlcyB0b3VjaGVzIHN1aXZhbnRlcyBzb250IGlkZW5kaXF1ZXMgYDEyMzTCoDU2N8KgODkwYCA9IGBBWkVSwqBUWVXCoElPUGAgPSBgJsOpIifCoCgtw6jCoF/Dp8OgYCAKICAgMy4gT24gcGV1dCAqKnJlbW9udGVyIGxhIHNvbHV0aW9uKiogYXUgbGlldSBkdSBwcmVtaWVyIHN1ZG9rdSBlbiBjbGlxdWFudCBzdXIgbGUgdGV4dGUgW1N1ZG9rdSBpbml0aWFswqDipLTigKZdKCN2YV9ldF92aWVudCkgZXQgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBpbml0aWFsIG1vZGlmaWFibGUgW+KGqsKgQ2xpcXVlcuKApl0oI2xpZ25lbm9udmlzaWJsZSnCoHN1ciBsZSB0ZXh0ZSBxdWkgYXBwYXJhaXQganVzdGUgZW4gZGVzc291cyAKICAgNC4gUG91ciBpbmZvcm1hdGlvbiwgbGEgZm9uY3Rpb24gKip2aWV1eFN1ZG9rdSEqKigpLCBvdSAqKnZpZXV4KiooKSBvdSAqKnZzKiooKSwgc2FucyBwYXJhbcOodHJlIHBlcm1ldCBkZSBnw6luw6lyZXIgdW4gc3Vkb2t1IGFsw6lhdG9pcmUuIEVuIG1ldHRhbnQgdW4gbm9tYnJlLCBwYXIgZXhlbXBsZSAqKnZpZXV4U3Vkb2t1ISg2MioqKcKgOiBjZSBzZXJhIGxlIHRvdGFsIGRlIGNhc2VzIHZpZGVzIGR1IHN1ZG9rdSBhbMOpYXRvaXJlIGNvbnN0cnVpdC4gRW5maW4sIGVuIG1ldHRhbnQgdW4gaW50ZXJ2YWxsZSwgc291cyBsYSBmb3JtZSAqKmTDqWJ1dMKgOsKgZmluKiosIHBhciBleGVtcGxlICoqdmlldXhTdWRva3UhKiooKiowOjgxKiopwqA6IHVuIG5vbWJyZSBhbMOpYXRvaXJlIGRhbnMgY2V0IGludGVydmFsbGUgc2VyYSB1dGlsaXPDqS4gUG91ciBsZXMgc3Vkb2t1cyBhbMOpYXRvaXJlcywgbGUgZmFpdCBkZSByZWNsaXF1ZXIgc3VyIGxlIGJvdXRvbsKg4pa2IGVuIGfDqW7DqHJlIHVuIG5vdXZlYXUgCiAgIDUuIExlIGNvZGUgZGUgY2UgcHJvZ3JhbW1lIGVuIFtfSnVsaWFfXShodHRwczovL2ZyLndpa2lwZWRpYS5vcmcvd2lraS9KdWxpYV8obGFuZ2FnZV9kZV9wcm9ncmFtbWF0aW9uKSkgZXN0IG9ic2VydmFibGUgZW4gY2xpcXVhbnQgZCdhYm9yZCBzdXIgJChodG1sIjxpbnB1dCB0eXBlPWJ1dHRvbiBpZD0ncGx1dG90JyB2YWx1ZT0nQ2VjacKg8J+TnfCfpJMnPiIpIHBvdXIgYmFzY3VsZXIgc3VyIGwnaW50ZXJmYWNlIGRlICRwbHV0b29qbCwgcHVpcyBlbiBjbGlxdWFudCBzdXIgbCfFk2lsIPCfkYEgw6AgY8O0dMOpIGRlIGNoYXF1ZSBjZWxsdWxlLiBJbCBlc3QgYXVzc2kgcG9zc2libGUgZGUgdMOpbMOpY2hhcmdlciBjZSBjYWxlcGluICRjYWxlcGluIG91IGVuICRjYWxld2ViCiQoaHRtbCI8L2RldGFpbHM+IikKJHBvdXJ2b2lycGx1dMO0dCAKJHN0eWzDqWzDoGJhc2F2ZWNib251cwokcG91cmdhcmRlcmxldGVtcHMiIiKrY29kZV9mb2xkZWTD2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMS0xMjM0NTY3ODkwMTCEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDExLTEyMzQ1Njc4OTAxMLBydW5uaW5nX2Rpc2FibGVkwqRjb2RloKtjb2RlX2ZvbGRlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA0LTEyMzQ1Njc4OTAwMoSnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDQtMTIzNDU2Nzg5MDAysHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXaAcdiZWdpbiAKCWJvdXRvblN1ZG9rdUluaXRpYWwgIyBSZW1ldHRyZSBsZSBwdWNlICJNb2RpZmllckluaXQiIHN1ciBSZXRvdXIgaW5zdGFudGFuw6kgOykKCXN1ZG9rdWluaXRpYWwhKCkgIyB2aWV1eFN1ZG9rdSEoU3Vkb2t1TcOpbW9bM10pIFBvdXIgcmVtcGxhY2VyIHBhciBjZWx1aSBtb2RpZmnDqQoJbWQiIiIgJChAYmluZCB2aWRlck91cGFzIHB1Y2VzKFsiVmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwiLCJSZXRvdXIgaW5zdGFudGFuw6kgOykiXSwiUmV0b3VyIGluc3RhbnRhbsOpIDspIjsgaWRQdWNlcz0iTW9kaWZpZXJJbml0IikpICQoaHRtbCLCoDxhIGhyZWY9JyNCb251cycgc3R5bGU9J3BhZGRpbmctbGVmdDogMTBweDsgYm9yZGVyLWxlZnQ6IG1lZGl1bSBkYXNoZWQgIzc3NzsnPkJvbnVzwqBlbsKgYmFzwqDihpM8L2E+IinCoF86wqBhc3R1Y2VzwqArwqB2aWV1eFN1ZG9rdSFfIiIiCmVuZKtjb2RlX2ZvbGRlZMPZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNoSnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDctMTIzNDU2Nzg5MDA2sHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXZaHZpZGVyT3VwYXM7IG1kIiIiIyMjIyAkdmFldHZpZW50IFN1ZG9rdSBpbml0aWFswqDipLQgKG1vZGlmaWFibGUpIGV0IHNhIHNvbHV0aW9uwqA6ICQoaHRtbCI8L3NwYW4+IikgIiIiq2NvZGVfZm9sZGVkw9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAxhKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMi0xMjM0NTY3ODkwMDGwcnVubmluZ19kaXNhYmxlZMKkY29kZdoDq21kIiMgUsOpc291ZHJlIHVuIFN1ZG9rdSBwYXIgQWxleGlzwqAkY29vbCIgIz0gdjEuOC42wqBqZXVkacKgMDcvMDcvMjAyMsKg8J+YiQoKUG91ciBsYSB2dWUgSFRNTCBldCBsZSBzdHlsZSBDU1MsIGNlbGEgZXN0IGluc3BpcsOpIGR1IHN1ZG9rdSBodHRwczovL29ic2VydmFibGVocS5jb20vQGZpbGlwZXJtbGgvaWEtc3Vkb2t1LXBsZTEKUG91ciBsZSBKYXZhU2NyaXB0LCBtZXJjaSDDoCAoY2FzZSBzdWl2YW50ZSBpbnB1dCkgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE1NTk1NzMyLCAodG91Y2hlcyBjbGF2aWVyKSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDQyMTMwMzYKRXQgYmllbiBzw7tyIGxlIGNhbGVwaW4gZCdleGVtcGxlIGRlIEZvbnMgIjMuIEludGVyYWN0aXZpdHkiClBvdXIgaW5mbywgbGUgY29kZSBwcmluY2lwYWwgZXN0IHN0eWzDqWzDoGJhc2F2ZWNib251cyEgb3UgcGx1dMO0dCBjYWNow6kganVzdGUgYXByw6hzIDopCgpDZSAicGx1dG9rdSIgZXN0IHZpc2libGUgc3VywqA6IApodHRwczovL2dpdGh1Yi5jb20vNExEL3BsdXRva3UKClBvdXIgbGUgcmVsYW5jZXIgcG91ciBpbmZvwqA6IApodHRwczovL215YmluZGVyLm9yZy92Mi9naC9mb25zcC9wbHV0by1vbi1iaW5kZXIvSEVBRD91cmxwYXRoPXBsdXRvL29wZW4/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS80TEQvcGx1dG9rdS9tYWluL1BsdXRva3UuamwKT3UgY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9mb25zcC9QbHV0by5qbCBldCBodHRwczovL2dpdGh1Yi5jb20vZm9uc3AvcGx1dG8tb24tYmluZGVyIDogCmh0dHBzOi8vYmluZGVyLnBsdXRvamwub3JnL29wZW4/dXJsPWh0dHBzOiUyNTJGJTI1MkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTI1MkY0TEQlMjUyRnBsdXRva3UlMjUyRm1haW4lMjUyRlBsdXRva3UuamwgCgo9I6tjb2RlX2ZvbGRlZMPZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNYSnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1sHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXZwmJlZ2luCgljaG9peFN1ZG9rdSA9ICghaXNhKHZpZGVyT3VwYXMsIFN0cmluZykgfHwgdmlkZXJPdXBhcyAhPSAiVmlkZXIgbGUgc3Vkb2t1IGluaXRpYWwiIAkJICA/ICAyICA6ICAxICApCglAYmluZCBiaW5kSlN1ZG9rdSBCb25kSmFtZXNCb25kKFN1ZGluaShTdWRva3VNw6ltbywgY2hvaXhTdWRva3UpLCBTdWRva3VNw6ltb1szXSkKZW5kq2NvZGVfZm9sZGVkw9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAzhKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDOwcnVubmluZ19kaXNhYmxlZMKkY29kZdnJbWQiIiJQb3VyIGNldHRlIHNlc3Npb24sIHNpIGJlc29pbiBkJ3VuIDogJChAYmluZCBib3V0b25TdWRva3VJbml0aWFsIGh0bWwiPGlucHV0IHR5cGU9YnV0dG9uIHN0eWxlPSdtYXJnaW46IDAgNnB4IDAgNnB4JyB2YWx1ZT0n8J+TtyBpbnN0YW50YW7DqSA7KSc+IikgKihzacKgc3Vkb2t1wqB2aWRlwqDihpLCoHN1ZG9rdcKgYWzDqWF0b2lyZSkqIiIiq2NvZGVfZm9sZGVkw6tub3RlYm9va19pZNkkMWVmZjA1ODgtNzU5YS0xMWVkLTA2YTUtNDFkNmNhYWUwOTI3q2luX3RlbXBfZGlywg==";
window.pluto_preamble_html = undefined;
</script>
<!-- [automatically generated launch parameters can be inserted here] -->


    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/editor.js" type="module" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/warn_old_browsers.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/common/SetupMathJax.js"></script>
    <script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg-full.js" async></script>
</head>

<body class="loading no-MÎ±Î¸Jax"></body>
</html>
