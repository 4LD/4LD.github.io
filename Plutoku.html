<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width" />
    <title>âš¡ Pluto.jl âš¡</title>
    <meta charset="utf-8" />
    <script>
        console.log(
            "Pluto.jl, by Fons van der Plas (https://github.com/fonsp), MikoÅ‚aj Bochenski (https://github.com/malyvsen), Michiel Dral (https://github.com/dralletje) and friends ðŸŒˆ"
        )
    </script>
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#2a2928">
    <meta name="color-scheme" content="light dark">

    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon-96x96.png" />
    <meta name="description" content="Pluto.jl notebooks" />
    <link rel="pluto-logo-big" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/logo.svg" />
    <link rel="pluto-logo-small" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/img/favicon_unsaturated.svg" />

    <link rel="pluto-sw" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/sw.js" />
    <script>
        navigator.serviceWorker?.register(document.head.querySelector("link[rel='pluto-sw']").getAttribute("href"), { scope: "./" }).catch(console.warn)
    </script>

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@observablehq/stdlib@3.3.1/dist/stdlib.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/iframe-resizer@4.2.11/js/iframeResizer.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/ansi_up@5.0.1/ansi_up.min.js" defer></script>

    <!-- This doesn't do anything unless activated, and it makes sure parcel bundles this -->
    <script id="iframe-resizer-content-window-script" src="https://cdn.jsdelivr.net/npm/iframe-resizer@4.2.11/js/iframeResizer.contentWindow.min.js" crossorigin="anonymous" defer></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/editor.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/hide-ui.css" type="text/css" media="all" data-pluto-file="hide-ui" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/binder.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/treeview.css" type="text/css" />
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/juliamono.css" as="style" />
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/vollkorn.css" as="style" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/highlightjs.css" type="text/css">

    <script data-pluto-file="launch-parameters">
window.pluto_notebook_id = undefined;
window.pluto_isolated_cell_ids = undefined;
window.pluto_notebookfile = "data:text/julia;charset=utf-8;base64,IyMjIEEgUGx1dG8uamwgbm90ZWJvb2sgIyMjCiMgdjAuMTkuMTYKCnVzaW5nIE1hcmtkb3duCnVzaW5nIEludGVyYWN0aXZlVXRpbHMKCiMgVGhpcyBQbHV0byBub3RlYm9vayB1c2VzIEBiaW5kIGZvciBpbnRlcmFjdGl2aXR5LiBXaGVuIHJ1bm5pbmcgdGhpcyBub3RlYm9vayBvdXRzaWRlIG9mIFBsdXRvLCB0aGUgZm9sbG93aW5nICdtb2NrIHZlcnNpb24nIG9mIEBiaW5kIGdpdmVzIGJvdW5kIHZhcmlhYmxlcyBhIGRlZmF1bHQgdmFsdWUgKGluc3RlYWQgb2YgYW4gZXJyb3IpLgptYWNybyBiaW5kKGRlZiwgZWxlbWVudCkKICAgIHF1b3RlCiAgICAgICAgbG9jYWwgaXYgPSB0cnkgQmFzZS5sb2FkZWRfbW9kdWxlc1tCYXNlLlBrZ0lkKEJhc2UuVVVJRCgiNmU2OTZjNzItNjU0Mi0yMDY3LTcyNjUtNDIyMDZjNzU2MTUwIiksICJBYnN0cmFjdFBsdXRvRGluZ2V0amVzIildLkJvbmRzLmluaXRpYWxfdmFsdWUgY2F0Y2g7IGIgLT4gbWlzc2luZzsgZW5kCiAgICAgICAgbG9jYWwgZWwgPSAkKGVzYyhlbGVtZW50KSkKICAgICAgICBnbG9iYWwgJChlc2MoZGVmKSkgPSBDb3JlLmFwcGxpY2FibGUoQmFzZS5nZXQsIGVsKSA/IEJhc2UuZ2V0KGVsKSA6IGl2KGVsKQogICAgICAgIGVsCiAgICBlbmQKZW5kCgojIOKVlOKVkOKVoSBhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTEKYmVnaW4gCgkjIEBiaW5kIGJpbmRKU3Vkb2t1IFN1ZGluaSAjIGV0IHNvbiBqYXZhc2NyaXB0IGVzdCBpbmNsdXMgYXUgcGx1cyBoYXV0CgkjIHN0eWzDqWzDoGJhc2F2ZWNib251cyEgIyMgdm9pciBqdXN0ZSBkYW5zIGxhIGNlbGx1bGUgI0JvbnVzIGF1IGRlc3N1cyDihpEKCWNvbnN0IMOgY29ycmlnZXIgPSAi8J+YnCBNZXJjaSBkZSBjb3JyaWdlciBsZSBTdWRva3UiLCBtZCIiIiMjIyMjIPCfmJwgTWVyY2kgZGUgcmV2b2lyIGxlIFN1ZG9rdSBtb2RpZmlhYmxlLCBpbCBuJ2VzdCBwYXMgY29uZm9ybWUgOiAKCQlFbiBlZmZldCwgaWwgZG9pdCB5IGF2b2lyICoqdW4gY2hpZmZyZSBlbiBkb3VibGUqKiBhdSBtb2lucyBzdXIgdW5lIGxpZ25lIG91IGNvbG9ubmUgb3UgY2FycsOpIPCfmIQiIiIKCWNvbnN0IGltcG9zc2libGUgPSAi8J+nkCBTdWRva3UgZmF1eCBldCBpbXBvc3NpYmxlIiwgbWQiIiIjIyMjIyDwn6eQIFN1ZG9rdSBmYXV4IGV0IGltcG9zc2libGUgw6AgcsOpc291ZHJlIDoKCQlTaSBjZSBuJ2VzdCBwYXMgbGUgY2FzLCByZXbDqXJpZmllciBsZSBTdWRva3UgbW9kaWZpYWJsZSwgY2FyIGNlbHVpLWNpIG4nYSBwYXMgZGUgc29sdXRpb24iIiIKCXRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKSA9IG1hdHJpY2XDoGxpc3RlSlMobVMpLCBtZCIqKlN0YXRpc3RpcXVlc8KgOioqIGNlIHByb2dyYW1tZSBmYWl0ICoqJG5iQ2hvaXhmYWl0IGNob2l4KiogZXQgXyRuYlRvdXJzVG90YWwgJCgobmJUb3Vyc1RvdGFsPjEpID8gOnRvdXJzIDogOnRvdXIpXyBwb3VyIHLDqXNvdWRyZSBjZSBzdWRva3UiCgljb25zdCBmb290aXggPSAiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXNmb290XCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNsaWNrXCIpKSIKCQoJY29uc3Qgc2V0MTkgPSBTZXQoMTo5KSAjIFBvdXIgbmUgcGFzIGxlIHJlY2FsY3VsZXIgw6AgY2hhcXVlIGZvaXMKCWNvbnN0IGNvb2wgPSBodG1sIjxzcGFuIGlkPSdCTicgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyc+8J+Yjjwvc3Bhbj4iCglqc3ZkKCkgPSBmaWxsKGZpbGwoMCw5KSw5KSAjIEpTdmlkZSBvdSBKQ1ZEIF5eIHBzZXVkbyBjb25zdAoJdXNpbmcgUmFuZG9tOiBzaHVmZmxlISAjIEFzdHVjZSBwb3VyIMOqdHJlIGVuY29yZSBwbHVzIHJhcGlkZSA9IEZhc3QgJiBGdXJpb3VzCgkjIyBzaHVmZmxlISh4KSA9IHggIyMgU2kgYmVzb2luLCBtYWlzLi4uIEV2ZXJ5ZGF5IEkgc2h1ZmZsaW5nICEgKGRpeGl0IExNRkFPKQoJCglzdHJ1Y3QgQm9uZEphbWVzQm9uZCAjIyBCb25kRGVmYXVsdChlbGVtZW50LCBkZWZhdWx0KSAjIyMgcG91ciBCYXNlLmdldCgpIGV0IEBiaW5kCgkJb283ICMgZWxlbWVudCAJIAkJCSAjIyMgQm9uZCAow6AgYmluZGVyKQoJCXZvZGthTWFydGluaSAjIGRlZmF1bHQgCQkgIyMjIHVuIGTDqWZhdXQgXl4KCWVuZCAjIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci9wdWxsLzExCglCYXNlLnNob3coaW86OklPLCBtOjpNSU1FInRleHQvaHRtbCIsIGJkOjpCb25kSmFtZXNCb25kKSA9IAoJCUJhc2Uuc2hvdyhpbyxtLCBiZC5vbzcpCglCYXNlLmdldChiZDo6Qm9uZEphbWVzQm9uZCkgPSBiZC52b2RrYU1hcnRpbmkgCgoJU3Vkb2t1TcOpbW8gPSBwdXNoZmlyc3QhKHJlcGVhdChbW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwxLDIsMyw0LDUsMCwwLDBdLFswLDIsMCwwLDMsMCw2LDAsMF0sWzAsMyw0LDUsNiwwLDAsNywwXSxbMCw2LDAsMCw3LDAsOCwwLDBdLFswLDcsMCwwLDgsOSwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdXV0sIDMpLCAKCQlqc3ZkKCkpICMgRW4gdHJpcGxlIHBvdXIgZ2FyZGVyIG1lcyBpbml0aWFsKGUpcyBeXgoJbGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1OjpWZWN0b3J7VmVjdG9ye0ludH19KSA9IGhjYXQoSlN1ZG9rdS4uLikgIycgZW4gcGluYWlsbGFudAoJCWpzbSA9IGxpc3RlSlPDoG1hdHJpY2UgIyMgbWluaSB2ZXJzaW9uCgltYXRyaWNlw6BsaXN0ZUpTKG1hdCxkPTkpID0gW21hdFs6LGldIGZvciBpIGluIDE6ZF0gI0kgd2lsbCBiZSBiYWNrISAjIyBtYXQzIGF1c3NpCgkJbWpzID0gbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24KCSMjIyBtYXRyaWNlw6BsaXN0ZUpTKGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkpID09IEpTdWRva3UgIyMgRXQgaW52ZXJzZW1lbnQKCSMgbmJjbShtYXQpID0gY291bnQoPigwKSwgbWF0ICkgIyBOb21icmUgZGUgY2hpZmZyZXMgPiAwIGRhbnMgdW5lIG1hdHJpY2UKCSMgbmJjaihsanMpID0gY291bnQoPigwKSwgbGlzdGVKU8OgbWF0cmljZShsanMpICkgIyBpZGVtIHBvdXIgdW5lIGxpc3RlIEpTCglrZWxjYXJyw6koaTo6SW50LGo6OkludCkgPSAxKyAzKmRpdihpLTEsMykgKyBkaXYoai0xLDMpICMgbsKwIGR1IGNhcnLDqSBkdSBzdWRva3UKCWNhcnLDqShpOjpJbnQsajo6SW50KT0gMStkaXYoaS0xLDMpKjM6MytkaXYoaS0xLDMpKjMsIDErZGl2KGotMSwzKSozOjMrZGl2KGotMSwzKSozICMgcGVybWV0IGRlIGZhYnJpcXVlciBsZXMgZmlsdHJlcyBwb3VyIG5lIHJlZ2FyZGVyIHF1J3VuIHNldWwgY2FycsOpCgljYXJyKGk6OkludCk9IDErZGl2KGktMSwzKSozOjMrZGl2KGktMSwzKSozICMgZmlsdHJlIGNhcnLDqSDDoCBtb2l0aSAgICDDqSAhCgl2dWVzKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSAodmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSApICMgbGlzdGUgY2hpZmZyZXMgcG9zc2libGVzIHBhciBsaWduZXMvY29sb25uZXMvY2FycsOpcwoJbGlzdGVjYXJyw6kobWF0OjpBcnJheXtJbnQsMn0pPSBbdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSBmb3IgaSBpbiAxOjM6OSBmb3IgaiBpbiAxOjM6OV0gIyBMYSBsaXN0ZSBkZSB0b3VzIGxlcyBjYXJyw6lzIGR1IHN1ZG9rdQoJdHVwbGVjYXJyw6koaWk6OlVuaXRSYW5nZXtJbnR9LGpqOjpVbml0UmFuZ2V7SW50fSAjPSxzZXRpajo6U2V0e1R1cGxle0ludCxJbnR9fT0jKT0gWyhpLGopIGZvciBpIGluIGlpLCBqIGluIGpqXSAjaWYgKGksaikg4oiJIHNldGlqXQoJc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSBzZXRkaWZmKHNldDE5LHZpZXcobWF0LGksOiksIHZpZXcobWF0LDosaiksIHZpZXcobWF0LGNhcnIoaSksY2FycihqKSkpICMgY2FzZSBpLGoKCSMjIyBzZXRkaWZmKHNldDE5LHZ1ZXMobWF0LGksaikuLi4pICMgUG91ciB1bmUgY2FzZSBlbiBpLGoKCWNoaWZmcmVQb3NzaWJsZShtYXQ6OkFycmF5e0ludCwyfSxpOjpJbnQsajo6SW50LGxpbXA6OlNldHtJbnR9LCBpaT1jYXJyKGkpOjpVbml0UmFuZ2V7SW50fSwgamo9Y2FycihqKTo6VW5pdFJhbmdle0ludH0pPSBzZXRkaWZmKHNldDE5LGxpbXAsdmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsIGlpLGpqKSkgIyBQbHVzIGZpbgoKCWZ1bmN0aW9uIHbDqXJpZlN1ZG9rdUJvbihtYXQ6OkFycmF5e0ludCwyfSkgIyBWw6lyaWZpZSBzaSBsZSBzdWRva3UgZXN0IHLDqWdsbwoJCWxlc2NhcnLDqXMgPSBsaXN0ZWNhcnLDqShtYXQpCgkJZm9yIHggaW4gMTo5ICMgUG91ciB0b3VzIGxlcyBjaGlmZnJlcyBkZSAxIMOgIDkuLi4KCQkJZm9yIGkgaW4gMTo5ICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1bmUgbGlnbmUgb3UgdW5lIGNvbG9ubmUgPwoJCQkJaWYgY291bnQoPT0oeCksIG1hdFtpLDpdKT4xIHx8IGNvdW50KD09KHgpLCBtYXRbOixpXSk+MQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVuZAoJCQlmb3IgYyBpbiBsZXNjYXJyw6lzICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1biBjYXJyw6kgPwoJCQkJaWYgY291bnQoPT0oeCksIGMpPjEKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCWVuZAoJCQllbmQKCQllbmQKCQlyZXR1cm4gdHJ1ZSAjIExlIHN1ZG9rdSBzZW1ibGUgY29uZm9ybWUgKG1haXMgaWwgcGV1dCDDqnRyZSBpbXBvc3NpYmxlKQoJZW5kIAoJZnVuY3Rpb24gc2FjIShuOjpJbnQsIGw6OkludCwgazo6SW50LCBpaTo6VW5pdFJhbmdle0ludH0sIGpqOjpVbml0UmFuZ2V7SW50fSwgbGlzdGVwb3NzaWJsZXM6OlNldHtJbnR9LCBmdXNpYmxlczo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljbzo6RGljdHtJbnQsRGljdHtJbnQsSW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAjIGNvbXB0ZSBsJ29jY3VyZW5jZSBkJ3VuIGNoaWZmcmUgcG91ci4uLiBjZi4gdW5pY2xrIQoJICMgcG91ciBsaWduZSBldCBjb2xvbm5lCgkgZ2V0IShkaWNvLCBuLCBEaWN0e0ludCxJbnR9KCkgKSAjIGRpY28gOiBwb3NpYmlsaXTDqXMgcGFyIGNvbG9ubmUvbGlnbmUKCSBnZXQhKGRpbG8sIG4sIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUvY29sb25uZSDimbsKCSBnZXQhKGRpa28sIG4sIERpY3R7SW50LEludH0oKSApICMgZGlrbyA6IGNhcnLDqSBxdWkgZGV2cmEgc3VwcHIuIGxhIHBvc3NpYmlsaXTDqQoJIGdldCEoZnVzaWJsZXMsIG4sIFNldHtJbnR9KCkgKSAjIGZ1c2libGVzIDogbsKwIGTDqWrDoCBncmlsbMOpcwoJIGZvciBuZSBpbiBzZXRkaWZmKGxpc3RlcG9zc2libGVzLGZ1c2libGVzW25dKSAjCgkJZGljb1tuXVtuZV0gPSBnZXQoZGljb1tuXSwgbmUsIDApICsgMQoJCWlmIGRpY29bbl1bbmVdID09IDEgCgkJCWRpa29bbl1bbmVdID0gayAKCQkJZGlsb1tuXVtuZV0gPSAobCwgaWksIGpqKQoJCWVsc2VpZiBkaWNvW25dW25lXSA+IDMgfHwgZGlrb1tuXVtuZV0gIT0gayAKCQkJcHVzaCEoZnVzaWJsZXNbbl0sIG5lKSAKCQkJZGVsZXRlIShkaWNvW25dLCBuZSkgCgkJZW5kCgkgZW5kCgllbmQKCWZ1bmN0aW9uIHNhayEoaTo6SW50LCBqOjpJbnQsIGs6OkludCwgaWk6OlVuaXRSYW5nZXtJbnR9LCBqajo6VW5pdFJhbmdle0ludH0sIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSwgZnVzaWJsZXM6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpY286OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAKCSAjIGlkZW0gcG91ciBsZXMga2FycsOpcyA7KQoJIGdldCEoZGlrbywgaywgRGljdHtJbnQsSW50fSgpICkgIyBkaWtvIDogcG9zc2liaWxpdMOpIHBhciBrYXJyw6kKCSBnZXQhKGRpY28sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWNvIDogY29sb25uZSDimbsKCSBnZXQhKGRpbG8sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUg4pm7CgkgZ2V0IShmdXNpYmxlcywgaywgU2V0e0ludH0oKSApICMgZnVzaWJsZXMgOiBuwrAgZMOpasOgIGdyaWxsw6lzCgkgZm9yIG5lIGluIHNldGRpZmYobGlzdGVwb3NzaWJsZXMsZnVzaWJsZXNba10pICMKCQlkaWtvW2tdW25lXSA9IGdldChkaWtvW2tdLCBuZSwgMCkgKyAxCgkJaWYgZGlrb1trXVtuZV0gPT0gMSAKCQkJZGljb1trXVtuZV0gPSAoaiwgaWkpCgkJCWRpbG9ba11bbmVdID0gKGksIGpqKQoJCWVsc2VpZiBkaWtvW2tdW25lXSA+IDMgfHwgKGRpY29ba11bbmVdWzFdICE9IGogJiYgZGlsb1trXVtuZV1bMV0gIT0gaSkKCQkJcHVzaCEoZnVzaWJsZXNba10sIG5lKSAKCQkJZGVsZXRlIShkaWtvW2tdLCBuZSkgCgkJZWxzZWlmIGRpY29ba11bbmVdWzFdICE9IGoKCQkJZGljb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBjb2xvbm5lCgkJZWxzZWlmIGRpbG9ba11bbmVdWzFdICE9IGkKCQkJZGlsb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBsaWduZQoJCWVuZAoJIGVuZAoJZW5kCglmdW5jdGlvbiB1bmljbGshKGRpY2xvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19ICxkaWNjbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWNrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxsbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxjbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSwgZGlsa286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlrbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2NvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fX19LCBkaWtrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBtYXQ6OkFycmF5e0ludCwyfSwgZGltcDo6RGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19LCBkaWNvcsOpemxpZzo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjb2w6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y2FyOjpEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0sIGxlc1rDqXJvc8OgU3VwcHI6OlNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19LCDDp2FOYXZhbmNlUGFzOjpCb29sKSAjLi4uIHZvaXIgc2kgdW4gY2hpZmZyZSBlc3Qgc2V1bCAob3UgdW5pcXVlbWVudCBzdXIgdW5lIG3Dqm1lIGxpZ25lLCBjb2wuLi4pLiBDYXIgcGFyIGV4ZW1wbGUsIHMnaWwgYXBwYXJhw650IHVuZSBzZXVsZSBmb2lzIHN1ciBsYSBsaWduZSA6IGMnZXN0IHF1J2lsIG5lIHBldXQgcXUnw6p0cmUgbMOgIF5eCgkjIEF1dHJlcyBleGVtcGxlLCBzaSBkYW5zIHVuZSBsaWduZSwgaWwgbid5IGEgZCdvY2N1cmVuY2UgcXVlIGRhbnMgdW4gZGVzIDMgY2FycsOpLCBpbCBuZSBwb3VycmEgcGFzIMOqdHJlIGFpbGxldXJzIGRhbnMgbGUgY2FycsOpLgoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCW1hdFtkaWNsb1tqXVtuXVsxXSxqXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWNsb1tqXVtuXVsxXSwgaiwgZGlja29bal1bbl0sIGRpY2xvW2pdW25dWzJdLCBkaWNsb1tqXVtuXVszXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2RpY2xvW2pdW25dWzFdXSwgaikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjb2xbal0sIGRpY2xvW2pdW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sIChkaWNsb1tqXVtuXVsxXSwgaikgKQoJCQkJaGFza2V5KGRpbGxvLCBkaWNsb1tqXVtuXVsxXSkgJiYgZGVsZXRlIShkaWxsb1tkaWNsb1tqXVtuXVsxXV0sIG4pCgkJCQloYXNrZXkoZGlra28sIGRpY2tvW2pdW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpY2tvW2pdW25dXSwgbikKCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsIGNvbCkgaW4gc2V0ZGlmZihkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sICgoaSwgaikgZm9yIGkgaW4gZGljbG9bal1bbl1bMl0pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKSAjIMOnYU5hdmFuY2VQYXMgJiBkaW1wID8KCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGksZGwpIGluIGRpbGxvICMgcG91ciBsZXMgbGlnbmVzCgkJZm9yIChuLHYpIGluIGRsCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2ksZGlsY29baV1bbl1bMV1dID0gbgoJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksIGRpbGNvW2ldW25dWzFdLCBkaWxrb1tpXVtuXSwgZGlsY29baV1bbl1bMl0sIGRpbGNvW2ldW25dWzNdKSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0sIGRpbGNvW2ldW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtkaWxjb1tpXVtuXVsxXV0sIGkpCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2RpbGtvW2ldW25dXSwoaSwgZGlsY29baV1bbl1bMV0pICkKCQkJCSMgaGFza2V5KGRpY2NvLGRpY29baV1bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1tpXVtuXVsxXV0sIG4pICNzaW8KCQkJCWhhc2tleShkaWtrbyxkaWxrb1tpXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWxrb1tpXVtuXV0sIG4pCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWZvciAobGlnLCBjb2wpIGluIHNldGRpZmYoZGljb3LDqXpjYXJbZGlsa29baV1bbl1dLCAoKGksIGopIGZvciBqIGluIGRpbGNvW2ldW25dWzNdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGssZGspIGluIGRpa2tvICMgcG91ciBsZXMga2FycsOpCgkJZm9yIChuLHYpIGluIGRrCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2Rpa2xvW2tdW25dWzFdLGRpa2NvW2tdW25dWzFdXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWtsb1trXVtuXVsxXSwgZGlrY29ba11bbl1bMV0sIGssIGRpa2NvW2tdW25dWzJdLCBkaWtsb1trXVtuXVsyXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2tdLCAoZGlrbG9ba11bbl1bMV0sIGRpa2NvW2tdW25dWzFdKSApCgkJCQkjIGhhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjIGhhc2tleShkaWNjbyxkaWNvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpY2NvW2RpY29ba11bbl1bMV1dLCBuKSAjcmRlCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWlmIGRpa2NvW2tdW25dWzFdID09IDAgCgkJCQkJZm9yIGNvbCBpbiBzZXRkaWZmKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGRpa2NvW2tdW25dWzFdKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgcmV0dXJuIMOnYU5hdmFuY2VQYXMKCWVuZAoJZnVuY3Rpb24gTFVuaWNsayEoZGljbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0sIGRpY2NvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpY2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGxvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGNvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19LCBkaWxrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWtsbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX19fSwgZGlrY286OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbXA6OkRpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSkgIyB1bmljbGshIHBvdXIgaHRtbFN1ZG9rdVByb3BhbAoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCSMgKGRpY2xvW2pdW25dWzFdLGosZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10pCgkJCQlpLGssIGlpLGpqID0gZGljbG9bal1bbl1bMV0sZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJaGFza2V5KGRpbGxvLGRpY2xvW2pdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpY2xvW2pdW25dWzFdXSwgbikKCQkJCWhhc2tleShkaWtrbyxkaWNrb1tqXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWNrb1tqXVtuXV0sIG4pCgkJCQkjIMOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsY29sKSBpbiBzZXRkaWZmKHR1cGxlY2FycsOpKGRpY2xvW2pdW25dWzJdLGRpY2xvW2pdW25dWzNdKSwgKChpLGopIGZvciBpIGluIGRpY2xvW2pdW25dWzJdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikgIyDDp2FOYXZhbmNlUGFzIGRpbXAgPwoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoaSxkbCkgaW4gZGlsbG8gIyBwb3VyIGxlcyBsaWduZXMKCQlmb3IgKG4sdikgaW4gZGwKCQkJaWYgdiA9PSAxCgkJCQkjIChpLGRpbGNvW2ldW25dWzFdLGRpbGtvW2ldW25dLGRpbGNvW2ldW25dWzJdLGRpbGNvW2ldW25dWzNdKQoJCQkJaiwgaywgaWksIGpqID0gZGlsY29baV1bbl1bMV0sZGlsa29baV1bbl0sZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJIyBoYXNrZXkoZGljY28sZGljb1tpXVtuXVsxXSkgJiYgZGVsZXRlIShkaWNjb1tkaWNvW2ldW25dWzFdXSwgbikgI3NpbwoJCQkJaGFza2V5KGRpa2tvLGRpbGtvW2ldW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpbGtvW2ldW25dXSwgbikKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlmb3IgKGxpZyxjb2wpIGluIHNldGRpZmYodHVwbGVjYXJyw6koZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10pLCAoKGksaikgZm9yIGogaW4gZGlsY29baV1bbl1bM10pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoayxkaykgaW4gZGlra28gIyBwb3VyIGxlcyBrYXJyw6kKCQlmb3IgKG4sdikgaW4gZGsKCQkJaWYgdiA9PSAxCgkJCQkjIChkaWtsb1trXVtuXVsxXSxkaWtjb1trXVtuXVsxXSxrLGRpa2NvW2tdW25dWzJdLGRpa2xvW2tdW25dWzJdKQoJCQkJaSwgaiwgaWksIGpqID0gZGlrbG9ba11bbl1bMV0sZGlrY29ba11bbl1bMV0sZGlrY29ba11bbl1bMl0sZGlrbG9ba11bbl1bMl0KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJI2hhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjaGFza2V5KGRpY2NvLGRpY29ba11bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1trXVtuXVsxXV0sIG4pICNyZGUKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlpZiBkaWtjb1trXVtuXVsxXSA9PSAwIAoJCQkJCWZvciBjb2wgaW4gc2V0ZGlmZihzZXQxOSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKHNldDE5LCBkaWtjb1trXVtuXVsyXSkKCQkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsZGlrY29ba11bbl1bMV0pLFNldHtJbnR9KCkgKSwgbikKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQgIyByZXR1cm4gw6dhTmF2YW5jZVBhcwoJIHJldHVybiBub3RoaW5nCgllbmQKCWZ1bmN0aW9uIHBhc0Fzc2V6RGVQcm9wYWwhKGk6OkludCxqOjpJbnQsIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSxkaWN0Q2hlY2tMaTo6RGljdHtTZXR7SW50fSwgU2V0e0ludH19LGRpY3RDaGVja0NqOjpEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0sZGljdENoZWNrQ2FycsOpOjpEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19fSxOaW1wOjpEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0pICMsIHNldGxpZzo6U2V0e0ludH09c2V0MTksIHNldGNvbDo6U2V0e0ludH09c2V0MTkpICMjLCBpaTo6VW5pdFJhbmdle0ludH09Y2FycihpKSwgamo6OlVuaXRSYW5nZXtJbnR9PWNhcnIoaiksIHNldGNhcjo6U2V0e1R1cGxle0ludCxJbnR9fT1TZXQodHVwbGVjYXJyw6koaWksamopKSApIAoJIyBJY2kgbCdpZMOpZSBlc3QgZGUgdm9pciBzJ2lsIHkgYSBwbHVzIGNoaWZmcmVzIMOgIG1ldHRyZSBxdWUgZGUgY2FzZXMgOiBlbiByZWdhcmRhbnQgdG91dCAhIGVudHJlIGRldXggY2FzZXMsIHRyb2lzIGNhc2VzLi4uIHN1ciBsYSBsaWduZSwgY29sb25uZSwgY2FycsOpIF5eCgkjIEJyZWYsIHMnaWwgbid5IGEgcGFzIGFzc2V6IGRlIHByb3Bvc2l0aW9ucyBwb3VyIGxlcyBjaGlmZnJlcyDDoCBjYXNlciBjJ2VzdCB2cmFpCgkjIEMnZXN0IHBhcyBmYXV4IDogZG9uYyDDp2EgdmEuIAoJIyBEZSBwbHVzLCBzaSB1biAoZW5zZW1ibGUgZGUpIGNoaWZmcmUgZXN0IHBvc3NpYmxlIHF1ZSBzdXIgY2VydGFpbmVzIGNlbGx1bGVzLCBjZWxhIGxlIHJldGlyZSBkdSByZXN0ZSAoZW4gZ2FyZGFudCB2aWEgbGEgbWF0cmljZSBOaW1wKS4gUGFyIGV4ZW1wbGUsIHN1ciB1bmUgbGlnbmUsIG9uIGEgMSDDoCA4LCBsYSBkZXJuacOocmUgY2VsbHVsZSBuZSBwZXV0IHF1ZSDDqnRyZSA5IC0+IGdyw6JjZSDDoCBOaW1wLCBvbiByZXRpcmUgbGUgOSBkZXMgcG9zc2liaWxpdMOpcyBkZSB0b3V0ZXMgbGVzIGNlbGx1bGVzIGRlIGxhIGNvbG9ubmUsIGR1IGNhcnLDqSAoZXQgZGUgbGEgbGlnbmUuLi4pIHNhdWYgcG91ciBjZXR0ZSBkZXJuacOocmUgY2VsbHVsZSBqdXN0ZW1lbnQgXl4KCSMgQ2VsYSBwZXJtZXQgZGUgbGltaXRlciBsZXMgcG9zc2liaWxpdMOpcyBwb3VyIMOpdml0ZXIgYXUgbWlldXggbGVzIGN1bHMgZGUgc2FjIQoJIyBFdGFudCBxdWFuZC1tw6ptZSB1biBwZXUgdHJvcCBsb3VyZCwgaWwgZmF1dCBsJ3V0aWxpc2VyIHF1ZSBzaSBiZXNvaW4KCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDaikgIyBkaWNvICMgUG91ciBsZXMgY29sb25uZXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChpKSwgZ2V0KGRpY3RDaGVja0NqLCBraywgU2V0e0ludH0oKSApKSAKCQkJCWlmIGxlbmd0aChraykgPT0gbGVuZ3RoKHZ2KQoJCQkJCSMgTGVzIGNoaWZmcmVzIGtrIHNvbnQgw6AgcmV0aXJlciBkZSB0b3V0ZSBsYSBjb2xvbm5lIHNhdWYgYXV4IGtrCgkJCQkJZm9yIGxpbXAgaW4gc2V0ZGlmZihzZXQxOSwgdnYpCgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsaiksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2pba2tdID0gdnYKCQkJZWxzZSAKCQkJCXJldHVybiB0cnVlCgkJCWVuZAoJCWVuZAkKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tMaSkgIyBkaWxpICMgUG91ciBsZXMgbGlnbmVzCgkJCWtrID0gdW5pb24oayxsaXN0ZXBvc3NpYmxlcykKCQkJaWYgbGVuZ3RoKGtrKSA+IGxlbmd0aCh2KQoJCQkJdnYgPSB1bmlvbih2LCBTZXQoaiksIGdldChkaWN0Q2hlY2tMaSwga2ssIFNldHtJbnR9KCkgKSApIAoJCQkJaWYgbGVuZ3RoKGtrKSA9PSBsZW5ndGgodnYpCgkJCQkJIyBMZXMgY2hpZmZyZXMga2sgc29udCDDoCByZXRpcmVyIGRlIHRvdXRlIGxhIGxpZ25lIHNhdWYgYXV4IGtrIAoJCQkJCWZvciBsaW1wIGluIHNldGRpZmYoc2V0MTksIHZ2KQoJCQkJCQl1bmlvbiEoZ2V0IShOaW1wLChpLGxpbXApLFNldHtJbnR9KCkgKSwga2spCgkJCQkJZW5kCgkJCQllbmQKCQkJCWRpY3RDaGVja0xpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDYXJyw6kpICMgZGljYSAjIFBvdXIgbGVzIGNhcnLDqXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChbKGksaildKSwgZ2V0KGRpY3RDaGVja0NhcnLDqSwga2ssIFNldHtUdXBsZXtJbnQsSW50fX0oKSApICkgCgkJCQlpZiBsZW5ndGgoa2spID09IGxlbmd0aCh2dikKCQkJCQlmb3IgKGxpbXAsbGptcCkgaW4gc2V0ZGlmZihTZXQodHVwbGVjYXJyw6koY2FycihpKSxjYXJyKGopKSksIHZ2KSAjc2V0Y2FyLHZ2CgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsbGptcCksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2FycsOpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQJCgkJZ2V0IShkaWN0Q2hlY2tMaSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBqICkgKQoJCWdldCEoZGljdENoZWNrQ2osbGlzdGVwb3NzaWJsZXMsIFNldCggaSApICkKCQlnZXQhKGRpY3RDaGVja0NhcnLDqSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBbKGksaildICkgKQoJCXJldHVybiBmYWxzZQoJZW5kCglmdW5jdGlvbiBwdWNlcyhsaXN0ZSwgdmFsZMOpZmF1dD1ub3RoaW5nIDsgaWRQdWNlcz0icCIqc3RyaW5nKHJhbmQoSW50KSksIGNsYXNzZT0iIikgIyBQZXJtZXQgZGUgZmFpcmUgZGVzIHB1Y2VzIGVuIEhUTUwgcG91ciBmYWlyZSB1biBjaG9peCB1bmlxdWUKCSMgU2kgIvCfpKvCoENhY2jDqWUiIGNvY2jDqWUsIGNlbGEgZmxvdXRlIGxlcyBwdWNlcyBkdSBkZXNzb3VzIChQb3NzaWJsZXNFdFNvbHV0aW9uKQoJCWTDqWJ1dCA9ICI8c3BhbiBpZD0nJGlkUHVjZXMnICIgKihjbGFzc2U9PSIiID8gIj4iIDogImNsYXNzPSckY2xhc3NlJz4iKQoJCWZpbiA9ICI8L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJyRpZFB1Y2VzJykKCWZvcm0ub25pbnB1dCA9IChlKSA9PiB7IGZvcm0udmFsdWUgPSBlLnRhcmdldC52YWx1ZTsgIiAqCgkJKGlkUHVjZXM9PSJDYWNoZXJSw6lzdWx0YXQiID8gcmF3ImlmIChlLnRhcmdldC52YWx1ZT09J/CfpKvCoENhY2jDqWUnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCX0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWU9PSdQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNhcm9saWduZScpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9OyIgOiAiIikgKgoJCShpZFB1Y2VzPT0iUG9zc2libGVzRXRTb2x1dGlvbiIgPyByYXciaWYgKGUudGFyZ2V0LnZhbHVlPT0n4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCX0gZWxzZSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ21haXN0ZXNvdScpOwoJCX07IiA6ICIiKSAqICJ9PC9zY3JpcHQ+IgoJCWlucHV0cyA9ICIiCgkJZm9yIGl0ZW0gaW4gbGlzdGUKCQkJaW5wdXRzICo9ICIiIjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9JyRpZFB1Y2VzJGl0ZW0nIG5hbWU9JyRpZFB1Y2VzJyB2YWx1ZT0nJGl0ZW0nIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9JyRpZFB1Y2VzJGl0ZW0nPiRpdGVtPC9sYWJlbD48L3NwYW4+IiIiCgkJZW5kCgkJIyBmb3IgKGl0ZW0sdmFsZXVyKSBpbiBsaXN0ZSAjIyMgc2kgbGlzdGU6OkFycmF5e1BhaXJ7U3RyaW5nLFN0cmluZ30sMX0KCQkjIAlpbnB1dHMgKj0gIiIiPGlucHV0IHR5cGU9InJhZGlvIiBpZD0iJGlkUHVjZXMkaXRlbSIgbmFtZT0iJGlkUHVjZXMiIHZhbHVlPSIkaXRlbSIgc3R5bGU9Im1hcmdpbjogMCA0cHggMCAyMHB4OyIgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIGZvcj0iJGlkUHVjZXMkaXRlbSI+JHZhbGV1cjwvbGFiZWw+IiIiCgkJIyBlbmQKCQlyZXR1cm4gRG9jcy5IVE1MKGTDqWJ1dCAqIGlucHV0cyAqIGZpbikKCWVuZAoJdmFldHZpZW50ID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PiB2YXIgdmllaWxsZWNvcGllID0gZmFsc2U7CgoJZnVuY3Rpb24gZMOpasOgdnUoKSB7IAoJCXZhciBww6hyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5wYXJlbnRFbGVtZW50OwoJCXZhciBmaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKTsKCQl2YXIgYW5jaWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlpZiAodmllaWxsZWNvcGllLmlzRXF1YWxOb2RlKGFuY2llbikpIHsKCQkJYW5jaWVuLmlubmVySFRNTCA9IGZpbHMuaW5uZXJIVE1MOwoJCQlhbmNpZW4ucmVtb3ZlQ2hpbGQoYW5jaWVuLnF1ZXJ5U2VsZWN0b3IoJ3Rmb290JykpOwoJCQltc2dhKGFuY2llbik7CgkJfQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5oaWRkZW4gPSBmYWxzZTsKCQlww6hyZS5yZW1vdmVDaGlsZChmaWxzKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU3Vkb2t1IGluaXRpYWzCoOKktCAobW9kaWZpYWJsZSkgZXQgc2Egc29sdXRpb27CoDogYAoJfTsKCglmdW5jdGlvbiBsw6BoYXV0KCkgeyAKCQl2YXIgcMOocmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykucGFyZW50RWxlbWVudDsKCQl2YXIgZmlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJyk7CgkJdmFyIGNvcGllID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlmaWxzID8gcMOocmUucmVtb3ZlQ2hpbGQoIGZpbHMgKSA6IHRydWU7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLmhpZGRlbiA9IHRydWU7CgkJdmFyIHRhYmwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpOwoJCXZpZWlsbGVjb3BpZSA9IChjb3BpZSA/IGNvcGllLmNsb25lTm9kZSh0cnVlKSA6IHRhYmwpOwoJCXRhYmwuaWQgPSAnY29waWVmaW5pZSc7CgkJdGFibC5jbGFzc0xpc3QuYWRkKCdzdWRva29vbCcpOwoJCXRhYmwuaW5uZXJIVE1MID0gKGNvcGllID8gY29waWUuaW5uZXJIVE1MIDogYDx0aGVhZCBpZD0ndGFpZGUnPjx0cj48dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt3aWR0aDogMzQwcHg7cGFkZGluZzogMjZweCAwOyc+UmllbiDDoCBtb250cmVyLCBjJ2VzdCBjb2Now6nCoMKgPGNvZGU+8J+kq8KgQ2FjaMOpZTwvY29kZT48L3RkPjwvdHI+PC90aGVhZD5gKSArIGA8dGZvb3QgaWQ9J3Rlc2Zvb3QnPjx0ciBpZD0nbGlnbmVub252aXNpYmxlJz48dGggY29sc3Bhbj0nOSc+4oaqIENsaXF1ZXIgaWNpIHBvdXIgcmV2ZW5pciBhdSBzdWRva3UgbW9kaWZpYWJsZTwvdGg+PC90cj48L3Rmb290PmA7CgkJcMOocmUuYXBwZW5kQ2hpbGQodGFibCk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhaWRlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZMOpasOgdnUpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXNmb290JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkw6lqw6B2dSk7CgkJY29waWUgPyBtc2dhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJykpIDogdHJ1ZTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU29sdXRpb27CoOKGkSAoYXUgbGlldSBkdSBzdWRva3UgbW9kaWZpYWJsZcKgaW5pdGlhbClgCgl9OwoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsw6BoYXV0KTsKCgk8L3NjcmlwdD48c3BhbiBpZD0ndmFfZXRfdmllbnQnPiIpICMgUG91ciBsZSB0ZXh0ZSBlbnRyZSBsZXMgZGV1eCBzdWRva3UgKGluaXRhdXggZXQgc29sdXRpb24pLiBDZWxhIHBlcm1ldCBkZSByZW1vbnRlciBsYSBzb2x1dGlvbiBlbiBjbGlxdWFudCBkZXNzdXMKCWludGVydmFsKG1pbmksbWF4aSx2YWwpID0gRG9jcy5IVE1MKCI8aW5wdXQgdHlwZT0ncmFuZ2UnIG1pbj0nJChtaW5pKScgbWF4PSckKG1heGkpJyB2YWx1ZT0nJCh2YWwpJyBvbmlucHV0PSd0aGlzLm5leHRFbGVtZW50U2libGluZy52YWx1ZT10aGlzLnZhbHVlJz48b3V0cHV0PsKgJCh2YWwpPC9vdXRwdXQ+IikgIyBzbGlkZXIKCQoJU3VkaW5pKG3DqW1vLCBjaG9peCkgPSBEb2NzLkhUTUwoIjxzY3JpcHQ+IC8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCWNvbnN0IHByZW1pZXIgPSBKU09OLnN0cmluZ2lmeSggJChtw6ltb1sxXSkgKTsKCWNvbnN0IGRldXhpw6htZSA9IEpTT04uc3RyaW5naWZ5KCAkKG3DqW1vWzJdKSApOwoJY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gJChtw6ltb1tjaG9peF0pIiAqIHJhdyIiIgoJCQkJCgkvLyBjb25zdCBkZWZhdWx0Rml4ZWRWYWx1ZXMgPSBbWzAsMCwwLDcsMCwwLDAsMCwwXSxbMSwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCw0LDMsMCwyLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCw2XSxbMCwwLDAsNSwwLDksMCwwLDBdLFswLDAsMCwwLDAsMCw0LDEsOF0sWzAsMCwwLDAsOCwxLDAsMCwwXSxbMCwwLDIsMCwwLDAsMCw1LDBdLFswLDQsMCwwLDAsMCwzLDAsMF1dOwoJCQkKCXdpbmRvdy5jcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcykgPT4gewoJICBjb25zdCBkYXRhID0gW107CgkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCSAgICBsZXQgaHRtbFJvdyA9IFtdOwoJICAgIGRhdGEucHVzaChbXSk7CgkgICAgZm9yKGxldCBqPTA7IGo8OTtqKyspewoJICAgICAgY29uc3QgdmFsdWVzTGluZSA9IHZhbHVlc1tpXTsKCSAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzTGluZT92YWx1ZXNMaW5lW2pdOjA7CgkgICAgICBjb25zdCBodG1sSW5wdXQgPSBodG1sYDxpbnB1dCB0eXBlPSd0ZXh0JyAKCSAgICAgICAgZGF0YS1yb3c9JyR7aX0nCgkgICAgICAgIGRhdGEtY29sPScke2p9JwoJICAgICAgICBtYXhsZW5ndGg9JzEnIAoJICAgICAgICB2YWx1ZT0nJHsodmFsdWV8fCcnKX0nCgkgICAgICA+YDsKCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJICBjb25zdCBibG9jayA9IFtNYXRoLmZsb29yKGkvMyksIE1hdGguZmxvb3Ioai8zKV07IC8vIGZvbmQgZW4gZGFtaWVyCgkJICBjb25zdCBjbGFzc291cGFzID0gKChibG9ja1swXStibG9ja1sxXSklMiAhPT0gMCk/KGlzTWVkaXVtPydjbGFzcz0iZGFtaWVyIHRyb2lzZCInOidjbGFzcz0iZGFtaWVyIicpOihpc01lZGl1bT8nY2xhc3M9InRyb2lzZCInOicnKTsKCSAgICAgIGNvbnN0IGh0bWxDZWxsID0gaHRtbGA8dGQgJHtjbGFzc291cGFzfT4ke2h0bWxJbnB1dH08L3RkPmAKCSAgICAgIGRhdGFbaV1bal0gPSB2YWx1ZXx8MDsKCSAgICAgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CgkgICAgfQoJCQoJICAgIGNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CgkgICAgaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwoJICB9CgkgIGNvbnN0IF9zdWRva3UgPSBodG1sYDx0YWJsZSBpZD0ic3Vkb2tpbmNpcGl0IiBzdWRhdGE9JHtKU09OLnN0cmluZ2lmeShkYXRhKX0gY2xhc3M9J3N1ZG9rb29sJz4KCSAgICAgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkgICAgPC90YWJsZT5gICAKCSAgcmV0dXJuIHtfc3Vkb2t1LGRhdGF9OwoJICAvLyAvLyByZXR1cm4gX3N1ZG9rdSA7CgkgIAoJfQoJCgl3aW5kb3cuc3Vkb2t1Vmlld1JlYWN0aXZlVmFsdWUgPSAoe19zdWRva3U6aHRtbCwgZGF0YX0pID0+IHsKCSAgaHRtbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKT0+ewoJICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkgICAgaHRtbC52YWx1ZSA9IGRhdGE7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9KTsgCgkgIAoJICBsZXQgaW5wdXRzID0gaHRtbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpOwoJICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7CgkJCgkJY29uc3QgZGFsaWduZSA9IChlKSA9PiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJY29uc3QgZGFjb2wgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOwoJCWNvbnN0IGV0cDIgPSAoZSkgPT4gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCWNvbnN0IGV0cDMgPSAoZSkgPT4gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkKCQljb25zdCBtb3ZlRG93biA9IChlKSA9PiB7IAoJCQlpZiAoZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgeyAKCQkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSBlbHNlIHsgCgkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZVVwID0gKGUpID0+IHsKCQkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7IAoJCQlldHAzKGUpLmxhc3RDaGlsZC5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7IAoJCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQljb25zdCBtb3ZlTGVmdCA9IChlKSA9PiB7CgkJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQkJZXRwMyhlKS5sYXN0Q2hpbGQubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJCX0gZWxzZSB7CgkJCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSB9IGVsc2UgewoJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQljb25zdCBtb3ZlUmlnaHQgPSAoZSkgPT4geyAKCQkJaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJCWlmIChldHAyKGUpLm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQkJfSBlbHNlIHsKCQkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IH0gZWxzZSB7IAoJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gCgkJfQoJCQkKCQlpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywoZSkgPT4gewoJCSAgLy8gZS50YXJnZXQuZm9jdXMoKTsKCQkgIGUudGFyZ2V0LnNlbGVjdCgpOwoJCQkKCQkgIHN3aXRjaCAoZS5rZXkpIHsKCQkJY2FzZSAiQXJyb3dEb3duIjoKCQkJCW1vdmVEb3duKGUpOyBicmVhazsgCgkJCWNhc2UgIkFycm93VXAiOgoJCQkJbW92ZVVwKGUpOyBicmVhazsgCgkJCWNhc2UgIkFycm93TGVmdCI6CgkJCQltb3ZlTGVmdChlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd1JpZ2h0IjoKCQkJCW1vdmVSaWdodChlKTsgYnJlYWs7IAoJCQljYXNlICJTaGlmdCI6CgkJCWNhc2UgIkNhcHNMb2NrIjoKCQkJY2FzZSAiTnVtTG9jayI6CgkJCQlicmVhazsgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3VpZXZlbnRzLWtleS8ja2V5cy1tb2RpZmllcgoJCQljYXNlICJCYWNrc3BhY2UiOgoJCQljYXNlICJEZWxldGUiOgoJCQkJaWYgKGRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldICE9PSAwKSB7CgkJCQkJZGF0YVtkYWxpZ25lKGUpXVtkYWNvbChlKV0gPSAwOwoJCQkJCWUudGFyZ2V0LnZhbHVlID0gIiI7CgkJCQkJLy8gRWZmYWNlIGxlcyBwdWNlcyBjYXIgY2VsYSBhIMOpdMOpIHRvdWNow6kKCQkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJCWVsZVtuaV0uY2hlY2tlZCA9IGZhbHNlOwoJCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQkJZWxlWzBdLmNoZWNrZWQgPSB0cnVlOwoJCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCQl9CgkJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJCX0KCQkJCShlLmtleT09PSJEZWxldGUiKT9tb3ZlUmlnaHQoZSk6bW92ZUxlZnQoZSk7CgkJCQl2YXIgZGEgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwoJCQkJKGUua2V5PT09IkRlbGV0ZSIpPyhkYS5zZWxlY3Rpb25TdGFydCA9IGRhLnNlbGVjdGlvbkVuZCA9IGRhLnZhbHVlLmxlbmd0aCk6KGRhLnNlbGVjdGlvblN0YXJ0ID0gZGEuc2VsZWN0aW9uRW5kID0gMCk7IC8vc2VsZWN0IEtPIDooCgkJCQlicmVhazsKCQkJZGVmYXVsdDoKCQkJCXJldHVybjsKCQkJfSB9KSAKCQkJCgkgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLChlKSA9PiB7CgkJICBjb25zdCBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOyAvLyBkYWxpZ25lKGUpCgkJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkJICBjb25zdCBvbGRhdGEgPSBkYXRhW2ldW2pdOwoJCgkJICBjb25zdCBiaWRvdWlsbGlzdGUgPSB7YToxLHo6MixlOjMscjo0LHQ6NSx5OjYsdTo3LGk6OCxvOjksCgkJCUE6MSxaOjIsRTozLFI6NCxUOjUsWTo2LFU6NyxJOjgsTzo5LAoJCQknXCYnOjEsw6k6MiwnXCInOjMsIlwnIjo0LCdcKCc6NSwnXC0nOjYsw6g6NyxfOjgsw6c6OSwKCQkJJ8KnJzo2LCchJzo4LCAgICBxOjEsUToxLCB3OjIsVzoyfTsKCQoJCSAgY29uc3QgYW5kcm9pZENocm9tZUVzdENoaWFudCA9IHsnYic6bW92ZURvd24sJ0InOm1vdmVEb3duLAoJCQknaCc6bW92ZVVwLCdIJzptb3ZlVXAsICAgICAgICAnaic6bW92ZVJpZ2h0LCdKJzptb3ZlUmlnaHQsCgkJCSdnJzptb3ZlTGVmdCwnRyc6bW92ZUxlZnQsJ3YnOm1vdmVMZWZ0LCdWJzptb3ZlTGVmdCwKCQkJJ2QnOm1vdmVSaWdodCwnRCc6bW92ZVJpZ2h0LCduJzptb3ZlUmlnaHQsJ04nOm1vdmVSaWdodH07CgkKCQkgIGlmICh2YWwgaW4gYmlkb3VpbGxpc3RlKSB7CgkJCWUudGFyZ2V0LnZhbHVlID0gZGF0YVtpXVtqXSA9IGJpZG91aWxsaXN0ZVt2YWxdOwoJCSAgfSBlbHNlIGlmICh2YWwgPD0gOSAmJiB2YWwgPj0xKSB7CgkJCWRhdGFbaV1bal0gPSBwYXJzZUludCh2YWwpOwoJCSAgfSBlbHNlIGlmICgodmFsID09IDApfHwodmFsID09ICfDoCcpfHwodmFsID09ICdwJyl8fCh2YWwgPT0gJ1AnKSkgewoJCQlkYXRhW2ldW2pdID0gMDsKCQkJZS50YXJnZXQudmFsdWUgPSAnJzsKCQkgIH0gZWxzZSB7IAoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPT09IDAgPyAnJyA6IGRhdGFbaV1bal07CgkJICB9CgkKCQkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQkJfSBlbHNlIHsKCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQkJfQoJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCQl9CgkKCQkJaWYgKHZhbCBpbiBhbmRyb2lkQ2hyb21lRXN0Q2hpYW50KSB7CgkJCQlhbmRyb2lkQ2hyb21lRXN0Q2hpYW50W3ZhbF0oZSk7CgkJCX0gZWxzZSB7CgkJCQltb3ZlUmlnaHQoZSk7CgkJCX0KCQkJZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5zZWxlY3QoKTsKCSAgICB9KQoJCQkKCSAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjdG9wJywoZSkgPT4geyAvLyBtaXMgw6Agam91ciBwYXIgY2hpZmZyZSBzw6lsZWN0aW9ubsOpCgkJICBjb25zdCBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOyAvLyBkYWxpZ25lKGUpCgkJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkJICBjb25zdCBvbGRhdGEgPSBkYXRhW2ldW2pdOwoJCgkJICBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCQlkYXRhW2ldW2pdID0gcGFyc2VJbnQodmFsKTsKCQkgIH0gZWxzZSB7IAoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPT09IDAgPyAnJyA6IGRhdGFbaV1bal07CgkJICB9CgkKCQkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQkJfSBlbHNlIHsKCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQkJfQoJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCQl9CgkgICAgfSkKCQkJCgkgIH0pIAoJICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJICBjb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJICBpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCSAgfSBlbHNlIGlmIChqZGF0YSA9PSBkZXV4acOobWUpIHsKCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7IC8vIC4uLl0uY2xpY2soKTsgLy8gw6l0YWl0IEtPLi4uCgkgIH0KCSAgaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCSAgaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkgIHJldHVybiBodG1sOwoJCgl9OwoJCglyZXR1cm4gc3Vkb2t1Vmlld1JlYWN0aXZlVmFsdWUoY3JlYXRlU3Vkb2t1SHRtbChkZWZhdWx0Rml4ZWRWYWx1ZXMpKTsKCTwvc2NyaXB0PiIiIikKCWZ1bmN0aW9uIGh0bWxTdWRva3UoSlN1ZG9rdUZpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpLEpTdWRva3Vpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpOyB0b3V0Vm9pcjo6Qm9vbD10cnVlKQoJIyBQb3VyIHNvcnRpciBkZSBsYSBtYXRyaWNlIChjb252ZXJzaW9uIGVuIHRhYmxlYXUgZW4gSFRNTCkgZHUgc3Vkb2t1CgkjIExlIEpTdWRva3VpbmkgcGVybWV0IGRlIG1ldHRyZSBsZXMgY2hpZmZyZXMgZW4gYmxldSAoc2F2b2lyIGQnb8O5IGwnb24gdmllbnQpCgkjIEVuZmluLCBvbiBwZXV0IGNob2lzaXIgZGUgdm9pciBwZXRpdCDDoCBwZXRpdCBlbiBjbGlxdWFudCBvdSB0b3V0Vm9pciBkJ3VuIGNvdXAKCSMjIyBpZiBpc2EoSlN1ZG9rdUZpbmksIFN0cmluZykuLi4gYXZhaXQgdW4gYnVnIGQnYWZmaWNoYWdlIHBvdXIgbGUgcmVzdGUgZHUgY29kZS4uLgoJCWlzYShKU3Vkb2t1RmluaSwgU3RyaW5nKSA/IChyZXR1cm4gRG9jcy5IVE1MKCI8aDUgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjttYXJnaW4tYm90dG9tOiA2cHg7dXNlci1zZWxlY3Q6IG5vbmU7JyBvbmNsaWNrPSckZm9vdGl4Jz4g4pqhIEF0dGVudGlvbiwgc3Vkb2t1IGluaXRpYWwgw6AgcmV2b2lyICEgPC9oNT48dGFibGUgaWQ9J3N1ZG9rdWZpbmknIGNsYXNzPSdzdWRva29vbCcgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOycgPHRib2R5Pjx0cj48dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt3aWR0aDogMzQwcHg7JyBvbmNsaWNrPSckZm9vdGl4Jz4kSlN1ZG9rdUZpbmk8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPiIpKSA6IChyZXR1cm4gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQgaWQ9InNjcmlwdGZpbmkiPgoJCS8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCQkJCQoJCWNvbnN0IGNyZWF0ZVN1ZG9rdUh0bWwgPSAodmFsdWVzLCB2YWx1ZXNfaW5pKSA9PiB7CQoJCSAgY29uc3QgZGF0YSA9IFtdOwoJCSAgY29uc3QgaHRtbERhdGEgPSBbXTsKCQkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCQkJbGV0IGh0bWxSb3cgPSBbXTsKCQkJZGF0YS5wdXNoKFtdKTsKCQkJZm9yKGxldCBqPTA7IGo8OTtqKyspewoJCQkgIGNvbnN0IHZhbHVlc0xpbmUgPSB2YWx1ZXNbaV07CgkJCSAgY29uc3QgdmFsdWUgPSB2YWx1ZXNMaW5lP3ZhbHVlc0xpbmVbal06MDsKCQkJICBjb25zdCBpc0luaXRpYWwgPSB2YWx1ZXNfaW5pW2ldW2pdPjA7CgkJCSAgY29uc3QgaXNNZWRpdW0gPSAoaiUzID09PSAwKTsKCQkJICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSciIiIqKHRvdXRWb2lyID8gcmF3IiIiJHtpc0luaXRpYWw/ImluaSI6InZpZGUifSIiIiA6IHJhdyIiIiR7aXNJbml0aWFsPyJpbmkiOiJ2aWRlIGNhY2jDqWUifSIiIikqcmF3IiIiJHtpc01lZGl1bT8nIHRyb2lzZCc6Jyd9JyBkYXRhLXJvdz0nJHtpfScgZGF0YS1jb2w9JyR7an0nPiR7KHZhbHVlfHwnwqAnKX08L3RkPmA7CgkJCSAgZGF0YVtpXVtqXSA9IHZhbHVlfHwwOwoJCQkgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CgkJCX0KCQkJY29uc3QgaXNNZWRpdW1CaXMgPSAoaSUzID09PSAwKTsKICAgIAkJaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwoJCSAgfQoJCSAgY29uc3QgX3N1ZG9rdSA9IGh0bWxgPHRhYmxlIGlkPSJzdWRva3VmaW5pIiAiIiIqKHRvdXRWb2lyID8gIiIgOiByYXciIiJzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7IiAiIiIpKnJhdyIiIiBjbGFzcz0nc3Vkb2tvb2wnPgoJCQkgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YCAgCgkJICAvLyByZXR1cm4ge19zdWRva3UsZGF0YX07CgkJY29uc3QgamRhdGFpbmkgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXNfaW5pKTsKCQljb25zdCBqZGF0YUZpbmkgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXMpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWluaScsIGpkYXRhaW5pKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFmaW5pJywgamRhdGFGaW5pKTsKCQl2YXIgc3Vkb2t1aW5pw6B2w6lyaWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vkb2tpbmNpcGl0Iik7CgkJaWYgKHN1ZG9rdWluacOgdsOpcmlmICYmIHN1ZG9rdWluacOgdsOpcmlmLmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgIT0gamRhdGFpbmkpIHsKCQkJcmV0dXJuIGh0bWxgPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5qAIFJlY2FsY3VsIHJhcGlkZcKgOyk8L2g1PmA7CgkJfTsgLy8gdjAuMTkgc2VtYmxlIGRlIG5vdXZlYXUgT2sgLT4gaHR0cHM6Ly9teWJpbmRlci5vcmcvdjIvZ2gvZm9uc3AvcGx1dG8tb24tYmluZGVyL3YwLjE0Ljc/dXJscGF0aD1wbHV0bwoJCXJldHVybiBfc3Vkb2t1OwoJCQkJfTsKCQl3aW5kb3cubXNnYSA9IChfc3Vkb2t1KSA9PiB7CgkJCQkiIiIqKHRvdXRWb2lyID8gcmF3IiIiIAoJCWxldCB0ZHMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLnZpZGUnKTsKICAJCXRkcy5mb3JFYWNoKHRkID0+IHsKCQkJCQoJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKSkgewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpLmNoZWNrZWQpIHsKCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1yb3ciKSkgKyAxOwoJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbCIpKSArIDE7CgkJCQkJCWNvbnN0IHZhbGUgPSBlLnRhcmdldC5pbm5lckhUTUw7CgkJCQkJCXZhciBjaWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdWRva2luY2lwaXQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgiKyBsaWduICsiKSA+IHRkOm50aC1jaGlsZCgiKyBjb2xvICsiKSA+IGlucHV0W3R5cGU9dGV4dF0iKTsKCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQljaWJsZS52YWx1ZSA9IHZhbGU7IAoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgidmlkZSIpOwoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiaW5pIik7CgkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQljaWJsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY3RvcCcpKTsgCgkJCQkJCX07CgkJCQl9fTsgCgkJCQkKCQkJfSk7CgkJfSk7IiIiIDogcmF3IiIiCgkJbGV0IHRkYmxldXMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmluaScpOwogIAkJdGRibGV1cy5mb3JFYWNoKHRkYmxldSA9PiB7CgkJCXRkYmxldS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJZm9yKGxldCBncmFuaT0wOyBncmFuaTw5O2dyYW5pKyspeyAKCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkgaWYgKCAhKGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jbGFzc0xpc3QuY29udGFpbnMoImluaSIpKSApIHsKCQkJCWdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jbGFzc0xpc3QuYWRkKCJjYWNow6llIik7CgkJCQkKCQkJCX0gfX07CgkJCX0pOwoJCX0pOwoJCQoJCWxldCB0ZHMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmNhY2jDqWUnKTsKICAJCXRkcy5mb3JFYWNoKHRkID0+IHsKCQkJCQoJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpKSB7CgkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKS5jaGVja2VkKSB7CQoJCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQkJY29uc3Qgb3JOaWNhciA9IChsaWduLCBjb2xvKSA9PiBNYXRoLmZsb29yKGlsaWcvMyk9PU1hdGguZmxvb3IobGlnbi8zKSAmJiBNYXRoLmZsb29yKGpjb2wvMyk9PU1hdGguZmxvb3IoY29sby8zKSA7CgkJCQkJCXZhciBncmFudGIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkJCQkJCWZvcihsZXQgZ3Jhbmk9MDsgZ3Jhbmk8OTtncmFuaSsrKXsgCgkJCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkJCSB2YXIgdGRmID0gZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdOwoJCQkJCQkgaWYgKHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gaWxpZyB8fCB0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGpjb2wgfHwgb3JOaWNhcih0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkgewoJCQkJCQkgIHRkZi5jbGFzc0xpc3QucmVtb3ZlKCJjYWNow6llIik7CgkJCQkJCX0gfX07CgkJCQkJfSBlbHNlIHsKCQkJCQllLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQl9fTsKCQkJCS8vIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCQkKCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpKSB7CgkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0IikuY2hlY2tlZCkgewoJCQkJCQljb25zdCBsaWduID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLXJvdyIpKSArIDE7CgkJCQkJCWNvbnN0IGNvbG8gPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtY29sIikpICsgMTsKCQkJCQkJY29uc3QgdmFsZSA9IGUudGFyZ2V0LmlubmVySFRNTDsKCQkJCQkJdmFyIGNpYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3N1ZG9raW5jaXBpdCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKCIrIGxpZ24gKyIpID4gdGQ6bnRoLWNoaWxkKCIrIGNvbG8gKyIpID4gaW5wdXRbdHlwZT10ZXh0XSIpOwoJCQkJCQlpZiAoIShpc05hTih2YWxlKSkpIHsKCQkJCQkJCWNpYmxlLnZhbHVlID0gdmFsZTsgCgkJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCJ2aWRlIik7CgkJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJpbmkiKTsKCQkJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXNmb290Iik/LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJjbGljayIpKTsKCQkJCQkJCWNpYmxlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjdG9wJykpOyAKCQkJCQkJfTsKCQkJCX19OyAKCQkJCQoJCQl9KTsKCQl9KTsJIiIiKSpyYXciIiIKCQkgIHJldHVybiBfc3Vkb2t1OwoKCQl9OwoJCQoJCS8vIHNpbm9uIDogcmV0dXJuIGNyZWF0ZVN1ZG9rdUh0bWwoLi4uKS5fc3Vkb2t1OwoJCXJldHVybiBtc2dhKGNyZWF0ZVN1ZG9rdUh0bWwoIiIiICoiJEpTdWRva3VGaW5pIioiLCAiKiIkSlN1ZG9rdWluaSIqIiIiKSApOwoJCTwvc2NyaXB0PiIiIikKCQkpIyMjIGVuZCAjIyMgaWYgaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcpLi4uIHN1aXRlIGV0IGZpbiBkdSBidWcgZCdhZmZpY2hhZ2UKCWVuZAoJaHRtbHMgPSBodG1sU3Vkb2t1ICMjIG1pbmkgdmVyc2lvbiAob3UgYWxpYXMgcGx1cyBjb3VydCBzaSBiZXNvaW4pCglodG1hdCA9IGh0bWxTdWRva3Ug4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uIAoKCWNvbnN0IHB0MSA9ICLCtyIgIyAiLiIgIyMgQ2FyYWN0w6hyZXMgZGUgcmVtcGxpc3NhZ2UgcG91ciBtaWV1eCB2b2lyIGxlIG5iUHJvcGFsCgljb25zdCBwdDIgPSAi4peMIiAjICLil4siICMgIuKXmCIgIyAiLSIgIyAiOiIKCWNvbnN0IHB0MyA9ICLil48iICMgIuKWoCIgIyAi4pasIiAjICLigJQiICMgIuKBliIgIyAi4qu2IgoJZnVuY3Rpb24gY2hpZmZyZVByb3BhbChtYXQ6OkFycmF5e0ludCwyfSxsaW1wOjpTZXR7SW50fSxpOjpJbnQsajo6SW50LHZpZGU6OkJvb2wpICMgUmVtcGxpdCB1bmUgY2FzZSBhdmVjIHRvdXMgc2VzIGNoaWZmcmVzIHBvc3NpYmxlcywgZW4gbWV0dGFudCBsZSAxIGVuIGhhdXQgw6AgZ2F1Y2hlIGV0IGxlIDkgZW4gYmFzIMOgIGRyb2l0ZSAobGUgNSBlc3QgZG9uYyBhdSBjZW50cmUpLiBTJ2lsIG4neSBhIGF1Y3VuZSBwb3NzaWJpbGl0w6ksIG9uIHJlbXBsaXQgdG91dCBhdmVjIGRlcyBjYXJhY3TDqHJlcyBiaXphcnJlcyDigL0KCSMgUG91ciBtaXNlIGVuIGZvcm1lIGVuIEhUTUwgbWF0MyA6IDN4MyAodW5lIG1hdHJpY2UgZGUgMyBsaWduZXMgZXQgMyBjb2xvbm5lcykKCQljcCA9IGNoaWZmcmVQb3NzaWJsZShtYXQsaSxqLGxpbXApCgkJaWYgaXNlbXB0eShjcCkKCQkJcmV0dXJuIFtbIuKXnCIsIuKAvSIsIuKXnSJdLFsiwqEiLCIvIiwiISJdLFsi4pefIiwiXyIsIuKXniJdXQoJCQkjIHJldHVybiBbWyLiqK8iLCLiqK8iLCLiqK8iXSxbIuKoryIsIuKoryIsIuKoryJdLFsi4qivIiwi4qivIiwi4qivIl1dCgkJZW5kCgkJIyBsY3AgPSBsZW5ndGgoY3ApCgkJIyB2aSA9ICh2aWRlID8gIsKgIiA6IChsY3A8NCA/IHB0MSA6IChsY3A8NyA/IHB0MiA6IHB0MykpKQoJCXZpID0gKHZpZGUgPyAiwqAiIDogIsK3IikgIyLil6YiKSAjICLiqK8iKSAjIHB0MSkgIyMgcmV0b3VyIMOgIHB0MSBeXgoJCXJldHVybiBtYXRyaWNlw6BsaXN0ZUpTKHJlc2hhcGUoWygoeCBpbiBjcCkgPyBzdHJpbmcoeCkgOiB2aSkgZm9yIHggaW4gMTo5XSwgKDMsMykpLDMpCgllbmQKCWZ1bmN0aW9uIG5iUHJvcGFsKG1hdDo6QXJyYXl7SW50LDJ9LGxpbXA6OlNldHtJbnR9LGk6OkludCxqOjpJbnQpICMgQXNzZXogcHJvY2hlIGRlIGNoaWZmcmVQcm9wYWwgY2ktZGVzc3VzLCBtYWlzIG5lIG1vbnRyZSBwYXMgbGVzIGNoaWZmcmVzIHBvc3NpYmxlcy4gQ2VsYSBtb250cmUgbGUgbm9tYnJlcyBkZSBjaGlmZnJlcyBwb3NzaWJsZXMsIGVuIHJlbXBsaXNzYW50IHBldGl0IMOgIHBldGl0IGF2ZWMgcHQxIMOgIHB0MyBzdWl2YW50LgoJIyBQb3VyIG1pc2UgZW4gZm9ybWUgZW4gSFRNTCBtYXQzIDogM3gzCgkJbGNwID0gbGVuZ3RoKGNoaWZmcmVQb3NzaWJsZShtYXQsaSxqLGxpbXApKQoJCWlmIGxjcCA9PSAwCgkJCXJldHVybiBbWyLihpgiLCLihpMiLCLihpkiXSxbIuKGkiIsIjAiLCLihpAiXSxbIuKGlyIsIuKGkSIsIuKGliJdXSwgMAoJCWVsc2UKCQkJcmV0dXJuIG1hdHJpY2XDoGxpc3RlSlMocmVzaGFwZShbKHggPT0gbGNwID8gc3RyaW5nKHgpIDogKHg8bGNwID8gKGxjcDw0ID8gcHQxIDogKGxjcDw3ID8gcHQyIDogcHQzKSkgOiAiwqAiKSkgZm9yIHggaW4gMTo5XSwgKDMsMykpLDMpLCBsY3AKCQllbmQKCWVuZAoJZnVuY3Rpb24gaHRtbFN1ZG9rdVByb3BhbChKU3Vkb2t1aW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKSxKU3Vkb2t1RmluaTo6VW5pb257U3RyaW5nLCBWZWN0b3J7VmVjdG9ye0ludH19fT1qc3ZkKCkgOyB0b3V0Vm9pcjo6Qm9vbD10cnVlLCBwYXJDYXNlOjpCb29sPXRydWUsIHNvbW1lOjpCb29sPXRydWUpCgkjIEFzc2V6IHByb2NoZSBkZSBodG1sU3Vkb2t1LCBtYWlzIG4nYSBwYXMgYmVzb2luIGQnYXZvaXIgdW4gc3Vkb2t1IHLDqXNvbHUgZW4gZW50csOpZS4gRW4gZWZmZXQsIGlsIG5lIG1vbnRyZSBxdWUgbGVzIGNoaWZmcmVzIChvdSBsZXVyIG5vbWJyZSA9IHNvbW1lKSBwb3NzaWJsZXMgcG91ciBsZSBtb21lbnQuCgkjIElsIHkgYSBwbHVzaWV1cnMgY2FzIDogKGNlbGEgZXN0IHBldXTDqnRyZSDDoCBjaGFuZ2VyKQoJCSMgdG91dFZvaXIgb3Ugbm9uIDogZMOpY291dnJlIHRvdXMgbGVzIGNlbGx1bGVzIHNpIHRvdXRWb2lyIChzaW5vbiDDoCBjbGlxdWVyKQoJCSMgcGFyQ2FzZSA6IGTDqWNvdXZyZSB1bmUgY2VsbGUgY2VsbHVsZSAoc2lub24gcGx1c2lldXJzKQoJCSMgc29tbWUgOiB2b2lyIGp1c3RlIGxlIG5vbWJyZSBkZSBwb3NzaWJpbGl0w6ksIHNpbm9uLCB2b2lyIGxlcyBwb3NzaWJpbGl0w6lzCgkJbVM6OkFycmF5e0ludCwyfSA9IGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdWluaSkKCQkjIG1JbXAgPSBbIFNldHtJbnR9KCkgZm9yIF8gPSAxOjksIF8gPSAxOjkgXQoJCW1JbXAgPSBEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0oKQoJCXdoaWxlIHRydWUKCQkJbkF3YWsgPSBkZWVwY29weShtSW1wKQoJCQl2w6lyaWZsaWduZSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e0ludH19KCkgZm9yIF8gPSAxOjkgXQoJCQl2w6lyaWZjb2wgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY2FycsOpID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19IH0oKSBmb3IgXyA9IDE6OSBdCgkJCWRpbGxvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGtvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2NvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpa2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGNvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGljbG8gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWtjbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZGlrbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWZ1c2libGVzbGlnID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY29sID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY2FyID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkKCQkJCWlmIG1TW2ksal0gPT0gMAoJCQkJCWdldCEobUltcCwoaSxqKSxTZXR7SW50fSgpICkKCQkJCQlsY3AgPSBjaGlmZnJlUG9zc2libGUobVMsaSxqLG1JbXBbaSxqXSkKCQkJCQlrID0ga2VsY2FycsOpKGksaikKCQkJCQlpaSA9IGNhcnIoaSkKCQkJCQlqaiA9IGNhcnIoaikKCQkJCQlzYWMhKGosaSxrLGlpLGpqLGxjcCxmdXNpYmxlc2NvbCxkaWNjbyxkaWNsbyxkaWNrbykKCQkJCQlzYWMhKGksaixrLGlpLGpqLGxjcCxmdXNpYmxlc2xpZyxkaWxsbyxkaWxjbyxkaWxrbykKCQkJCQlzYWshKGksaixrLGlpLGpqLGxjcCxmdXNpYmxlc2NhcixkaWtsbyxkaWtjbyxkaWtrbykKCQkJCQlpZiBsZW5ndGgobGNwKSA9PSAxCgkJCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJCQlnZXQhKG1JbXAsKGksaWlpKSxTZXR7SW50fSgpICkKCQkJCQkJCWdldCEobUltcCwoaWlpLGopLFNldHtJbnR9KCkgKQoJCQkJCQkJaWlpICE9IGogJiYgdW5pb24hKG1JbXBbaSxpaWldLGxjcCkKCQkJCQkJCWlpaSAhPSBpICYmIHVuaW9uIShtSW1wW2lpaSxqXSxsY3ApCgkJCQkJCWVuZAoJCQkJCQkjIGZvciBqaiBpbiBjYXJyKGopLCBpaSBpbiBjYXJyKGkpICMgLi4uZXQgc3VyIGxlIGNhcnLDqQoJCQkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJCQkjIGpqICE9IGogJiYgaWkgIT0gaSAmJiB1bmlvbiEobUltcFtpaSxqal0sU2V0KGxjcCkpCgkJCQkJCQlqamogIT0gaiAmJiBpaWkgIT0gaSAmJiB1bmlvbiEoZ2V0IShtSW1wLChpaWksampqKSxTZXR7SW50fSgpICksbGNwKQoJCQkJCQllbmQKCQkJCQllbHNlIHBhc0Fzc2V6RGVQcm9wYWwhKGksIGosIGxjcCwgdsOpcmlmbGlnbmVbaV0sIHbDqXJpZmNvbFtqXSwgdsOpcmlmY2FycsOpW2tdLCBtSW1wICkgCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJCUxVbmljbGshKGRpY2xvLGRpY2NvLGRpY2tvLGRpbGxvLGRpbGNvLGRpbGtvLGRpa2xvLGRpa2NvLGRpa2tvLG1JbXApCgkJCWlmIG1JbXAgPT0gbkF3YWsKCQkJCWJyZWFrCgkJCWVuZAoJCWVuZAoJCWlmIHNvbW1lCQoJCQltblByb3BhbCA9IGZpbGwoZmlsbCggZmlsbCgiMCIsMyksMykgLCAoOSw5KSApCgkJCW1pbmUgPSAxMAoJCQlncmlzZW1pbmUgPSBUdXBsZXtJbnQsSW50fVtdCgkJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkKCQkJCWlmIG1TW2ksal0gPT0gMAoJCQkJbW5Qcm9wYWxbaSxqXSwgbGNwID0gbmJQcm9wYWwobVMsIG1JbXBbaSxqXSwgaSwgaikKCQkJCQlpZiBsY3AgPCBtaW5lCgkJCQkJCW1pbmUgPSBsY3AKCQkJCQkJZ3Jpc2VtaW5lID0gWyhpLGopXQoJCQkJCWVsc2VpZiBsY3AgPT0gbWluZQoJCQkJCQlwdXNoIShncmlzZW1pbmUsIChpLGopKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQlwYXJDYXNlID0gdG91dFZvaXIgIyBiaWRvdWlsbGUgw6AgY2hhbmdlciA/CgkJCXRvdXRWb2lyID0gdHJ1ZQoJCQlpZiAwIDwgbWluZSA8IDkKCQkJCWZvciAoaSxqKSBpbiBncmlzZW1pbmUKCQkJCQltblByb3BhbFtpLGpdWzNdWzNdID0gIuKclCIKCQkJCWVuZAoJCQllbmQKCQkJSlByb3BhbCA9IG1hdHJpY2XDoGxpc3RlSlMobW5Qcm9wYWwpCgkJZWxzZQoJCQltUHJvcGFsID0gZmlsbChmaWxsKCBmaWxsKCIwIiwzKSwzKSAsICg5LDkpICkKCQkJZm9yIGogaW4gMTo5LCBpIGluIDE6OQoJCQkJaWYgbVNbaSxqXSA9PSAwCgkJCQkJbVByb3BhbFtpLGpdID0gY2hpZmZyZVByb3BhbChtUywgbUltcFtpLGpdLCBpLCBqLCBwYXJDYXNlKQoJCQkJZW5kCgkJCWVuZAoJCQlKUHJvcGFsID0gbWF0cmljZcOgbGlzdGVKUyhtUHJvcGFsKQoJCWVuZAoJCQkKCQlyZXR1cm4gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQgaWQ9InNjcmlwdGZpbmkiPgoJCS8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCQkKCQkvLyBjb25zdCBrZWxjYXJKUyA9IChsaWcsIGNvbCkgPT4gW01hdGguZmxvb3IobGlnLzMpLCBNYXRoLmZsb29yKGNvbC8zKV07CgkJY29uc3QgTU1jYXIgPSAobGlnLCBjb2wsIGxpZ24sIGNvbG8pID0+IE1hdGguZmxvb3IobGlnLzMpPT1NYXRoLmZsb29yKGxpZ24vMykgJiYgTWF0aC5mbG9vcihjb2wvMyk9PU1hdGguZmxvb3IoY29sby8zKSA7CgkJCgkJY29uc3QgY3JlYXRlU3Vkb2t1SHRtbCA9IChtdmFsdWVzLCB2YWx1ZXNfaW5pKSA9PiB7CQoJCSAgY29uc3QgZGF0YSA9IFtdOwoJCSAgY29uc3QgaHRtbERhdGEgPSBbXTsKCQkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCQkJbGV0IGh0bWxSb3cgPSBbXTsKCQkJZGF0YS5wdXNoKFtdKTsKCQkJZm9yKGxldCBqPTA7IGo8OTtqKyspewoJCQkJCgkJCSAgCWNvbnN0IGh0bWxNaW5pRGF0YSA9IFtdOwoJCQkJY29uc3QgaXNJbml0aWFsID0gdmFsdWVzX2luaVtpXVtqXT4wOwoJCQkJdmFyIG1pbmlfc3Vkb2t1ID0gdmFsdWVzX2luaVtpXVtqXTsKCQkJCWlmICghKGlzSW5pdGlhbCkpIHsKCQkJCSAgZm9yKGxldCBwbD0wOyBwbDwzO3BsKyspewoJCQkJCWxldCBodG1sTWluaVJvdyA9IFtdOwoJCQkJCWZvcihsZXQgcGo9MDsgcGo8MztwaisrKXsKCQkJCQljb25zdCBtaW5pVmFsdWUgPSBtdmFsdWVzW2ldW2pdW3BsXVtwal07CgkJCQkJY29uc3QgaHRtbE1pbmlDZWxsID0gaHRtbGA8dGQgY2xhc3M9Im1pbmkiIiIqKHRvdXRWb2lyICYmIHBhckNhc2UgPyAiXCIiIDogcmF3IiIiJHtpc0luaXRpYWw/JyBwcm9wJzonIHZpZGUgY2FjaMOpZSd9IiAiIiIpKnJhdyIiIiBkYXRhLXJvdz0iJHtwbH0iIGRhdGEtY29sPSIke3BqfSI+JHsobWluaVZhbHVlfHwnwqAnKX08L3RkPmA7IAoJCQkJCWh0bWxNaW5pUm93LnB1c2goaHRtbE1pbmlDZWxsKTsKCQkJCQl9CgkJCQkJaHRtbE1pbmlEYXRhLnB1c2goaHRtbGA8dHIgc3R5bGU9ImJvcmRlci1zdHlsZTogbm9uZSAhaW1wb3J0YW50OyI+JHtodG1sTWluaVJvd308L3RyPmApOwoJCQkJICB9CgkJCQl2YXIgbWluaV9zdWRva3UgPSBodG1sYDx0YWJsZSBjbGFzcz0ic3Vkb2tvb2xtaW5pIiBzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7Ij4KCQkJICA8dGJvZHk+JHtodG1sTWluaURhdGF9PC90Ym9keT4KCQkJPC90YWJsZT5gCgkJCQl9CgkJCSAgY29uc3QgdmFsdWVlID0gbWluaV9zdWRva3U7CgkJCSAgY29uc3QgaXNNZWRpdW0gPSAoaiUzID09PSAwKTsKCQkJICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSIke2lzSW5pdGlhbD8naW5pJzoncHJvcHMnfSAke2lzTWVkaXVtPycgdHJvaXNkJzonJ30iIGRhdGEtcm93PSIke2l9IiBkYXRhLWNvbD0iJHtqfSI+JHsodmFsdWVlfHwnwqAnKX08L3RkPmA7CgkJCSAgZGF0YVtpXVtqXSA9IHZhbHVlZXx8MDsKCQkJICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJCQl9CgkJCWNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CiAgICAJCWh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOicnfT4ke2h0bWxSb3d9PC90cj5gKTsKCQkgIH0KCQkgIGNvbnN0IF9zdWRva3UgPSBodG1sYCIiIiAqIChpc2EoSlN1ZG9rdUZpbmksIFN0cmluZykgPyAiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7JyBvbmNsaWNrPSckZm9vdGl4Jz4g4pqhIEF0dGVudGlvbiwgc3Vkb2t1IGluaXRpYWwgw6AgcmV2b2lyICEgPC9oNT4iIDogIiIpICogcmF3IiIiPHRhYmxlIGlkPSJzdWRva3VmaW5pIiBjbGFzcz0ic3Vkb2tvb2wiIHN0eWxlPSJ1c2VyLXNlbGVjdDogbm9uZTsiPgoJCQkgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YCAgCgkJCQoJCWNvbnN0IGpkYXRhaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzX2luaSk7CgkJY29uc3QgamRhdGFGaW5pID0gSlNPTi5zdHJpbmdpZnkobXZhbHVlcyk7CiAgCQlfc3Vkb2t1LnNldEF0dHJpYnV0ZSgnc3VkYXRhaW5pJywgamRhdGFpbmkpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWZpbmknLCBqZGF0YUZpbmkpOwoJCXZhciBzdWRva3VpbmnDoHbDqXJpZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWRva2luY2lwaXQiKTsKCQlpZiAoc3Vkb2t1aW5pw6B2w6lyaWYgJiYgc3Vkb2t1aW5pw6B2w6lyaWYuZ2V0QXR0cmlidXRlKCdzdWRhdGEnKSAhPSBqZGF0YWluaSkgewoJCQlyZXR1cm4gaHRtbGA8aDUgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt1c2VyLXNlbGVjdDogbm9uZTsnPvCfmoAgUmVjYWxjdWwgcmFwaWRlwqA7KTwvaDU+YDsKCQl9OyAvLyBlbnRyZSBQbHV0byA+djAuMTQuNyBldCAwLjE5IGNmLiBwbHVzIGhhdXQKCQlyZXR1cm4gX3N1ZG9rdTsKCQkJfTsKCQkJd2luZG93Lm1zZ2EgPSAoX3N1ZG9rdSkgPT4gewoJCQkJY29uc3QganVzdGVyZW1vbnRlID0gKHRkbWluaSkgPT4geyAvLyAzIGV0IDIrMwoJCQkJIiIiKihzb21tZSA/IHJhdyIiIDogcmF3IiIiCgkJCQl0ZG1pbmkuZm9yRWFjaCh0ZCA9PiB7CgkJCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJCQkKCQkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0IikpIHsKCQkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpLmNoZWNrZWQpIHsKCQkJCQkJCQljb25zdCBsaWduID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykpICsgMTsgLy8gMyBldCAyKzMKCQkJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICsgMTsKCQkJCQkJCQljb25zdCB2YWxlID0gZS50YXJnZXQuaW5uZXJIVE1MOyAvLyBwYXMgdXRpbGUgZGFucyBjZSBjYXMgIQoJCQkJCQkJCXZhciBjaWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdWRva2luY2lwaXQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgiKyBsaWduICsiKSA+IHRkOm50aC1jaGlsZCgiKyBjb2xvICsiKSA+IGlucHV0W3R5cGU9dGV4dF0iKTsKCQkJCQkJCQlpZiAoIShpc05hTih2YWxlKSkpIHsKCQkJCQkJCQkJY2libGUudmFsdWUgPSB2YWxlOyAKCQkJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiaW5pIik7CgkJCQkJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXNmb290Iik/LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJjbGljayIpKTsKCQkJCQkJCQkJY2libGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2N0b3AnKSk7IAoJCQkJCQkJCX07CgkJCQkJCX19OwkKCQkJCQkJCgkJCQl9KX0pOyAiIiIpKnJhdyIiIn07CgoJCQkJY29uc3QgY2Fyb2xpZ24gPSAoZSkgPT4geyAvLyAzIGV0IDEuLi4gw6AgbGEgYmFzZQoJCQkJCWNvbnN0IGlsaWcgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgamNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3QgZ3JhbmxpZyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGdyYW5jb2wgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3Qgb3JOaWNhciA9ICh0bGlnLHRjb2wpID0+IE1NY2FyKGdyYW5saWcsZ3JhbmNvbCx0bGlnLHRjb2wpOwoJCQkJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCh0ciA9PiB7CgkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoKCQkJCQkJCWlmICgodGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgJiYgKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gZ3JhbmxpZyB8fCB0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGdyYW5jb2wgfHwgb3JOaWNhcih0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkpewoJCQkJCQkJCS8vdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2lsaWddLmNoaWxkTm9kZXNbamNvbF0uY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQkJCXRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1tpbGlnXS5jaGlsZE5vZGVzW2pjb2xdLmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsKCQkJCQkJCQl9IH0pOwoJCQkJCX0pOwoJCQkJfTsgCgoJCQkJY29uc3QgY2FzZWNhcm9saWduID0gKGUpID0+IHsgLy8gMiBldCAyIGJvbnVzCgkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQljb25zdCBncmFubGlnID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgZ3JhbmNvbCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQljb25zdCBvck5pY2FyID0gKHRsaWcsdGNvbCkgPT4gTU1jYXIoZ3JhbmxpZyxncmFuY29sLHRsaWcsdGNvbCk7CgkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKHRyID0+IHsKCQkJCQkJdHIuY2hpbGROb2Rlcy5mb3JFYWNoKHRkZCA9PiB7CgoJCQkJCQkJaWYgKCh0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdIT1udWxsKSAmJiAodGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSA9PSBncmFubGlnIHx8IHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykgPT0gZ3JhbmNvbCB8fCBvck5pY2FyKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JyksdGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSkgKSl7CgkJCQkJCQkJdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzLmZvckVhY2gobGlnbmUgPT4gewoJCQkJCQkJCQlsaWduZS5jaGlsZE5vZGVzLmZvckVhY2goY29sb24gPT4gewoJCQkJCQkJCQljb2xvbi5jbGFzc0xpc3QucmVtb3ZlKCJjYWNow6llIik7CgkJCQkJCQkJICB9KTsKCQkJCQkJCQl9KTsgCgkJCQkJCQl9IH0pOwoJCQkJCX0pOwoJCQkJfTsgCgkJCQkKCQkJCWNvbnN0IHRvdXNsZXPDqWdhbGl0ID0gKGUpID0+IHsKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAkKCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJCQkJCQkJdHIuY2hpbGROb2Rlcy5mb3JFYWNoKHRkZCA9PiB7CgkJCQkJCQkJaWYgKHRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpewoJCQkJCQkJCQl0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbaWxpZ10uY2hpbGROb2Rlc1tqY29sXS5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQkJCQl9fSk7CgkJCQkJfSk7CQkKCQkJCX07CgoJCQkJY29uc3QganVzdGV1bmVjYXNlID0gKHRkbWluaSkgPT4geyAvLyAyIGV0IDIKCQkJCWp1c3RlcmVtb250ZSh0ZG1pbmkpOwoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsJCQoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikpIHsKCQkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKS5jaGVja2VkKSB7CQoJCQkJCQkJY2FzZWNhcm9saWduKGUpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKGxpZ25lID0+IHsKCQkJCQkJICBsaWduZS5jaGlsZE5vZGVzLmZvckVhY2goY29sb24gPT4gewoJCQkJCQkJY29sb24uY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJCQkgIH0pOwoJCQkJCQl9KTsgCgkJCQkJfX0gfSk7CQoJCQkJfSkgfTsKCQkJCQoJCQkJY29uc3QgdG91c2xlc8OpZ2FsaXRpb3MgPSAodGRtaW5pKSA9PiB7IC8vIDIgZXQgMQoJCQkJanVzdGVyZW1vbnRlKHRkbWluaSk7CgkJCQl0ZG1pbmkuZm9yRWFjaCh0ZCA9PiB7CgkJCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJCQkiIiIqKHNvbW1lID8gcmF3IiIiaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKSkgewoJCQkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKS5jaGVja2VkKSB7CQoJCQkJCQkJCWNhcm9saWduKGUpOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0b3VzbGVzw6lnYWxpdChlKSB9fTsKCQkJCQkJIiIiIDogcmF3IiIidG91c2xlc8OpZ2FsaXQoZSk7ICIiIikqcmF3IiIiCgkJCQl9KX0pIH07CgkJCQkKCQkJCWNvbnN0IGNhcm9saWduaW9zID0gKHRkbWluaSkgPT4geyAvLyAzIGV0IDEKCQkJCWp1c3RlcmVtb250ZSh0ZG1pbmkpOwoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpKSB7CgkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewoJCQkJCQkJY2Fyb2xpZ24oZSk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKX19OwoJCQkJfSkgfSkgfTsgCgkJCQkKCQkJCWNvbnN0IHRvdXRlZmZhY2VyID0gKHRkYmxldXMpID0+IHsKCQkJCQl0ZGJsZXVzLmZvckVhY2godGRibGV1ID0+IHsKCQkJCQkJdGRibGV1LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJCXZhciBncmFudGIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkJCQkJCQlmb3IobGV0IGdyYW5pPTA7IGdyYW5pPDk7Z3JhbmkrKyl7IAoJCQkJCQkJZm9yKGxldCBncmFuaj0wOyBncmFuajw5O2dyYW5qKyspeyAKCQkJCQkJCSBpZiAoZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgewoJCQkJCQkJZm9yKGxldCBtaW5paT0wOyBtaW5paTwzO21pbmlpKyspeyAKCQkJCQkJCWZvcihsZXQgbWluaWo9MDsgbWluaWo8MzttaW5paisrKXsgCgkJCQkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbbWluaWldLmNoaWxkTm9kZXNbbWluaWpdLmNsYXNzTGlzdC5hZGQoImNhY2jDqWUiKTsKCQkJCQkJCQoJCQkJCQkJfX0gfSB9fTsKCQkJCQkJfSk7CgkJCQkJfSk7IH07CgkJCQkKCQkJCQoJCWxldCB0ZG1pbmkgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLm1pbmknKTsgCgkJLy8gL3BhckNhc2UgPSB0b3V0Vm9pciAjIGJpZG91aWxsZSDDoCBjaGFuZ2VyID8gL3RvdXRWb2lyID0gdHJ1ZSAvLy8gcGx1cyBoYXV0CiAgCQkiIiIqKHRvdXRWb2lyICYmIHBhckNhc2UgPyByYXciIiJqdXN0ZXJlbW9udGUodGRtaW5pKTsvKiAzIGV0IDIrMyAqLwoJCQkiIiIgOiByYXciIiIgbGV0IHRkYmxldXMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmluaScpOyB0b3V0ZWZmYWNlcih0ZGJsZXVzKTsgCgkJCQkJIiIiKihwYXJDYXNlID8gcmF3IiIianVzdGV1bmVjYXNlKHRkbWluaSk7IC8qIDIgZXQgMiAqLyAKCQkJCQkJCSIiIiA6ICh0b3V0Vm9pciA/IHJhdyIiInRvdXNsZXPDqWdhbGl0aW9zKHRkbWluaSk7IC8qIDMgZXQgMSArIDIgZXQgMyAqLyAiIiIgOiByYXciIiJjYXJvbGlnbmlvcyh0ZG1pbmkpOyAvKiAyIGV0IDEgKi8gIiIiKSkpKiByYXciIiIKCQkgIHJldHVybiBfc3Vkb2t1OwoJCX07CgkJLy8gc2lub24gOiByZXR1cm4gY3JlYXRlU3Vkb2t1SHRtbCguLi4pLl9zdWRva3U7CgkJcmV0dXJuIG1zZ2EoY3JlYXRlU3Vkb2t1SHRtbCgiIiIgKiIkSlByb3BhbCIqIiwgIioiJEpTdWRva3VpbmkiKiIiIikpOwoJCTwvc2NyaXB0PiIiIikKCWVuZAoJaHRtbHNwID0gaHRtbFN1ZG9rdVByb3BhbCAjIyBtaW5pIHZlcnNpb24KCWh0bWF0cCA9IGh0bWxTdWRva3VQcm9wYWwg4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uIAoJCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBGb25jdGlvbiBwcmljaXBhbGUgcXVpIHLDqXNvdXQgbidpbXBvcnRlIHF1ZWwgc3Vkb2t1IChtw6ptZSBmYXV4KSAjIyMjIyMjIyMjIyMjIyMjIyMjCiMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMKICBmdW5jdGlvbiByw6lzb3V0U3Vkb2t1TWF4KG1TOjpBcnJheXtJbnQsMn0sIGxlc1rDqXJvczo6U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0sIGRpY29yw6l6bGlnOjpEaWN0e0ludCwgU2V0e0ludH19LCBkaWNvcsOpemNvbDo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjYXI6OkRpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fSA7IHRvdXJzOjpJbnQgPSA4MSkgCgluYlRvdXJzVG90YWwgPSB0b3VycyAjIGxlIG5vbWJyZSBxdWkgY2UgcHJvZ3JhbW1lIGEgcsOpZWxsZW1lbnQgZmFpdCBwYXIgZXNzYWkKCSMgbGVzWsOpcm9zID0gU2V0KHZaw6lyb3MpICMjIGF2YW50IFNldChzaHVmZmxlISh2WsOpcm9zKSkgIyBTZXQgdW5lIGJvbm5lIF5eCglsaXN0ZWRlY2hvaXggPSBUdXBsZXtJbnQsSW50LEludCxJbnQsU2V0e0ludH19W10KCWxpc3RlZGFuY2llbm5lTWF0ID0gQXJyYXl7SW50LDJ9W10KCWxpc3RlZGVzWsOpcm9zID0gU2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX1bXQoJbGVaw6lyb8OgU3VwcHIgPSAoMCwwLDAsMDowLDA6MCkgIyBUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0KCW5iQ2hvaXhmYWl0ID0gMAoJbWluQ2hvaXhkZXNaw6lyb3MgPSAxMAoJYWxsZXJBdUNob2l4U3VpdmFudCA9IGZhbHNlCgljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUgPSAoMCwwLDAsMCxTZXR7SW50fSgpKSAKCWxpc3RlZGFuY2llbkltcCA9IERpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fVtdICMgc2kgZGljT2sgCglsaXN0ZWRpY29yw6l6bGlnID0gRGljdHtJbnQsIFNldHtJbnR9fVtdCglsaXN0ZWRpY29yw6l6Y29sID0gRGljdHtJbnQsIFNldHtJbnR9fVtdCglsaXN0ZWRpY29yw6l6Y2FyID0gRGljdHtJbnQsIFNldHtUdXBsZXtJbnQsSW50fX19W10gCgltSW1wID0gRGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19KCkKCcOnYU5hdmFuY2VQYXMgPSB0cnVlICMgUGVybWV0IGRlIHZvaXIgc2kgcmllbiBuZSBzZSByZW1wbGl0IGVuIHVuIHRvdXIKCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJd2hpbGUgIWlzZW1wdHkobGVzWsOpcm9zKSAjICYmIG5iVG91cnNUb3RhbCA8IG5iVG91cnNNYXgKCQlpZiAhYWxsZXJBdUNob2l4U3VpdmFudAoJCQluYlRvdXJzVG90YWwgKz0gMQoJCQnDp2FOYXZhbmNlUGFzID0gdHJ1ZSAjIHJlc2V0IMOgIGNoYXF1ZSB0b3VyCgkJCW1pbkNob2l4ZGVzWsOpcm9zID0gMTAKCQkJZGlsbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlsa28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGljY28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlja28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlra28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlsY28gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWNsbyA9IERpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSgpCgkJCWRpa2NvID0gRGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0oKQoJCQlkaWtsbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZnVzaWJsZXNsaWcgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJZnVzaWJsZXNjb2wgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJZnVzaWJsZXNjYXIgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJdsOpcmlmbGlnbmUgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY29sID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNhcnLDqSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e1R1cGxle0ludCxJbnR9fSB9KCkgZm9yIF8gPSAxOjkgXQoJCQlmb3IgKGksaixrLGlpLGpqKSBpbiBsZXNaw6lyb3MKCQkJCWxpc3RlY2hpZmZyZSA9IGNoaWZmcmVQb3NzaWJsZShtUyxpLGosZ2V0IShtSW1wLChpLGopLFNldHtJbnR9KCkgKSxpaSxqaikgCgkJCQlzYWMhKGosaSxrLGlpLGpqLGxpc3RlY2hpZmZyZSxmdXNpYmxlc2NvbCxkaWNjbyxkaWNsbyxkaWNrbykKCQkJCXNhYyEoaSxqLGssaWksamosbGlzdGVjaGlmZnJlLGZ1c2libGVzbGlnLGRpbGxvLGRpbGNvLGRpbGtvKQoJCQkJc2FrIShpLGosayxpaSxqaixsaXN0ZWNoaWZmcmUsZnVzaWJsZXNjYXIsZGlrbG8sZGlrY28sZGlra28pCgkJCQlpZiBpc2VtcHR5KGxpc3RlY2hpZmZyZSkgfHwgcGFzQXNzZXpEZVByb3BhbCEoaSxqLGxpc3RlY2hpZmZyZSwgdsOpcmlmbGlnbmVbaV0sIHbDqXJpZmNvbFtqXSwgdsOpcmlmY2FycsOpW2tdLG1JbXApCgkJCQkJYWxsZXJBdUNob2l4U3VpdmFudCA9IHRydWUgIyBkb25jIG1hdXZhaXMgY2hvaXgKCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJCQkJYnJlYWsKCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVjaGlmZnJlKSA9PSAxICMgTCdpZMOpYWwsIHVuZSBzZXVsZSBwb3NzaWJpbGl0w6kKCQkJCQltU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXSAjIGxlIFNldCBlbiBsaXN0ZQoJCQkJCSMgbVNbaSxqXT1wb3AhKGxpc3RlY2hpZmZyZSkgIyMgbmUgZm9uY3Rpb25uZSBwYXMKCQkJCQlwdXNoIShsZXNaw6lyb3PDoFN1cHByLCAoaSxqLGssaWksamopKQoJCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0saikKCQkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pdLGkpCgkJCQkJZGVsZXRlIShkaWNvcsOpemNhcltrXSwoaSxqKSApCgkJCQkJaGFza2V5KGRpbGxvLGkpICYmIGRlbGV0ZSEoZGlsbG9baV0sIG1TW2ksal0pICMgdXRpbGUgZXQgc8O7cgoJCQkJCWhhc2tleShkaWNjbyxqKSAmJiBkZWxldGUhKGRpY2NvW2pdLCBtU1tpLGpdKQoJCQkJCWhhc2tleShkaWtrbyxrKSAmJiBkZWxldGUhKGRpa2tvW2tdLCBtU1tpLGpdKQoJCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQkJZWxzZWlmIMOnYU5hdmFuY2VQYXMgJiYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPCBtaW5DaG9peGRlc1rDqXJvcwoJCQkJCW1pbkNob2l4ZGVzWsOpcm9zID0gbGVuZ3RoKGxpc3RlY2hpZmZyZSkKCQkJCQljaG9peEFmYWlyZSA9IChpLGosIDEsIG1pbkNob2l4ZGVzWsOpcm9zLCBsaXN0ZWNoaWZmcmUpIAoJCQkJCWxlWsOpcm/DoFN1cHByID0gKGksaixrLGlpLGpqKSAjIE9uIGdhcmRlIGxlcyBjZWxsdWxlcyBhdmVjIC4uLiAKCQkJCWVuZCAjIC4uLiBsZSBtb2lucyBkZSBjaG9peCDDoCBmYWlyZSwgc2kgw6dhIG4nYXZhbmNlIHBhcwoJCQllbmQKCQllbmQKCQkjIGlmIGFsbGVyQXVDaG9peFN1aXZhbnQgfHwgw6dhTmF2YW5jZVBhcyAmJiAoZEltcCA9PSBtSW1wKSAjIGVuIG1pZXV4IF5eCgkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCB8fCB1bmljbGshKGRpY2xvLGRpY2NvLGRpY2tvLGRpbGxvLGRpbGNvLGRpbGtvLGRpa2xvLGRpa2NvLGRpa2tvLG1TLG1JbXAsZGljb3LDqXpsaWcsZGljb3LDqXpjb2wsZGljb3LDqXpjYXIsbGVzWsOpcm9zw6BTdXBwcizDp2FOYXZhbmNlUGFzKQoJCQlpZiBhbGxlckF1Q2hvaXhTdWl2YW50ICMgU2kgbGUgY2hvaXggZW4gY291cnMgbidlc3QgcGFzIGJvbgoJCQkJaWYgaXNlbXB0eShsaXN0ZWRlY2hvaXgpICMgcGFzIGRlIGJvbCBoZWluCgkJCQkJIyBAaW5mbyAiMW1wICRuYlRvdXJzVG90YWwgJG5iQ2hvaXhmYWl0IgoJCQkJCXJldHVybiBpbXBvc3NpYmxlICMgZmF1eCBjYXIgdHJvcCBjb250cmFpbnQg4oaSIGV4OiAxMjM0NTY3OCs5ICMjLCAodG91cj1uYlRvdXJzLHR0PW5iVG91cnNUb3RhbCxlc3NhaT1lc3NhaSxub2l4PW5iQ2hvaXhmYWl0LHRvdXJzPWxpc3RlVG91cnMsY2hvaXg9bGlzdGVkZWNob2l4LCB6w6lyb3M9bGlzdGVkZXNaw6lyb3MsbWF0aHM9bGlzdGVkYW5jaWVubmVNYXQpIAoJCQkJZWxzZWlmIGNob2l4UHLDqWPDqWRlbnRbM10gPCBjaG9peFByw6ljw6lkZW50WzRdICMgQWxsZXIgYXUgc3VpdmFudAoJCQkJCSMjIHB1c2ghKGxpc3RlSGlzdG9NYXQgLCBjb3B5KG1TKSkgIyMgaGlzdG9pcmUgMSAKCQkJCQkjIyBwdXNoIShsaXN0ZUhpc3RvQ2hvaXggLCBjaG9peFByw6ljw6lkZW50KSAjIyBoaXN0b2lyZSAxIAoJCQkJCSMjIHB1c2ghKGxpc3RlSGlzdG9Ub3Vyc1RvdGFsICwgKG5iVG91cnMsIG5iVG91cnNUb3RhbCkpICMjIGhpMSAKCQkJCQkjIyBuYkhpc3RvVG90ICs9IDEgIyMgaGlzdG9pcmUgMQoJCQkJCShpLGosIGNob2l4LCBsLCBsYykgPSBjaG9peFByw6ljw6lkZW50CgkJCQkJY2hvaXhQcsOpY8OpZGVudCA9IChpLGosIGNob2l4KzEsIGwsIGxjKQoJCQkJCWxpc3RlZGVjaG9peFtuYkNob2l4ZmFpdF0gPSBjaG9peFByw6ljw6lkZW50CgkJCQkJbVMgPSBjb3B5KGxpc3RlZGFuY2llbm5lTWF0W25iQ2hvaXhmYWl0XSkKCQkJCQltSW1wID0gZGVlcGNvcHkobGlzdGVkYW5jaWVuSW1wW25iQ2hvaXhmYWl0XSkKCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCQkJCQltU1tpLGpdID0gcG9wIShsYykKCQkJCQlsZXNaw6lyb3MgPSBjb3B5KGxpc3RlZGVzWsOpcm9zW25iQ2hvaXhmYWl0XSkKCQkJCQlkaWNvcsOpemxpZyA9IGRlZXBjb3B5KGxpc3RlZGljb3LDqXpsaWdbbmJDaG9peGZhaXRdKQoJCQkJCWRpY29yw6l6Y29sID0gZGVlcGNvcHkobGlzdGVkaWNvcsOpemNvbFtuYkNob2l4ZmFpdF0pCgkJCQkJZGljb3LDqXpjYXIgPSBkZWVwY29weShsaXN0ZWRpY29yw6l6Y2FyW25iQ2hvaXhmYWl0XSkKCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVkZWNob2l4KSA8IDIgIyBwYXMgMiBib2wKCQkJCQkjIEBpbmZvICIyYmFsICRuYlRvdXJzVG90YWwgJG5iQ2hvaXhmYWl0IgoJCQkJCXJldHVybiBpbXBvc3NpYmxlCgkJCQllbHNlICMgSWwgZmF1dCByZXZlbmlyIGQndW4gY3JhbiBkYW5zIGxhIGxpc3RlIGhpc3RvcmlxdWUKCQkJCQltYXAocG9wISwobGlzdGVkZWNob2l4LGxpc3RlZGFuY2llbm5lTWF0LGxpc3RlZGFuY2llbkltcCwgbGlzdGVkZXNaw6lyb3MsbGlzdGVkaWNvcsOpemxpZyxsaXN0ZWRpY29yw6l6Y29sLGxpc3RlZGljb3LDqXpjYXIpKQoJCQkJCW5iQ2hvaXhmYWl0IC09IDEKCQkJCQljaG9peFByw6ljw6lkZW50ID0gbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XQoJCQkJZW5kCgkJCWVsc2UgIyBOb3V2ZWF1IGNob2l4IMOgIGZhaXJlIGV0IMOgIGdhcmRlciBlbiBtw6ltb2lyZQoJCQkJcHVzaCEobGlzdGVkZWNob2l4LCBjaG9peEFmYWlyZSkgIyBpY2kgcGFzIGJlc29pbiBkZSBjb3BpZQoJCQkJcHVzaCEobGlzdGVkYW5jaWVubmVNYXQgLCBjb3B5KG1TKSkgIyBjb3BpZSBlbiBkdXIKCQkJCXB1c2ghKGxpc3RlZGFuY2llbkltcCAsIGRlZXBjb3B5KG1JbXApKSAjIGNvcGllIGVuIGR1cgoJCQkJZGVsZXRlIShsZXNaw6lyb3MsIGxlWsOpcm/DoFN1cHByKSAjIE9uIHJldGlyZSBjZXV4Li4uIGlkZW0gc2V0CgkJCQlwdXNoIShsaXN0ZWRlc1rDqXJvcyAsIGNvcHkobGVzWsOpcm9zKSkgIyBjb3BpZSBlbiBkdXIgYXVzc2kKCQkJCW5iQ2hvaXhmYWl0ICs9IDEKCgkJCQlpc3VwcHIgPSBsZVrDqXJvw6BTdXBwclsxXQoJCQkJanN1cHByID0gbGVaw6lyb8OgU3VwcHJbMl0KCQkJCWtzdXBwciA9IGxlWsOpcm/DoFN1cHByWzNdCgkJCQkjIyBtU1tjaG9peEFmYWlyZVsxOjJdLi4uXSA9IHBvcCEoY2hvaXhBZmFpcmVbNV0pCgkJCQltU1tpc3VwcHIsIGpzdXBwcl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaXN1cHByXSxqc3VwcHIpCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pzdXBwcl0saXN1cHByKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltrc3VwcHJdLChpc3VwcHIsanN1cHByKSApCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6bGlnLCBkZWVwY29weShkaWNvcsOpemxpZykpCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6Y29sLCBkZWVwY29weShkaWNvcsOpemNvbCkpCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6Y2FyLCBkZWVwY29weShkaWNvcsOpemNhcikpCgoJCQkJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlCgkJCWVuZCAKCQllbHNlICMgIcOnYU5hdmFuY2VQYXMgJiYgIWFsbGVyQXVDaG9peFN1aXZhbnQgIyMgVG91dCB2YSBiaWVuIGljaQoJCQlzZXRkaWZmIShsZXNaw6lyb3MsIGxlc1rDqXJvc8OgU3VwcHIpICMgT24gcmV0aXJlIGNldXggcmVtcGxpcyAKCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJZW5kCQoJZW5kCglyZXR1cm4gdG91dGVzdGJpZW5xdWlmaW5pdGJpZW4obVMsIG5iQ2hvaXhmYWl0LCBuYlRvdXJzVG90YWwpCiAgZW5kCiMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjCiMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjIAogIGZ1bmN0aW9uIHLDqXNvdXRTdWRva3UoSlN1ZG9rdTo6VmVjdG9ye1ZlY3RvcntJbnR9fSA7IG5iVG91cnNNYXg6OkludCA9IDgxKSAKCW5iVG91cnNUb3RhbDo6SW50ID0gMAoJbVM6OkFycmF5e0ludCwyfSA9IGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkgIyBDb252ZXJ0aSBlbiB2cmFpZSBtYXRyaWNlCglsZXNaw6lyb3MgPSBTZXQoc2h1ZmZsZSEoWyhpLGopIGZvciBqIGluIDE6OSwgaSBpbiAxOjkgaWYgbVNbaSxqXT09MF0pKQoJbGlzdGVkZWNob2l4ID0gVHVwbGV7SW50LEludCxJbnQsSW50LFNldHtJbnR9fVtdCglsaXN0ZWRhbmNpZW5uZU1hdCA9IEFycmF5e0ludCwyfVtdCglsaXN0ZWRlc1rDqXJvcyA9IFNldHtUdXBsZXtJbnQsSW50fX1bXQoJbmJDaG9peGZhaXQgPSAwCgltaW5DaG9peGRlc1rDqXJvcyA9IDEwCglhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZSA9ICgwLDAsMCwwLFNldHtJbnR9KCkpIAoJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyBQZXJtZXQgZGUgdm9pciBzaSByaWVuIG5lIHNlIHJlbXBsaXQgZW4gdW4gdG91cgoJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludH19KCkKCWlmIHbDqXJpZlN1ZG9rdUJvbihtUykKCQl3aGlsZSAhaXNlbXB0eShsZXNaw6lyb3MpICYmIG5iVG91cnNUb3RhbCA8IG5iVG91cnNNYXgKCQkjIyBmb3IgbmJ0IGluIDE6bmJUb3Vyc01heCAjIyMgbWF1dmFpc2UgaWTDqWUKCQkJIyMgaXNlbXB0eShsZXNaw6lyb3MpICYmIChuYlRvdXJzVG90YWwgKz0gbmJ0IC0gMTsgYnJlYWspCgkJCWlmICFhbGxlckF1Q2hvaXhTdWl2YW50CgkJCQluYlRvdXJzVG90YWwgKz0gMQoJCQkJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyByZXNldCDDoCBjaGFxdWUgdG91ciA/IGlkZW0gcG91ciBsZSByZXN0ZSA/CgkJCQltaW5DaG9peGRlc1rDqXJvcyA9IDEwCgkJCQlmb3IgKGksaikgaW4gbGVzWsOpcm9zCgkJCQkJbGlzdGVjaGlmZnJlID0gc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1TLGksaikgCgkJCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpCgkJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSB0cnVlICMgZG9uYyBtYXV2YWlzIGNob2l4CgkJCQkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnR9fSgpCgkJCQkJCWJyZWFrCgkJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWNoaWZmcmUpID09IDEgIyBMJ2lkw6lhbCwgdW5lIHNldWxlIHBvc3NpYmlsaXTDqQoJCQkJCQltU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXSAjIyBhdmFudCBsZSBTZXQgZW4gbGlzdGUKCQkJCQkJIyBtU1tpLGpdPXBvcCEobGlzdGVjaGlmZnJlKSAjIyBuZSBmb25jdGlvbm5lIHBhcwoJCQkJCQlwdXNoIShsZXNaw6lyb3PDoFN1cHByLCAoaSxqKSkKCQkJCQkJw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCQkJZWxzZWlmIMOnYU5hdmFuY2VQYXMgJiYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPCBtaW5DaG9peGRlc1rDqXJvcwoJCQkJCQltaW5DaG9peGRlc1rDqXJvcyA9IGxlbmd0aChsaXN0ZWNoaWZmcmUpCgkJCQkJCWNob2l4QWZhaXJlID0gKGksaiwgMSwgbWluQ2hvaXhkZXNaw6lyb3MsIGxpc3RlY2hpZmZyZSkgIAoJCQkJCQllbmQgIyAuLi4gbGUgbW9pbnMgZGUgY2hvaXggw6AgZmFpcmUsIHNpIMOnYSBuJ2F2YW5jZSBwYXMKCQkJCWVuZAoJCQllbmQKCQkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCB8fCDDp2FOYXZhbmNlUGFzIAoJCQkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCAjIFNpIGxlIGNob2l4IGVuIGNvdXJzIG4nZXN0IHBhcyBib24KCQkJCQlpZiBpc2VtcHR5KGxpc3RlZGVjaG9peCkgIyBwYXMgZGUgYm9sIGhlaW4KCQkJCQkJcmV0dXJuIGltcG9zc2libGUKCQkJCQllbHNlaWYgY2hvaXhQcsOpY8OpZGVudFszXSA8IGNob2l4UHLDqWPDqWRlbnRbNF0gIyBBbGxlciBhdSBzdWl2YW50IAoJCQkJCQkoaSxqLCBjaG9peCwgbCwgbGMpID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCQljaG9peFByw6ljw6lkZW50ID0gKGksaiwgY2hvaXgrMSwgbCwgbGMpCgkJCQkJCWxpc3RlZGVjaG9peFtuYkNob2l4ZmFpdF0gPSBjaG9peFByw6ljw6lkZW50CgkJCQkJCW1TID0gY29weShsaXN0ZWRhbmNpZW5uZU1hdFtuYkNob2l4ZmFpdF0pCgkJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJCQkJCQltU1tpLGpdID0gcG9wIShsYykKCQkJCQkJbGVzWsOpcm9zID0gY29weShsaXN0ZWRlc1rDqXJvc1tuYkNob2l4ZmFpdF0pCgkJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWRlY2hvaXgpIDwgMiAjIHBhcyAyIGJvbAoJCQkJCQlyZXR1cm4gaW1wb3NzaWJsZQoJCQkJCWVsc2UgIyBJbCBmYXV0IHJldmVuaXIgZCd1biBjcmFuIGRhbnMgbGEgbGlzdGUgaGlzdG9yaXF1ZSAKCQkJCQkJbWFwKHBvcCEsKGxpc3RlZGVjaG9peCxsaXN0ZWRhbmNpZW5uZU1hdCwgbGlzdGVkZXNaw6lyb3MpKQoJCQkJCQluYkNob2l4ZmFpdCAtPSAxCgkJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdCgkJCQkJZW5kCgkJCQllbHNlICMgTm91dmVhdSBjaG9peCDDoCBmYWlyZSBldCDDoCBnYXJkZXIgZW4gbcOpbW9pcmUgCgkJCQkJcHVzaCEobGlzdGVkZWNob2l4LCBjaG9peEFmYWlyZSkgIyBpY2kgcGFzIGJlc29pbiBkZSBjb3BpZQoJCQkJCXB1c2ghKGxpc3RlZGFuY2llbm5lTWF0ICwgY29weShtUykpICMgY29waWUgZW4gZHVyCgkJCQkJZGVsZXRlIShsZXNaw6lyb3MsIGNob2l4QWZhaXJlWzE6Ml0pICMgT24gcmV0aXJlIGNldXguLi4gaWRlbSBzZXQgPwoJCQkJCXB1c2ghKGxpc3RlZGVzWsOpcm9zICwgY29weShsZXNaw6lyb3MpKSAjIGNvcGllIGVuIGR1ciBhdXNzaSAKCQkJCQluYkNob2l4ZmFpdCArPSAxCgkJCQkJbVNbY2hvaXhBZmFpcmVbMToyXS4uLl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZQoJCQkJZW5kIAoJCQllbHNlICMgIcOnYU5hdmFuY2VQYXMgJiYgIWFsbGVyQXVDaG9peFN1aXZhbnQgIyMgVG91dCB2YSBiaWVuIGljaQoJCQkJc2V0ZGlmZiEobGVzWsOpcm9zLCBsZXNaw6lyb3PDoFN1cHByKSAjIE9uIHJldGlyZSBjZXV4IHJlbXBsaXMgCgkJCQlsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50fX0oKQoJCQllbmQJCgkJZW5kCgllbHNlIHJldHVybiDDoGNvcnJpZ2VyCgllbmQKCWlmIG5iVG91cnNUb3RhbCA9PSBuYlRvdXJzTWF4IHx8IG5iVG91cnNUb3RhbCA+IG5iVG91cnNNYXgKCQltQ29waWUgPSBnZXQobGlzdGVkYW5jaWVubmVNYXQsIDEsIGNvcHkobVMpKQoJCXZaw6lyb3MgPSBTZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJZGljb3LDqXpsaWcgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQlkaWNvcsOpemNvbCA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCWRpY29yw6l6Y2FyID0gRGljdHtJbnQsIFNldHtUdXBsZXtJbnQsSW50fX19KCkKCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5IAoJCQlpZiBtQ29waWVbaSxqXT09MAoJCQkJayA9IGtlbGNhcnLDqShpLGopCgkJCQlwdXNoISh2WsOpcm9zLCAoaSxqLGssY2FycihpKSxjYXJyKGopKSApCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6bGlnLGksU2V0e0ludH0oKSApLGopCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6Y29sLGosU2V0e0ludH0oKSApLGkpCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6Y2FyLGssU2V0e1R1cGxle0ludCxJbnR9fSgpICksKGksaikgKQoJCQllbmQKCQllbmQgCgkJcmV0dXJuIHLDqXNvdXRTdWRva3VNYXgobUNvcGllLCB2WsOpcm9zLCBkaWNvcsOpemxpZywgZGljb3LDqXpjb2wsIGRpY29yw6l6Y2FyOyB0b3Vycz1uYlRvdXJzVG90YWwpIAoJZWxzZSByZXR1cm4gdG91dGVzdGJpZW5xdWlmaW5pdGJpZW4obVMsIG5iQ2hvaXhmYWl0LCBuYlRvdXJzVG90YWwpCgllbmQKICBlbmQKICByanMgPSByw6lzb3V0U3Vkb2t1ICMjIG1pbmkgdmVyc2lvbiAgICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjCiAgcm1hdCA9IHLDqXNvdXRTdWRva3Ug4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uICAgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMKIyBGaW4gZGUgbGEgZm9uY3Rpb24gcHJpbmNpcGFsZSA6IHLDqXNvdXRTdWRva3UgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICBmdW5jdGlvbiBzdWRva3VBbMOpYXRvaXJlRmluaSgpICMjIEfDqW7DqHJlIHVuIHN1ZG9rdSBhbMOpYXRvaXJlIGZpbmkgKGF1Y3VuIHZpZGUpCglyZXR1cm4gbGlzdGVKU8OgbWF0cmljZShyw6lzb3V0U3Vkb2t1KGpzdmQoKSlbMV0pCiAgZW5kCiAgZnVuY3Rpb24gc3Vkb2t1QWzDqWF0b2lyZSh4PTE5OjYyIDsgZnVuPXJhbmQsIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCkpI3JhbmQxOjgxCiAgIyBVbmUgZm9pcyBsZSBzdWRva3VBbMOpYXRvaXJlRmluaSwgb24gbGUgdmlkZSB1biBwZXUgZCd1biBub21icmUgeCBkZSBjZWxsdWxlcwoJaWYgIWlzYSh4LCBJbnQpICMgUGVybWV0IGRlIGNob2lzaXIgbGUgbm9tYnJlIGRlIHrDqXJvIG91IHVuIGludGVydmFsZQoJCXg9ZnVuKHgpCgllbmQKCXggPSAoMCA8PSB4IDwgODIpID8geCA6IDgxICMgUG91ciBjZXV4IGF1eCBncm9zIGRvaWd0cywgb3UgcXVpIHZvaXQgdHJvcCBncmFuZAoJbGlzdGUgPSBzaHVmZmxlIShbKGksaikgZm9yIGkgaW4gMTo5IGZvciBqIGluIDE6OV0pCglmb3IgKGksaikgaW4gbGlzdGVbMTp4XSAjIG5iQXBwcm94RGVaw6lyb3MKCQltYXR6w6lyb1tpLGpdID0gMAoJZW5kCglyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhtYXR6w6lybykKICBlbmQKCiAgZnVuY3Rpb24gdmlldXhTdWRva3UhKG5vdXZlYXU9c3Vkb2t1QWzDqWF0b2lyZSgpIDsgZMOpZmF1dD1mYWxzZSwgbcOpbW9pcmU9U3Vkb2t1TcOpbW8sIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCksIGlkTGllbj0ibGllbiIqc3RyaW5nKHJhbmQoSW50KSkpCiAgIyBPbiBwZXV0IHJldHJvdXZlciB1biB2aWV1eFN1ZG9rdSEgcG91ciBsZSBtZXR0cmUgYXUgbGlldSBkdSBzdWRva3UgaW5pdGlhbAogICMjIEV4ZW1wbGUgZGUgc3Vkb2t1IDoKICAjIHZpZXV4U3Vkb2t1IShbWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDMsMCw4LDVdLFswLDAsMSwwLDIsMCwwLDAsMF0sWzAsMCwwLDUsMCw3LDAsMCwwXSxbMCwwLDQsMCwwLDAsMSwwLDBdLFswLDksMCwwLDAsMCwwLDAsMF0sWzUsMCwwLDAsMCwwLDAsNywzXSxbMCwwLDIsMCwxLDAsMCwwLDBdLFswLDAsMCwwLDQsMCwwLDAsOV1dKQoJaWYgZMOpZmF1dD09dHJ1ZSAjIE3DqWdhbG9tYW5pZSAjIyBPbiByZXZpZW50IMOgIG1vbiBkw6lmYXV0IF5eCgkJbcOpbW9pcmVbMl0gPSBjb3B5KG3DqW1vaXJlWzRdKQoJZWxzZWlmIGlzYShub3V2ZWF1LCBJbnQpIHx8IGlzYShub3V2ZWF1LCBVbml0UmFuZ2V7SW50fSkKCQltw6ltb2lyZVsyXSA9IHN1ZG9rdUFsw6lhdG9pcmUobm91dmVhdSA7IG1hdHrDqXJvPW1hdHrDqXJvKQoJZWxzZWlmIG5vdXZlYXU9PW3DqW1vaXJlWzFdIAoJCW3DqW1vaXJlWzJdID0gc3Vkb2t1QWzDqWF0b2lyZSgpCgllbHNlIG3DqW1vaXJlWzJdID0gY29weShub3V2ZWF1KSAjIEFzdHVjZSBwb3VyIHNhdXZlciBsZSBzdWRva3UgZW4gY291cnMKCWVuZAoJcmV0dXJuIERvY3MuSFRNTCgiIiI8c2NyaXB0PgoJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgoJZnVuY3Rpb24gZ29TdWRva3VJbmkoKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpWzFdLmNsaWNrKCk7Cgl9Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiJGlkTGllbiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZ29TdWRva3VJbmkpOwoJZ29TdWRva3VJbmkoKTsKCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIiNNb2RpZmllckluaXQiOwoJPC9zY3JpcHQ+PGg2IHN0eWxlPSJtYXJnaW4tdG9wOiAwOyI+IENpLWRlc3NvdXMsIGxlIGJvdXRvbsKg4pa2IHJlc3RvcmUgbGUgdmlldXggc3Vkb2t1IGVuIHN1ZG9rdSBpbml0aWFswqAhwqDwn6WzIDxhIGlkPSIkaWRMaWVuIiBocmVmPScjTW9kaWZpZXJJbml0Jz4gcmV0b3VywqBlbsKgaGF1dMKg4oaRIDwvYT4gPC9oNj4iIiIpCiAgZW5kCiAgdmlldXggPSB2cyA9IHZzISA9IHZTISA9IHZpZXV4U3Vkb2t1ISAjIyBtaW5pIHZlcnNpb24KICB2c2QoKSA9IHZpZXV4U3Vkb2t1IShkw6lmYXV0PXRydWUpICMjIFBvdXIgcmV2ZW5pciDDoCBsJ29yaWdpbmFsCiAgaW5pID0gZMOpZmF1dCA9IGRlZmF1dCA9IHZzZCAjIyBtaW5pIHZlcnNpb24KICBzdWRva3Vpbml0aWFsISgpID0gdmlldXhTdWRva3UhKFN1ZG9rdU3DqW1vWzNdKQogIHZpZXV4U3Vkb2t1IShub3V2ZWF1OjpBcnJheXtJbnQsMn0gOyBkw6lmYXV0PWZhbHNlLCBtw6ltb2lyZT1TdWRva3VNw6ltbywgbWF0esOpcm89c3Vkb2t1QWzDqWF0b2lyZUZpbmkoKSwgaWRMaWVuPSJsaWVuIipzdHJpbmcocmFuZChJbnQpKSkgPSB2aWV1eFN1ZG9rdSEobWF0cmljZcOgbGlzdGVKUyhub3V2ZWF1Jyk7IGTDqWZhdXQ9ZMOpZmF1dCwgbcOpbW9pcmU9bcOpbW9pcmUsIG1hdHrDqXJvPW1hdHrDqXJvLCBpZExpZW49aWRMaWVuKQoKICAjPSBEJ2F1dHJlcyBmb25jdGlvbnMgc2kgYmVzb2luIHBvdXIgdGVzdGVyIGV0IHJlcMOpcmVyIGRlcyBlcnJldXJzIDoKICBmdW5jdGlvbiBzdWRva3VBbHQobmJDaGlmZnJlc01heD1yYW5kKDI2OjgxKSwgbW9pbnNPSz10cnVlLCBuYmVzc2FpPTEpIAogICMgU29ydGUgZGUgc3Vkb2t1QWzDqWF0b2lyZSBtYWlzIHVuIHBldSBwbHVzIGZvaXJldXgsIGVuIGVmZmV0LCBpbCBuJ2VzdCBwYXMgZm9yY8OpbWVudCByw6lhbGlzYWJsZS4gQyfDqXRhaXQgc3VydG91dCBwb3VyIGZhaXJlIGRlcyB0ZXN0cy4KCW5iQ2hpZmZyZXMgPSAxCgkKCW1TOjpBcnJheXtJbnQsMn0gPSB6ZXJvcyhJbnQsIDksOSkgIyBNYXRyaWNlIGRlIHrDqXJvCglsZXNaw6lyb3MgPSBzaHVmZmxlIShbKGksaikgZm9yIGogaW4gMTo5LCBpIGluIDE6OV0pIyBGYXN0ICYgRnVyaW91cwoJCglmb3IgKGksaikgaW4gbGVzWsOpcm9zCgkJaWYgbmJDaGlmZnJlcyA+IG5iQ2hpZmZyZXNNYXgKCQkJcmV0dXJuIG1TCgkJZWxzZSAKCQlsaXN0ZWNoaWZmcmUgPSBzaW1wbGVjaGlmZnJlUG9zc2libGUobVMsaSxqKQoJCQlpZiBpc2VtcHR5KGxpc3RlY2hpZmZyZSkgIyMjIFBhcyBib24gc2lnbmUgXl4KCQkJCWlmIG1vaW5zT0sgfHwgbmJlc3NhaSA+IDI2CgkJCQkJcmV0dXJuIG1TCgkJCQllbHNlIAoJCQkJCXJldHVybiBzdWRva3VBbHQobmJDaGlmZnJlc01heCwgZmFsc2UsIG5iZXNzYWkrMSkKCQkJCWVuZAoJCQllbHNlICMgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPT0gMSAjIEwnaWTDqWFsLCB1bmUgc2V1bGUgcG9zc2liaWxpdMOpCgkJCQkjIG1TW2ksal09Y29sbGVjdChsaXN0ZWNoaWZmcmUpWzFdCgkJCQltU1tpLGpdPXBvcCEobGlzdGVjaGlmZnJlKQoJCQkJbmJDaGlmZnJlcyArPSAxCgkJCWVuZAoJCWVuZAoJZW5kCiAgZW5kCiAgc2FsdCA9IHN1ZG9rdUFsdCAjIyBtaW5pIHZlcnNpb24KICBmdW5jdGlvbiBibGluZHRlc3QobmJ0ZXN0PTEwMCA7IHRtYXg9ODEsIG5iesOpcm8gPSAocmFuZCwgNzo3NyksIHN1ZGY9c3Vkb2t1QWzDqWF0b2lyZUZpbmkpCiAgIyBQZXJtZXQgZGUgdGVzdGVyIGxhIHJhcGlkaXTDqSBldCBjZXJ0YWlucyBidWdzIGRlIG1hIGZvbmN0aW9uIHByaW5jaXBhbGUgcsOpc291dFN1ZG9rdS4gQydlc3QgZG9uYyB1bmUgZm9uY3Rpb24gcXVpIGVzdCB0ZWNobmlxdWUgZXQgcXVpIHNlcnQgc3VydG91dCBxdWFuZCBpbCB5IGEgZGVzIMOpdm9sdXRpb25zIGRlIGNldHRlIGZvbmN0aW9uLgoJbmJ6w6lyb2YoKSA9IGlzYShuYnrDqXJvLFR1cGxlKSA/IG5iesOpcm89bmJ6w6lyb1sxXShuYnrDqXJvWzJdKSA6IE5vdGhpbmcKCWZvciBpIGluIDE6bmJ0ZXN0CgkJc3VkaW5pID0gc3VkZigpCgkJbmJ6w6lyb2YoKQoJCXN1ZGFsw6lhID0gc3Vkb2t1QWzDqWF0b2lyZShuYnrDqXJvLCBmdW49aWRlbnRpdHksIG1hdHrDqXJvPWNvcHkoc3VkaW5pKSkKCQkjIHRyeSAKCQkjIAlyw6lzb3V0U3Vkb2t1KHN1ZGFsw6lhIDsgbmJUb3Vyc01heD10bWF4KQoJCSMgY2F0Y2ggZQoJCSMgCXJldHVybiAoImJ1ZyIsIGUsIHN1ZGFsw6lhKQoJCSMgZW5kCgkJc29sdWNlID0gcsOpc291dFN1ZG9rdShzdWRhbMOpYSA7IG5iVG91cnNNYXg9dG1heCkKCQlpZiBzb2x1Y2VbMV0gaXNhIFN0cmluZwoJCQkjIyBpZiBzdWRmPT1zdWRva3VBbMOpYXRvaXJlRmluaSB8fCBzb2x1Y2VbMV0gIT0gaW1wb3NzaWJsZVsxXQoJCSMgaWYgc29sdWNlWzFdID09IGltcG9zc2libGVbMV0KCQkjIGlmIHNvbHVjZVsxXSA9PSDDoGNvcnJpZ2VyWzFdCgkJCQlyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhzdWRpbmkpLCBpLCBuYnrDqXJvLCBzb2x1Y2UsIHN1ZGluaSwgIHJlcGxhY2UoInZpZXV4KCAkKG1hdHJpY2XDoGxpc3RlSlMoc3VkaW5pKSkgKSIsIiAiPT4iIiksIHN1ZGFsw6lhLCByZXBsYWNlKCJ2aWV1eCgkc3VkYWzDqWEpIiwiICI9PiIiKQoJCQkjIGVuZAoJCWVuZAoJZW5kCglyZXR1cm4gW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMiwzLDAsMCwwLDEsNSwwXSxbNywwLDAsNCwwLDIsMCwwLDZdLFswLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCw3LDIsMCwwLDAsOCw0LDBdLFswLDEsNCwwLDAsMCw3LDksMF0sWzAsMCw3LDksMiw0LDMsMCwwXSxbMCwwLDAsMSw1LDcsMCwwLDBdXSwgIlRvdXQgdmEgYmllbi4uLiBwb3VyIGxlIG1vbWVudCDwn5GNIgoJIyByZXR1cm4gIlRvdXQgdmEgYmllbi4uLiBwb3VyIGxlIG1vbWVudCDwn5GNIgogIGVuZAogIGJ0ID0gdGVzdG1lID0gYmxpbmR0ZXN0ICMjIG1pbmkgdmVyc2lvbiA9IwogICMjIGV4ZW1wbGV0ZXN0ID0gYnQoMTAwLHN1ZGY9c2FsdCk7dmlldXgoZXhlbXBsZXRlc3RbMV0pCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCmVuZDsgbm90aGluZzsgIyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhICMjIHZvaXIganVzdGUgZGFucyBsYSBjZWxsdWxlICNCb251cyBhdSBkZXNzdXMg4oaRCiMgVm9pbMOgICEgZmluIGRlIGxhIHBsdXBhcnQgZHUgY29kZSBkZSBjZSBwcm9ncmFtbWUgUGx1dG9rdS5qbAoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAxCm1kIiMgUsOpc291ZHJlIHVuIFN1ZG9rdSBwYXIgQWxleGlzwqAkY29vbCIgIz0gdjEuOC42wqBqZXVkacKgMDcvMDcvMjAyMsKg8J+YiQoKUG91ciBsYSB2dWUgSFRNTCBldCBsZSBzdHlsZSBDU1MsIGNlbGEgZXN0IGluc3BpcsOpIGR1IHN1ZG9rdSBodHRwczovL29ic2VydmFibGVocS5jb20vQGZpbGlwZXJtbGgvaWEtc3Vkb2t1LXBsZTEKUG91ciBsZSBKYXZhU2NyaXB0LCBtZXJjaSDDoCAoY2FzZSBzdWl2YW50ZSBpbnB1dCkgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE1NTk1NzMyLCAodG91Y2hlcyBjbGF2aWVyKSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDQyMTMwMzYKRXQgYmllbiBzw7tyIGxlIGNhbGVwaW4gZCdleGVtcGxlIGRlIEZvbnMgIjMuIEludGVyYWN0aXZpdHkiClBvdXIgaW5mbywgbGUgY29kZSBwcmluY2lwYWwgZXN0IHN0eWzDqWzDoGJhc2F2ZWNib251cyEgb3UgcGx1dMO0dCBjYWNow6kganVzdGUgYXByw6hzIDopCgpDZSAicGx1dG9rdSIgZXN0IHZpc2libGUgc3VywqA6IApodHRwczovL2dpdGh1Yi5jb20vNExEL3BsdXRva3UKClBvdXIgbGUgcmVsYW5jZXIgcG91ciBpbmZvwqA6IApodHRwczovL215YmluZGVyLm9yZy92Mi9naC9mb25zcC9wbHV0by1vbi1iaW5kZXIvSEVBRD91cmxwYXRoPXBsdXRvL29wZW4/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS80TEQvcGx1dG9rdS9tYWluL1BsdXRva3UuamwKT3UgY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9mb25zcC9QbHV0by5qbCBldCBodHRwczovL2dpdGh1Yi5jb20vZm9uc3AvcGx1dG8tb24tYmluZGVyIDogCmh0dHBzOi8vYmluZGVyLnBsdXRvamwub3JnL29wZW4/dXJsPWh0dHBzOiUyNTJGJTI1MkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTI1MkY0TEQlMjUyRnBsdXRva3UlMjUyRm1haW4lMjUyRlBsdXRva3UuamwgCgo9IwoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAzCm1kIiIiUG91ciBjZXR0ZSBzZXNzaW9uLCBzaSBiZXNvaW4gZCd1biA6ICQoQGJpbmQgYm91dG9uU3Vkb2t1SW5pdGlhbCBodG1sIjxpbnB1dCB0eXBlPWJ1dHRvbiBzdHlsZT0nbWFyZ2luOiAwIDZweCAwIDZweCcgdmFsdWU9J/Cfk7cgaW5zdGFudGFuw6kgOyknPiIpICooc2nCoHN1ZG9rdcKgdmlkZcKg4oaSwqBzdWRva3XCoGFsw6lhdG9pcmUpKiIiIgoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDQtMTIzNDU2Nzg5MDAyCmJlZ2luIAoJYm91dG9uU3Vkb2t1SW5pdGlhbCAjIFJlbWV0dHJlIGxlIHB1Y2UgIk1vZGlmaWVySW5pdCIgc3VyIFJldG91ciBpbnN0YW50YW7DqSA7KQoJc3Vkb2t1aW5pdGlhbCEoKSAjIHZpZXV4U3Vkb2t1IShTdWRva3VNw6ltb1szXSkgUG91ciByZW1wbGFjZXIgcGFyIGNlbHVpIG1vZGlmacOpCgltZCIiIiAkKEBiaW5kIHZpZGVyT3VwYXMgcHVjZXMoWyJWaWRlciBsZSBzdWRva3UgaW5pdGlhbCIsIlJldG91ciBpbnN0YW50YW7DqSA7KSJdLCJSZXRvdXIgaW5zdGFudGFuw6kgOykiOyBpZFB1Y2VzPSJNb2RpZmllckluaXQiKSkgJChodG1sIsKgPGEgaHJlZj0nI0JvbnVzJyBzdHlsZT0ncGFkZGluZy1sZWZ0OiAxMHB4OyBib3JkZXItbGVmdDogbWVkaXVtIGRhc2hlZCAjNzc3Oyc+Qm9udXPCoGVuwqBiYXPCoOKGkzwvYT4iKcKgXzrCoGFzdHVjZXPCoCvCoHZpZXV4U3Vkb2t1IV8iIiIKZW5kCgojIOKVlOKVkOKVoSBhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDUKYmVnaW4KCWNob2l4U3Vkb2t1ID0gKCFpc2EodmlkZXJPdXBhcywgU3RyaW5nKSB8fCB2aWRlck91cGFzICE9ICJWaWRlciBsZSBzdWRva3UgaW5pdGlhbCIgCQkgID8gIDIgIDogIDEgICkKCUBiaW5kIGJpbmRKU3Vkb2t1IEJvbmRKYW1lc0JvbmQoU3VkaW5pKFN1ZG9rdU3DqW1vLCBjaG9peFN1ZG9rdSksIFN1ZG9rdU3DqW1vWzNdKQplbmQKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNApiZWdpbiAKCVN1ZG9rdU3DqW1vWzNdID0gYmluZEpTdWRva3UgIyBQb3VyIHF1ZSBsZSBzdWRva3UgZW4gY291cnMgKGluaXRpYWwgbW9kaWZpw6kpIHJlc3RlIGVuIG3DqW1vaXJlIHNpIGJlc29pbiAtPiBSZXRvdXIgaW5zdGFudGFuw6kgOykgCglzdWRva3VTb2x1dGlvbiA9IHLDqXNvdXRTdWRva3UoYmluZEpTdWRva3UpICMgY2FsY3VsZSBsYSBzb2x1dGlvbgoJIyBzdWRva3VTb2x1dGlvbiA9IHLDqXNvdXRTdWRva3UoYmluZEpTdWRva3U7IG5iVG91cnNNYXg9MCkgIyMgUG91ciByYWxlbnRpciDwn5CM8J+QogoJc3Vkb2t1U29sdXRpb25WdWUgPSBzdWRva3VTb2x1dGlvblsxXQoJc3Vkb2t1U29sdXRpb25bMl0gIyBMYSBwZXRpdGUgZXhwbGljYXRpb24gc2V1bGUgOiAiaWwgYSBmYWxsdSBYWCBjaG9peC4uLiIKZW5kICMjIyBtZXN1cmFibGUgYXZlYyAjIyB1c2luZyBCZW5jaG1hcmtUb29scyAjIEBiZW5jaG1hcmsgcsOpc291dFN1ZG9rdShiaW5kSlN1ZG9rdSkKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNgp2aWRlck91cGFzOyBtZCIiIiMjIyMgJHZhZXR2aWVudCBTdWRva3UgaW5pdGlhbMKg4qS0IChtb2RpZmlhYmxlKSBldCBzYSBzb2x1dGlvbsKgOiAkKGh0bWwiPC9zcGFuPiIpICIiIgoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3Cm1kIiIiJChAYmluZCB2b2lyT3VQYXMgQm9uZEphbWVzQm9uZChwdWNlcyhbIvCfpKvCoENhY2jDqWUiLCAiRW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKYiLCAiUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApiJdLCLwn6SrwqBDYWNow6llIjsgaWRQdWNlcz0iQ2FjaGVyUsOpc3VsdGF0IiksICLwn6SrwqBDYWNow6llIikgKSAKCiQoaHRtbCI8ZGl2IHN0eWxlPSdtYXJnaW46IDJweDsgYm9yZGVyLWJvdHRvbTogbWVkaXVtIGRhc2hlZCAjNzc3Oyc+PC9kaXY+IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiQoQGJpbmQgUHJvcGFsT3VTb2x1Y2UgQm9uZEphbWVzQm9uZChwdWNlcyhbIuKApnBhcsKgY2hpZmZyZSIsICLigKZwYXLCoGNhc2XCoPCflKIiLCAi4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCkiLCAi4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqSJdLCAi4oCmcGFywqBjaGlmZnJlIjsgaWRQdWNlcz0iUG9zc2libGVzRXRTb2x1dGlvbiIsIGNsYXNzZT0icGFzbGEiICksICLigKZwYXLCoGNoaWZmcmUiKSApIAoKJChodG1sIjxkaXYgaWQ9J2RpdmVycycgY2xhc3M9J3Bhc2xhJyBzdHlsZT0nbWFyZ2luLXRvcDogOHB4OyBtYXJnaW4tbGVmdDogMSU7IHVzZXItc2VsZWN0OiBub25lOyBmb250LXN0eWxlOiBpdGFsaWM7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzc3Nyc+PHNwYW4gaWQ9J3B1Y2Fyb2xpZ25lJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjYXJvbGlnbmUnIG5hbWU9J2Nhcm9saWduZSc+PGxhYmVsIGZvcj0nY2Fyb2xpZ25lJyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDJweDsnPkNhcm9saWduZcKg4pqUPC9sYWJlbD48L3NwYW4+IikKJChodG1sIjxzcGFuIGlkPSdwdWNob2l4w6BtZXR0cmVlbmhhdXQnIHN0eWxlPSdtYXJnaW4tbGVmdDogNSUnPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2Nob2l4w6BtZXR0cmVlbmhhdXQnIG5hbWU9J2Nob2l4w6BtZXR0cmVlbmhhdXQnPjxsYWJlbCBmb3I9J2Nob2l4w6BtZXR0cmVlbmhhdXQnIHN0eWxlPSdtYXJnaW4tbGVmdDogMnB4Oyc+Q29jaGVywqBpY2ksIHB1aXMgdG91Y2hlciBsZSBjaGlmZnJlIMOgIG1ldHRyZSBkYW5zIGxlIFN1ZG9rdcKgaW5pdGlhbDwvbGFiZWw+PC9zcGFuPjwvZGl2PiIpIiIiIAoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4CmJlZ2luCglpZiAhaXNhKHZvaXJPdVBhcywgU3RyaW5nKSB8fCB2b2lyT3VQYXMgPT0gIvCfpKvCoENhY2jDqWUiCgkJTWFya2Rvd24ucGFyc2UoICggc3Vkb2t1U29sdXRpb25WdWUgaXNhIFN0cmluZyA/IAoJCSIjIyMjIyDwn6SQIENlbGEgZXN0IGNhY2jDqSBwb3VyIGxlIG1vbWVudCBjb21tZSBkZW1hbmTDqSDimqEKTWFsY2hhbmNlICEgIiA6IAoJCSIjIyMjIyDwn6SQIENlbGEgZXN0IGNhY2jDqSBwb3VyIGxlIG1vbWVudCBjb21tZSBkZW1hbmTDqQpCb25uZSBjaGFuY2UgISAiIAoJCSkgKiAiU2kgYmVzb2luLCBjb2NoZXIgYPCfpKvCoENhY2jDqWVgIHBvdXIgcmV2b2lyIGNldHRlIGluZm9ybWF0aW9uwqA6IAoKYEVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmYCBwZXJtZXQgZW4gY2xpcXVhbnQgZGUgZmFpcmUgYXBwYXJhw650cmUgbGUgY29udGVudeKAplxcCl8oY2xpcXVlciBzdXIgbGVzIGNoaWZmcmVzIGVuIGJsZXUgcG91ciB0b3V0IHJlZmFpcmUgZGlzcGFyYcOudHJlKV8gCgogICAtIGDigKZwYXLCoGNoaWZmcmVgIG1vbnRyZSBzaSBsZSBjaGlmZnJlIGVzdCBwb3NzaWJsZSwgZW4gY2xpcXVhbnQgcHLDqWNpc8OpbWVudMKgOiBkdcKgMcKgZW7CoGhhdXTCoMOgwqBnYXVjaGUsIGF1IDnCoGVuwqBiYXPCoMOgwqBkcm9pdGUgZGUgbGEgY2FzZSDihpLCoGxlwqA1wqBlc3QgZG9uYyBhdSBjZW50cmUKICAgLSBg4oCmcGFywqBjYXNlwqDwn5SiYCBtb250cmUgbGEgbCdlbnNlbWJsZcKgZGVzIGNoaWZmcmVzIHBvc3NpYmxlcyBwYXIgY2FzZQogICAtIGDigKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKWAgZmFpdCBsZSBjb21wdGUgZGUgbCdlbnNlbWJsZS4gTGEgb3UgbGVzIGNhc2VzIGF2ZWPCoGDinJRgIMOgIGxhIHBsYWNlIGR1wqA5IG9udCBsZXMgcGx1cyBwZXRpdHMgbm9tYnJlIGRlIHBvc3NpYmlsaXTDqXMgZHUgc3Vkb2t1CiAgIC0gc2V1bCBg4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqWAgbW9udHJlICh1biBvdSkgZGVzIGNoaWZmcmVzIGR1IHN1ZG9rdSBmaW5pCgpEJ3VuIGNvdXAgYFBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKZgIGRlIGxhIHNvdXMtY2F0w6lnb3JpZSBjaG9pc2llCgpFbmZpbiwgaWwgeSBhIGRldXggb3B0aW9uc8KgOiAgCmBDYXJvbGlnbmXCoOKalGAgbW9udHJlIGxlcyBjYXNlcyBsacOpZXMg4oaSwqBjYXJyw6ksIGNvbG9ubmUsIGxpZ25lwqA7IFxcCm91IGBDb2NoZXLCoGljaSwgcHVpcyB0b3VjaGVyIGxlIGNoaWZmcmUgw6AgbWV0dHJlIGRhbnMgbGUgU3Vkb2t1wqBpbml0aWFsYCIgKQoJZWxzZWlmIFByb3BhbE91U29sdWNlID09ICLigKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpIiAjIHx8IFByb3BhbE91U29sdWNlIGlzYSBNaXNzaW5nCgkJaHRtbFN1ZG9rdShzdWRva3VTb2x1dGlvblZ1ZSxiaW5kSlN1ZG9rdSA7IHRvdXRWb2lyPSAodm9pck91UGFzPT0iUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApiIpICkKCWVsc2UgaHRtbFN1ZG9rdVByb3BhbChiaW5kSlN1ZG9rdSxzdWRva3VTb2x1dGlvblZ1ZSA7IHRvdXRWb2lyPSAodm9pck91UGFzPT0iUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApiIpLCBwYXJDYXNlPSAoUHJvcGFsT3VTb2x1Y2UgPT0i4oCmcGFywqBjYXNlwqDwn5SiIiksIHNvbW1lPSAoUHJvcGFsT3VTb2x1Y2U9PSLigKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKSIpKQoJZW5kCmVuZAoKIyDilZTilZDilaEgYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5CnN0eWzDqWzDoGJhc2F2ZWNib251cyA9ICM9IHN0eWxlIENTUyBwb3VyIGxlIHN1ZG9rdUhUTUwsIGxlIGNvZGUgcHJpbmNpcGFsIGVzdCBkYW5zIGxhIGNlbGx1bGUgY2FjaMOpZSB0b3V0IGVuIGJhcywganVzdGUgYXByw6hzIGxhIGNlbGx1bGUgdmlkZSBfYEVudGVywqBjZWxswqBjb2RlLi4uYF8iID0jIERvY3MuSFRNTChyYXciIiI8c3R5bGU+IC8qIFBvdXIgbGVzIGJvdXRvbnMgZXQgJ2NvZGUnICovCglpbnB1dFt0eXBlPSJidXR0b24iIGldIHtjb2xvcjogYmxhY2s7IC8qLyBzb3VjaSBPcMOpcmEgZXQgQ2hyb21lIGRhcmsgc2lkZSAvKi99CglwbHV0by1vdXRwdXQucmljaF9vdXRwdXQgY29kZSB7Ym9yZGVyOiBzb2xpZCAxcHggIzliOWY5ZjsgLyovIGNvbnRvdXIgZmluIC8qL30KLyogYXV0cmVzIGJpZG91aWxsZXMgKi8KCSN0YWlkZSwgI3Rlc2Zvb3QsICN2YV9ldF92aWVudCB7dXNlci1zZWxlY3Q6IG5vbmU7fQoJI3N1ZG9rdWZpbmksICNjb3BpZWZpbmllIHtjdXJzb3I6IHBvaW50ZXI7fSAvKi8gZG9pZ3QgZXQgbm9uIHNvdXJpcyAvKi8KCWlucHV0W3R5cGU9InJhZGlvIiBpXSB7bWFyZ2luOiAzcHggM3B4IDNweCAwO30KCS5wYXNsYSwgLm1haXN0ZXNvdXsgLyogdmlzaWJpbGl0eTogaGlkZGVuOyAqLyBmaWx0ZXI6IG9wYWNpdHkoNjIlKSBibHVyKDJweCk7fQoJdHIjbGlnbmVub252aXNpYmxlIHtib3JkZXItdG9wOiBoaWRkZW47fQoJcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCB7ZGlzcGxheTogbm9uZTt9CgkvKiBwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhLCAqLwoJLyogI2EyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOCA+IHBsdXRvLXJ1bmFyZWEsICovCgkjYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA0ID4gcGx1dG8tcnVuYXJlYSB7CgkgICAgZGlzcGxheTogYmxvY2s7CgkJYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7CgkgICAgb3BhY2l0eTogMTt9Ci8qIFBvdXIgbGUgc3Vkb2t1IGluaXRpYWwgKi8KCXRhYmxlLnN1ZG9rb29sIHsKCQlib3JkZXI6IGhpZGRlbjsKCQltYXJnaW4tYmxvY2stc3RhcnQ6IDA7CgkJbWFyZ2luLWJsb2NrLWVuZDogMDt9Cgl0YWJsZS5zdWRva29vbCB0ciB7Ym9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIudHJvaXNyIHtib3JkZXItdG9wOiB0aGljayBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIHsKCQlib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpOyAKCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudHJvaXNkIHtib3JkZXItbGVmdDogdGhpY2sgc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCBpbnB1dCB7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMTAwJTsKCQloZWlnaHQ6IDEwMCU7CgkJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CgkJYm9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuZGFtaWVyewoJCWJhY2tncm91bmQtY29sb3I6Izc3Nzc3NzI2OyB9IC8qICM3Nzcgb3UgIzc3Nzc3NyBhZG91Y2kgKi8KLyogUG91ciBsZSByw6lzdWx0YXQgb3UgYWlkZSAqLwoJdGFibGUuc3Vkb2tvb2wgdHIgdGQgewoJCXVzZXItc2VsZWN0OiBub25lOwoJCXRleHQtYWxpZ246IGNlbnRlcjsKCQlmb250LXNpemU6IDE0cHQ7CgkJd2lkdGg6IDM4cHg7CgkJaGVpZ2h0OiAzOHB4O30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmluaSB7CgkJZm9udC13ZWlnaHQ6IGJvbGQ7CgkJY29sb3I6IHZhcigtLWNtLXZhci1jb2xvciwgI2FmYjdkMyk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudmlkZSB7CgkJY29sb3I6IHZhcigtLWNtLXByb3BlcnR5LWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5jYWNow6llIHsKCQljb2xvcjogdHJhbnNwYXJlbnQ7fQovKlBvdXIgbGUgcsOpc3VsdGF0bWluaSBvdSBhaWRlbWluaSovCgl0YWJsZS5zdWRva29vbG1pbmkgewoJCWJvcmRlcjogaGlkZGVuICFpbXBvcnRhbnQ7CgkJbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwoJCW1hcmdpbi1ibG9jay1lbmQ6IDA7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyLAoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHtib3JkZXI6MCAhaW1wb3J0YW50O30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogNy40OTk5OXB0OwoJCXdpZHRoOiAxMnB4OwoJCWhlaWdodDogMTEuNjcxODdweDsgCgkJCWNvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgIzc3Nyk7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkLmNhY2jDqWUge2NvbG9yOiB0cmFuc3BhcmVudDt9Cjwvc3R5bGU+IiIiKTsgcG91cnZvaXJwbHV0w7R0ID0gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQ+Ci8vIGNvbnN0IHBsdXTDtHRzdHlsw6kgPSBgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuL2hpZGUtdWkuY3NzIj48c3R5bGUgaWQ9ImNhY2jDqW1vaXBsdXTDtHQiPgpjb25zdCBwbHV0w7R0c3R5bMOpID0gYDxzdHlsZSBpZD0iY2FjaMOpbW9pcGx1dMO0dCI+Cm1haW4gewogICAgLy8gbWFyZ2luLXRvcDogMjBweDsKICAgIGN1cnNvcjogYXV0bzsKCW1hcmdpbjogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgLy8gcGFkZGluZy1ib3R0b206IDRyZW0gIWltcG9ydGFudDt9Cm5hdiwgaGVhZGVyLCBwcmVhbWJsZSwKcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCwKYm9keSA+IGhlYWRlciwKcHJlYW1ibGUgPiBidXR0b24sIApwbHV0by1jZWxsID4gYnV0dG9uLApwbHV0by1pbnB1dCA+IGJ1dHRvbiwKZm9vdGVyLApwbHV0by1ydW5hcmVhLAojaGVscGJveC13cmFwcGVyIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9CnBsdXRvLXNob3VsZGVyIHsKCXZpc2liaWxpdHk6aGlkZGVuO30KcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSwKcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKCWJhY2tncm91bmQtY29sb3I6IHVuc2V0O30KCkBtZWRpYSBzY3JlZW4gYW5kIChhbnktcG9pbnRlcjogZmluZSkgewogICAgcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgewogICAgICAgIC8vIG9wYWNpdHk6IDAuNTsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIC8qIHRvIG1ha2UgaXQgZmVlbCBzbW9vdGg6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjI1cyBlYXNlLWluLW91dDsKICAgIH0KICAgIHBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhID4gYnV0dG9uOmhvdmVyID4gc3BhbiwKICAgIHBsdXRvLWNlbGw6aG92ZXIgPiBwbHV0by1ydW5hcmVhID4gc3BhbiB7CiAgICAgICAgLy8gLyogYXZhbnQgKi8gb3BhY2l0eTogMTsKICAgICAgICBvcGFjaXR5OiAwLjU7CiAgICAgICAgLyogdG8gbWFrZSBpdCBmZWVsIHNuYXBweTogKi8KICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogICAgfQogIC8vICBwbHV0by1jZWxsID4gcGx1dG8tc2hvdWxkZXIgPiBidXR0b246aG92ZXIgewogIC8vICAgICAgb3BhY2l0eTogMDsKICAvLyAgICAgIC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgLy8gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UtaW4tb3V0OwogIC8vICB9IAp9IAo8L3N0eWxlPmA7CmZ1bmN0aW9uIGNvb2xvdXBhcygpIHsgCgl2YXIgQk4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKTsKCWlmIChCTi5pbm5lckhUTUwgPT0gIvCfmIkiKSB7IEJOLmlubmVySFRNTCA9ICLwn5iOIjt9IGVsc2UgeyBCTi5pbm5lckhUTUwgPSAi8J+YiSI7fTsKfTsKLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY29vbG91cGFzKTsKCnZhciBzdHlsw6ljYWNow6kgPSBodG1sYDxzcGFuIGlkPSJzdHlsw6kiPiR7cGx1dMO0dHN0eWzDqX08L3NwYW4+YDsKLy8gdmFyIHN0eWzDqWNhY2jDqSA9IGh0bWxgPHNwYW4gaWQ9InN0eWzDqSI+PC9zcGFuPmA7IC8vIEZBVVggYmlkb3VpbGxlIMOgIHN1cHByaW1lciAvLy8vCmZ1bmN0aW9uIHN0eWzDqW91cGFzKCkgeyAKCXZhciBzdHlsw6kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R5bMOpIik7Cgl2YXIgY2FjaMOpbW9pcGx1dMO0dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYWNow6ltb2lwbHV0w7R0Iik7CglpZiAoY2FjaMOpbW9pcGx1dMO0dCkgeyAKCQlzdHlsw6kuaW5uZXJIVE1MID0gJyc7Cgl9IGVsc2UgewoJCXN0eWzDqS5pbm5lckhUTUwgPSBwbHV0w7R0c3R5bMOpOwoJfTsKfTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsdXRvdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc3R5bMOpb3VwYXMpOwpyZXR1cm4gc3R5bMOpY2FjaMOpOwo8L3NjcmlwdD4iIiIpOyBjYWxlcGluID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwucmVwbGFjZSgnaHRtbCcsICdqbCcpIDogZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2VkaXQnLCAnbm90ZWJvb2tmaWxlJyl9IHRhcmdldD0nX2JsYW5rJyBkb3dubG9hZD4ke2RvY3VtZW50LnRpdGxlLnJlcGxhY2UoJ/CfjoggJywnJykucmVwbGFjZSgn4oCUIFBsdXRvLmpsJywnJyl9PC9hPmA7PC9zY3JpcHQ+Iik7IGNhbGV3ZWIgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+cmV0dXJuIGh0bWxgPGEgaHJlZj0ke2RvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSA/IGRvY3VtZW50LlVSTCA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZXhwb3J0Jyl9IHRhcmdldD0nX2JsYW5rJyBzdHlsZT0nZm9udC13ZWlnaHQ6IG5vcm1hbDsnIGRvd25sb2FkPkhUTUw8L2E+YDs8L3NjcmlwdD4iKTsgcGx1dG9vamwgPSBEb2NzLkhUTUwocmF3IjxzY3JpcHQ+aWYgKGRvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSkgewoJcmV0dXJuIGh0bWxgPGVtPlBsdXRvLmpsPC9lbT5gCiAgICB9IGVsc2UgeyByZXR1cm4gaHRtbGA8YSBocmVmPScuLycgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXdlaWdodDogbm9ybWFsOyc+PGVtPlBsdXRvPC9lbT48L2E+PGVtPi5qbDwvZW0+YH08L3NjcmlwdD4iKTsgcG91cmdhcmRlcmxldGVtcHMgPSBEb2NzLkhUTUwocmF3IiIiPHNjcmlwdD5mdW5jdGlvbiBnw6luw6lyYXRldXJEZUNvZGVDbMOpKCkgewoJdmFyIGNvcHlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBvdXItZMOpZmluaXItbGUtc3Vkb2t1LWluaXRpYWwiKTsKCXZhciBwYXN0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1ZG9raW5jaXBpdCIpOwoJY29weVRleHQudmFsdWUgPSAndmlldXhTdWRva3UhKCcgKyBwYXN0ZXh0LmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgKyAnKSc7Cgljb3B5VGV4dC5zZWxlY3QoKTsKCW5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvcHlUZXh0LnZhbHVlKTsgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2zDqWfDqW4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGfDqW7DqXJhdGV1ckRlQ29kZUNsw6kpOwoJCnZhciBlZGl0Q1NTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKZWRpdENTUy5pZCA9ICJ0b3VzbGVzdGVtcHMiOwp2YXIgdG9nZ2zDqSA9ICIwIjsKCmxldCB0b3VzbGVzdGVtcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJydW50aW1lIik7Ci8vIHRvdXNsZXN0ZW1wcy5mb3JFYWNoKCBlID0+IHsgLy8gbmUgZm9uY3Rpb25uZSBwYXMgOicoCmZvcihsZXQgaj0wOyBqPChPYmplY3Qua2V5cyh0b3VzbGVzdGVtcHMpLmxlbmd0aCk7IGorKyl7Cgl0b3VzbGVzdGVtcHNbal0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewoJCS8vIGFsZXJ0KGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoIm9wYXF1ZW91cGFzIikpOwoJCXZhciBzdHlsw6l0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdXNsZXN0ZW1wcyIpOwoJCXRvZ2dsw6kgPSAodG9nZ2zDqT09IjAiKSA/ICIwLjciIDogIjAiIDsKCQlzdHlsw6l0LmlubmVySFRNTCA9ICJwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7IG9wYWNpdHk6ICIrIHRvZ2dsw6kgKyAiOyB9IjsKCX0pOwp9OwpyZXR1cm4gZWRpdENTUzsKPC9zY3JpcHQ+IiIiKTsgYm9udXNldGFzdHVjZXMgPSBtZCIiIiMjIyMgJChodG1sIjxkaXYgaWQ9J0JvbnVzJyBzdHlsZT0ndXNlci1zZWxlY3Q6IG5vbmU7IG1hcmdpbi10b3A6IDE3cHggIWltcG9ydGFudDsnPkJvbnVzwqA6IGxlIHN1ZG9rdSBlbiBjb3VycyBwb3VyIHBsdXPCoHRhcmQuLi48L2Rpdj4iKSAKSmUgY29uc2VpbGxlIGRlIGdhcmRlciBsZSBjb2RlIGR1IHN1ZG9rdSBlbiBjb3VycyAoZW4gY2xpcXVhbnQsIGxhIGNvcGllIGVzdCBhdXRvbWF0aXF1ZcKg4pyoKSAKJChodG1sIjxpbnB1dCB0eXBlPWJ1dHRvbiBpZD0nY2zDqWfDqW4nIHZhbHVlPSdDb3BpZXIgbGUgY29kZSDDoCBnYXJkZXIgOiknPjxpbnB1dCBpZD0ncG91ci1kw6lmaW5pci1sZS1zdWRva3UtaW5pdGlhbCcgdHlwZT0ndGV4dCcgc3R5bGU9J2ZvbnQtc2l6ZTogeC1zbWFsbDsgbWFyZ2luLXJpZ2h0OiA2cHg7IG1heC13aWR0aDogMzhweDsgYmFja2dyb3VuZC1jb2xvcjojNzc3Nzc3MjY7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogMCA4cHggOHB4IDA7IGZpbHRlcjogb3BhY2l0eSg4OSUpOycgLz4iKSAqKk5vdGUqKsKgOsKgw6DCoGNvbGxlcsKgYWlsbGV1cnMgZGFucyB1biBibG9jLW5vdGVzIHBhciBleGVtcGxlIAoKIyMjIyMgLi4uw6AgcmV0cm91dmVyIGNvbW1lIGQnYXV0cmVzIHZpZXV4IHN1ZG9rdXPCoDogCgpFbnN1aXRlLCBkYW5zIHVuZSAobm91dmVsbGUpIHNlc3Npb24sIGNsaXF1ZXIgZGFucyBfYEVudGVywqBjZWxswqBjb2RlLi4uYF8gdG91dCBlbiBiYXPCoOKGkyBldCBjb2xsZXIgbGUgY29kZSBxdWkgZnV0IGdhcmTDqSAoY2YuIG5vdGUgY2ktZGVzc3VzKS4KRW5maW4sIGxhbmNlciBsZSBjb2RlIGF2ZWMgbGUgYm91dG9uwqDilrYgdG91dCDDoCBkcm9pdGUgKHF1aSBjbGlnbm90ZSBqdXN0ZW1lbnQpLiAKQ2UgdmlldXggc3Vkb2t1IGVzdCByZXN0b3LDqSBlbiBwbGFjZSBkdSBSZXRvdXIgaW5zdGFudGFuw6nCoCEgKGNlbGEgW3JldG91cm5lIGVuwqBoYXV0wqDihpFdKCNNb2RpZmllckluaXQpIGRlIGxhIHBhZ2UpIAoJCiQoaHRtbCI8ZGV0YWlscyBvcGVuPjxzdW1tYXJ5IHN0eWxlPSdsaXN0LXN0eWxlOiBub25lOyc+PGg2IGlkPSdCb251c0FzdHVjZXMnIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazt1c2VyLXNlbGVjdDogbm9uZTsnPiBBdXRyZXMgcGV0aXRlcyBhc3R1Y2VzwqA6PC9oNj48L3N1bW1hcnk+PHN0eWxlPmRldGFpbHNbb3Blbl0gc3VtbWFyeTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIGNhY2hlciknO30gc3VtbWFyeTpub3QoZGV0YWlsc1tvcGVuXSBzdW1tYXJ5KTo6YWZ0ZXIge2NvbnRlbnQ6ICcgKGNsaXF1ZXIgaWNpIHBvdXIgbGVzIHJldm9pciknO308L3N0eWxlPiIpCiAgIDEuIE1vZGlmaWVyIGxlIHByZW1pZXIgc3Vkb2t1ICjDoCB2aWRlciBzaSBiZXNvaW4sIGdyw6JjZSBhdSBwcmVtaWVyIGNob2l4KSBldCBjb2NoZXIgZW5zdWl0ZSBjZSBxdWUgbCdvbiBzb3VoYWl0ZSB2b2lyIGNvbW1lICoqYWlkZSBvdSBzb2x1dGlvbioqwqA7IGxlIHN1ZG9rdSBkdSBkZXNzb3VzIHLDqXBvbmQgYWluc2kgYXV4IG9yZHJlcy4gQ29jaGVyIGDwn6SrwqBDYWNow6llYCBwb3VyIHJldm9pciBkZXMgaW5kaWNhdGlvbnMgc3VyIGwnZW1wbG9pIGRlcyBjYXNlcyAKICAgMi4gSWwgZXN0IHBvc3NpYmxlIGRlIGJvdWdlciBhdmVjIGxlcyBmbMOoY2hlcywgYWxsZXIgw6AgbGEgbGlnbmUgc3VpdmFudGUgYXV0b21hdGlxdWVtZW50ICjDoCBsYSBfW1NuYWtlXShodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPVNuYWtlKV8pLiBJbCB5IGEgYXVzc2kgZGVzIHJhY2NvdXJjaXMsIGNvbW1lIGBIYMKgPcKgaGF1dCwgYFZgIG91IGBHYMKgPcKgZ2F1Y2hlLCBgRGAgYEpgIGBOYMKgPcKgZHJvaXRlLCBgQmDCoD3CoGJhcy4gTmkgYmVzb2luIGRlIHBhdsOpIG51bcOpcmlxdWUsIG5pIGQnYXBwdXllciBzdXIgX01hanVzY3VsZV8sIGxlcyB0b3VjaGVzIHN1aXZhbnRlcyBzb250IGlkZW5kaXF1ZXMgYDEyMzTCoDU2N8KgODkwYCA9IGBBWkVSwqBUWVXCoElPUGAgPSBgJsOpIifCoCgtw6jCoF/Dp8OgYCAKICAgMy4gT24gcGV1dCAqKnJlbW9udGVyIGxhIHNvbHV0aW9uKiogYXUgbGlldSBkdSBwcmVtaWVyIHN1ZG9rdSBlbiBjbGlxdWFudCBzdXIgbGUgdGV4dGUgW1N1ZG9rdSBpbml0aWFswqDipLTigKZdKCN2YV9ldF92aWVudCkgZXQgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBpbml0aWFsIG1vZGlmaWFibGUgW+KGqsKgQ2xpcXVlcuKApl0oI2xpZ25lbm9udmlzaWJsZSnCoHN1ciBsZSB0ZXh0ZSBxdWkgYXBwYXJhaXQganVzdGUgZW4gZGVzc291cyAKICAgNC4gUG91ciBpbmZvcm1hdGlvbiwgbGEgZm9uY3Rpb24gKip2aWV1eFN1ZG9rdSEqKigpLCBvdSAqKnZpZXV4KiooKSBvdSAqKnZzKiooKSwgc2FucyBwYXJhbcOodHJlIHBlcm1ldCBkZSBnw6luw6lyZXIgdW4gc3Vkb2t1IGFsw6lhdG9pcmUuIEVuIG1ldHRhbnQgdW4gbm9tYnJlLCBwYXIgZXhlbXBsZSAqKnZpZXV4U3Vkb2t1ISg2MioqKcKgOiBjZSBzZXJhIGxlIHRvdGFsIGRlIGNhc2VzIHZpZGVzIGR1IHN1ZG9rdSBhbMOpYXRvaXJlIGNvbnN0cnVpdC4gRW5maW4sIGVuIG1ldHRhbnQgdW4gaW50ZXJ2YWxsZSwgc291cyBsYSBmb3JtZSAqKmTDqWJ1dMKgOsKgZmluKiosIHBhciBleGVtcGxlICoqdmlldXhTdWRva3UhKiooKiowOjgxKiopwqA6IHVuIG5vbWJyZSBhbMOpYXRvaXJlIGRhbnMgY2V0IGludGVydmFsbGUgc2VyYSB1dGlsaXPDqS4gUG91ciBsZXMgc3Vkb2t1cyBhbMOpYXRvaXJlcywgbGUgZmFpdCBkZSByZWNsaXF1ZXIgc3VyIGxlIGJvdXRvbsKg4pa2IGVuIGfDqW7DqHJlIHVuIG5vdXZlYXUgCiAgIDUuIExlIGNvZGUgZGUgY2UgcHJvZ3JhbW1lIGVuIFtfSnVsaWFfXShodHRwczovL2ZyLndpa2lwZWRpYS5vcmcvd2lraS9KdWxpYV8obGFuZ2FnZV9kZV9wcm9ncmFtbWF0aW9uKSkgZXN0IG9ic2VydmFibGUgZW4gY2xpcXVhbnQgZCdhYm9yZCBzdXIgJChodG1sIjxpbnB1dCB0eXBlPWJ1dHRvbiBpZD0ncGx1dG90JyB2YWx1ZT0nQ2VjacKg8J+TnfCfpJMnPiIpIHBvdXIgYmFzY3VsZXIgc3VyIGwnaW50ZXJmYWNlIGRlICRwbHV0b29qbCwgcHVpcyBlbiBjbGlxdWFudCBzdXIgbCfFk2lsIPCfkYEgw6AgY8O0dMOpIGRlIGNoYXF1ZSBjZWxsdWxlLiBJbCBlc3QgYXVzc2kgcG9zc2libGUgZGUgdMOpbMOpY2hhcmdlciBjZSBjYWxlcGluICRjYWxlcGluIG91IGVuICRjYWxld2ViCiQoaHRtbCI8L2RldGFpbHM+IikKJHBvdXJ2b2lycGx1dMO0dCAKJHN0eWzDqWzDoGJhc2F2ZWNib251cwokcG91cmdhcmRlcmxldGVtcHMiIiIKCiMg4pWU4pWQ4pWhIGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDExLTEyMzQ1Njc4OTAxMAoKCiMg4pWU4pWQ4pWhIDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMQpQTFVUT19QUk9KRUNUX1RPTUxfQ09OVEVOVFMgPSAiIiIKW2RlcHNdClJhbmRvbSA9ICI5YTNmODI4NC1hMmM5LTVmMDItOWExMS04NDU5ODBhMWZkNWMiCiIiIgoKIyDilZTilZDilaEgMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAyClBMVVRPX01BTklGRVNUX1RPTUxfQ09OVEVOVFMgPSAiIiIKIyBUaGlzIGZpbGUgaXMgbWFjaGluZS1nZW5lcmF0ZWQgLSBlZGl0aW5nIGl0IGRpcmVjdGx5IGlzIG5vdCBhZHZpc2VkCgpqdWxpYV92ZXJzaW9uID0gIjEuOC4zIgptYW5pZmVzdF9mb3JtYXQgPSAiMi4wIgpwcm9qZWN0X2hhc2ggPSAiZmEzZTE5NDE4ODgxYmYzNDRmNTc5NmUxNTA0OTIzYTdjODBhYjFlZCIKCltbZGVwcy5SYW5kb21dXQpkZXBzID0gWyJTSEEiLCAiU2VyaWFsaXphdGlvbiJdCnV1aWQgPSAiOWEzZjgyODQtYTJjOS01ZjAyLTlhMTEtODQ1OTgwYTFmZDVjIgoKW1tkZXBzLlNIQV1dCnV1aWQgPSAiZWE4ZTkxOWMtMjQzYy01MWFmLTg4MjUtYWFhNjNjZDcyMWNlIgp2ZXJzaW9uID0gIjAuNy4wIgoKW1tkZXBzLlNlcmlhbGl6YXRpb25dXQp1dWlkID0gIjllODhiNDJhLWY4MjktNWIwYy1iYmU5LTllOTIzMTk4MTY2YiIKIiIiCgojIOKVlOKVkOKVoSBDZWxsIG9yZGVyOgojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMQojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA0LTEyMzQ1Njc4OTAwMgojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAzLTEyMzQ1Njc4OTAwMwojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNAojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNQojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNgojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwNwojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOAojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDEwLTEyMzQ1Njc4OTAwOQojIOKVoOKVkGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDExLTEyMzQ1Njc4OTAxMAojIOKVn+KUgGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMQojIOKVn+KUgDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMQojIOKVn+KUgDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMgo=";
window.pluto_disable_ui = true;
window.pluto_slider_server_url = undefined;
window.pluto_binder_url = "https://mybinder.org/v2/gh/fonsp/pluto-on-binder/v0.17.7";
window.pluto_statefile = "data:;base64,j6Vib25kc4CsY2VsbF9yZXN1bHRzi9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExiaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9keaCwcGVyc2lzdF9qc19zdGF0ZcKkbWltZap0ZXh0L3BsYWlusmxhc3RfcnVuX3RpbWVzdGFtcMtB2OOXnhbr6rdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTG5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4QMBeGtXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOImmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaBV88ZGl2IGNsYXNzPSJtYXJrZG93biI+PGg1PvCfpJAgQ2VsYSBlc3QgY2FjaMOpIHBvdXIgbGUgbW9tZW50IGNvbW1lIGRlbWFuZMOpPC9oNT4KPHA+Qm9ubmUgY2hhbmNlICYjMzM7IFNpIGJlc29pbiwgY29jaGVyIDxjb2RlPvCfpKvCoENhY2jDqWU8L2NvZGU+IHBvdXIgcmV2b2lyIGNldHRlIGluZm9ybWF0aW9uwqA6IDwvcD4KPHA+PGNvZGU+RW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKY8L2NvZGU+IHBlcm1ldCBlbiBjbGlxdWFudCBkZSBmYWlyZSBhcHBhcmHDrnRyZSBsZSBjb250ZW514oCmPGJyIC8+PGVtPiYjNDA7Y2xpcXVlciBzdXIgbGVzIGNoaWZmcmVzIGVuIGJsZXUgcG91ciB0b3V0IHJlZmFpcmUgZGlzcGFyYcOudHJlJiM0MTs8L2VtPiA8L3A+Cjx1bD4KPGxpPjxwPjxjb2RlPuKApnBhcsKgY2hpZmZyZTwvY29kZT4gbW9udHJlIHNpIGxlIGNoaWZmcmUgZXN0IHBvc3NpYmxlLCBlbiBjbGlxdWFudCBwcsOpY2lzw6ltZW50wqA6IGR1wqAxwqBlbsKgaGF1dMKgw6DCoGdhdWNoZSwgYXUgOcKgZW7CoGJhc8Kgw6DCoGRyb2l0ZSBkZSBsYSBjYXNlIOKGksKgbGXCoDXCoGVzdCBkb25jIGF1IGNlbnRyZTwvcD4KPC9saT4KPGxpPjxwPjxjb2RlPuKApnBhcsKgY2FzZcKg8J+UojwvY29kZT4gbW9udHJlIGxhIGwmIzM5O2Vuc2VtYmxlwqBkZXMgY2hpZmZyZXMgcG9zc2libGVzIHBhciBjYXNlPC9wPgo8L2xpPgo8bGk+PHA+PGNvZGU+4oCmcGFywqB0b3RhbMKgJiM0MDttaW5pbXVtwqAmIzYxO8Kg4pyUJiM0MTs8L2NvZGU+IGZhaXQgbGUgY29tcHRlIGRlIGwmIzM5O2Vuc2VtYmxlLiBMYSBvdSBsZXMgY2FzZXMgYXZlY8KgPGNvZGU+4pyUPC9jb2RlPiDDoCBsYSBwbGFjZSBkdcKgOSBvbnQgbGVzIHBsdXMgcGV0aXRzIG5vbWJyZSBkZSBwb3NzaWJpbGl0w6lzIGR1IHN1ZG9rdTwvcD4KPC9saT4KPGxpPjxwPnNldWwgPGNvZGU+4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqTwvY29kZT4gbW9udHJlICYjNDA7dW4gb3UmIzQxOyBkZXMgY2hpZmZyZXMgZHUgc3Vkb2t1IGZpbmk8L3A+CjwvbGk+CjwvdWw+CjxwPkQmIzM5O3VuIGNvdXAgPGNvZGU+UG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApjwvY29kZT4gZGUgbGEgc291cy1jYXTDqWdvcmllIGNob2lzaWU8L3A+CjxwPkVuZmluLCBpbCB5IGEgZGV1eCBvcHRpb25zwqA6ICAgPGNvZGU+Q2Fyb2xpZ25lwqDimpQ8L2NvZGU+IG1vbnRyZSBsZXMgY2FzZXMgbGnDqWVzIOKGksKgY2FycsOpLCBjb2xvbm5lLCBsaWduZcKgOyA8YnIgLz5vdSA8Y29kZT5Db2NoZXLCoGljaSwgcHVpcyB0b3VjaGVyIGxlIGNoaWZmcmUgw6AgbWV0dHJlIGRhbnMgbGUgU3Vkb2t1wqBpbml0aWFsPC9jb2RlPjwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2OOXn9mO/LdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDi5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4AeIx7tXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNImmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnZnjxkaXYgY2xhc3M9Im1hcmtkb3duIj48cD48c3Ryb25nPlN0YXRpc3RpcXVlc8KgOjwvc3Ryb25nPiBjZSBwcm9ncmFtbWUgZmFpdCA8c3Ryb25nPjI1IGNob2l4PC9zdHJvbmc+IGV0IDxlbT40NiB0b3VyczwvZW0+IHBvdXIgcsOpc291ZHJlIGNlIHN1ZG9rdTwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2OOXn7Sz8rdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNi0xMjM0NTY3ODkwMDS5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4AD/GitXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN4mmcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaEYE8ZGl2IGNsYXNzPSJtYXJrZG93biI+PGJvbmQgZGVmPSJ2b2lyT3VQYXMiIHVuaXF1ZV9pZD0iNEhxb01XQlVNb3ZmIj48c3BhbiBpZD0nQ2FjaGVyUsOpc3VsdGF0JyA+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nQ2FjaGVyUsOpc3VsdGF08J+kq8KgQ2FjaMOpZScgbmFtZT0nQ2FjaGVyUsOpc3VsdGF0JyB2YWx1ZT0n8J+kq8KgQ2FjaMOpZScgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyBjaGVja2VkPjxsYWJlbCBzdHlsZT0nbWFyZ2luOiAwIDE4cHggMCAycHg7IHVzZXItc2VsZWN0OiBub25lOycgZm9yPSdDYWNoZXJSw6lzdWx0YXTwn6SrwqBDYWNow6llJz7wn6SrwqBDYWNow6llPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nQ2FjaGVyUsOpc3VsdGF0RW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKYnIG5hbWU9J0NhY2hlclLDqXN1bHRhdCcgdmFsdWU9J0VuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnID48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nQ2FjaGVyUsOpc3VsdGF0RW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKYnPkVuIHRvdWNoYW50LCBlbnRyZXZvaXIgbGVzIGNoaWZmcmVz4oCmPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nQ2FjaGVyUsOpc3VsdGF0UG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApicgbmFtZT0nQ2FjaGVyUsOpc3VsdGF0JyB2YWx1ZT0nUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApicgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J0NhY2hlclLDqXN1bHRhdFBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYnPlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKY8L2xhYmVsPjwvc3Bhbj48L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NhY2hlclLDqXN1bHRhdCcpCglmb3JtLm9uaW5wdXQgPSAoZSkgPT4geyBmb3JtLnZhbHVlID0gZS50YXJnZXQudmFsdWU7IGlmIChlLnRhcmdldC52YWx1ZT09J/CfpKvCoENhY2jDqWUnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCX0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWU9PSdQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNhcm9saWduZScpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9O308L3NjcmlwdD48L2JvbmQ+CjxkaXYgc3R5bGU9J21hcmdpbjogMnB4OyBib3JkZXItYm90dG9tOiBtZWRpdW0gZGFzaGVkICM3Nzc7Jz48L2Rpdj4KPGJvbmQgZGVmPSJQcm9wYWxPdVNvbHVjZSIgdW5pcXVlX2lkPSJVVlhhdEJFUFc0bDEiPjxzcGFuIGlkPSdQb3NzaWJsZXNFdFNvbHV0aW9uJyBjbGFzcz0ncGFzbGEnPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZwYXLCoGNoaWZmcmUnIG5hbWU9J1Bvc3NpYmxlc0V0U29sdXRpb24nIHZhbHVlPSfigKZwYXLCoGNoaWZmcmUnIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgY2hlY2tlZD48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nUG9zc2libGVzRXRTb2x1dGlvbuKApnBhcsKgY2hpZmZyZSc+4oCmcGFywqBjaGlmZnJlPC9sYWJlbD48L3NwYW4+PHNwYW4gc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PGlucHV0IHR5cGU9J3JhZGlvJyBpZD0nUG9zc2libGVzRXRTb2x1dGlvbuKApnBhcsKgY2FzZcKg8J+UoicgbmFtZT0nUG9zc2libGVzRXRTb2x1dGlvbicgdmFsdWU9J+KApnBhcsKgY2FzZcKg8J+Uoicgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZwYXLCoGNhc2XCoPCflKInPuKApnBhcsKgY2FzZcKg8J+UojwvbGFiZWw+PC9zcGFuPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKScgbmFtZT0nUG9zc2libGVzRXRTb2x1dGlvbicgdmFsdWU9J+KApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnID48bGFiZWwgc3R5bGU9J21hcmdpbjogMCAxOHB4IDAgMnB4OyB1c2VyLXNlbGVjdDogbm9uZTsnIGZvcj0nUG9zc2libGVzRXRTb2x1dGlvbuKApnBhcsKgdG90YWzCoChtaW5pbXVtwqA9wqDinJQpJz7igKZwYXLCoHRvdGFswqAobWluaW11bcKgPcKg4pyUKTwvbGFiZWw+PC9zcGFuPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpJyBuYW1lPSdQb3NzaWJsZXNFdFNvbHV0aW9uJyB2YWx1ZT0n4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqScgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J1Bvc3NpYmxlc0V0U29sdXRpb27igKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpJz7igKZkZcKgbGHCoHNvbHV0aW9uwqDwn5qpPC9sYWJlbD48L3NwYW4+PC9zcGFuPjxzY3JpcHQ+Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykKCWZvcm0ub25pbnB1dCA9IChlKSA9PiB7IGZvcm0udmFsdWUgPSBlLnRhcmdldC52YWx1ZTsgaWYgKGUudGFyZ2V0LnZhbHVlPT0n4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCX0gZWxzZSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ21haXN0ZXNvdScpOwoJCX07fTwvc2NyaXB0PjwvYm9uZD4KPGRpdiBpZD0nZGl2ZXJzJyBjbGFzcz0ncGFzbGEnIHN0eWxlPSdtYXJnaW4tdG9wOiA4cHg7IG1hcmdpbi1sZWZ0OiAxJTsgdXNlci1zZWxlY3Q6IG5vbmU7IGZvbnQtc3R5bGU6IGl0YWxpYzsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNzc3Jz48c3BhbiBpZD0ncHVjYXJvbGlnbmUnPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2Nhcm9saWduZScgbmFtZT0nY2Fyb2xpZ25lJz48bGFiZWwgZm9yPSdjYXJvbGlnbmUnIHN0eWxlPSdtYXJnaW4tbGVmdDogMnB4Oyc+Q2Fyb2xpZ25lwqDimpQ8L2xhYmVsPjwvc3Bhbj4KPHNwYW4gaWQ9J3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcgc3R5bGU9J21hcmdpbi1sZWZ0OiA1JSc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2hvaXjDoG1ldHRyZWVuaGF1dCcgbmFtZT0nY2hvaXjDoG1ldHRyZWVuaGF1dCc+PGxhYmVsIGZvcj0nY2hvaXjDoG1ldHRyZWVuaGF1dCcgc3R5bGU9J21hcmdpbi1sZWZ0OiAycHg7Jz5Db2NoZXLCoGljaSwgcHVpcyB0b3VjaGVyIGxlIGNoaWZmcmUgw6AgbWV0dHJlIGRhbnMgbGUgU3Vkb2t1wqBpbml0aWFsPC9sYWJlbD48L3NwYW4+PC9kaXY+CjwvZGl2PrBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqXRleHQvaHRtbLJsYXN0X3J1bl90aW1lc3RhbXDLQdjjl5/MQMi3aGFzX3BsdXRvX2hvb2tfZmVhdHVyZXPCrHJvb3Rhc3NpZ25lZcCnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3uWRlcGVuZHNfb25fZGlzYWJsZWRfY2VsbHPCp3J1bnRpbWXOARAHT7VwdWJsaXNoZWRfb2JqZWN0X2tleXOQp2Vycm9yZWTC2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMC0xMjM0NTY3ODkwMDmJpnF1ZXVlZMKkbG9nc5CncnVubmluZ8Kmb3V0cHV0hqRib2R52ibbPGRpdiBjbGFzcz0ibWFya2Rvd24iPjxoND48ZGl2IGlkPSdCb251cycgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyBtYXJnaW4tdG9wOiAxN3B4ICFpbXBvcnRhbnQ7Jz5Cb251c8KgOiBsZSBzdWRva3UgZW4gY291cnMgcG91ciBwbHVzwqB0YXJkLi4uPC9kaXY+PC9oND4KPHA+SmUgY29uc2VpbGxlIGRlIGdhcmRlciBsZSBjb2RlIGR1IHN1ZG9rdSBlbiBjb3VycyAmIzQwO2VuIGNsaXF1YW50LCBsYSBjb3BpZSBlc3QgYXV0b21hdGlxdWXCoOKcqCYjNDE7ICA8aW5wdXQgdHlwZT1idXR0b24gaWQ9J2Nsw6lnw6luJyB2YWx1ZT0nQ29waWVyIGxlIGNvZGUgw6AgZ2FyZGVyIDopJz48aW5wdXQgaWQ9J3BvdXItZMOpZmluaXItbGUtc3Vkb2t1LWluaXRpYWwnIHR5cGU9J3RleHQnIHN0eWxlPSdmb250LXNpemU6IHgtc21hbGw7IG1hcmdpbi1yaWdodDogNnB4OyBtYXgtd2lkdGg6IDM4cHg7IGJhY2tncm91bmQtY29sb3I6Izc3Nzc3NzI2OyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDAgOHB4IDhweCAwOyBmaWx0ZXI6IG9wYWNpdHkoODklKTsnIC8+IDxzdHJvbmc+Tm90ZTwvc3Ryb25nPsKgOsKgw6DCoGNvbGxlcsKgYWlsbGV1cnMgZGFucyB1biBibG9jLW5vdGVzIHBhciBleGVtcGxlIDwvcD4KPGg1Pi4uLsOgIHJldHJvdXZlciBjb21tZSBkJiMzOTthdXRyZXMgdmlldXggc3Vkb2t1c8KgOjwvaDU+CjxwPkVuc3VpdGUsIGRhbnMgdW5lICYjNDA7bm91dmVsbGUmIzQxOyBzZXNzaW9uLCBjbGlxdWVyIGRhbnMgPGVtPjxjb2RlPkVudGVywqBjZWxswqBjb2RlLi4uPC9jb2RlPjwvZW0+IHRvdXQgZW4gYmFzwqDihpMgZXQgY29sbGVyIGxlIGNvZGUgcXVpIGZ1dCBnYXJkw6kgJiM0MDtjZi4gbm90ZSBjaS1kZXNzdXMmIzQxOy4gRW5maW4sIGxhbmNlciBsZSBjb2RlIGF2ZWMgbGUgYm91dG9uwqDilrYgdG91dCDDoCBkcm9pdGUgJiM0MDtxdWkgY2xpZ25vdGUganVzdGVtZW50JiM0MTsuICBDZSB2aWV1eCBzdWRva3UgZXN0IHJlc3RvcsOpIGVuIHBsYWNlIGR1IFJldG91ciBpbnN0YW50YW7DqcKgJiMzMzsgJiM0MDtjZWxhIDxhIGhyZWY9IiNNb2RpZmllckluaXQiPnJldG91cm5lIGVuwqBoYXV0wqDihpE8L2E+IGRlIGxhIHBhZ2UmIzQxOyA8L3A+CjxkZXRhaWxzIG9wZW4+PHN1bW1hcnkgc3R5bGU9J2xpc3Qtc3R5bGU6IG5vbmU7Jz48aDYgaWQ9J0JvbnVzQXN0dWNlcycgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrO3VzZXItc2VsZWN0OiBub25lOyc+IEF1dHJlcyBwZXRpdGVzIGFzdHVjZXPCoDo8L2g2Pjwvc3VtbWFyeT48c3R5bGU+ZGV0YWlsc1tvcGVuXSBzdW1tYXJ5OjphZnRlciB7Y29udGVudDogJyAoY2xpcXVlciBpY2kgcG91ciBsZXMgY2FjaGVyKSc7fSBzdW1tYXJ5Om5vdChkZXRhaWxzW29wZW5dIHN1bW1hcnkpOjphZnRlciB7Y29udGVudDogJyAoY2xpcXVlciBpY2kgcG91ciBsZXMgcmV2b2lyKSc7fTwvc3R5bGU+CjxvbD4KPGxpPjxwPk1vZGlmaWVyIGxlIHByZW1pZXIgc3Vkb2t1ICYjNDA7w6AgdmlkZXIgc2kgYmVzb2luLCBncsOiY2UgYXUgcHJlbWllciBjaG9peCYjNDE7IGV0IGNvY2hlciBlbnN1aXRlIGNlIHF1ZSBsJiMzOTtvbiBzb3VoYWl0ZSB2b2lyIGNvbW1lIDxzdHJvbmc+YWlkZSBvdSBzb2x1dGlvbjwvc3Ryb25nPsKgOyBsZSBzdWRva3UgZHUgZGVzc291cyByw6lwb25kIGFpbnNpIGF1eCBvcmRyZXMuIENvY2hlciA8Y29kZT7wn6SrwqBDYWNow6llPC9jb2RlPiBwb3VyIHJldm9pciBkZXMgaW5kaWNhdGlvbnMgc3VyIGwmIzM5O2VtcGxvaSBkZXMgY2FzZXMgPC9wPgo8L2xpPgo8bGk+PHA+SWwgZXN0IHBvc3NpYmxlIGRlIGJvdWdlciBhdmVjIGxlcyBmbMOoY2hlcywgYWxsZXIgw6AgbGEgbGlnbmUgc3VpdmFudGUgYXV0b21hdGlxdWVtZW50ICYjNDA7w6AgbGEgPGVtPjxhIGhyZWY9Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3EmIzYxO1NuYWtlIj5TbmFrZTwvYT48L2VtPiYjNDE7LiBJbCB5IGEgYXVzc2kgZGVzIHJhY2NvdXJjaXMsIGNvbW1lIDxjb2RlPkg8L2NvZGU+wqAmIzYxO8KgaGF1dCwgPGNvZGU+VjwvY29kZT4gb3UgPGNvZGU+RzwvY29kZT7CoCYjNjE7wqBnYXVjaGUsIDxjb2RlPkQ8L2NvZGU+IDxjb2RlPko8L2NvZGU+IDxjb2RlPk48L2NvZGU+wqAmIzYxO8KgZHJvaXRlLCA8Y29kZT5CPC9jb2RlPsKgJiM2MTvCoGJhcy4gTmkgYmVzb2luIGRlIHBhdsOpIG51bcOpcmlxdWUsIG5pIGQmIzM5O2FwcHV5ZXIgc3VyIDxlbT5NYWp1c2N1bGU8L2VtPiwgbGVzIHRvdWNoZXMgc3VpdmFudGVzIHNvbnQgaWRlbmRpcXVlcyA8Y29kZT4xMjM0wqA1NjfCoDg5MDwvY29kZT4gJiM2MTsgPGNvZGU+QVpFUsKgVFlVwqBJT1A8L2NvZGU+ICYjNjE7IDxjb2RlPiZhbXA7w6kmcXVvdDsmIzM5O8KgJiM0MDstw6jCoF/Dp8OgPC9jb2RlPiA8L3A+CjwvbGk+CjxsaT48cD5PbiBwZXV0IDxzdHJvbmc+cmVtb250ZXIgbGEgc29sdXRpb248L3N0cm9uZz4gYXUgbGlldSBkdSBwcmVtaWVyIHN1ZG9rdSBlbiBjbGlxdWFudCBzdXIgbGUgdGV4dGUgPGEgaHJlZj0iI3ZhX2V0X3ZpZW50Ij5TdWRva3UgaW5pdGlhbMKg4qS04oCmPC9hPiBldCBwb3VyIHJldmVuaXIgYXUgc3Vkb2t1IGluaXRpYWwgbW9kaWZpYWJsZSA8YSBocmVmPSIjbGlnbmVub252aXNpYmxlIj7ihqrCoENsaXF1ZXLigKY8L2E+wqBzdXIgbGUgdGV4dGUgcXVpIGFwcGFyYWl0IGp1c3RlIGVuIGRlc3NvdXMgPC9wPgo8L2xpPgo8bGk+PHA+UG91ciBpbmZvcm1hdGlvbiwgbGEgZm9uY3Rpb24gPHN0cm9uZz52aWV1eFN1ZG9rdSYjMzM7PC9zdHJvbmc+JiM0MDsmIzQxOywgb3UgPHN0cm9uZz52aWV1eDwvc3Ryb25nPiYjNDA7JiM0MTsgb3UgPHN0cm9uZz52czwvc3Ryb25nPiYjNDA7JiM0MTssIHNhbnMgcGFyYW3DqHRyZSBwZXJtZXQgZGUgZ8OpbsOpcmVyIHVuIHN1ZG9rdSBhbMOpYXRvaXJlLiBFbiBtZXR0YW50IHVuIG5vbWJyZSwgcGFyIGV4ZW1wbGUgPHN0cm9uZz52aWV1eFN1ZG9rdSYjMzM7JiM0MDs2Mjwvc3Ryb25nPiYjNDE7wqA6IGNlIHNlcmEgbGUgdG90YWwgZGUgY2FzZXMgdmlkZXMgZHUgc3Vkb2t1IGFsw6lhdG9pcmUgY29uc3RydWl0LiBFbmZpbiwgZW4gbWV0dGFudCB1biBpbnRlcnZhbGxlLCBzb3VzIGxhIGZvcm1lIDxzdHJvbmc+ZMOpYnV0wqA6wqBmaW48L3N0cm9uZz4sIHBhciBleGVtcGxlIDxzdHJvbmc+dmlldXhTdWRva3UmIzMzOzwvc3Ryb25nPiYjNDA7PHN0cm9uZz4wOjgxPC9zdHJvbmc+JiM0MTvCoDogdW4gbm9tYnJlIGFsw6lhdG9pcmUgZGFucyBjZXQgaW50ZXJ2YWxsZSBzZXJhIHV0aWxpc8OpLiBQb3VyIGxlcyBzdWRva3VzIGFsw6lhdG9pcmVzLCBsZSBmYWl0IGRlIHJlY2xpcXVlciBzdXIgbGUgYm91dG9uwqDilrYgZW4gZ8OpbsOocmUgdW4gbm91dmVhdSA8L3A+CjwvbGk+CjxsaT48cD5MZSBjb2RlIGRlIGNlIHByb2dyYW1tZSBlbiA8YSBocmVmPSJodHRwczovL2ZyLndpa2lwZWRpYS5vcmcvd2lraS9KdWxpYV8mIzQwO2xhbmdhZ2VfZGVfcHJvZ3JhbW1hdGlvbiYjNDE7Ij48ZW0+SnVsaWE8L2VtPjwvYT4gZXN0IG9ic2VydmFibGUgZW4gY2xpcXVhbnQgZCYjMzk7YWJvcmQgc3VyIDxpbnB1dCB0eXBlPWJ1dHRvbiBpZD0ncGx1dG90JyB2YWx1ZT0nQ2VjacKg8J+TnfCfpJMnPiBwb3VyIGJhc2N1bGVyIHN1ciBsJiMzOTtpbnRlcmZhY2UgZGUgPHNjcmlwdD5pZiAoZG9jdW1lbnQuVVJMLnNlYXJjaCgnLmh0bWwnKT4xKSB7CglyZXR1cm4gaHRtbGA8ZW0+UGx1dG8uamw8L2VtPmAKICAgIH0gZWxzZSB7IHJldHVybiBodG1sYDxhIGhyZWY9Jy4vJyB0YXJnZXQ9J19ibGFuaycgc3R5bGU9J2ZvbnQtd2VpZ2h0OiBub3JtYWw7Jz48ZW0+UGx1dG88L2VtPjwvYT48ZW0+LmpsPC9lbT5gfTwvc2NyaXB0PiwgcHVpcyBlbiBjbGlxdWFudCBzdXIgbCYjMzk7xZNpbCDwn5GBIMOgIGPDtHTDqSBkZSBjaGFxdWUgY2VsbHVsZS4gSWwgZXN0IGF1c3NpIHBvc3NpYmxlIGRlIHTDqWzDqWNoYXJnZXIgY2UgY2FsZXBpbiA8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwucmVwbGFjZSgnaHRtbCcsICdqbCcpIDogZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2VkaXQnLCAnbm90ZWJvb2tmaWxlJyl9IHRhcmdldD0nX2JsYW5rJyBkb3dubG9hZD4ke2RvY3VtZW50LnRpdGxlLnJlcGxhY2UoJ/CfjoggJywnJykucmVwbGFjZSgn4oCUIFBsdXRvLmpsJywnJyl9PC9hPmA7PC9zY3JpcHQ+IG91IGVuIDxzY3JpcHQ+cmV0dXJuIGh0bWxgPGEgaHJlZj0ke2RvY3VtZW50LlVSTC5zZWFyY2goJy5odG1sJyk+MSA/IGRvY3VtZW50LlVSTCA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZXhwb3J0Jyl9IHRhcmdldD0nX2JsYW5rJyBzdHlsZT0nZm9udC13ZWlnaHQ6IG5vcm1hbDsnIGRvd25sb2FkPkhUTUw8L2E+YDs8L3NjcmlwdD48L3A+CjwvbGk+Cjwvb2w+CjwvZGV0YWlscz4KPHNjcmlwdD4KLy8gY29uc3QgcGx1dMO0dHN0eWzDqSA9IGA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4vaGlkZS11aS5jc3MiPjxzdHlsZSBpZD0iY2FjaMOpbW9pcGx1dMO0dCI+CmNvbnN0IHBsdXTDtHRzdHlsw6kgPSBgPHN0eWxlIGlkPSJjYWNow6ltb2lwbHV0w7R0Ij4KbWFpbiB7CiAgICAvLyBtYXJnaW4tdG9wOiAyMHB4OwogICAgY3Vyc29yOiBhdXRvOwoJbWFyZ2luOiAwICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7CiAgICAvLyBwYWRkaW5nLWJvdHRvbTogNHJlbSAhaW1wb3J0YW50O30KbmF2LCBoZWFkZXIsIHByZWFtYmxlLApwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhIC5ydW5jZWxsLApib2R5ID4gaGVhZGVyLApwcmVhbWJsZSA+IGJ1dHRvbiwgCnBsdXRvLWNlbGwgPiBidXR0b24sCnBsdXRvLWlucHV0ID4gYnV0dG9uLApmb290ZXIsCnBsdXRvLXJ1bmFyZWEsCiNoZWxwYm94LXdyYXBwZXIgewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30KcGx1dG8tc2hvdWxkZXIgewoJdmlzaWJpbGl0eTpoaWRkZW47fQpwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhLApwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwoJYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7fQoKQG1lZGlhIHNjcmVlbiBhbmQgKGFueS1wb2ludGVyOiBmaW5lKSB7CiAgICBwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSB7CiAgICAgICAgLy8gb3BhY2l0eTogMC41OwogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgLyogdG8gbWFrZSBpdCBmZWVsIHNtb290aDogKi8KICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzIGVhc2UtaW4tb3V0OwogICAgfQogICAgcGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgPiBidXR0b246aG92ZXIgPiBzcGFuLAogICAgcGx1dG8tY2VsbDpob3ZlciA+IHBsdXRvLXJ1bmFyZWEgPiBzcGFuIHsKICAgICAgICAvLyAvKiBhdmFudCAqLyBvcGFjaXR5OiAxOwogICAgICAgIG9wYWNpdHk6IDAuNTsKICAgICAgICAvKiB0byBtYWtlIGl0IGZlZWwgc25hcHB5OiAqLwogICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZS1pbi1vdXQ7CiAgICB9CiAgLy8gIHBsdXRvLWNlbGwgPiBwbHV0by1zaG91bGRlciA+IGJ1dHRvbjpob3ZlciB7CiAgLy8gICAgICBvcGFjaXR5OiAwOwogIC8vICAgICAgLyogdG8gbWFrZSBpdCBmZWVsIHNuYXBweTogKi8KICAvLyAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZS1pbi1vdXQ7CiAgLy8gIH0gCn0gCjwvc3R5bGU+YDsKZnVuY3Rpb24gY29vbG91cGFzKCkgeyAKCXZhciBCTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJCTiIpOwoJaWYgKEJOLmlubmVySFRNTCA9PSAi8J+YiSIpIHsgQk4uaW5uZXJIVE1MID0gIvCfmI4iO30gZWxzZSB7IEJOLmlubmVySFRNTCA9ICLwn5iJIjt9Owp9OwovLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBjb29sb3VwYXMpOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQk4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBjb29sb3VwYXMpOwoKdmFyIHN0eWzDqWNhY2jDqSA9IGh0bWxgPHNwYW4gaWQ9InN0eWzDqSI+JHtwbHV0w7R0c3R5bMOpfTwvc3Bhbj5gOwovLyB2YXIgc3R5bMOpY2FjaMOpID0gaHRtbGA8c3BhbiBpZD0ic3R5bMOpIj48L3NwYW4+YDsgLy8gRkFVWCBiaWRvdWlsbGUgw6Agc3VwcHJpbWVyIC8vLy8KZnVuY3Rpb24gc3R5bMOpb3VwYXMoKSB7IAoJdmFyIHN0eWzDqSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHlsw6kiKTsKCXZhciBjYWNow6ltb2lwbHV0w7R0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhY2jDqW1vaXBsdXTDtHQiKTsKCWlmIChjYWNow6ltb2lwbHV0w7R0KSB7IAoJCXN0eWzDqS5pbm5lckhUTUwgPSAnJzsKCX0gZWxzZSB7CgkJc3R5bMOpLmlubmVySFRNTCA9IHBsdXTDtHRzdHlsw6k7Cgl9Owp9Owpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGx1dG90IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBzdHlsw6lvdXBhcyk7CnJldHVybiBzdHlsw6ljYWNow6k7Cjwvc2NyaXB0Pgo8c3R5bGU+IC8qIFBvdXIgbGVzIGJvdXRvbnMgZXQgJ2NvZGUnICovCglpbnB1dFt0eXBlPSJidXR0b24iIGldIHtjb2xvcjogYmxhY2s7IC8qLyBzb3VjaSBPcMOpcmEgZXQgQ2hyb21lIGRhcmsgc2lkZSAvKi99CglwbHV0by1vdXRwdXQucmljaF9vdXRwdXQgY29kZSB7Ym9yZGVyOiBzb2xpZCAxcHggIzliOWY5ZjsgLyovIGNvbnRvdXIgZmluIC8qL30KLyogYXV0cmVzIGJpZG91aWxsZXMgKi8KCSN0YWlkZSwgI3Rlc2Zvb3QsICN2YV9ldF92aWVudCB7dXNlci1zZWxlY3Q6IG5vbmU7fQoJI3N1ZG9rdWZpbmksICNjb3BpZWZpbmllIHtjdXJzb3I6IHBvaW50ZXI7fSAvKi8gZG9pZ3QgZXQgbm9uIHNvdXJpcyAvKi8KCWlucHV0W3R5cGU9InJhZGlvIiBpXSB7bWFyZ2luOiAzcHggM3B4IDNweCAwO30KCS5wYXNsYSwgLm1haXN0ZXNvdXsgLyogdmlzaWJpbGl0eTogaGlkZGVuOyAqLyBmaWx0ZXI6IG9wYWNpdHkoNjIlKSBibHVyKDJweCk7fQoJdHIjbGlnbmVub252aXNpYmxlIHtib3JkZXItdG9wOiBoaWRkZW47fQoJcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSAucnVuY2VsbCB7ZGlzcGxheTogbm9uZTt9CgkvKiBwbHV0by1jZWxsOm5vdCguc2hvd19pbnB1dCkgPiBwbHV0by1ydW5hcmVhLCAqLwoJLyogI2EyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOCA+IHBsdXRvLXJ1bmFyZWEsICovCgkjYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA0ID4gcGx1dG8tcnVuYXJlYSB7CgkgICAgZGlzcGxheTogYmxvY2s7CgkJYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7CgkgICAgb3BhY2l0eTogMTt9Ci8qIFBvdXIgbGUgc3Vkb2t1IGluaXRpYWwgKi8KCXRhYmxlLnN1ZG9rb29sIHsKCQlib3JkZXI6IGhpZGRlbjsKCQltYXJnaW4tYmxvY2stc3RhcnQ6IDA7CgkJbWFyZ2luLWJsb2NrLWVuZDogMDt9Cgl0YWJsZS5zdWRva29vbCB0ciB7Ym9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIudHJvaXNyIHtib3JkZXItdG9wOiB0aGljayBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIHsKCQlib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jdXJzb3ItY29sb3IsICM3NzcpOyAKCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudHJvaXNkIHtib3JkZXItbGVmdDogdGhpY2sgc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCBpbnB1dCB7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogMTRwdDsKCQl3aWR0aDogMTAwJTsKCQloZWlnaHQ6IDEwMCU7CgkJYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CgkJYm9yZGVyOjA7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuZGFtaWVyewoJCWJhY2tncm91bmQtY29sb3I6Izc3Nzc3NzI2OyB9IC8qICM3Nzcgb3UgIzc3Nzc3NyBhZG91Y2kgKi8KLyogUG91ciBsZSByw6lzdWx0YXQgb3UgYWlkZSAqLwoJdGFibGUuc3Vkb2tvb2wgdHIgdGQgewoJCXVzZXItc2VsZWN0OiBub25lOwoJCXRleHQtYWxpZ246IGNlbnRlcjsKCQlmb250LXNpemU6IDE0cHQ7CgkJd2lkdGg6IDM4cHg7CgkJaGVpZ2h0OiAzOHB4O30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmluaSB7CgkJZm9udC13ZWlnaHQ6IGJvbGQ7CgkJY29sb3I6IHZhcigtLWNtLXZhci1jb2xvciwgI2FmYjdkMyk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQudmlkZSB7CgkJY29sb3I6IHZhcigtLWNtLXByb3BlcnR5LWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5jYWNow6llIHsKCQljb2xvcjogdHJhbnNwYXJlbnQ7fQovKlBvdXIgbGUgcsOpc3VsdGF0bWluaSBvdSBhaWRlbWluaSovCgl0YWJsZS5zdWRva29vbG1pbmkgewoJCWJvcmRlcjogaGlkZGVuICFpbXBvcnRhbnQ7CgkJbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwoJCW1hcmdpbi1ibG9jay1lbmQ6IDA7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyLAoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkIHtib3JkZXI6MCAhaW1wb3J0YW50O30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZCB7CgkJdXNlci1zZWxlY3Q6IG5vbmU7CgkJdGV4dC1hbGlnbjogY2VudGVyOwoJCWZvbnQtc2l6ZTogNy40OTk5OXB0OwoJCXdpZHRoOiAxMnB4OwoJCWhlaWdodDogMTEuNjcxODdweDsgCgkJCWNvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgIzc3Nyk7fQoJdGFibGUuc3Vkb2tvb2xtaW5pIHRyIHRkLmNhY2jDqWUge2NvbG9yOiB0cmFuc3BhcmVudDt9Cjwvc3R5bGU+CjxzY3JpcHQ+ZnVuY3Rpb24gZ8OpbsOpcmF0ZXVyRGVDb2RlQ2zDqSgpIHsKCXZhciBjb3B5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwb3VyLWTDqWZpbmlyLWxlLXN1ZG9rdS1pbml0aWFsIik7Cgl2YXIgcGFzdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWRva2luY2lwaXQiKTsKCWNvcHlUZXh0LnZhbHVlID0gJ3ZpZXV4U3Vkb2t1ISgnICsgcGFzdGV4dC5nZXRBdHRyaWJ1dGUoJ3N1ZGF0YScpICsgJyknOwoJY29weVRleHQuc2VsZWN0KCk7CgluYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb3B5VGV4dC52YWx1ZSk7IC8vIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsw6lnw6luIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBnw6luw6lyYXRldXJEZUNvZGVDbMOpKTsKCQp2YXIgZWRpdENTUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CmVkaXRDU1MuaWQgPSAidG91c2xlc3RlbXBzIjsKdmFyIHRvZ2dsw6kgPSAiMCI7CgpsZXQgdG91c2xlc3RlbXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicnVudGltZSIpOwovLyB0b3VzbGVzdGVtcHMuZm9yRWFjaCggZSA9PiB7IC8vIG5lIGZvbmN0aW9ubmUgcGFzIDonKApmb3IobGV0IGo9MDsgajwoT2JqZWN0LmtleXModG91c2xlc3RlbXBzKS5sZW5ndGgpOyBqKyspewoJdG91c2xlc3RlbXBzW2pdLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHsKCQkvLyBhbGVydChlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJvcGFxdWVvdXBhcyIpKTsKCQl2YXIgc3R5bMOpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3VzbGVzdGVtcHMiKTsKCQl0b2dnbMOpID0gKHRvZ2dsw6k9PSIwIikgPyAiMC43IiA6ICIwIiA7CgkJc3R5bMOpdC5pbm5lckhUTUwgPSAicGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgeyBvcGFjaXR5OiAiKyB0b2dnbMOpICsgIjsgfSI7Cgl9KTsKfTsKcmV0dXJuIGVkaXRDU1M7Cjwvc2NyaXB0Pgo8L2Rpdj6wcGVyc2lzdF9qc19zdGF0ZcKkbWltZal0ZXh0L2h0bWyybGFzdF9ydW5fdGltZXN0YW1wy0HY45ef62gjt2hhc19wbHV0b19ob29rX2ZlYXR1cmVzwqxyb290YXNzaWduZWXAp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDEwLTEyMzQ1Njc4OTAwOblkZXBlbmRzX29uX2Rpc2FibGVkX2NlbGxzwqdydW50aW1lzgVUtte1cHVibGlzaGVkX29iamVjdF9rZXlzkKdlcnJvcmVkwtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwiaZxdWV1ZWTCpGxvZ3OQp3J1bm5pbmfCpm91dHB1dIakYm9keaCwcGVyc2lzdF9qc19zdGF0ZcKkbWltZap0ZXh0L3BsYWlusmxhc3RfcnVuX3RpbWVzdGFtcMtB2OOXmCkGyLdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMS0xMjM0NTY3ODkwMTC5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4AAYBgtXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA0LTEyMzQ1Njc4OTAwMommcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaBAM8ZGl2IGNsYXNzPSJtYXJrZG93biI+PHA+PGJvbmQgZGVmPSJ2aWRlck91cGFzIiB1bmlxdWVfaWQ9Ilo4OGZ5V1MvZEVwVyI+PHNwYW4gaWQ9J01vZGlmaWVySW5pdCcgPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J01vZGlmaWVySW5pdFZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsJyBuYW1lPSdNb2RpZmllckluaXQnIHZhbHVlPSdWaWRlciBsZSBzdWRva3UgaW5pdGlhbCcgc3R5bGU9J21hcmdpbjogTyA0cHggMCA0cHg7JyA+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J01vZGlmaWVySW5pdFZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsJz5WaWRlciBsZSBzdWRva3UgaW5pdGlhbDwvbGFiZWw+PC9zcGFuPjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9J01vZGlmaWVySW5pdFJldG91ciBpbnN0YW50YW7DqSA7KScgbmFtZT0nTW9kaWZpZXJJbml0JyB2YWx1ZT0nUmV0b3VyIGluc3RhbnRhbsOpIDspJyBzdHlsZT0nbWFyZ2luOiBPIDRweCAwIDRweDsnIGNoZWNrZWQ+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9J01vZGlmaWVySW5pdFJldG91ciBpbnN0YW50YW7DqSA7KSc+UmV0b3VyIGluc3RhbnRhbsOpIDspPC9sYWJlbD48L3NwYW4+PC9zcGFuPjxzY3JpcHQ+Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdNb2RpZmllckluaXQnKQoJZm9ybS5vbmlucHV0ID0gKGUpID0+IHsgZm9ybS52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOyB9PC9zY3JpcHQ+PC9ib25kPiDCoDxhIGhyZWY9JyNCb251cycgc3R5bGU9J3BhZGRpbmctbGVmdDogMTBweDsgYm9yZGVyLWxlZnQ6IG1lZGl1bSBkYXNoZWQgIzc3NzsnPkJvbnVzwqBlbsKgYmFzwqDihpM8L2E+wqA8ZW0+OsKgYXN0dWNlc8KgJiM0MzvCoHZpZXV4U3Vkb2t1JiMzMzs8L2VtPjwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2OOXn2m5NLdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDK5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc7ratOqtXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNommcXVldWVkwqRsb2dzkKdydW5uaW5nwqZvdXRwdXSGpGJvZHnaB6M8ZGl2IGNsYXNzPSJtYXJrZG93biI+PGg0PjxzY3JpcHQ+IHZhciB2aWVpbGxlY29waWUgPSBmYWxzZTsKCglmdW5jdGlvbiBkw6lqw6B2dSgpIHsgCgkJdmFyIHDDqHJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLnBhcmVudEVsZW1lbnQ7CgkJdmFyIGZpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29waWVmaW5pZScpOwoJCXZhciBhbmNpZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2t1ZmluaScpOwoJCWlmICh2aWVpbGxlY29waWUuaXNFcXVhbE5vZGUoYW5jaWVuKSkgewoJCQlhbmNpZW4uaW5uZXJIVE1MID0gZmlscy5pbm5lckhUTUw7CgkJCWFuY2llbi5yZW1vdmVDaGlsZChhbmNpZW4ucXVlcnlTZWxlY3RvcigndGZvb3QnKSk7CgkJCW1zZ2EoYW5jaWVuKTsKCQl9CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLmhpZGRlbiA9IGZhbHNlOwoJCXDDqHJlLnJlbW92ZUNoaWxkKGZpbHMpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmlubmVySFRNTCA9IGBTdWRva3UgaW5pdGlhbMKg4qS0IChtb2RpZmlhYmxlKSBldCBzYSBzb2x1dGlvbsKgOiBgCgl9OwoKCWZ1bmN0aW9uIGzDoGhhdXQoKSB7IAoJCXZhciBww6hyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5wYXJlbnRFbGVtZW50OwoJCXZhciBmaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKTsKCQl2YXIgY29waWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2t1ZmluaScpOwoJCWZpbHMgPyBww6hyZS5yZW1vdmVDaGlsZCggZmlscyApIDogdHJ1ZTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykuaGlkZGVuID0gdHJ1ZTsKCQl2YXIgdGFibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7CgkJdmllaWxsZWNvcGllID0gKGNvcGllID8gY29waWUuY2xvbmVOb2RlKHRydWUpIDogdGFibCk7CgkJdGFibC5pZCA9ICdjb3BpZWZpbmllJzsKCQl0YWJsLmNsYXNzTGlzdC5hZGQoJ3N1ZG9rb29sJyk7CgkJdGFibC5pbm5lckhUTUwgPSAoY29waWUgPyBjb3BpZS5pbm5lckhUTUwgOiBgPHRoZWFkIGlkPSd0YWlkZSc+PHRyPjx0ZCBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO3dpZHRoOiAzNDBweDtwYWRkaW5nOiAyNnB4IDA7Jz5SaWVuIMOgIG1vbnRyZXIsIGMnZXN0IGNvY2jDqcKgwqA8Y29kZT7wn6SrwqBDYWNow6llPC9jb2RlPjwvdGQ+PC90cj48L3RoZWFkPmApICsgYDx0Zm9vdCBpZD0ndGVzZm9vdCc+PHRyIGlkPSdsaWduZW5vbnZpc2libGUnPjx0aCBjb2xzcGFuPSc5Jz7ihqogQ2xpcXVlciBpY2kgcG91ciByZXZlbmlyIGF1IHN1ZG9rdSBtb2RpZmlhYmxlPC90aD48L3RyPjwvdGZvb3Q+YDsKCQlww6hyZS5hcHBlbmRDaGlsZCh0YWJsKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFpZGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkw6lqw6B2dSk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc2Zvb3QnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGTDqWrDoHZ1KTsKCQljb3BpZSA/IG1zZ2EoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKSkgOiB0cnVlOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YV9ldF92aWVudCcpLmlubmVySFRNTCA9IGBTb2x1dGlvbsKg4oaRIChhdSBsaWV1IGR1IHN1ZG9rdSBtb2RpZmlhYmxlwqBpbml0aWFsKWAKCX07Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGzDoGhhdXQpOwoKCTwvc2NyaXB0PjxzcGFuIGlkPSd2YV9ldF92aWVudCc+IFN1ZG9rdSBpbml0aWFswqDipLQgJiM0MDttb2RpZmlhYmxlJiM0MTsgZXQgc2Egc29sdXRpb27CoDogPC9zcGFuPjwvaDQ+CjwvZGl2PrBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqXRleHQvaHRtbLJsYXN0X3J1bl90aW1lc3RhbXDLQdjjl5/Kmaq3aGFzX3BsdXRvX2hvb2tfZmVhdHVyZXPCrHJvb3Rhc3NpZ25lZcCnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDctMTIzNDU2Nzg5MDA2uWRlcGVuZHNfb25fZGlzYWJsZWRfY2VsbHPCp3J1bnRpbWXOAAK437VwdWJsaXNoZWRfb2JqZWN0X2tleXOQp2Vycm9yZWTC2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMi0xMjM0NTY3ODkwMDGJpnF1ZXVlZMKkbG9nc5CncnVubmluZ8Kmb3V0cHV0hqRib2R52Xo8ZGl2IGNsYXNzPSJtYXJrZG93biI+PGgxPlLDqXNvdWRyZSB1biBTdWRva3UgcGFyIEFsZXhpc8KgPHNwYW4gaWQ9J0JOJyBzdHlsZT0ndXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5iOPC9zcGFuPjwvaDE+CjwvZGl2PrBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqXRleHQvaHRtbLJsYXN0X3J1bl90aW1lc3RhbXDLQdjjl55S+Wq3aGFzX3BsdXRvX2hvb2tfZmVhdHVyZXPCrHJvb3Rhc3NpZ25lZcCnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAxuWRlcGVuZHNfb25fZGlzYWJsZWRfY2VsbHPCp3J1bnRpbWXOADkkF7VwdWJsaXNoZWRfb2JqZWN0X2tleXOQp2Vycm9yZWTC2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDWJpnF1ZXVlZMKkbG9nc5CncnVubmluZ8Kmb3V0cHV0hqRib2R52iCDPGJvbmQgZGVmPSJiaW5kSlN1ZG9rdSIgdW5pcXVlX2lkPSJKU0ZKS0ZUVUlvNFgiPjxzY3JpcHQ+IC8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCWNvbnN0IHByZW1pZXIgPSBKU09OLnN0cmluZ2lmeSggW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dICk7Cgljb25zdCBkZXV4acOobWUgPSBKU09OLnN0cmluZ2lmeSggW1swLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMSwgMiwgMywgNCwgNSwgMCwgMCwgMF0sIFswLCAyLCAwLCAwLCAzLCAwLCA2LCAwLCAwXSwgWzAsIDMsIDQsIDUsIDYsIDAsIDAsIDcsIDBdLCBbMCwgNiwgMCwgMCwgNywgMCwgOCwgMCwgMF0sIFswLCA3LCAwLCAwLCA4LCA5LCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1dICk7Cgljb25zdCBkZWZhdWx0Rml4ZWRWYWx1ZXMgPSBbWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAxLCAyLCAzLCA0LCA1LCAwLCAwLCAwXSwgWzAsIDIsIDAsIDAsIDMsIDAsIDYsIDAsIDBdLCBbMCwgMywgNCwgNSwgNiwgMCwgMCwgNywgMF0sIFswLCA2LCAwLCAwLCA3LCAwLCA4LCAwLCAwXSwgWzAsIDcsIDAsIDAsIDgsIDksIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXV0JCQkKLy8gY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gW1swLDAsMCw3LDAsMCwwLDAsMF0sWzEsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsNCwzLDAsMiwwLDBdLFswLDAsMCwwLDAsMCwwLDAsNl0sWzAsMCwwLDUsMCw5LDAsMCwwXSxbMCwwLDAsMCwwLDAsNCwxLDhdLFswLDAsMCwwLDgsMSwwLDAsMF0sWzAsMCwyLDAsMCwwLDAsNSwwXSxbMCw0LDAsMCwwLDAsMywwLDBdXTsKCQkKd2luZG93LmNyZWF0ZVN1ZG9rdUh0bWwgPSAodmFsdWVzKSA9PiB7CiAgY29uc3QgZGF0YSA9IFtdOwogIGNvbnN0IGh0bWxEYXRhID0gW107CiAgZm9yKGxldCBpPTA7IGk8OTtpKyspewogICAgbGV0IGh0bWxSb3cgPSBbXTsKICAgIGRhdGEucHVzaChbXSk7CiAgICBmb3IobGV0IGo9MDsgajw5O2orKyl7CiAgICAgIGNvbnN0IHZhbHVlc0xpbmUgPSB2YWx1ZXNbaV07CiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzTGluZT92YWx1ZXNMaW5lW2pdOjA7CiAgICAgIGNvbnN0IGh0bWxJbnB1dCA9IGh0bWxgPGlucHV0IHR5cGU9J3RleHQnIAogICAgICAgIGRhdGEtcm93PScke2l9JwogICAgICAgIGRhdGEtY29sPScke2p9JwogICAgICAgIG1heGxlbmd0aD0nMScgCiAgICAgICAgdmFsdWU9JyR7KHZhbHVlfHwnJyl9JwogICAgICA+YDsKCSAgY29uc3QgaXNNZWRpdW0gPSAoaiUzID09PSAwKTsKCSAgY29uc3QgYmxvY2sgPSBbTWF0aC5mbG9vcihpLzMpLCBNYXRoLmZsb29yKGovMyldOyAvLyBmb25kIGVuIGRhbWllcgoJICBjb25zdCBjbGFzc291cGFzID0gKChibG9ja1swXStibG9ja1sxXSklMiAhPT0gMCk/KGlzTWVkaXVtPydjbGFzcz0iZGFtaWVyIHRyb2lzZCInOidjbGFzcz0iZGFtaWVyIicpOihpc01lZGl1bT8nY2xhc3M9InRyb2lzZCInOicnKTsKICAgICAgY29uc3QgaHRtbENlbGwgPSBodG1sYDx0ZCAke2NsYXNzb3VwYXN9PiR7aHRtbElucHV0fTwvdGQ+YAogICAgICBkYXRhW2ldW2pdID0gdmFsdWV8fDA7CiAgICAgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CiAgICB9CgkKICAgIGNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CiAgICBodG1sRGF0YS5wdXNoKGh0bWxgPHRyICR7aXNNZWRpdW1CaXM/J2NsYXNzPSJ0cm9pc3IiJzoiIn0+JHtodG1sUm93fTwvdHI+YCk7CiAgfQogIGNvbnN0IF9zdWRva3UgPSBodG1sYDx0YWJsZSBpZD0ic3Vkb2tpbmNpcGl0IiBzdWRhdGE9JHtKU09OLnN0cmluZ2lmeShkYXRhKX0gY2xhc3M9J3N1ZG9rb29sJz4KICAgICAgPHRib2R5PiR7aHRtbERhdGF9PC90Ym9keT4KICAgIDwvdGFibGU+YCAgCiAgcmV0dXJuIHtfc3Vkb2t1LGRhdGF9OwogIC8vIC8vIHJldHVybiBfc3Vkb2t1IDsKICAKfQoKd2luZG93LnN1ZG9rdVZpZXdSZWFjdGl2ZVZhbHVlID0gKHtfc3Vkb2t1Omh0bWwsIGRhdGF9KSA9PiB7CiAgaHRtbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKT0+ewogICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKICAgIGh0bWwudmFsdWUgPSBkYXRhOwogICAgcmV0dXJuIGZhbHNlOwogIH0pOyAKICAKICBsZXQgaW5wdXRzID0gaHRtbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpOwogIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHsKCQoJY29uc3QgZGFsaWduZSA9IChlKSA9PiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7Cgljb25zdCBkYWNvbCA9IChlKSA9PiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7Cgljb25zdCBldHAyID0gKGUpID0+IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDsKCWNvbnN0IGV0cDMgPSAoZSkgPT4gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgoJY29uc3QgbW92ZURvd24gPSAoZSkgPT4geyAKCQlpZiAoZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgeyAKCQlldHAzKGUpLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gZWxzZSB7IAoJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQl9IAoJfQoJY29uc3QgbW92ZVVwID0gKGUpID0+IHsKCQlpZiAoZXRwMihlKS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGwpIHsgCgkJZXRwMyhlKS5sYXN0Q2hpbGQuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCX0gZWxzZSB7IAoJCWV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZy5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSAKCX0KCWNvbnN0IG1vdmVMZWZ0ID0gKGUpID0+IHsKCQlpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQlldHAzKGUpLmxhc3RDaGlsZC5sYXN0Q2hpbGQuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IGVsc2UgewoJCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQl9IH0gZWxzZSB7CgkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQl9IAoJfQoJY29uc3QgbW92ZVJpZ2h0ID0gKGUpID0+IHsgCgkJaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJaWYgKGV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJCWV0cDMoZSkuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSBlbHNlIHsKCQkJZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSB9IGVsc2UgeyAKCQllLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJfSAKCX0KCQkKCWlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLChlKSA9PiB7CgkgIC8vIGUudGFyZ2V0LmZvY3VzKCk7CgkgIGUudGFyZ2V0LnNlbGVjdCgpOwoJCQoJICBzd2l0Y2ggKGUua2V5KSB7CgkJY2FzZSAiQXJyb3dEb3duIjoKCQkJbW92ZURvd24oZSk7IGJyZWFrOyAKCQljYXNlICJBcnJvd1VwIjoKCQkJbW92ZVVwKGUpOyBicmVhazsgCgkJY2FzZSAiQXJyb3dMZWZ0IjoKCQkJbW92ZUxlZnQoZSk7IGJyZWFrOyAKCQljYXNlICJBcnJvd1JpZ2h0IjoKCQkJbW92ZVJpZ2h0KGUpOyBicmVhazsgCgkJY2FzZSAiU2hpZnQiOgoJCWNhc2UgIkNhcHNMb2NrIjoKCQljYXNlICJOdW1Mb2NrIjoKCQkJYnJlYWs7IC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1rZXkvI2tleXMtbW9kaWZpZXIKCQljYXNlICJCYWNrc3BhY2UiOgoJCWNhc2UgIkRlbGV0ZSI6CgkJCWlmIChkYXRhW2RhbGlnbmUoZSldW2RhY29sKGUpXSAhPT0gMCkgewoJCQkJZGF0YVtkYWxpZ25lKGUpXVtkYWNvbChlKV0gPSAwOwoJCQkJZS50YXJnZXQudmFsdWUgPSAiIjsKCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQkJfQoJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCQl9CgkJCShlLmtleT09PSJEZWxldGUiKT9tb3ZlUmlnaHQoZSk6bW92ZUxlZnQoZSk7CgkJCXZhciBkYSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CgkJCShlLmtleT09PSJEZWxldGUiKT8oZGEuc2VsZWN0aW9uU3RhcnQgPSBkYS5zZWxlY3Rpb25FbmQgPSBkYS52YWx1ZS5sZW5ndGgpOihkYS5zZWxlY3Rpb25TdGFydCA9IGRhLnNlbGVjdGlvbkVuZCA9IDApOyAvL3NlbGVjdCBLTyA6KAoJCQlicmVhazsKCQlkZWZhdWx0OgoJCQlyZXR1cm47CgkJfSB9KSAKCQkKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywoZSkgPT4gewoJICBjb25zdCBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOyAvLyBkYWxpZ25lKGUpCgkgIGNvbnN0IGogPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IC8vIGRhY29sKGUpCgkgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlIC8vcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpOwoJICBjb25zdCBvbGRhdGEgPSBkYXRhW2ldW2pdOwoKCSAgY29uc3QgYmlkb3VpbGxpc3RlID0ge2E6MSx6OjIsZTozLHI6NCx0OjUseTo2LHU6NyxpOjgsbzo5LAoJCUE6MSxaOjIsRTozLFI6NCxUOjUsWTo2LFU6NyxJOjgsTzo5LAoJCSdcJic6MSzDqToyLCciJzozLCJcJyI6NCwnXCgnOjUsJ1wtJzo2LMOoOjcsXzo4LMOnOjksCgkJJ8KnJzo2LCchJzo4LCAgICBxOjEsUToxLCB3OjIsVzoyfTsKCgkgIGNvbnN0IGFuZHJvaWRDaHJvbWVFc3RDaGlhbnQgPSB7J2InOm1vdmVEb3duLCdCJzptb3ZlRG93biwKCQknaCc6bW92ZVVwLCdIJzptb3ZlVXAsICAgICAgICAnaic6bW92ZVJpZ2h0LCdKJzptb3ZlUmlnaHQsCgkJJ2cnOm1vdmVMZWZ0LCdHJzptb3ZlTGVmdCwndic6bW92ZUxlZnQsJ1YnOm1vdmVMZWZ0LAoJCSdkJzptb3ZlUmlnaHQsJ0QnOm1vdmVSaWdodCwnbic6bW92ZVJpZ2h0LCdOJzptb3ZlUmlnaHR9OwoKCSAgaWYgKHZhbCBpbiBiaWRvdWlsbGlzdGUpIHsKCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPSBiaWRvdWlsbGlzdGVbdmFsXTsKCSAgfSBlbHNlIGlmICh2YWwgPD0gOSAmJiB2YWwgPj0xKSB7CgkJZGF0YVtpXVtqXSA9IHBhcnNlSW50KHZhbCk7CgkgIH0gZWxzZSBpZiAoKHZhbCA9PSAwKXx8KHZhbCA9PSAnw6AnKXx8KHZhbCA9PSAncCcpfHwodmFsID09ICdQJykpIHsKCQlkYXRhW2ldW2pdID0gMDsKCQllLnRhcmdldC52YWx1ZSA9ICcnOwoJICB9IGVsc2UgeyAKCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPT09IDAgPyAnJyA6IGRhdGFbaV1bal07CgkgIH0KCgkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQllLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7IAoJCX0gZWxzZSB7CgkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCXZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiTW9kaWZpZXJJbml0Iik7CgkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJY29uc3QgamRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJfSBlbHNlIGlmIChqZGF0YSA9PSBkZXV4acOobWUpIHsKCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJfQoJCQlodG1sLnNldEF0dHJpYnV0ZSgnc3VkYXRhJywgamRhdGEpOwoJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQl9CgoJCWlmICh2YWwgaW4gYW5kcm9pZENocm9tZUVzdENoaWFudCkgewoJCQlhbmRyb2lkQ2hyb21lRXN0Q2hpYW50W3ZhbF0oZSk7CgkJfSBlbHNlIHsKCQkJbW92ZVJpZ2h0KGUpOwoJCX0KCQlkb2N1bWVudC5hY3RpdmVFbGVtZW50LnNlbGVjdCgpOwogICAgfSkKCQkKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2N0b3AnLChlKSA9PiB7IC8vIG1pcyDDoCBqb3VyIHBhciBjaGlmZnJlIHPDqWxlY3Rpb25uw6kKCSAgY29uc3QgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsgLy8gZGFsaWduZShlKQoJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJICBjb25zdCB2YWwgPSBlLnRhcmdldC52YWx1ZSAvL3BhcnNlSW50KGUudGFyZ2V0LnZhbHVlKTsKCSAgY29uc3Qgb2xkYXRhID0gZGF0YVtpXVtqXTsKCgkgIGlmICh2YWwgPD0gOSAmJiB2YWwgPj0xKSB7CgkJZGF0YVtpXVtqXSA9IHBhcnNlSW50KHZhbCk7CgkgIH0gZWxzZSB7IAoJCWUudGFyZ2V0LnZhbHVlID0gZGF0YVtpXVtqXSA9PT0gMCA/ICcnIDogZGF0YVtpXVtqXTsKCSAgfQoKCQlpZiAob2xkYXRhID09PSBkYXRhW2ldW2pdKSB7CgkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkJfSBlbHNlIHsKCQkJLy8gRWZmYWNlIGxlcyBwdWNlcyBjYXIgY2VsYSBhIMOpdMOpIHRvdWNow6kKCQkJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCWVsZVtuaV0uY2hlY2tlZCA9IGZhbHNlOwoJCQljb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJZWxlWzBdLmNoZWNrZWQgPSB0cnVlOwoJCQl9IGVsc2UgaWYgKGpkYXRhID09IGRldXhpw6htZSkgewoJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQl9CgkJCWh0bWwuc2V0QXR0cmlidXRlKCdzdWRhdGEnLCBqZGF0YSk7CgkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCX0KICAgIH0pCgkJCiAgfSkgCiAgdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKICBjb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwogIGlmIChqZGF0YSA9PSBwcmVtaWVyKSB7CgllbGVbMF0uY2hlY2tlZCA9IHRydWU7CiAgfSBlbHNlIGlmIChqZGF0YSA9PSBkZXV4acOobWUpIHsKCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsgLy8gLi4uXS5jbGljaygpOyAvLyDDqXRhaXQgS08uLi4KICB9CiAgaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKICBodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKICByZXR1cm4gaHRtbDsKCn07CgpyZXR1cm4gc3Vkb2t1Vmlld1JlYWN0aXZlVmFsdWUoY3JlYXRlU3Vkb2t1SHRtbChkZWZhdWx0Rml4ZWRWYWx1ZXMpKTsKPC9zY3JpcHQ+PC9ib25kPrBwZXJzaXN0X2pzX3N0YXRlwqRtaW1lqXRleHQvaHRtbLJsYXN0X3J1bl90aW1lc3RhbXDLQdjjl5+C23e3aGFzX3BsdXRvX2hvb2tfZmVhdHVyZXPCrHJvb3Rhc3NpZ25lZcCnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1uWRlcGVuZHNfb25fZGlzYWJsZWRfY2VsbHPCp3J1bnRpbWXODrBy2rVwdWJsaXNoZWRfb2JqZWN0X2tleXOQp2Vycm9yZWTC2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDOJpnF1ZXVlZMKkbG9nc5CncnVubmluZ8Kmb3V0cHV0hqRib2R52gEdPGRpdiBjbGFzcz0ibWFya2Rvd24iPjxwPlBvdXIgY2V0dGUgc2Vzc2lvbiwgc2kgYmVzb2luIGQmIzM5O3VuIDogPGJvbmQgZGVmPSJib3V0b25TdWRva3VJbml0aWFsIiB1bmlxdWVfaWQ9IiYjNDM7YnE0JiM0MztaS3VmS1lhIj48aW5wdXQgdHlwZT1idXR0b24gc3R5bGU9J21hcmdpbjogMCA2cHggMCA2cHgnIHZhbHVlPSfwn5O3IGluc3RhbnRhbsOpIDspJz48L2JvbmQ+IDxlbT4mIzQwO3NpwqBzdWRva3XCoHZpZGXCoOKGksKgc3Vkb2t1wqBhbMOpYXRvaXJlJiM0MTs8L2VtPjwvcD4KPC9kaXY+sHBlcnNpc3RfanNfc3RhdGXCpG1pbWWpdGV4dC9odG1ssmxhc3RfcnVuX3RpbWVzdGFtcMtB2OOXnmyBSbdoYXNfcGx1dG9faG9va19mZWF0dXJlc8Kscm9vdGFzc2lnbmVlwKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDO5ZGVwZW5kc19vbl9kaXNhYmxlZF9jZWxsc8KncnVudGltZc4M1UN2tXB1Ymxpc2hlZF9vYmplY3Rfa2V5c5CnZXJyb3JlZMKxY2VsbF9kZXBlbmRlbmNpZXOL2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTGEtHByZWNlZGVuY2VfaGV1cmlzdGljB6djZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTG0ZG93bnN0cmVhbV9jZWxsc19tYXDeAD2oTFVuaWNsayGQpmZvb3RpeJCqaW1wb3NzaWJsZZCpa2VsY2FycsOpkKNqc22QpHNhayGQpWh0bWxzkKZodG1hdHCQo3Jqc5CoaW50ZXJ2YWyQqXZhZXR2aWVudJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNqNwdDKQt3RvdXRlc3RiaWVucXVpZmluaXRiaWVukKpodG1sU3Vkb2t1kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4r2NoaWZmcmVQb3NzaWJsZZCuc3Vkb2t1aW5pdGlhbCGR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDKwcsOpc291dFN1ZG9rdU1heJClcHVjZXOS2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN6d1bmljbGshkKVzZXQxOZCwaHRtbFN1ZG9rdVByb3BhbJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOKtsaXN0ZWNhcnLDqZCtcsOpc291dFN1ZG9rdZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNKt0dXBsZWNhcnLDqZCqw6Bjb3JyaWdlcpCwbWF0cmljZcOgbGlzdGVKU5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaNwdDOQpGNhcnKQtXNpbXBsZWNoaWZmcmVQb3NzaWJsZZCkY29vbJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMahzaHVmZmxlIZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaRybWF0kKhuYlByb3BhbJCmY2FycsOpkKN2cyGQo2luaZCjbWpzkLRzdWRva3VBbMOpYXRvaXJlRmluaZCkanN2ZJCldmlldXiQqUJhc2Uuc2hvd5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMbBsaXN0ZUpTw6BtYXRyaWNlkKN2c2SQpHNhYyGQpHZ1ZXOQrUJvbmRKYW1lc0JvbmST2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDXZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExpWh0bWF0kKJ2c5CvdsOpcmlmU3Vkb2t1Qm9ukLFwYXNBc3NlekRlUHJvcGFsIZCmZGVmYXV0kKtTdWRva3VNw6ltb5LZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1qEJhc2UuZ2V0kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1pmh0bWxzcJCsdmlldXhTdWRva3UhkKNwdDGQrWNoaWZmcmVQcm9wYWyQsHN1ZG9rdUFsw6lhdG9pcmWQplN1ZGluaZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNaN2UyGQp2TDqWZhdXSQsnVwc3RyZWFtX2NlbGxzX21hcN4AQqEhkKE+kKVUdXBsZZCmaXNsZXNzkKREb2NzkKZyZXBlYXSQpnVuaW9uIZCnbm90aGluZ5CmbGVuZ3RokKdkZWxldGUhkKE8kKRjb3B5kKhkZWVwY29weZCmVmVjdG9ykKdzZXRkaWZmkKdpc2VtcHR5kKRjb25qkKNTZXSQrUJhc2UuZ2V0aW5kZXiQrkJhc2UuRG9jcy5IVE1MkKhzZXRkaWZmIZCnY29sbGVjdJCjZGl2kKZoYXNrZXmQpXVuaW9ukLBtYXRyaWNlw6BsaXN0ZUpTkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExpHJhbmSQo+KImJCjaXNhkKRCYXNlkKI8PZClcHVzaCGQoS2Qo0ludJChK5ClVW5pb26QoSqQqHNodWZmbGUhkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExpUFycmF5kKREaWN0kKdAbWRfc3RykKZzdHJpbmeQqnB1c2hmaXJzdCGQoklPkKRwb3AhkKR2aWV3kKZTdHJpbmeQp2Fkam9pbnSQqUJhc2Uuc2hvd5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaNtYXCQpWNvdW50kKIhPZCtQm9uZEphbWVzQm9uZJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaRmaWxskKI9PZCpRG9jcy5IVE1MkKJpbpCpVW5pdFJhbmdlkKE6kKlAaHRtbF9zdHKQpGhjYXSQqEByYXdfc3RykKRCb29skKlATUlNRV9zdHKQp3Jlc2hhcGWQpGdldCGQ2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDiEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDi0ZG93bnN0cmVhbV9jZWxsc19tYXCAsnVwc3RyZWFtX2NlbGxzX21hcI2rYmluZEpTdWRva3WR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDWwaHRtbFN1ZG9rdVByb3BhbJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaEhkK5Qcm9wYWxPdVNvbHVjZZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN6ZTdHJpbmeQo2lzYZCuTWFya2Rvd24ucGFyc2WQsXN1ZG9rdVNvbHV0aW9uVnVlkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA0oSqQqE1hcmtkb3dukKI9PZCpdm9pck91UGFzkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3qmh0bWxTdWRva3WR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNIS0cHJlY2VkZW5jZV9oZXVyaXN0aWMJp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNLRkb3duc3RyZWFtX2NlbGxzX21hcIKuc3Vkb2t1U29sdXRpb26QsXN1ZG9rdVNvbHV0aW9uVnVlkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4snVwc3RyZWFtX2NlbGxzX21hcIOrYmluZEpTdWRva3WR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDWtcsOpc291dFN1ZG9rdZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMatTdWRva3VNw6ltb5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3tGRvd25zdHJlYW1fY2VsbHNfbWFwgq5Qcm9wYWxPdVNvbHVjZZHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOKl2b2lyT3VQYXOR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDiydXBzdHJlYW1fY2VsbHNfbWFwjKdAbWRfc3RykK1CYXNlLmdldGluZGV4kNkgTWFpbi5QbHV0b1J1bm5lci5Db3JlLmFwcGxpY2FibGWQrkJhc2UuRG9jcy5IVE1MkKlAaHRtbF9zdHKQuU1haW4uUGx1dG9SdW5uZXIuQmFzZS5nZXSQpUBiaW5kkNkoTWFpbi5QbHV0b1J1bm5lci5QbHV0b1J1bm5lci5jcmVhdGVfYm9uZJCkTWFpbpCkQmFzZZCtQm9uZEphbWVzQm9uZJHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMaVwdWNlc5HZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5tGRvd25zdHJlYW1fY2VsbHNfbWFwh7VzdHlsw6lsw6BiYXNhdmVjYm9udXOQp2NhbGVwaW6QqHBsdXRvb2pskK5ib251c2V0YXN0dWNlc5CxcG91cmdhcmRlcmxldGVtcHOQp2NhbGV3ZWKQr3BvdXJ2b2lycGx1dMO0dJCydXBzdHJlYW1fY2VsbHNfbWFwiKdAbWRfc3RykK1CYXNlLmdldGluZGV4kKRCYXNlkK5CYXNlLkRvY3MuSFRNTJCpQGh0bWxfc3RykKhAcmF3X3N0cpCkRG9jc5CpRG9jcy5IVE1MkNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwhLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwtGRvd25zdHJlYW1fY2VsbHNfbWFwgLJ1cHN0cmVhbV9jZWxsc19tYXCA2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDKEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDK0ZG93bnN0cmVhbV9jZWxsc19tYXCBqnZpZGVyT3VwYXOS2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDXZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNrJ1cHN0cmVhbV9jZWxsc19tYXCNp0BtZF9zdHKQrUJhc2UuZ2V0aW5kZXiQpXB1Y2VzkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExrkJhc2UuRG9jcy5IVE1MkKlAaHRtbF9zdHKQ2SBNYWluLlBsdXRvUnVubmVyLkNvcmUuYXBwbGljYWJsZZC5TWFpbi5QbHV0b1J1bm5lci5CYXNlLmdldJClQGJpbmSQ2ShNYWluLlBsdXRvUnVubmVyLlBsdXRvUnVubmVyLmNyZWF0ZV9ib25kkLNib3V0b25TdWRva3VJbml0aWFskdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAzpE1haW6QpEJhc2WQrnN1ZG9rdWluaXRpYWwhkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDEx2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDaEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDa0ZG93bnN0cmVhbV9jZWxsc19tYXCAsnVwc3RyZWFtX2NlbGxzX21hcIenQG1kX3N0cpCtQmFzZS5nZXRpbmRleJCkQmFzZZCuQmFzZS5Eb2NzLkhUTUyQqUBodG1sX3N0cpCpdmFldHZpZW50kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExqnZpZGVyT3VwYXOR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMYS0cHJlY2VkZW5jZV9oZXVyaXN0aWMJp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMbRkb3duc3RyZWFtX2NlbGxzX21hcICydXBzdHJlYW1fY2VsbHNfbWFwgqRjb29skdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExqGdldGluZGV4kNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1hLRwcmVjZWRlbmNlX2hldXJpc3RpYwmnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDUtMTIzNDU2Nzg5MDA1tGRvd25zdHJlYW1fY2VsbHNfbWFwgqtiaW5kSlN1ZG9rdZLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4q2Nob2l4U3Vkb2t1kLJ1cHN0cmVhbV9jZWxsc19tYXCPpENvcmWQoSGQq1N1ZG9rdU3DqW1vkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExqEJhc2UuZ2V0kdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExplN0cmluZ5CjaXNhkKRCYXNlkKtQbHV0b1J1bm5lcpC3UGx1dG9SdW5uZXIuY3JlYXRlX2JvbmSQr0NvcmUuYXBwbGljYWJsZZCmU3VkaW5pkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExoiE9kK1Cb25kSmFtZXNCb25kkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDEtMTIzNDU2Nzg5MDExoj09kKp2aWRlck91cGFzkdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDQtMTIzNDU2Nzg5MDAy2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDOEtHByZWNlZGVuY2VfaGV1cmlzdGljCadjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMy0xMjM0NTY3ODkwMDO0ZG93bnN0cmVhbV9jZWxsc19tYXCBs2JvdXRvblN1ZG9rdUluaXRpYWyR2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDKydXBzdHJlYW1fY2VsbHNfbWFwiqdAbWRfc3RykK1CYXNlLmdldGluZGV4kKRNYWlukKRCYXNlkKlAaHRtbF9zdHKQ2SBNYWluLlBsdXRvUnVubmVyLkNvcmUuYXBwbGljYWJsZZCuQmFzZS5Eb2NzLkhUTUyQuU1haW4uUGx1dG9SdW5uZXIuQmFzZS5nZXSQpUBiaW5kkNkoTWFpbi5QbHV0b1J1bm5lci5QbHV0b1J1bm5lci5jcmVhdGVfYm9uZJC0Y2VsbF9leGVjdXRpb25fb3JkZXKb2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTHZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAz2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA02SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDbZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA4LTEyMzQ1Njc4OTAwN9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA42SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMC0xMjM0NTY3ODkwMDnZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDExLTEyMzQ1Njc4OTAxMLRsYXN0X2hvdF9yZWxvYWRfdGltZcsAAAAAAAAAAKlzaG9ydHBhdGiqUGx1dG9rdS5qbK5wcm9jZXNzX3N0YXR1c6VyZWFkeaRwYXRo2TgvaG9tZS9ydW5uZXIvd29yay80TEQuZ2l0aHViLmlvLzRMRC5naXRodWIuaW8vUGx1dG9rdS5qbK5sYXN0X3NhdmVfdGltZctB2OOXlZS6TapjZWxsX29yZGVym9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAx2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDLZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAzLTEyMzQ1Njc4OTAwM9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDYtMTIzNDU2Nzg5MDA02SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDXZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNtkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA32SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDjZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDEwLTEyMzQ1Njc4OTAwOdkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEw2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTGxcHVibGlzaGVkX29iamVjdHOApW5icGtnh7JpbnN0YWxsZWRfdmVyc2lvbnOBplJhbmRvbaZzdGRsaWKwdGVybWluYWxfb3V0cHV0c4GmUmFuZG9toKdlbmFibGVkw7dyZXN0YXJ0X3JlY29tbWVuZGVkX21zZ8C0cmVzdGFydF9yZXF1aXJlZF9tc2fArWJ1c3lfcGFja2FnZXOQrGluc3RhbnRpYXRlZMOrY2VsbF9pbnB1dHOL2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwMS0xMjM0NTY3ODkwMTGEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAxLTEyMzQ1Njc4OTAxMbBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2vsXYmVnaW4gCgkjIEBiaW5kIGJpbmRKU3Vkb2t1IFN1ZGluaSAjIGV0IHNvbiBqYXZhc2NyaXB0IGVzdCBpbmNsdXMgYXUgcGx1cyBoYXV0CgkjIHN0eWzDqWzDoGJhc2F2ZWNib251cyEgIyMgdm9pciBqdXN0ZSBkYW5zIGxhIGNlbGx1bGUgI0JvbnVzIGF1IGRlc3N1cyDihpEKCWNvbnN0IMOgY29ycmlnZXIgPSAi8J+YnCBNZXJjaSBkZSBjb3JyaWdlciBsZSBTdWRva3UiLCBtZCIiIiMjIyMjIPCfmJwgTWVyY2kgZGUgcmV2b2lyIGxlIFN1ZG9rdSBtb2RpZmlhYmxlLCBpbCBuJ2VzdCBwYXMgY29uZm9ybWUgOiAKCQlFbiBlZmZldCwgaWwgZG9pdCB5IGF2b2lyICoqdW4gY2hpZmZyZSBlbiBkb3VibGUqKiBhdSBtb2lucyBzdXIgdW5lIGxpZ25lIG91IGNvbG9ubmUgb3UgY2FycsOpIPCfmIQiIiIKCWNvbnN0IGltcG9zc2libGUgPSAi8J+nkCBTdWRva3UgZmF1eCBldCBpbXBvc3NpYmxlIiwgbWQiIiIjIyMjIyDwn6eQIFN1ZG9rdSBmYXV4IGV0IGltcG9zc2libGUgw6AgcsOpc291ZHJlIDoKCQlTaSBjZSBuJ2VzdCBwYXMgbGUgY2FzLCByZXbDqXJpZmllciBsZSBTdWRva3UgbW9kaWZpYWJsZSwgY2FyIGNlbHVpLWNpIG4nYSBwYXMgZGUgc29sdXRpb24iIiIKCXRvdXRlc3RiaWVucXVpZmluaXRiaWVuKG1TLCBuYkNob2l4ZmFpdCwgbmJUb3Vyc1RvdGFsKSA9IG1hdHJpY2XDoGxpc3RlSlMobVMpLCBtZCIqKlN0YXRpc3RpcXVlc8KgOioqIGNlIHByb2dyYW1tZSBmYWl0ICoqJG5iQ2hvaXhmYWl0IGNob2l4KiogZXQgXyRuYlRvdXJzVG90YWwgJCgobmJUb3Vyc1RvdGFsPjEpID8gOnRvdXJzIDogOnRvdXIpXyBwb3VyIHLDqXNvdWRyZSBjZSBzdWRva3UiCgljb25zdCBmb290aXggPSAiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXNmb290XCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNsaWNrXCIpKSIKCQoJY29uc3Qgc2V0MTkgPSBTZXQoMTo5KSAjIFBvdXIgbmUgcGFzIGxlIHJlY2FsY3VsZXIgw6AgY2hhcXVlIGZvaXMKCWNvbnN0IGNvb2wgPSBodG1sIjxzcGFuIGlkPSdCTicgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyc+8J+Yjjwvc3Bhbj4iCglqc3ZkKCkgPSBmaWxsKGZpbGwoMCw5KSw5KSAjIEpTdmlkZSBvdSBKQ1ZEIF5eIHBzZXVkbyBjb25zdAoJdXNpbmcgUmFuZG9tOiBzaHVmZmxlISAjIEFzdHVjZSBwb3VyIMOqdHJlIGVuY29yZSBwbHVzIHJhcGlkZSA9IEZhc3QgJiBGdXJpb3VzCgkjIyBzaHVmZmxlISh4KSA9IHggIyMgU2kgYmVzb2luLCBtYWlzLi4uIEV2ZXJ5ZGF5IEkgc2h1ZmZsaW5nICEgKGRpeGl0IExNRkFPKQoJCglzdHJ1Y3QgQm9uZEphbWVzQm9uZCAjIyBCb25kRGVmYXVsdChlbGVtZW50LCBkZWZhdWx0KSAjIyMgcG91ciBCYXNlLmdldCgpIGV0IEBiaW5kCgkJb283ICMgZWxlbWVudCAJIAkJCSAjIyMgQm9uZCAow6AgYmluZGVyKQoJCXZvZGthTWFydGluaSAjIGRlZmF1bHQgCQkgIyMjIHVuIGTDqWZhdXQgXl4KCWVuZCAjIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlci9wdWxsLzExCglCYXNlLnNob3coaW86OklPLCBtOjpNSU1FInRleHQvaHRtbCIsIGJkOjpCb25kSmFtZXNCb25kKSA9IAoJCUJhc2Uuc2hvdyhpbyxtLCBiZC5vbzcpCglCYXNlLmdldChiZDo6Qm9uZEphbWVzQm9uZCkgPSBiZC52b2RrYU1hcnRpbmkgCgoJU3Vkb2t1TcOpbW8gPSBwdXNoZmlyc3QhKHJlcGVhdChbW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwxLDIsMyw0LDUsMCwwLDBdLFswLDIsMCwwLDMsMCw2LDAsMF0sWzAsMyw0LDUsNiwwLDAsNywwXSxbMCw2LDAsMCw3LDAsOCwwLDBdLFswLDcsMCwwLDgsOSwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdXV0sIDMpLCAKCQlqc3ZkKCkpICMgRW4gdHJpcGxlIHBvdXIgZ2FyZGVyIG1lcyBpbml0aWFsKGUpcyBeXgoJbGlzdGVKU8OgbWF0cmljZShKU3Vkb2t1OjpWZWN0b3J7VmVjdG9ye0ludH19KSA9IGhjYXQoSlN1ZG9rdS4uLikgIycgZW4gcGluYWlsbGFudAoJCWpzbSA9IGxpc3RlSlPDoG1hdHJpY2UgIyMgbWluaSB2ZXJzaW9uCgltYXRyaWNlw6BsaXN0ZUpTKG1hdCxkPTkpID0gW21hdFs6LGldIGZvciBpIGluIDE6ZF0gI0kgd2lsbCBiZSBiYWNrISAjIyBtYXQzIGF1c3NpCgkJbWpzID0gbWF0cmljZcOgbGlzdGVKUyAjIyBtaW5pIHZlcnNpb24KCSMjIyBtYXRyaWNlw6BsaXN0ZUpTKGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkpID09IEpTdWRva3UgIyMgRXQgaW52ZXJzZW1lbnQKCSMgbmJjbShtYXQpID0gY291bnQoPigwKSwgbWF0ICkgIyBOb21icmUgZGUgY2hpZmZyZXMgPiAwIGRhbnMgdW5lIG1hdHJpY2UKCSMgbmJjaihsanMpID0gY291bnQoPigwKSwgbGlzdGVKU8OgbWF0cmljZShsanMpICkgIyBpZGVtIHBvdXIgdW5lIGxpc3RlIEpTCglrZWxjYXJyw6koaTo6SW50LGo6OkludCkgPSAxKyAzKmRpdihpLTEsMykgKyBkaXYoai0xLDMpICMgbsKwIGR1IGNhcnLDqSBkdSBzdWRva3UKCWNhcnLDqShpOjpJbnQsajo6SW50KT0gMStkaXYoaS0xLDMpKjM6MytkaXYoaS0xLDMpKjMsIDErZGl2KGotMSwzKSozOjMrZGl2KGotMSwzKSozICMgcGVybWV0IGRlIGZhYnJpcXVlciBsZXMgZmlsdHJlcyBwb3VyIG5lIHJlZ2FyZGVyIHF1J3VuIHNldWwgY2FycsOpCgljYXJyKGk6OkludCk9IDErZGl2KGktMSwzKSozOjMrZGl2KGktMSwzKSozICMgZmlsdHJlIGNhcnLDqSDDoCBtb2l0aSAgICDDqSAhCgl2dWVzKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSAodmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSApICMgbGlzdGUgY2hpZmZyZXMgcG9zc2libGVzIHBhciBsaWduZXMvY29sb25uZXMvY2FycsOpcwoJbGlzdGVjYXJyw6kobWF0OjpBcnJheXtJbnQsMn0pPSBbdmlldyhtYXQsY2FycihpKSxjYXJyKGopKSBmb3IgaSBpbiAxOjM6OSBmb3IgaiBpbiAxOjM6OV0gIyBMYSBsaXN0ZSBkZSB0b3VzIGxlcyBjYXJyw6lzIGR1IHN1ZG9rdQoJdHVwbGVjYXJyw6koaWk6OlVuaXRSYW5nZXtJbnR9LGpqOjpVbml0UmFuZ2V7SW50fSAjPSxzZXRpajo6U2V0e1R1cGxle0ludCxJbnR9fT0jKT0gWyhpLGopIGZvciBpIGluIGlpLCBqIGluIGpqXSAjaWYgKGksaikg4oiJIHNldGlqXQoJc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1hdDo6QXJyYXl7SW50LDJ9LGk6OkludCxqOjpJbnQpPSBzZXRkaWZmKHNldDE5LHZpZXcobWF0LGksOiksIHZpZXcobWF0LDosaiksIHZpZXcobWF0LGNhcnIoaSksY2FycihqKSkpICMgY2FzZSBpLGoKCSMjIyBzZXRkaWZmKHNldDE5LHZ1ZXMobWF0LGksaikuLi4pICMgUG91ciB1bmUgY2FzZSBlbiBpLGoKCWNoaWZmcmVQb3NzaWJsZShtYXQ6OkFycmF5e0ludCwyfSxpOjpJbnQsajo6SW50LGxpbXA6OlNldHtJbnR9LCBpaT1jYXJyKGkpOjpVbml0UmFuZ2V7SW50fSwgamo9Y2FycihqKTo6VW5pdFJhbmdle0ludH0pPSBzZXRkaWZmKHNldDE5LGxpbXAsdmlldyhtYXQsaSw6KSwgdmlldyhtYXQsOixqKSwgdmlldyhtYXQsIGlpLGpqKSkgIyBQbHVzIGZpbgoKCWZ1bmN0aW9uIHbDqXJpZlN1ZG9rdUJvbihtYXQ6OkFycmF5e0ludCwyfSkgIyBWw6lyaWZpZSBzaSBsZSBzdWRva3UgZXN0IHLDqWdsbwoJCWxlc2NhcnLDqXMgPSBsaXN0ZWNhcnLDqShtYXQpCgkJZm9yIHggaW4gMTo5ICMgUG91ciB0b3VzIGxlcyBjaGlmZnJlcyBkZSAxIMOgIDkuLi4KCQkJZm9yIGkgaW4gMTo5ICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1bmUgbGlnbmUgb3UgdW5lIGNvbG9ubmUgPwoJCQkJaWYgY291bnQoPT0oeCksIG1hdFtpLDpdKT4xIHx8IGNvdW50KD09KHgpLCBtYXRbOixpXSk+MQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVuZAoJCQlmb3IgYyBpbiBsZXNjYXJyw6lzICMgLi4uZXN0LWlsIGVuIGRvdWJsb24gZGFucyB1biBjYXJyw6kgPwoJCQkJaWYgY291bnQoPT0oeCksIGMpPjEKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCWVuZAoJCQllbmQKCQllbmQKCQlyZXR1cm4gdHJ1ZSAjIExlIHN1ZG9rdSBzZW1ibGUgY29uZm9ybWUgKG1haXMgaWwgcGV1dCDDqnRyZSBpbXBvc3NpYmxlKQoJZW5kIAoJZnVuY3Rpb24gc2FjIShuOjpJbnQsIGw6OkludCwgazo6SW50LCBpaTo6VW5pdFJhbmdle0ludH0sIGpqOjpVbml0UmFuZ2V7SW50fSwgbGlzdGVwb3NzaWJsZXM6OlNldHtJbnR9LCBmdXNpYmxlczo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljbzo6RGljdHtJbnQsRGljdHtJbnQsSW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAjIGNvbXB0ZSBsJ29jY3VyZW5jZSBkJ3VuIGNoaWZmcmUgcG91ci4uLiBjZi4gdW5pY2xrIQoJICMgcG91ciBsaWduZSBldCBjb2xvbm5lCgkgZ2V0IShkaWNvLCBuLCBEaWN0e0ludCxJbnR9KCkgKSAjIGRpY28gOiBwb3NpYmlsaXTDqXMgcGFyIGNvbG9ubmUvbGlnbmUKCSBnZXQhKGRpbG8sIG4sIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUvY29sb25uZSDimbsKCSBnZXQhKGRpa28sIG4sIERpY3R7SW50LEludH0oKSApICMgZGlrbyA6IGNhcnLDqSBxdWkgZGV2cmEgc3VwcHIuIGxhIHBvc3NpYmlsaXTDqQoJIGdldCEoZnVzaWJsZXMsIG4sIFNldHtJbnR9KCkgKSAjIGZ1c2libGVzIDogbsKwIGTDqWrDoCBncmlsbMOpcwoJIGZvciBuZSBpbiBzZXRkaWZmKGxpc3RlcG9zc2libGVzLGZ1c2libGVzW25dKSAjCgkJZGljb1tuXVtuZV0gPSBnZXQoZGljb1tuXSwgbmUsIDApICsgMQoJCWlmIGRpY29bbl1bbmVdID09IDEgCgkJCWRpa29bbl1bbmVdID0gayAKCQkJZGlsb1tuXVtuZV0gPSAobCwgaWksIGpqKQoJCWVsc2VpZiBkaWNvW25dW25lXSA+IDMgfHwgZGlrb1tuXVtuZV0gIT0gayAKCQkJcHVzaCEoZnVzaWJsZXNbbl0sIG5lKSAKCQkJZGVsZXRlIShkaWNvW25dLCBuZSkgCgkJZW5kCgkgZW5kCgllbmQKCWZ1bmN0aW9uIHNhayEoaTo6SW50LCBqOjpJbnQsIGs6OkludCwgaWk6OlVuaXRSYW5nZXtJbnR9LCBqajo6VW5pdFJhbmdle0ludH0sIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSwgZnVzaWJsZXM6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpbG86OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpY286OkRpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0sIGRpa286OkRpY3R7SW50LERpY3R7SW50LEludH19KSAKCSAjIGlkZW0gcG91ciBsZXMga2FycsOpcyA7KQoJIGdldCEoZGlrbywgaywgRGljdHtJbnQsSW50fSgpICkgIyBkaWtvIDogcG9zc2liaWxpdMOpIHBhciBrYXJyw6kKCSBnZXQhKGRpY28sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWNvIDogY29sb25uZSDimbsKCSBnZXQhKGRpbG8sIGssIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfSgpICkgIyBkaWxvIDogbGlnbmUg4pm7CgkgZ2V0IShmdXNpYmxlcywgaywgU2V0e0ludH0oKSApICMgZnVzaWJsZXMgOiBuwrAgZMOpasOgIGdyaWxsw6lzCgkgZm9yIG5lIGluIHNldGRpZmYobGlzdGVwb3NzaWJsZXMsZnVzaWJsZXNba10pICMKCQlkaWtvW2tdW25lXSA9IGdldChkaWtvW2tdLCBuZSwgMCkgKyAxCgkJaWYgZGlrb1trXVtuZV0gPT0gMSAKCQkJZGljb1trXVtuZV0gPSAoaiwgaWkpCgkJCWRpbG9ba11bbmVdID0gKGksIGpqKQoJCWVsc2VpZiBkaWtvW2tdW25lXSA+IDMgfHwgKGRpY29ba11bbmVdWzFdICE9IGogJiYgZGlsb1trXVtuZV1bMV0gIT0gaSkKCQkJcHVzaCEoZnVzaWJsZXNba10sIG5lKSAKCQkJZGVsZXRlIShkaWtvW2tdLCBuZSkgCgkJZWxzZWlmIGRpY29ba11bbmVdWzFdICE9IGoKCQkJZGljb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBjb2xvbm5lCgkJZWxzZWlmIGRpbG9ba11bbmVdWzFdICE9IGkKCQkJZGlsb1trXVtuZV0gPSAoMCAsIDA6MCkgIyBwYXMgcG91ciBsYSBsaWduZQoJCWVuZAoJIGVuZAoJZW5kCglmdW5jdGlvbiB1bmljbGshKGRpY2xvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19ICxkaWNjbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWNrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxsbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWxjbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSwgZGlsa286OkRpY3R7SW50LCBEaWN0e0ludCxJbnR9fSwgZGlrbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2NvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fX19LCBkaWtrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBtYXQ6OkFycmF5e0ludCwyfSwgZGltcDo6RGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19LCBkaWNvcsOpemxpZzo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjb2w6OkRpY3R7SW50LCBTZXR7SW50fX0sIGRpY29yw6l6Y2FyOjpEaWN0e0ludCwgU2V0e1R1cGxle0ludCxJbnR9fX0sIGxlc1rDqXJvc8OgU3VwcHI6OlNldHtUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19LCDDp2FOYXZhbmNlUGFzOjpCb29sKSAjLi4uIHZvaXIgc2kgdW4gY2hpZmZyZSBlc3Qgc2V1bCAob3UgdW5pcXVlbWVudCBzdXIgdW5lIG3Dqm1lIGxpZ25lLCBjb2wuLi4pLiBDYXIgcGFyIGV4ZW1wbGUsIHMnaWwgYXBwYXJhw650IHVuZSBzZXVsZSBmb2lzIHN1ciBsYSBsaWduZSA6IGMnZXN0IHF1J2lsIG5lIHBldXQgcXUnw6p0cmUgbMOgIF5eCgkjIEF1dHJlcyBleGVtcGxlLCBzaSBkYW5zIHVuZSBsaWduZSwgaWwgbid5IGEgZCdvY2N1cmVuY2UgcXVlIGRhbnMgdW4gZGVzIDMgY2FycsOpLCBpbCBuZSBwb3VycmEgcGFzIMOqdHJlIGFpbGxldXJzIGRhbnMgbGUgY2FycsOpLgoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCW1hdFtkaWNsb1tqXVtuXVsxXSxqXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWNsb1tqXVtuXVsxXSwgaiwgZGlja29bal1bbl0sIGRpY2xvW2pdW25dWzJdLCBkaWNsb1tqXVtuXVszXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2RpY2xvW2pdW25dWzFdXSwgaikKCQkJCWRlbGV0ZSEoZGljb3LDqXpjb2xbal0sIGRpY2xvW2pdW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sIChkaWNsb1tqXVtuXVsxXSwgaikgKQoJCQkJaGFza2V5KGRpbGxvLCBkaWNsb1tqXVtuXVsxXSkgJiYgZGVsZXRlIShkaWxsb1tkaWNsb1tqXVtuXVsxXV0sIG4pCgkJCQloYXNrZXkoZGlra28sIGRpY2tvW2pdW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpY2tvW2pdW25dXSwgbikKCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsIGNvbCkgaW4gc2V0ZGlmZihkaWNvcsOpemNhcltkaWNrb1tqXVtuXV0sICgoaSwgaikgZm9yIGkgaW4gZGljbG9bal1bbl1bMl0pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKSAjIMOnYU5hdmFuY2VQYXMgJiBkaW1wID8KCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGksZGwpIGluIGRpbGxvICMgcG91ciBsZXMgbGlnbmVzCgkJZm9yIChuLHYpIGluIGRsCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2ksZGlsY29baV1bbl1bMV1dID0gbgoJCQkJcHVzaCEobGVzWsOpcm9zw6BTdXBwciwgKGksIGRpbGNvW2ldW25dWzFdLCBkaWxrb1tpXVtuXSwgZGlsY29baV1bbl1bMl0sIGRpbGNvW2ldW25dWzNdKSkKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0sIGRpbGNvW2ldW25dWzFdKQoJCQkJZGVsZXRlIShkaWNvcsOpemNvbFtkaWxjb1tpXVtuXVsxXV0sIGkpCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2RpbGtvW2ldW25dXSwoaSwgZGlsY29baV1bbl1bMV0pICkKCQkJCSMgaGFza2V5KGRpY2NvLGRpY29baV1bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1tpXVtuXVsxXV0sIG4pICNzaW8KCQkJCWhhc2tleShkaWtrbyxkaWxrb1tpXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWxrb1tpXVtuXV0sIG4pCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWZvciAobGlnLCBjb2wpIGluIHNldGRpZmYoZGljb3LDqXpjYXJbZGlsa29baV1bbl1dLCAoKGksIGopIGZvciBqIGluIGRpbGNvW2ldW25dWzNdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQKCSBmb3IgKGssZGspIGluIGRpa2tvICMgcG91ciBsZXMga2FycsOpCgkJZm9yIChuLHYpIGluIGRrCgkJCWlmIHYgPT0gMQoJCQkJbWF0W2Rpa2xvW2tdW25dWzFdLGRpa2NvW2tdW25dWzFdXSA9IG4KCQkJCXB1c2ghKGxlc1rDqXJvc8OgU3VwcHIsIChkaWtsb1trXVtuXVsxXSwgZGlrY29ba11bbl1bMV0sIGssIGRpa2NvW2tdW25dWzJdLCBkaWtsb1trXVtuXVsyXSkpCgkJCQlkZWxldGUhKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMV0pCgkJCQlkZWxldGUhKGRpY29yw6l6Y2FyW2tdLCAoZGlrbG9ba11bbl1bMV0sIGRpa2NvW2tdW25dWzFdKSApCgkJCQkjIGhhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjIGhhc2tleShkaWNjbyxkaWNvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpY2NvW2RpY29ba11bbl1bMV1dLCBuKSAjcmRlCgkJCQnDp2FOYXZhbmNlUGFzID0gZmFsc2UgIyBDYXIgb24gYSByw6l1c3NpIMOgIHJlbXBsaXIKCQkJZWxzZSAKCQkJCWlmIGRpa2NvW2tdW25dWzFdID09IDAgCgkJCQkJZm9yIGNvbCBpbiBzZXRkaWZmKGRpY29yw6l6bGlnW2Rpa2xvW2tdW25dWzFdXSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKGRpY29yw6l6Y29sW2Rpa2NvW2tdW25dWzFdXSwgZGlrY29ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGRpa2NvW2tdW25dWzFdKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgkgZW5kCgkgcmV0dXJuIMOnYU5hdmFuY2VQYXMKCWVuZAoJZnVuY3Rpb24gTFVuaWNsayEoZGljbG86OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0sIGRpY2NvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpY2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGxvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbGNvOjpEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19LCBkaWxrbzo6RGljdHtJbnQsIERpY3R7SW50LEludH19LCBkaWtsbzo6RGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX19fSwgZGlrY286OkRpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19fX0sIGRpa2tvOjpEaWN0e0ludCwgRGljdHtJbnQsSW50fX0sIGRpbXA6OkRpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fSkgIyB1bmljbGshIHBvdXIgaHRtbFN1ZG9rdVByb3BhbAoJIGZvciAoaixkYykgaW4gZGljY28gIyBwb3VyIGxlcyBjb2xvbm5lcwoJCWZvciAobix2KSBpbiBkYwoJCQlpZiB2ID09IDEKCQkJCSMgKGRpY2xvW2pdW25dWzFdLGosZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10pCgkJCQlpLGssIGlpLGpqID0gZGljbG9bal1bbl1bMV0sZGlja29bal1bbl0sZGljbG9bal1bbl1bMl0sZGljbG9bal1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJaGFza2V5KGRpbGxvLGRpY2xvW2pdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpY2xvW2pdW25dWzFdXSwgbikKCQkJCWhhc2tleShkaWtrbyxkaWNrb1tqXVtuXSkgJiYgZGVsZXRlIShkaWtrb1tkaWNrb1tqXVtuXV0sIG4pCgkJCQkjIMOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQllbHNlIAoJCQkJZm9yIChsaWcsY29sKSBpbiBzZXRkaWZmKHR1cGxlY2FycsOpKGRpY2xvW2pdW25dWzJdLGRpY2xvW2pdW25dWzNdKSwgKChpLGopIGZvciBpIGluIGRpY2xvW2pdW25dWzJdKSkKCQkJCQlwdXNoIShnZXQhKGRpbXAsKGxpZyxjb2wpLFNldHtJbnR9KCkgKSwgbikgIyDDp2FOYXZhbmNlUGFzIGRpbXAgPwoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoaSxkbCkgaW4gZGlsbG8gIyBwb3VyIGxlcyBsaWduZXMKCQlmb3IgKG4sdikgaW4gZGwKCQkJaWYgdiA9PSAxCgkJCQkjIChpLGRpbGNvW2ldW25dWzFdLGRpbGtvW2ldW25dLGRpbGNvW2ldW25dWzJdLGRpbGNvW2ldW25dWzNdKQoJCQkJaiwgaywgaWksIGpqID0gZGlsY29baV1bbl1bMV0sZGlsa29baV1bbl0sZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJIyBoYXNrZXkoZGljY28sZGljb1tpXVtuXVsxXSkgJiYgZGVsZXRlIShkaWNjb1tkaWNvW2ldW25dWzFdXSwgbikgI3NpbwoJCQkJaGFza2V5KGRpa2tvLGRpbGtvW2ldW25dKSAmJiBkZWxldGUhKGRpa2tvW2RpbGtvW2ldW25dXSwgbikKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlmb3IgKGxpZyxjb2wpIGluIHNldGRpZmYodHVwbGVjYXJyw6koZGlsY29baV1bbl1bMl0sZGlsY29baV1bbl1bM10pLCAoKGksaikgZm9yIGogaW4gZGlsY29baV1bbl1bM10pKQoJCQkJCXB1c2ghKGdldCEoZGltcCwobGlnLGNvbCksU2V0e0ludH0oKSApLCBuKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJIGVuZAoJIGZvciAoayxkaykgaW4gZGlra28gIyBwb3VyIGxlcyBrYXJyw6kKCQlmb3IgKG4sdikgaW4gZGsKCQkJaWYgdiA9PSAxCgkJCQkjIChkaWtsb1trXVtuXVsxXSxkaWtjb1trXVtuXVsxXSxrLGRpa2NvW2tdW25dWzJdLGRpa2xvW2tdW25dWzJdKQoJCQkJaSwgaiwgaWksIGpqID0gZGlrbG9ba11bbl1bMV0sZGlrY29ba11bbl1bMV0sZGlrY29ba11bbl1bMl0sZGlrbG9ba11bbl1bMl0KCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJZ2V0IShkaW1wLChpLGlpaSksU2V0e0ludH0oKSApCgkJCQkJZ2V0IShkaW1wLChpaWksaiksU2V0e0ludH0oKSApCgkJCQkJaWlpICE9IGogJiYgcHVzaCEoZGltcFtpLGlpaV0sbikKCQkJCQlpaWkgIT0gaSAmJiBwdXNoIShkaW1wW2lpaSxqXSxuKQoJCQkJZW5kCgkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJampqICE9IGogJiYgaWlpICE9IGkgJiYgcHVzaCEoZ2V0IShkaW1wLChpaWksampqKSxTZXR7SW50fSgpICksbikKCQkJCWVuZAoJCQkJI2hhc2tleShkaWxsbyxkaWxvW2tdW25dWzFdKSAmJiBkZWxldGUhKGRpbGxvW2RpbG9ba11bbl1bMV1dLCBuKSAjc2lvCgkJCQkjaGFza2V5KGRpY2NvLGRpY29ba11bbl1bMV0pICYmIGRlbGV0ZSEoZGljY29bZGljb1trXVtuXVsxXV0sIG4pICNyZGUKCQkJCSMgw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCWVsc2UgCgkJCQlpZiBkaWtjb1trXVtuXVsxXSA9PSAwIAoJCQkJCWZvciBjb2wgaW4gc2V0ZGlmZihzZXQxOSwgZGlrbG9ba11bbl1bMl0pCgkJCQkJCXB1c2ghKGdldCEoZGltcCwoZGlrbG9ba11bbl1bMV0sY29sKSxTZXR7SW50fSgpICksIG4pCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJZm9yIGxpZyBpbiBzZXRkaWZmKHNldDE5LCBkaWtjb1trXVtuXVsyXSkKCQkJCQkJcHVzaCEoZ2V0IShkaW1wLChsaWcsZGlrY29ba11bbl1bMV0pLFNldHtJbnR9KCkgKSwgbikKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCSBlbmQgIyByZXR1cm4gw6dhTmF2YW5jZVBhcwoJIHJldHVybiBub3RoaW5nCgllbmQKCWZ1bmN0aW9uIHBhc0Fzc2V6RGVQcm9wYWwhKGk6OkludCxqOjpJbnQsIGxpc3RlcG9zc2libGVzOjpTZXR7SW50fSxkaWN0Q2hlY2tMaTo6RGljdHtTZXR7SW50fSwgU2V0e0ludH19LGRpY3RDaGVja0NqOjpEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0sZGljdENoZWNrQ2FycsOpOjpEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19fSxOaW1wOjpEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0pICMsIHNldGxpZzo6U2V0e0ludH09c2V0MTksIHNldGNvbDo6U2V0e0ludH09c2V0MTkpICMjLCBpaTo6VW5pdFJhbmdle0ludH09Y2FycihpKSwgamo6OlVuaXRSYW5nZXtJbnR9PWNhcnIoaiksIHNldGNhcjo6U2V0e1R1cGxle0ludCxJbnR9fT1TZXQodHVwbGVjYXJyw6koaWksamopKSApIAoJIyBJY2kgbCdpZMOpZSBlc3QgZGUgdm9pciBzJ2lsIHkgYSBwbHVzIGNoaWZmcmVzIMOgIG1ldHRyZSBxdWUgZGUgY2FzZXMgOiBlbiByZWdhcmRhbnQgdG91dCAhIGVudHJlIGRldXggY2FzZXMsIHRyb2lzIGNhc2VzLi4uIHN1ciBsYSBsaWduZSwgY29sb25uZSwgY2FycsOpIF5eCgkjIEJyZWYsIHMnaWwgbid5IGEgcGFzIGFzc2V6IGRlIHByb3Bvc2l0aW9ucyBwb3VyIGxlcyBjaGlmZnJlcyDDoCBjYXNlciBjJ2VzdCB2cmFpCgkjIEMnZXN0IHBhcyBmYXV4IDogZG9uYyDDp2EgdmEuIAoJIyBEZSBwbHVzLCBzaSB1biAoZW5zZW1ibGUgZGUpIGNoaWZmcmUgZXN0IHBvc3NpYmxlIHF1ZSBzdXIgY2VydGFpbmVzIGNlbGx1bGVzLCBjZWxhIGxlIHJldGlyZSBkdSByZXN0ZSAoZW4gZ2FyZGFudCB2aWEgbGEgbWF0cmljZSBOaW1wKS4gUGFyIGV4ZW1wbGUsIHN1ciB1bmUgbGlnbmUsIG9uIGEgMSDDoCA4LCBsYSBkZXJuacOocmUgY2VsbHVsZSBuZSBwZXV0IHF1ZSDDqnRyZSA5IC0+IGdyw6JjZSDDoCBOaW1wLCBvbiByZXRpcmUgbGUgOSBkZXMgcG9zc2liaWxpdMOpcyBkZSB0b3V0ZXMgbGVzIGNlbGx1bGVzIGRlIGxhIGNvbG9ubmUsIGR1IGNhcnLDqSAoZXQgZGUgbGEgbGlnbmUuLi4pIHNhdWYgcG91ciBjZXR0ZSBkZXJuacOocmUgY2VsbHVsZSBqdXN0ZW1lbnQgXl4KCSMgQ2VsYSBwZXJtZXQgZGUgbGltaXRlciBsZXMgcG9zc2liaWxpdMOpcyBwb3VyIMOpdml0ZXIgYXUgbWlldXggbGVzIGN1bHMgZGUgc2FjIQoJIyBFdGFudCBxdWFuZC1tw6ptZSB1biBwZXUgdHJvcCBsb3VyZCwgaWwgZmF1dCBsJ3V0aWxpc2VyIHF1ZSBzaSBiZXNvaW4KCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDaikgIyBkaWNvICMgUG91ciBsZXMgY29sb25uZXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChpKSwgZ2V0KGRpY3RDaGVja0NqLCBraywgU2V0e0ludH0oKSApKSAKCQkJCWlmIGxlbmd0aChraykgPT0gbGVuZ3RoKHZ2KQoJCQkJCSMgTGVzIGNoaWZmcmVzIGtrIHNvbnQgw6AgcmV0aXJlciBkZSB0b3V0ZSBsYSBjb2xvbm5lIHNhdWYgYXV4IGtrCgkJCQkJZm9yIGxpbXAgaW4gc2V0ZGlmZihzZXQxOSwgdnYpCgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsaiksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2pba2tdID0gdnYKCQkJZWxzZSAKCQkJCXJldHVybiB0cnVlCgkJCWVuZAoJCWVuZAkKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tMaSkgIyBkaWxpICMgUG91ciBsZXMgbGlnbmVzCgkJCWtrID0gdW5pb24oayxsaXN0ZXBvc3NpYmxlcykKCQkJaWYgbGVuZ3RoKGtrKSA+IGxlbmd0aCh2KQoJCQkJdnYgPSB1bmlvbih2LCBTZXQoaiksIGdldChkaWN0Q2hlY2tMaSwga2ssIFNldHtJbnR9KCkgKSApIAoJCQkJaWYgbGVuZ3RoKGtrKSA9PSBsZW5ndGgodnYpCgkJCQkJIyBMZXMgY2hpZmZyZXMga2sgc29udCDDoCByZXRpcmVyIGRlIHRvdXRlIGxhIGxpZ25lIHNhdWYgYXV4IGtrIAoJCQkJCWZvciBsaW1wIGluIHNldGRpZmYoc2V0MTksIHZ2KQoJCQkJCQl1bmlvbiEoZ2V0IShOaW1wLChpLGxpbXApLFNldHtJbnR9KCkgKSwga2spCgkJCQkJZW5kCgkJCQllbmQKCQkJCWRpY3RDaGVja0xpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQKCQlmb3IgKGssdikgaW4gY29weShkaWN0Q2hlY2tDYXJyw6kpICMgZGljYSAjIFBvdXIgbGVzIGNhcnLDqXMKCQkJa2sgPSB1bmlvbihrLGxpc3RlcG9zc2libGVzKQoJCQlpZiBsZW5ndGgoa2spID4gbGVuZ3RoKHYpCgkJCQl2diA9IHVuaW9uKHYsIFNldChbKGksaildKSwgZ2V0KGRpY3RDaGVja0NhcnLDqSwga2ssIFNldHtUdXBsZXtJbnQsSW50fX0oKSApICkgCgkJCQlpZiBsZW5ndGgoa2spID09IGxlbmd0aCh2dikKCQkJCQlmb3IgKGxpbXAsbGptcCkgaW4gc2V0ZGlmZihTZXQodHVwbGVjYXJyw6koY2FycihpKSxjYXJyKGopKSksIHZ2KSAjc2V0Y2FyLHZ2CgkJCQkJCXVuaW9uIShnZXQhKE5pbXAsKGxpbXAsbGptcCksU2V0e0ludH0oKSApLCBraykKCQkJCQllbmQKCQkJCWVuZAoJCQkJZGljdENoZWNrQ2FycsOpW2trXSA9IHZ2CgkJCWVsc2UgCgkJCQlyZXR1cm4gdHJ1ZQoJCQllbmQKCQllbmQJCgkJZ2V0IShkaWN0Q2hlY2tMaSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBqICkgKQoJCWdldCEoZGljdENoZWNrQ2osbGlzdGVwb3NzaWJsZXMsIFNldCggaSApICkKCQlnZXQhKGRpY3RDaGVja0NhcnLDqSxsaXN0ZXBvc3NpYmxlcywgU2V0KCBbKGksaildICkgKQoJCXJldHVybiBmYWxzZQoJZW5kCglmdW5jdGlvbiBwdWNlcyhsaXN0ZSwgdmFsZMOpZmF1dD1ub3RoaW5nIDsgaWRQdWNlcz0icCIqc3RyaW5nKHJhbmQoSW50KSksIGNsYXNzZT0iIikgIyBQZXJtZXQgZGUgZmFpcmUgZGVzIHB1Y2VzIGVuIEhUTUwgcG91ciBmYWlyZSB1biBjaG9peCB1bmlxdWUKCSMgU2kgIvCfpKvCoENhY2jDqWUiIGNvY2jDqWUsIGNlbGEgZmxvdXRlIGxlcyBwdWNlcyBkdSBkZXNzb3VzIChQb3NzaWJsZXNFdFNvbHV0aW9uKQoJCWTDqWJ1dCA9ICI8c3BhbiBpZD0nJGlkUHVjZXMnICIgKihjbGFzc2U9PSIiID8gIj4iIDogImNsYXNzPSckY2xhc3NlJz4iKQoJCWZpbiA9ICI8L3NwYW4+PHNjcmlwdD5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJyRpZFB1Y2VzJykKCWZvcm0ub25pbnB1dCA9IChlKSA9PiB7IGZvcm0udmFsdWUgPSBlLnRhcmdldC52YWx1ZTsgIiAqCgkJKGlkUHVjZXM9PSJDYWNoZXJSw6lzdWx0YXQiID8gcmF3ImlmIChlLnRhcmdldC52YWx1ZT09J/CfpKvCoENhY2jDqWUnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bvc3NpYmxlc0V0U29sdXRpb24nKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZlcnMnKS5jbGFzc0xpc3QuYWRkKCdwYXNsYScpOwoJCX0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWU9PSdQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWNhcm9saWduZScpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQb3NzaWJsZXNFdFNvbHV0aW9uJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2ZXJzJykuY2xhc3NMaXN0LnJlbW92ZSgncGFzbGEnKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVjYXJvbGlnbmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdtYWlzdGVzb3UnKTsKCQl9OyIgOiAiIikgKgoJCShpZFB1Y2VzPT0iUG9zc2libGVzRXRTb2x1dGlvbiIgPyByYXciaWYgKGUudGFyZ2V0LnZhbHVlPT0n4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCknKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5hZGQoJ21haXN0ZXNvdScpOwoJCX0gZWxzZSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1Y2hvaXjDoG1ldHRyZWVuaGF1dCcpLmNsYXNzTGlzdC5yZW1vdmUoJ21haXN0ZXNvdScpOwoJCX07IiA6ICIiKSAqICJ9PC9zY3JpcHQ+IgoJCWlucHV0cyA9ICIiCgkJZm9yIGl0ZW0gaW4gbGlzdGUKCQkJaW5wdXRzICo9ICIiIjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazsnPjxpbnB1dCB0eXBlPSdyYWRpbycgaWQ9JyRpZFB1Y2VzJGl0ZW0nIG5hbWU9JyRpZFB1Y2VzJyB2YWx1ZT0nJGl0ZW0nIHN0eWxlPSdtYXJnaW46IE8gNHB4IDAgNHB4OycgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIHN0eWxlPSdtYXJnaW46IDAgMThweCAwIDJweDsgdXNlci1zZWxlY3Q6IG5vbmU7JyBmb3I9JyRpZFB1Y2VzJGl0ZW0nPiRpdGVtPC9sYWJlbD48L3NwYW4+IiIiCgkJZW5kCgkJIyBmb3IgKGl0ZW0sdmFsZXVyKSBpbiBsaXN0ZSAjIyMgc2kgbGlzdGU6OkFycmF5e1BhaXJ7U3RyaW5nLFN0cmluZ30sMX0KCQkjIAlpbnB1dHMgKj0gIiIiPGlucHV0IHR5cGU9InJhZGlvIiBpZD0iJGlkUHVjZXMkaXRlbSIgbmFtZT0iJGlkUHVjZXMiIHZhbHVlPSIkaXRlbSIgc3R5bGU9Im1hcmdpbjogMCA0cHggMCAyMHB4OyIgJChpdGVtID09IHZhbGTDqWZhdXQgPyAiY2hlY2tlZCIgOiAiIik+PGxhYmVsIGZvcj0iJGlkUHVjZXMkaXRlbSI+JHZhbGV1cjwvbGFiZWw+IiIiCgkJIyBlbmQKCQlyZXR1cm4gRG9jcy5IVE1MKGTDqWJ1dCAqIGlucHV0cyAqIGZpbikKCWVuZAoJdmFldHZpZW50ID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PiB2YXIgdmllaWxsZWNvcGllID0gZmFsc2U7CgoJZnVuY3Rpb24gZMOpasOgdnUoKSB7IAoJCXZhciBww6hyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5wYXJlbnRFbGVtZW50OwoJCXZhciBmaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcGllZmluaWUnKTsKCQl2YXIgYW5jaWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlpZiAodmllaWxsZWNvcGllLmlzRXF1YWxOb2RlKGFuY2llbikpIHsKCQkJYW5jaWVuLmlubmVySFRNTCA9IGZpbHMuaW5uZXJIVE1MOwoJCQlhbmNpZW4ucmVtb3ZlQ2hpbGQoYW5jaWVuLnF1ZXJ5U2VsZWN0b3IoJ3Rmb290JykpOwoJCQltc2dhKGFuY2llbik7CgkJfQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWRva2luY2lwaXQnKS5oaWRkZW4gPSBmYWxzZTsKCQlww6hyZS5yZW1vdmVDaGlsZChmaWxzKTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU3Vkb2t1IGluaXRpYWzCoOKktCAobW9kaWZpYWJsZSkgZXQgc2Egc29sdXRpb27CoDogYAoJfTsKCglmdW5jdGlvbiBsw6BoYXV0KCkgeyAKCQl2YXIgcMOocmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vkb2tpbmNpcGl0JykucGFyZW50RWxlbWVudDsKCQl2YXIgZmlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJyk7CgkJdmFyIGNvcGllID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9rdWZpbmknKTsKCQlmaWxzID8gcMOocmUucmVtb3ZlQ2hpbGQoIGZpbHMgKSA6IHRydWU7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1ZG9raW5jaXBpdCcpLmhpZGRlbiA9IHRydWU7CgkJdmFyIHRhYmwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpOwoJCXZpZWlsbGVjb3BpZSA9IChjb3BpZSA/IGNvcGllLmNsb25lTm9kZSh0cnVlKSA6IHRhYmwpOwoJCXRhYmwuaWQgPSAnY29waWVmaW5pZSc7CgkJdGFibC5jbGFzc0xpc3QuYWRkKCdzdWRva29vbCcpOwoJCXRhYmwuaW5uZXJIVE1MID0gKGNvcGllID8gY29waWUuaW5uZXJIVE1MIDogYDx0aGVhZCBpZD0ndGFpZGUnPjx0cj48dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt3aWR0aDogMzQwcHg7cGFkZGluZzogMjZweCAwOyc+UmllbiDDoCBtb250cmVyLCBjJ2VzdCBjb2Now6nCoMKgPGNvZGU+8J+kq8KgQ2FjaMOpZTwvY29kZT48L3RkPjwvdHI+PC90aGVhZD5gKSArIGA8dGZvb3QgaWQ9J3Rlc2Zvb3QnPjx0ciBpZD0nbGlnbmVub252aXNpYmxlJz48dGggY29sc3Bhbj0nOSc+4oaqIENsaXF1ZXIgaWNpIHBvdXIgcmV2ZW5pciBhdSBzdWRva3UgbW9kaWZpYWJsZTwvdGg+PC90cj48L3Rmb290PmA7CgkJcMOocmUuYXBwZW5kQ2hpbGQodGFibCk7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhaWRlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZMOpasOgdnUpOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXNmb290JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkw6lqw6B2dSk7CgkJY29waWUgPyBtc2dhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3BpZWZpbmllJykpIDogdHJ1ZTsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFfZXRfdmllbnQnKS5pbm5lckhUTUwgPSBgU29sdXRpb27CoOKGkSAoYXUgbGlldSBkdSBzdWRva3UgbW9kaWZpYWJsZcKgaW5pdGlhbClgCgl9OwoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhX2V0X3ZpZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsw6BoYXV0KTsKCgk8L3NjcmlwdD48c3BhbiBpZD0ndmFfZXRfdmllbnQnPiIpICMgUG91ciBsZSB0ZXh0ZSBlbnRyZSBsZXMgZGV1eCBzdWRva3UgKGluaXRhdXggZXQgc29sdXRpb24pLiBDZWxhIHBlcm1ldCBkZSByZW1vbnRlciBsYSBzb2x1dGlvbiBlbiBjbGlxdWFudCBkZXNzdXMKCWludGVydmFsKG1pbmksbWF4aSx2YWwpID0gRG9jcy5IVE1MKCI8aW5wdXQgdHlwZT0ncmFuZ2UnIG1pbj0nJChtaW5pKScgbWF4PSckKG1heGkpJyB2YWx1ZT0nJCh2YWwpJyBvbmlucHV0PSd0aGlzLm5leHRFbGVtZW50U2libGluZy52YWx1ZT10aGlzLnZhbHVlJz48b3V0cHV0PsKgJCh2YWwpPC9vdXRwdXQ+IikgIyBzbGlkZXIKCQoJU3VkaW5pKG3DqW1vLCBjaG9peCkgPSBEb2NzLkhUTUwoIjxzY3JpcHQ+IC8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCWNvbnN0IHByZW1pZXIgPSBKU09OLnN0cmluZ2lmeSggJChtw6ltb1sxXSkgKTsKCWNvbnN0IGRldXhpw6htZSA9IEpTT04uc3RyaW5naWZ5KCAkKG3DqW1vWzJdKSApOwoJY29uc3QgZGVmYXVsdEZpeGVkVmFsdWVzID0gJChtw6ltb1tjaG9peF0pIiAqIHJhdyIiIgoJCQkJCgkvLyBjb25zdCBkZWZhdWx0Rml4ZWRWYWx1ZXMgPSBbWzAsMCwwLDcsMCwwLDAsMCwwXSxbMSwwLDAsMCwwLDAsMCwwLDBdLFswLDAsMCw0LDMsMCwyLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCw2XSxbMCwwLDAsNSwwLDksMCwwLDBdLFswLDAsMCwwLDAsMCw0LDEsOF0sWzAsMCwwLDAsOCwxLDAsMCwwXSxbMCwwLDIsMCwwLDAsMCw1LDBdLFswLDQsMCwwLDAsMCwzLDAsMF1dOwoJCQkKCXdpbmRvdy5jcmVhdGVTdWRva3VIdG1sID0gKHZhbHVlcykgPT4gewoJICBjb25zdCBkYXRhID0gW107CgkgIGNvbnN0IGh0bWxEYXRhID0gW107CgkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCSAgICBsZXQgaHRtbFJvdyA9IFtdOwoJICAgIGRhdGEucHVzaChbXSk7CgkgICAgZm9yKGxldCBqPTA7IGo8OTtqKyspewoJICAgICAgY29uc3QgdmFsdWVzTGluZSA9IHZhbHVlc1tpXTsKCSAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzTGluZT92YWx1ZXNMaW5lW2pdOjA7CgkgICAgICBjb25zdCBodG1sSW5wdXQgPSBodG1sYDxpbnB1dCB0eXBlPSd0ZXh0JyAKCSAgICAgICAgZGF0YS1yb3c9JyR7aX0nCgkgICAgICAgIGRhdGEtY29sPScke2p9JwoJICAgICAgICBtYXhsZW5ndGg9JzEnIAoJICAgICAgICB2YWx1ZT0nJHsodmFsdWV8fCcnKX0nCgkgICAgICA+YDsKCQkgIGNvbnN0IGlzTWVkaXVtID0gKGolMyA9PT0gMCk7CgkJICBjb25zdCBibG9jayA9IFtNYXRoLmZsb29yKGkvMyksIE1hdGguZmxvb3Ioai8zKV07IC8vIGZvbmQgZW4gZGFtaWVyCgkJICBjb25zdCBjbGFzc291cGFzID0gKChibG9ja1swXStibG9ja1sxXSklMiAhPT0gMCk/KGlzTWVkaXVtPydjbGFzcz0iZGFtaWVyIHRyb2lzZCInOidjbGFzcz0iZGFtaWVyIicpOihpc01lZGl1bT8nY2xhc3M9InRyb2lzZCInOicnKTsKCSAgICAgIGNvbnN0IGh0bWxDZWxsID0gaHRtbGA8dGQgJHtjbGFzc291cGFzfT4ke2h0bWxJbnB1dH08L3RkPmAKCSAgICAgIGRhdGFbaV1bal0gPSB2YWx1ZXx8MDsKCSAgICAgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CgkgICAgfQoJCQoJICAgIGNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CgkgICAgaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwoJICB9CgkgIGNvbnN0IF9zdWRva3UgPSBodG1sYDx0YWJsZSBpZD0ic3Vkb2tpbmNpcGl0IiBzdWRhdGE9JHtKU09OLnN0cmluZ2lmeShkYXRhKX0gY2xhc3M9J3N1ZG9rb29sJz4KCSAgICAgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkgICAgPC90YWJsZT5gICAKCSAgcmV0dXJuIHtfc3Vkb2t1LGRhdGF9OwoJICAvLyAvLyByZXR1cm4gX3N1ZG9rdSA7CgkgIAoJfQoJCgl3aW5kb3cuc3Vkb2t1Vmlld1JlYWN0aXZlVmFsdWUgPSAoe19zdWRva3U6aHRtbCwgZGF0YX0pID0+IHsKCSAgaHRtbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKT0+ewoJICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IGUucHJldmVudERlZmF1bHQoKTsgCgkgICAgaHRtbC52YWx1ZSA9IGRhdGE7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9KTsgCgkgIAoJICBsZXQgaW5wdXRzID0gaHRtbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpOwoJICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7CgkJCgkJY29uc3QgZGFsaWduZSA9IChlKSA9PiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJY29uc3QgZGFjb2wgPSAoZSkgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOwoJCWNvbnN0IGV0cDIgPSAoZSkgPT4gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCWNvbnN0IGV0cDMgPSAoZSkgPT4gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkKCQljb25zdCBtb3ZlRG93biA9IChlKSA9PiB7IAoJCQlpZiAoZXRwMihlKS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgeyAKCQkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSBlbHNlIHsgCgkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbZGFjb2woZSldLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSAKCQl9CgkJY29uc3QgbW92ZVVwID0gKGUpID0+IHsKCQkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7IAoJCQlldHAzKGUpLmxhc3RDaGlsZC5jaGlsZE5vZGVzW2RhY29sKGUpXS5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gZWxzZSB7IAoJCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1tkYWNvbChlKV0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQljb25zdCBtb3ZlTGVmdCA9IChlKSA9PiB7CgkJCWlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT0gbnVsbCkgewoJCQkJaWYgKGV0cDIoZSkucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQkJZXRwMyhlKS5sYXN0Q2hpbGQubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJCX0gZWxzZSB7CgkJCQlldHAyKGUpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcubGFzdENoaWxkLmNoaWxkTm9kZXNbMF0uZm9jdXMoKTsKCQkJfSB9IGVsc2UgewoJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IAoJCX0KCQljb25zdCBtb3ZlUmlnaHQgPSAoZSkgPT4geyAKCQkJaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpIHsKCQkJCWlmIChldHAyKGUpLm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKSB7CgkJCQkJZXRwMyhlKS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQkJfSBlbHNlIHsKCQkJCWV0cDIoZSkubmV4dEVsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5mb2N1cygpOwoJCQl9IH0gZWxzZSB7IAoJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzBdLmZvY3VzKCk7CgkJCX0gCgkJfQoJCQkKCQlpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywoZSkgPT4gewoJCSAgLy8gZS50YXJnZXQuZm9jdXMoKTsKCQkgIGUudGFyZ2V0LnNlbGVjdCgpOwoJCQkKCQkgIHN3aXRjaCAoZS5rZXkpIHsKCQkJY2FzZSAiQXJyb3dEb3duIjoKCQkJCW1vdmVEb3duKGUpOyBicmVhazsgCgkJCWNhc2UgIkFycm93VXAiOgoJCQkJbW92ZVVwKGUpOyBicmVhazsgCgkJCWNhc2UgIkFycm93TGVmdCI6CgkJCQltb3ZlTGVmdChlKTsgYnJlYWs7IAoJCQljYXNlICJBcnJvd1JpZ2h0IjoKCQkJCW1vdmVSaWdodChlKTsgYnJlYWs7IAoJCQljYXNlICJTaGlmdCI6CgkJCWNhc2UgIkNhcHNMb2NrIjoKCQkJY2FzZSAiTnVtTG9jayI6CgkJCQlicmVhazsgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3VpZXZlbnRzLWtleS8ja2V5cy1tb2RpZmllcgoJCQljYXNlICJCYWNrc3BhY2UiOgoJCQljYXNlICJEZWxldGUiOgoJCQkJaWYgKGRhdGFbZGFsaWduZShlKV1bZGFjb2woZSldICE9PSAwKSB7CgkJCQkJZGF0YVtkYWxpZ25lKGUpXVtkYWNvbChlKV0gPSAwOwoJCQkJCWUudGFyZ2V0LnZhbHVlID0gIiI7CgkJCQkJLy8gRWZmYWNlIGxlcyBwdWNlcyBjYXIgY2VsYSBhIMOpdMOpIHRvdWNow6kKCQkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJCQkJCWVsZVtuaV0uY2hlY2tlZCA9IGZhbHNlOwoJCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQkJaWYgKGpkYXRhID09IHByZW1pZXIpIHsKCQkJCQkJZWxlWzBdLmNoZWNrZWQgPSB0cnVlOwoJCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJCWVsZVsxXS5jaGVja2VkID0gdHJ1ZTsKCQkJCQl9CgkJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCQlodG1sLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTsKCQkJCX0KCQkJCShlLmtleT09PSJEZWxldGUiKT9tb3ZlUmlnaHQoZSk6bW92ZUxlZnQoZSk7CgkJCQl2YXIgZGEgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwoJCQkJKGUua2V5PT09IkRlbGV0ZSIpPyhkYS5zZWxlY3Rpb25TdGFydCA9IGRhLnNlbGVjdGlvbkVuZCA9IGRhLnZhbHVlLmxlbmd0aCk6KGRhLnNlbGVjdGlvblN0YXJ0ID0gZGEuc2VsZWN0aW9uRW5kID0gMCk7IC8vc2VsZWN0IEtPIDooCgkJCQlicmVhazsKCQkJZGVmYXVsdDoKCQkJCXJldHVybjsKCQkJfSB9KSAKCQkJCgkgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLChlKSA9PiB7CgkJICBjb25zdCBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOyAvLyBkYWxpZ25lKGUpCgkJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkJICBjb25zdCBvbGRhdGEgPSBkYXRhW2ldW2pdOwoJCgkJICBjb25zdCBiaWRvdWlsbGlzdGUgPSB7YToxLHo6MixlOjMscjo0LHQ6NSx5OjYsdTo3LGk6OCxvOjksCgkJCUE6MSxaOjIsRTozLFI6NCxUOjUsWTo2LFU6NyxJOjgsTzo5LAoJCQknXCYnOjEsw6k6MiwnXCInOjMsIlwnIjo0LCdcKCc6NSwnXC0nOjYsw6g6NyxfOjgsw6c6OSwKCQkJJ8KnJzo2LCchJzo4LCAgICBxOjEsUToxLCB3OjIsVzoyfTsKCQoJCSAgY29uc3QgYW5kcm9pZENocm9tZUVzdENoaWFudCA9IHsnYic6bW92ZURvd24sJ0InOm1vdmVEb3duLAoJCQknaCc6bW92ZVVwLCdIJzptb3ZlVXAsICAgICAgICAnaic6bW92ZVJpZ2h0LCdKJzptb3ZlUmlnaHQsCgkJCSdnJzptb3ZlTGVmdCwnRyc6bW92ZUxlZnQsJ3YnOm1vdmVMZWZ0LCdWJzptb3ZlTGVmdCwKCQkJJ2QnOm1vdmVSaWdodCwnRCc6bW92ZVJpZ2h0LCduJzptb3ZlUmlnaHQsJ04nOm1vdmVSaWdodH07CgkKCQkgIGlmICh2YWwgaW4gYmlkb3VpbGxpc3RlKSB7CgkJCWUudGFyZ2V0LnZhbHVlID0gZGF0YVtpXVtqXSA9IGJpZG91aWxsaXN0ZVt2YWxdOwoJCSAgfSBlbHNlIGlmICh2YWwgPD0gOSAmJiB2YWwgPj0xKSB7CgkJCWRhdGFbaV1bal0gPSBwYXJzZUludCh2YWwpOwoJCSAgfSBlbHNlIGlmICgodmFsID09IDApfHwodmFsID09ICfDoCcpfHwodmFsID09ICdwJyl8fCh2YWwgPT0gJ1AnKSkgewoJCQlkYXRhW2ldW2pdID0gMDsKCQkJZS50YXJnZXQudmFsdWUgPSAnJzsKCQkgIH0gZWxzZSB7IAoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPT09IDAgPyAnJyA6IGRhdGFbaV1bal07CgkJICB9CgkKCQkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQkJfSBlbHNlIHsKCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQkJfQoJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCQl9CgkKCQkJaWYgKHZhbCBpbiBhbmRyb2lkQ2hyb21lRXN0Q2hpYW50KSB7CgkJCQlhbmRyb2lkQ2hyb21lRXN0Q2hpYW50W3ZhbF0oZSk7CgkJCX0gZWxzZSB7CgkJCQltb3ZlUmlnaHQoZSk7CgkJCX0KCQkJZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5zZWxlY3QoKTsKCSAgICB9KQoJCQkKCSAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjdG9wJywoZSkgPT4geyAvLyBtaXMgw6Agam91ciBwYXIgY2hpZmZyZSBzw6lsZWN0aW9ubsOpCgkJICBjb25zdCBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOyAvLyBkYWxpZ25lKGUpCgkJICBjb25zdCBqID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAvLyBkYWNvbChlKQoJCSAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWUgLy9wYXJzZUludChlLnRhcmdldC52YWx1ZSk7CgkJICBjb25zdCBvbGRhdGEgPSBkYXRhW2ldW2pdOwoJCgkJICBpZiAodmFsIDw9IDkgJiYgdmFsID49MSkgewoJCQlkYXRhW2ldW2pdID0gcGFyc2VJbnQodmFsKTsKCQkgIH0gZWxzZSB7IAoJCQllLnRhcmdldC52YWx1ZSA9IGRhdGFbaV1bal0gPT09IDAgPyAnJyA6IGRhdGFbaV1bal07CgkJICB9CgkKCQkJaWYgKG9sZGF0YSA9PT0gZGF0YVtpXVtqXSkgewoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyAKCQkJfSBlbHNlIHsKCQkJCS8vIEVmZmFjZSBsZXMgcHVjZXMgY2FyIGNlbGEgYSDDqXTDqSB0b3VjaMOpCgkJCQl2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJCQkJZm9yKHZhciBuaT0wO25pPGVsZS5sZW5ndGg7bmkrKykKCQkJCQllbGVbbmldLmNoZWNrZWQgPSBmYWxzZTsKCQkJCWNvbnN0IGpkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CgkJCQlpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCQkJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCQkJCX0gZWxzZSBpZiAoamRhdGEgPT0gZGV1eGnDqG1lKSB7CgkJCQkJZWxlWzFdLmNoZWNrZWQgPSB0cnVlOwoJCQkJfQoJCQkJaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCQkJCWh0bWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpOwoJCQl9CgkgICAgfSkKCQkJCgkgIH0pIAoJICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpOwoJICBjb25zdCBqZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwoJICBpZiAoamRhdGEgPT0gcHJlbWllcikgewoJCWVsZVswXS5jaGVja2VkID0gdHJ1ZTsKCSAgfSBlbHNlIGlmIChqZGF0YSA9PSBkZXV4acOobWUpIHsKCQllbGVbMV0uY2hlY2tlZCA9IHRydWU7IC8vIC4uLl0uY2xpY2soKTsgLy8gw6l0YWl0IEtPLi4uCgkgIH0KCSAgaHRtbC5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YScsIGpkYXRhKTsKCSAgaHRtbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7CgkgIHJldHVybiBodG1sOwoJCgl9OwoJCglyZXR1cm4gc3Vkb2t1Vmlld1JlYWN0aXZlVmFsdWUoY3JlYXRlU3Vkb2t1SHRtbChkZWZhdWx0Rml4ZWRWYWx1ZXMpKTsKCTwvc2NyaXB0PiIiIikKCWZ1bmN0aW9uIGh0bWxTdWRva3UoSlN1ZG9rdUZpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpLEpTdWRva3Vpbmk6OlVuaW9ue1N0cmluZywgVmVjdG9ye1ZlY3RvcntJbnR9fX09anN2ZCgpOyB0b3V0Vm9pcjo6Qm9vbD10cnVlKQoJIyBQb3VyIHNvcnRpciBkZSBsYSBtYXRyaWNlIChjb252ZXJzaW9uIGVuIHRhYmxlYXUgZW4gSFRNTCkgZHUgc3Vkb2t1CgkjIExlIEpTdWRva3VpbmkgcGVybWV0IGRlIG1ldHRyZSBsZXMgY2hpZmZyZXMgZW4gYmxldSAoc2F2b2lyIGQnb8O5IGwnb24gdmllbnQpCgkjIEVuZmluLCBvbiBwZXV0IGNob2lzaXIgZGUgdm9pciBwZXRpdCDDoCBwZXRpdCBlbiBjbGlxdWFudCBvdSB0b3V0Vm9pciBkJ3VuIGNvdXAKCSMjIyBpZiBpc2EoSlN1ZG9rdUZpbmksIFN0cmluZykuLi4gYXZhaXQgdW4gYnVnIGQnYWZmaWNoYWdlIHBvdXIgbGUgcmVzdGUgZHUgY29kZS4uLgoJCWlzYShKU3Vkb2t1RmluaSwgU3RyaW5nKSA/IChyZXR1cm4gRG9jcy5IVE1MKCI8aDUgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjttYXJnaW4tYm90dG9tOiA2cHg7dXNlci1zZWxlY3Q6IG5vbmU7JyBvbmNsaWNrPSckZm9vdGl4Jz4g4pqhIEF0dGVudGlvbiwgc3Vkb2t1IGluaXRpYWwgw6AgcmV2b2lyICEgPC9oNT48dGFibGUgaWQ9J3N1ZG9rdWZpbmknIGNsYXNzPSdzdWRva29vbCcgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOycgPHRib2R5Pjx0cj48dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt3aWR0aDogMzQwcHg7JyBvbmNsaWNrPSckZm9vdGl4Jz4kSlN1ZG9rdUZpbmk8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPiIpKSA6IChyZXR1cm4gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQgaWQ9InNjcmlwdGZpbmkiPgoJCS8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCQkJCQoJCWNvbnN0IGNyZWF0ZVN1ZG9rdUh0bWwgPSAodmFsdWVzLCB2YWx1ZXNfaW5pKSA9PiB7CQoJCSAgY29uc3QgZGF0YSA9IFtdOwoJCSAgY29uc3QgaHRtbERhdGEgPSBbXTsKCQkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCQkJbGV0IGh0bWxSb3cgPSBbXTsKCQkJZGF0YS5wdXNoKFtdKTsKCQkJZm9yKGxldCBqPTA7IGo8OTtqKyspewoJCQkgIGNvbnN0IHZhbHVlc0xpbmUgPSB2YWx1ZXNbaV07CgkJCSAgY29uc3QgdmFsdWUgPSB2YWx1ZXNMaW5lP3ZhbHVlc0xpbmVbal06MDsKCQkJICBjb25zdCBpc0luaXRpYWwgPSB2YWx1ZXNfaW5pW2ldW2pdPjA7CgkJCSAgY29uc3QgaXNNZWRpdW0gPSAoaiUzID09PSAwKTsKCQkJICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSciIiIqKHRvdXRWb2lyID8gcmF3IiIiJHtpc0luaXRpYWw/ImluaSI6InZpZGUifSIiIiA6IHJhdyIiIiR7aXNJbml0aWFsPyJpbmkiOiJ2aWRlIGNhY2jDqWUifSIiIikqcmF3IiIiJHtpc01lZGl1bT8nIHRyb2lzZCc6Jyd9JyBkYXRhLXJvdz0nJHtpfScgZGF0YS1jb2w9JyR7an0nPiR7KHZhbHVlfHwnwqAnKX08L3RkPmA7CgkJCSAgZGF0YVtpXVtqXSA9IHZhbHVlfHwwOwoJCQkgIGh0bWxSb3cucHVzaChodG1sQ2VsbCk7CgkJCX0KCQkJY29uc3QgaXNNZWRpdW1CaXMgPSAoaSUzID09PSAwKTsKICAgIAkJaHRtbERhdGEucHVzaChodG1sYDx0ciAke2lzTWVkaXVtQmlzPydjbGFzcz0idHJvaXNyIic6IiJ9PiR7aHRtbFJvd308L3RyPmApOwoJCSAgfQoJCSAgY29uc3QgX3N1ZG9rdSA9IGh0bWxgPHRhYmxlIGlkPSJzdWRva3VmaW5pIiAiIiIqKHRvdXRWb2lyID8gIiIgOiByYXciIiJzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7IiAiIiIpKnJhdyIiIiBjbGFzcz0nc3Vkb2tvb2wnPgoJCQkgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YCAgCgkJICAvLyByZXR1cm4ge19zdWRva3UsZGF0YX07CgkJY29uc3QgamRhdGFpbmkgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXNfaW5pKTsKCQljb25zdCBqZGF0YUZpbmkgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZXMpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWluaScsIGpkYXRhaW5pKTsKICAJCV9zdWRva3Uuc2V0QXR0cmlidXRlKCdzdWRhdGFmaW5pJywgamRhdGFGaW5pKTsKCQl2YXIgc3Vkb2t1aW5pw6B2w6lyaWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vkb2tpbmNpcGl0Iik7CgkJaWYgKHN1ZG9rdWluacOgdsOpcmlmICYmIHN1ZG9rdWluacOgdsOpcmlmLmdldEF0dHJpYnV0ZSgnc3VkYXRhJykgIT0gamRhdGFpbmkpIHsKCQkJcmV0dXJuIGh0bWxgPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7Jz7wn5qAIFJlY2FsY3VsIHJhcGlkZcKgOyk8L2g1PmA7CgkJfTsgLy8gdjAuMTkgc2VtYmxlIGRlIG5vdXZlYXUgT2sgLT4gaHR0cHM6Ly9teWJpbmRlci5vcmcvdjIvZ2gvZm9uc3AvcGx1dG8tb24tYmluZGVyL3YwLjE0Ljc/dXJscGF0aD1wbHV0bwoJCXJldHVybiBfc3Vkb2t1OwoJCQkJfTsKCQl3aW5kb3cubXNnYSA9IChfc3Vkb2t1KSA9PiB7CgkJCQkiIiIqKHRvdXRWb2lyID8gcmF3IiIiIAoJCWxldCB0ZHMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLnZpZGUnKTsKICAJCXRkcy5mb3JFYWNoKHRkID0+IHsKCQkJCQoJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNob2l4w6BtZXR0cmVlbmhhdXQiKSkgewoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpLmNoZWNrZWQpIHsKCQkJCQkJY29uc3QgbGlnbiA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1yb3ciKSkgKyAxOwoJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbCIpKSArIDE7CgkJCQkJCWNvbnN0IHZhbGUgPSBlLnRhcmdldC5pbm5lckhUTUw7CgkJCQkJCXZhciBjaWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdWRva2luY2lwaXQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgiKyBsaWduICsiKSA+IHRkOm50aC1jaGlsZCgiKyBjb2xvICsiKSA+IGlucHV0W3R5cGU9dGV4dF0iKTsKCQkJCQkJaWYgKCEoaXNOYU4odmFsZSkpKSB7CgkJCQkJCQljaWJsZS52YWx1ZSA9IHZhbGU7IAoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgidmlkZSIpOwoJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiaW5pIik7CgkJCQkJCQkvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzZm9vdCIpPy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2xpY2siKSk7CgkJCQkJCQljaWJsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY3RvcCcpKTsgCgkJCQkJCX07CgkJCQl9fTsgCgkJCQkKCQkJfSk7CgkJfSk7IiIiIDogcmF3IiIiCgkJbGV0IHRkYmxldXMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmluaScpOwogIAkJdGRibGV1cy5mb3JFYWNoKHRkYmxldSA9PiB7CgkJCXRkYmxldS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQl2YXIgZ3JhbnRiID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJCQkJZm9yKGxldCBncmFuaT0wOyBncmFuaTw5O2dyYW5pKyspeyAKCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkgaWYgKCAhKGdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jbGFzc0xpc3QuY29udGFpbnMoImluaSIpKSApIHsKCQkJCWdyYW50Yi5jaGlsZE5vZGVzW2dyYW5pXS5jaGlsZE5vZGVzW2dyYW5qXS5jbGFzc0xpc3QuYWRkKCJjYWNow6llIik7CgkJCQkKCQkJCX0gfX07CgkJCX0pOwoJCX0pOwoJCQoJCWxldCB0ZHMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmNhY2jDqWUnKTsKICAJCXRkcy5mb3JFYWNoKHRkID0+IHsKCQkJCQoJCQl0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpKSB7CgkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKS5jaGVja2VkKSB7CQoJCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQkJY29uc3Qgb3JOaWNhciA9IChsaWduLCBjb2xvKSA9PiBNYXRoLmZsb29yKGlsaWcvMyk9PU1hdGguZmxvb3IobGlnbi8zKSAmJiBNYXRoLmZsb29yKGpjb2wvMyk9PU1hdGguZmxvb3IoY29sby8zKSA7CgkJCQkJCXZhciBncmFudGIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkJCQkJCWZvcihsZXQgZ3Jhbmk9MDsgZ3Jhbmk8OTtncmFuaSsrKXsgCgkJCQkJCWZvcihsZXQgZ3Jhbmo9MDsgZ3Jhbmo8OTtncmFuaisrKXsgCgkJCQkJCSB2YXIgdGRmID0gZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdOwoJCQkJCQkgaWYgKHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gaWxpZyB8fCB0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGpjb2wgfHwgb3JOaWNhcih0ZGYuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkgewoJCQkJCQkgIHRkZi5jbGFzc0xpc3QucmVtb3ZlKCJjYWNow6llIik7CgkJCQkJCX0gfX07CgkJCQkJfSBlbHNlIHsKCQkJCQllLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQl9fTsKCQkJCS8vIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKTsKCQkJCQkKCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpKSB7CgkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0IikuY2hlY2tlZCkgewoJCQkJCQljb25zdCBsaWduID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJkYXRhLXJvdyIpKSArIDE7CgkJCQkJCWNvbnN0IGNvbG8gPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtY29sIikpICsgMTsKCQkJCQkJY29uc3QgdmFsZSA9IGUudGFyZ2V0LmlubmVySFRNTDsKCQkJCQkJdmFyIGNpYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3N1ZG9raW5jaXBpdCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKCIrIGxpZ24gKyIpID4gdGQ6bnRoLWNoaWxkKCIrIGNvbG8gKyIpID4gaW5wdXRbdHlwZT10ZXh0XSIpOwoJCQkJCQlpZiAoIShpc05hTih2YWxlKSkpIHsKCQkJCQkJCWNpYmxlLnZhbHVlID0gdmFsZTsgCgkJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCJ2aWRlIik7CgkJCQkJCQllLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJpbmkiKTsKCQkJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXNmb290Iik/LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJjbGljayIpKTsKCQkJCQkJCWNpYmxlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjdG9wJykpOyAKCQkJCQkJfTsKCQkJCX19OyAKCQkJCQoJCQl9KTsKCQl9KTsJIiIiKSpyYXciIiIKCQkgIHJldHVybiBfc3Vkb2t1OwoKCQl9OwoJCQoJCS8vIHNpbm9uIDogcmV0dXJuIGNyZWF0ZVN1ZG9rdUh0bWwoLi4uKS5fc3Vkb2t1OwoJCXJldHVybiBtc2dhKGNyZWF0ZVN1ZG9rdUh0bWwoIiIiICoiJEpTdWRva3VGaW5pIioiLCAiKiIkSlN1ZG9rdWluaSIqIiIiKSApOwoJCTwvc2NyaXB0PiIiIikKCQkpIyMjIGVuZCAjIyMgaWYgaXNhKEpTdWRva3VGaW5pLCBTdHJpbmcpLi4uIHN1aXRlIGV0IGZpbiBkdSBidWcgZCdhZmZpY2hhZ2UKCWVuZAoJaHRtbHMgPSBodG1sU3Vkb2t1ICMjIG1pbmkgdmVyc2lvbiAob3UgYWxpYXMgcGx1cyBjb3VydCBzaSBiZXNvaW4pCglodG1hdCA9IGh0bWxTdWRva3Ug4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uIAoKCWNvbnN0IHB0MSA9ICLCtyIgIyAiLiIgIyMgQ2FyYWN0w6hyZXMgZGUgcmVtcGxpc3NhZ2UgcG91ciBtaWV1eCB2b2lyIGxlIG5iUHJvcGFsCgljb25zdCBwdDIgPSAi4peMIiAjICLil4siICMgIuKXmCIgIyAiLSIgIyAiOiIKCWNvbnN0IHB0MyA9ICLil48iICMgIuKWoCIgIyAi4pasIiAjICLigJQiICMgIuKBliIgIyAi4qu2IgoJZnVuY3Rpb24gY2hpZmZyZVByb3BhbChtYXQ6OkFycmF5e0ludCwyfSxsaW1wOjpTZXR7SW50fSxpOjpJbnQsajo6SW50LHZpZGU6OkJvb2wpICMgUmVtcGxpdCB1bmUgY2FzZSBhdmVjIHRvdXMgc2VzIGNoaWZmcmVzIHBvc3NpYmxlcywgZW4gbWV0dGFudCBsZSAxIGVuIGhhdXQgw6AgZ2F1Y2hlIGV0IGxlIDkgZW4gYmFzIMOgIGRyb2l0ZSAobGUgNSBlc3QgZG9uYyBhdSBjZW50cmUpLiBTJ2lsIG4neSBhIGF1Y3VuZSBwb3NzaWJpbGl0w6ksIG9uIHJlbXBsaXQgdG91dCBhdmVjIGRlcyBjYXJhY3TDqHJlcyBiaXphcnJlcyDigL0KCSMgUG91ciBtaXNlIGVuIGZvcm1lIGVuIEhUTUwgbWF0MyA6IDN4MyAodW5lIG1hdHJpY2UgZGUgMyBsaWduZXMgZXQgMyBjb2xvbm5lcykKCQljcCA9IGNoaWZmcmVQb3NzaWJsZShtYXQsaSxqLGxpbXApCgkJaWYgaXNlbXB0eShjcCkKCQkJcmV0dXJuIFtbIuKXnCIsIuKAvSIsIuKXnSJdLFsiwqEiLCIvIiwiISJdLFsi4pefIiwiXyIsIuKXniJdXQoJCQkjIHJldHVybiBbWyLiqK8iLCLiqK8iLCLiqK8iXSxbIuKoryIsIuKoryIsIuKoryJdLFsi4qivIiwi4qivIiwi4qivIl1dCgkJZW5kCgkJIyBsY3AgPSBsZW5ndGgoY3ApCgkJIyB2aSA9ICh2aWRlID8gIsKgIiA6IChsY3A8NCA/IHB0MSA6IChsY3A8NyA/IHB0MiA6IHB0MykpKQoJCXZpID0gKHZpZGUgPyAiwqAiIDogIsK3IikgIyLil6YiKSAjICLiqK8iKSAjIHB0MSkgIyMgcmV0b3VyIMOgIHB0MSBeXgoJCXJldHVybiBtYXRyaWNlw6BsaXN0ZUpTKHJlc2hhcGUoWygoeCBpbiBjcCkgPyBzdHJpbmcoeCkgOiB2aSkgZm9yIHggaW4gMTo5XSwgKDMsMykpLDMpCgllbmQKCWZ1bmN0aW9uIG5iUHJvcGFsKG1hdDo6QXJyYXl7SW50LDJ9LGxpbXA6OlNldHtJbnR9LGk6OkludCxqOjpJbnQpICMgQXNzZXogcHJvY2hlIGRlIGNoaWZmcmVQcm9wYWwgY2ktZGVzc3VzLCBtYWlzIG5lIG1vbnRyZSBwYXMgbGVzIGNoaWZmcmVzIHBvc3NpYmxlcy4gQ2VsYSBtb250cmUgbGUgbm9tYnJlcyBkZSBjaGlmZnJlcyBwb3NzaWJsZXMsIGVuIHJlbXBsaXNzYW50IHBldGl0IMOgIHBldGl0IGF2ZWMgcHQxIMOgIHB0MyBzdWl2YW50LgoJIyBQb3VyIG1pc2UgZW4gZm9ybWUgZW4gSFRNTCBtYXQzIDogM3gzCgkJbGNwID0gbGVuZ3RoKGNoaWZmcmVQb3NzaWJsZShtYXQsaSxqLGxpbXApKQoJCWlmIGxjcCA9PSAwCgkJCXJldHVybiBbWyLihpgiLCLihpMiLCLihpkiXSxbIuKGkiIsIjAiLCLihpAiXSxbIuKGlyIsIuKGkSIsIuKGliJdXSwgMAoJCWVsc2UKCQkJcmV0dXJuIG1hdHJpY2XDoGxpc3RlSlMocmVzaGFwZShbKHggPT0gbGNwID8gc3RyaW5nKHgpIDogKHg8bGNwID8gKGxjcDw0ID8gcHQxIDogKGxjcDw3ID8gcHQyIDogcHQzKSkgOiAiwqAiKSkgZm9yIHggaW4gMTo5XSwgKDMsMykpLDMpLCBsY3AKCQllbmQKCWVuZAoJZnVuY3Rpb24gaHRtbFN1ZG9rdVByb3BhbChKU3Vkb2t1aW5pOjpVbmlvbntTdHJpbmcsIFZlY3RvcntWZWN0b3J7SW50fX19PWpzdmQoKSxKU3Vkb2t1RmluaTo6VW5pb257U3RyaW5nLCBWZWN0b3J7VmVjdG9ye0ludH19fT1qc3ZkKCkgOyB0b3V0Vm9pcjo6Qm9vbD10cnVlLCBwYXJDYXNlOjpCb29sPXRydWUsIHNvbW1lOjpCb29sPXRydWUpCgkjIEFzc2V6IHByb2NoZSBkZSBodG1sU3Vkb2t1LCBtYWlzIG4nYSBwYXMgYmVzb2luIGQnYXZvaXIgdW4gc3Vkb2t1IHLDqXNvbHUgZW4gZW50csOpZS4gRW4gZWZmZXQsIGlsIG5lIG1vbnRyZSBxdWUgbGVzIGNoaWZmcmVzIChvdSBsZXVyIG5vbWJyZSA9IHNvbW1lKSBwb3NzaWJsZXMgcG91ciBsZSBtb21lbnQuCgkjIElsIHkgYSBwbHVzaWV1cnMgY2FzIDogKGNlbGEgZXN0IHBldXTDqnRyZSDDoCBjaGFuZ2VyKQoJCSMgdG91dFZvaXIgb3Ugbm9uIDogZMOpY291dnJlIHRvdXMgbGVzIGNlbGx1bGVzIHNpIHRvdXRWb2lyIChzaW5vbiDDoCBjbGlxdWVyKQoJCSMgcGFyQ2FzZSA6IGTDqWNvdXZyZSB1bmUgY2VsbGUgY2VsbHVsZSAoc2lub24gcGx1c2lldXJzKQoJCSMgc29tbWUgOiB2b2lyIGp1c3RlIGxlIG5vbWJyZSBkZSBwb3NzaWJpbGl0w6ksIHNpbm9uLCB2b2lyIGxlcyBwb3NzaWJpbGl0w6lzCgkJbVM6OkFycmF5e0ludCwyfSA9IGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdWluaSkKCQkjIG1JbXAgPSBbIFNldHtJbnR9KCkgZm9yIF8gPSAxOjksIF8gPSAxOjkgXQoJCW1JbXAgPSBEaWN0e1R1cGxle0ludCxJbnR9LCBTZXR7SW50fX0oKQoJCXdoaWxlIHRydWUKCQkJbkF3YWsgPSBkZWVwY29weShtSW1wKQoJCQl2w6lyaWZsaWduZSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e0ludH19KCkgZm9yIF8gPSAxOjkgXQoJCQl2w6lyaWZjb2wgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY2FycsOpID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7VHVwbGV7SW50LEludH19IH0oKSBmb3IgXyA9IDE6OSBdCgkJCWRpbGxvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGtvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2NvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpY2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpa2tvID0gRGljdHtJbnQsIERpY3R7SW50LEludH19KCkgCgkJCWRpbGNvID0gRGljdHtJbnQsRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX19KCkKCQkJZGljbG8gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWtjbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZGlrbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsVHVwbGV7SW50LFVuaXRSYW5nZXtJbnR9fSB9fSgpCgkJCWZ1c2libGVzbGlnID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY29sID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZ1c2libGVzY2FyID0gRGljdHtJbnQsIFNldHtJbnR9fSgpCgkJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkKCQkJCWlmIG1TW2ksal0gPT0gMAoJCQkJCWdldCEobUltcCwoaSxqKSxTZXR7SW50fSgpICkKCQkJCQlsY3AgPSBjaGlmZnJlUG9zc2libGUobVMsaSxqLG1JbXBbaSxqXSkKCQkJCQlrID0ga2VsY2FycsOpKGksaikKCQkJCQlpaSA9IGNhcnIoaSkKCQkJCQlqaiA9IGNhcnIoaikKCQkJCQlzYWMhKGosaSxrLGlpLGpqLGxjcCxmdXNpYmxlc2NvbCxkaWNjbyxkaWNsbyxkaWNrbykKCQkJCQlzYWMhKGksaixrLGlpLGpqLGxjcCxmdXNpYmxlc2xpZyxkaWxsbyxkaWxjbyxkaWxrbykKCQkJCQlzYWshKGksaixrLGlpLGpqLGxjcCxmdXNpYmxlc2NhcixkaWtsbyxkaWtjbyxkaWtrbykKCQkJCQlpZiBsZW5ndGgobGNwKSA9PSAxCgkJCQkJCWZvciBpaWkgaW4gMTo5ICMgLi4ub24gcmV0aXJlIHN1ciBsYSBsaWduZSBldCBsYSBjb2xvbm5lCgkJCQkJCQlnZXQhKG1JbXAsKGksaWlpKSxTZXR7SW50fSgpICkKCQkJCQkJCWdldCEobUltcCwoaWlpLGopLFNldHtJbnR9KCkgKQoJCQkJCQkJaWlpICE9IGogJiYgdW5pb24hKG1JbXBbaSxpaWldLGxjcCkKCQkJCQkJCWlpaSAhPSBpICYmIHVuaW9uIShtSW1wW2lpaSxqXSxsY3ApCgkJCQkJCWVuZAoJCQkJCQkjIGZvciBqaiBpbiBjYXJyKGopLCBpaSBpbiBjYXJyKGkpICMgLi4uZXQgc3VyIGxlIGNhcnLDqQoJCQkJCQlmb3IgampqIGluIGpqLCBpaWkgaW4gaWkgIyAuLi5ldCBzdXIgbGUgY2FycsOpCgkJCQkJCQkjIGpqICE9IGogJiYgaWkgIT0gaSAmJiB1bmlvbiEobUltcFtpaSxqal0sU2V0KGxjcCkpCgkJCQkJCQlqamogIT0gaiAmJiBpaWkgIT0gaSAmJiB1bmlvbiEoZ2V0IShtSW1wLChpaWksampqKSxTZXR7SW50fSgpICksbGNwKQoJCQkJCQllbmQKCQkJCQllbHNlIHBhc0Fzc2V6RGVQcm9wYWwhKGksIGosIGxjcCwgdsOpcmlmbGlnbmVbaV0sIHbDqXJpZmNvbFtqXSwgdsOpcmlmY2FycsOpW2tdLCBtSW1wICkgCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJCUxVbmljbGshKGRpY2xvLGRpY2NvLGRpY2tvLGRpbGxvLGRpbGNvLGRpbGtvLGRpa2xvLGRpa2NvLGRpa2tvLG1JbXApCgkJCWlmIG1JbXAgPT0gbkF3YWsKCQkJCWJyZWFrCgkJCWVuZAoJCWVuZAoJCWlmIHNvbW1lCQoJCQltblByb3BhbCA9IGZpbGwoZmlsbCggZmlsbCgiMCIsMyksMykgLCAoOSw5KSApCgkJCW1pbmUgPSAxMAoJCQlncmlzZW1pbmUgPSBUdXBsZXtJbnQsSW50fVtdCgkJCWZvciBqIGluIDE6OSwgaSBpbiAxOjkKCQkJCWlmIG1TW2ksal0gPT0gMAoJCQkJbW5Qcm9wYWxbaSxqXSwgbGNwID0gbmJQcm9wYWwobVMsIG1JbXBbaSxqXSwgaSwgaikKCQkJCQlpZiBsY3AgPCBtaW5lCgkJCQkJCW1pbmUgPSBsY3AKCQkJCQkJZ3Jpc2VtaW5lID0gWyhpLGopXQoJCQkJCWVsc2VpZiBsY3AgPT0gbWluZQoJCQkJCQlwdXNoIShncmlzZW1pbmUsIChpLGopKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQlwYXJDYXNlID0gdG91dFZvaXIgIyBiaWRvdWlsbGUgw6AgY2hhbmdlciA/CgkJCXRvdXRWb2lyID0gdHJ1ZQoJCQlpZiAwIDwgbWluZSA8IDkKCQkJCWZvciAoaSxqKSBpbiBncmlzZW1pbmUKCQkJCQltblByb3BhbFtpLGpdWzNdWzNdID0gIuKclCIKCQkJCWVuZAoJCQllbmQKCQkJSlByb3BhbCA9IG1hdHJpY2XDoGxpc3RlSlMobW5Qcm9wYWwpCgkJZWxzZQoJCQltUHJvcGFsID0gZmlsbChmaWxsKCBmaWxsKCIwIiwzKSwzKSAsICg5LDkpICkKCQkJZm9yIGogaW4gMTo5LCBpIGluIDE6OQoJCQkJaWYgbVNbaSxqXSA9PSAwCgkJCQkJbVByb3BhbFtpLGpdID0gY2hpZmZyZVByb3BhbChtUywgbUltcFtpLGpdLCBpLCBqLCBwYXJDYXNlKQoJCQkJZW5kCgkJCWVuZAoJCQlKUHJvcGFsID0gbWF0cmljZcOgbGlzdGVKUyhtUHJvcGFsKQoJCWVuZAoJCQkKCQlyZXR1cm4gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQgaWQ9InNjcmlwdGZpbmkiPgoJCS8vIHN0eWzDqWzDoGJhc2F2ZWNib251cyEKCQkKCQkvLyBjb25zdCBrZWxjYXJKUyA9IChsaWcsIGNvbCkgPT4gW01hdGguZmxvb3IobGlnLzMpLCBNYXRoLmZsb29yKGNvbC8zKV07CgkJY29uc3QgTU1jYXIgPSAobGlnLCBjb2wsIGxpZ24sIGNvbG8pID0+IE1hdGguZmxvb3IobGlnLzMpPT1NYXRoLmZsb29yKGxpZ24vMykgJiYgTWF0aC5mbG9vcihjb2wvMyk9PU1hdGguZmxvb3IoY29sby8zKSA7CgkJCgkJY29uc3QgY3JlYXRlU3Vkb2t1SHRtbCA9IChtdmFsdWVzLCB2YWx1ZXNfaW5pKSA9PiB7CQoJCSAgY29uc3QgZGF0YSA9IFtdOwoJCSAgY29uc3QgaHRtbERhdGEgPSBbXTsKCQkgIGZvcihsZXQgaT0wOyBpPDk7aSsrKXsKCQkJbGV0IGh0bWxSb3cgPSBbXTsKCQkJZGF0YS5wdXNoKFtdKTsKCQkJZm9yKGxldCBqPTA7IGo8OTtqKyspewoJCQkJCgkJCSAgCWNvbnN0IGh0bWxNaW5pRGF0YSA9IFtdOwoJCQkJY29uc3QgaXNJbml0aWFsID0gdmFsdWVzX2luaVtpXVtqXT4wOwoJCQkJdmFyIG1pbmlfc3Vkb2t1ID0gdmFsdWVzX2luaVtpXVtqXTsKCQkJCWlmICghKGlzSW5pdGlhbCkpIHsKCQkJCSAgZm9yKGxldCBwbD0wOyBwbDwzO3BsKyspewoJCQkJCWxldCBodG1sTWluaVJvdyA9IFtdOwoJCQkJCWZvcihsZXQgcGo9MDsgcGo8MztwaisrKXsKCQkJCQljb25zdCBtaW5pVmFsdWUgPSBtdmFsdWVzW2ldW2pdW3BsXVtwal07CgkJCQkJY29uc3QgaHRtbE1pbmlDZWxsID0gaHRtbGA8dGQgY2xhc3M9Im1pbmkiIiIqKHRvdXRWb2lyICYmIHBhckNhc2UgPyAiXCIiIDogcmF3IiIiJHtpc0luaXRpYWw/JyBwcm9wJzonIHZpZGUgY2FjaMOpZSd9IiAiIiIpKnJhdyIiIiBkYXRhLXJvdz0iJHtwbH0iIGRhdGEtY29sPSIke3BqfSI+JHsobWluaVZhbHVlfHwnwqAnKX08L3RkPmA7IAoJCQkJCWh0bWxNaW5pUm93LnB1c2goaHRtbE1pbmlDZWxsKTsKCQkJCQl9CgkJCQkJaHRtbE1pbmlEYXRhLnB1c2goaHRtbGA8dHIgc3R5bGU9ImJvcmRlci1zdHlsZTogbm9uZSAhaW1wb3J0YW50OyI+JHtodG1sTWluaVJvd308L3RyPmApOwoJCQkJICB9CgkJCQl2YXIgbWluaV9zdWRva3UgPSBodG1sYDx0YWJsZSBjbGFzcz0ic3Vkb2tvb2xtaW5pIiBzdHlsZT0idXNlci1zZWxlY3Q6IG5vbmU7Ij4KCQkJICA8dGJvZHk+JHtodG1sTWluaURhdGF9PC90Ym9keT4KCQkJPC90YWJsZT5gCgkJCQl9CgkJCSAgY29uc3QgdmFsdWVlID0gbWluaV9zdWRva3U7CgkJCSAgY29uc3QgaXNNZWRpdW0gPSAoaiUzID09PSAwKTsKCQkJICBjb25zdCBodG1sQ2VsbCA9IGh0bWxgPHRkIGNsYXNzPSIke2lzSW5pdGlhbD8naW5pJzoncHJvcHMnfSAke2lzTWVkaXVtPycgdHJvaXNkJzonJ30iIGRhdGEtcm93PSIke2l9IiBkYXRhLWNvbD0iJHtqfSI+JHsodmFsdWVlfHwnwqAnKX08L3RkPmA7CgkJCSAgZGF0YVtpXVtqXSA9IHZhbHVlZXx8MDsKCQkJICBodG1sUm93LnB1c2goaHRtbENlbGwpOwoJCQl9CgkJCWNvbnN0IGlzTWVkaXVtQmlzID0gKGklMyA9PT0gMCk7CiAgICAJCWh0bWxEYXRhLnB1c2goaHRtbGA8dHIgJHtpc01lZGl1bUJpcz8nY2xhc3M9InRyb2lzciInOicnfT4ke2h0bWxSb3d9PC90cj5gKTsKCQkgIH0KCQkgIGNvbnN0IF9zdWRva3UgPSBodG1sYCIiIiAqIChpc2EoSlN1ZG9rdUZpbmksIFN0cmluZykgPyAiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7dXNlci1zZWxlY3Q6IG5vbmU7JyBvbmNsaWNrPSckZm9vdGl4Jz4g4pqhIEF0dGVudGlvbiwgc3Vkb2t1IGluaXRpYWwgw6AgcmV2b2lyICEgPC9oNT4iIDogIiIpICogcmF3IiIiPHRhYmxlIGlkPSJzdWRva3VmaW5pIiBjbGFzcz0ic3Vkb2tvb2wiIHN0eWxlPSJ1c2VyLXNlbGVjdDogbm9uZTsiPgoJCQkgIDx0Ym9keT4ke2h0bWxEYXRhfTwvdGJvZHk+CgkJCTwvdGFibGU+YCAgCgkJCQoJCWNvbnN0IGpkYXRhaW5pID0gSlNPTi5zdHJpbmdpZnkodmFsdWVzX2luaSk7CgkJY29uc3QgamRhdGFGaW5pID0gSlNPTi5zdHJpbmdpZnkobXZhbHVlcyk7CiAgCQlfc3Vkb2t1LnNldEF0dHJpYnV0ZSgnc3VkYXRhaW5pJywgamRhdGFpbmkpOwogIAkJX3N1ZG9rdS5zZXRBdHRyaWJ1dGUoJ3N1ZGF0YWZpbmknLCBqZGF0YUZpbmkpOwoJCXZhciBzdWRva3VpbmnDoHbDqXJpZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWRva2luY2lwaXQiKTsKCQlpZiAoc3Vkb2t1aW5pw6B2w6lyaWYgJiYgc3Vkb2t1aW5pw6B2w6lyaWYuZ2V0QXR0cmlidXRlKCdzdWRhdGEnKSAhPSBqZGF0YWluaSkgewoJCQlyZXR1cm4gaHRtbGA8aDUgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjt1c2VyLXNlbGVjdDogbm9uZTsnPvCfmoAgUmVjYWxjdWwgcmFwaWRlwqA7KTwvaDU+YDsKCQl9OyAvLyBlbnRyZSBQbHV0byA+djAuMTQuNyBldCAwLjE5IGNmLiBwbHVzIGhhdXQKCQlyZXR1cm4gX3N1ZG9rdTsKCQkJfTsKCQkJd2luZG93Lm1zZ2EgPSAoX3N1ZG9rdSkgPT4gewoJCQkJY29uc3QganVzdGVyZW1vbnRlID0gKHRkbWluaSkgPT4geyAvLyAzIGV0IDIrMwoJCQkJIiIiKihzb21tZSA/IHJhdyIiIDogcmF3IiIiCgkJCQl0ZG1pbmkuZm9yRWFjaCh0ZCA9PiB7CgkJCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJCQkKCQkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaG9peMOgbWV0dHJlZW5oYXV0IikpIHsKCQkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hvaXjDoG1ldHRyZWVuaGF1dCIpLmNoZWNrZWQpIHsKCQkJCQkJCQljb25zdCBsaWduID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykpICsgMTsgLy8gMyBldCAyKzMKCQkJCQkJCQljb25zdCBjb2xvID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICsgMTsKCQkJCQkJCQljb25zdCB2YWxlID0gZS50YXJnZXQuaW5uZXJIVE1MOyAvLyBwYXMgdXRpbGUgZGFucyBjZSBjYXMgIQoJCQkJCQkJCXZhciBjaWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdWRva2luY2lwaXQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgiKyBsaWduICsiKSA+IHRkOm50aC1jaGlsZCgiKyBjb2xvICsiKSA+IGlucHV0W3R5cGU9dGV4dF0iKTsKCQkJCQkJCQlpZiAoIShpc05hTih2YWxlKSkpIHsKCQkJCQkJCQkJY2libGUudmFsdWUgPSB2YWxlOyAKCQkJCQkJCQkJZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgiaW5pIik7CgkJCQkJCQkJCS8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXNmb290Iik/LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJjbGljayIpKTsKCQkJCQkJCQkJY2libGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2N0b3AnKSk7IAoJCQkJCQkJCX07CgkJCQkJCX19OwkKCQkJCQkJCgkJCQl9KX0pOyAiIiIpKnJhdyIiIn07CgoJCQkJY29uc3QgY2Fyb2xpZ24gPSAoZSkgPT4geyAvLyAzIGV0IDEuLi4gw6AgbGEgYmFzZQoJCQkJCWNvbnN0IGlsaWcgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgamNvbCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3QgZ3JhbmxpZyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGdyYW5jb2wgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKTsgCgkJCQkJY29uc3Qgb3JOaWNhciA9ICh0bGlnLHRjb2wpID0+IE1NY2FyKGdyYW5saWcsZ3JhbmNvbCx0bGlnLHRjb2wpOwoJCQkJCWUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCh0ciA9PiB7CgkJCQkJCXRyLmNoaWxkTm9kZXMuZm9yRWFjaCh0ZGQgPT4gewoKCQkJCQkJCWlmICgodGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgJiYgKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JykgPT0gZ3JhbmxpZyB8fCB0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpID09IGdyYW5jb2wgfHwgb3JOaWNhcih0ZGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpLHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykpICkpewoJCQkJCQkJCS8vdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzW2lsaWddLmNoaWxkTm9kZXNbamNvbF0uY2xhc3NMaXN0LnJlbW92ZSgiY2FjaMOpZSIpOwoJCQkJCQkJCXRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1tpbGlnXS5jaGlsZE5vZGVzW2pjb2xdLmNsYXNzTGlzdC5yZW1vdmUoImNhY2jDqWUiKTsKCQkJCQkJCQl9IH0pOwoJCQkJCX0pOwoJCQkJfTsgCgoJCQkJY29uc3QgY2FzZWNhcm9saWduID0gKGUpID0+IHsgLy8gMiBldCAyIGJvbnVzCgkJCQkJY29uc3QgaWxpZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKTsKCQkJCQljb25zdCBqY29sID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQljb25zdCBncmFubGlnID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93Jyk7CgkJCQkJY29uc3QgZ3JhbmNvbCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbCcpOyAKCQkJCQljb25zdCBvck5pY2FyID0gKHRsaWcsdGNvbCkgPT4gTU1jYXIoZ3JhbmxpZyxncmFuY29sLHRsaWcsdGNvbCk7CgkJCQkJZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKHRyID0+IHsKCQkJCQkJdHIuY2hpbGROb2Rlcy5mb3JFYWNoKHRkZCA9PiB7CgoJCQkJCQkJaWYgKCh0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdIT1udWxsKSAmJiAodGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSA9PSBncmFubGlnIHx8IHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJykgPT0gZ3JhbmNvbCB8fCBvck5pY2FyKHRkZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JyksdGRkLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2wnKSkgKSl7CgkJCQkJCQkJdGRkLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzLmZvckVhY2gobGlnbmUgPT4gewoJCQkJCQkJCQlsaWduZS5jaGlsZE5vZGVzLmZvckVhY2goY29sb24gPT4gewoJCQkJCQkJCQljb2xvbi5jbGFzc0xpc3QucmVtb3ZlKCJjYWNow6llIik7CgkJCQkJCQkJICB9KTsKCQkJCQkJCQl9KTsgCgkJCQkJCQl9IH0pOwoJCQkJCX0pOwoJCQkJfTsgCgkJCQkKCQkJCWNvbnN0IHRvdXNsZXPDqWdhbGl0ID0gKGUpID0+IHsKCQkJCQljb25zdCBpbGlnID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpOwoJCQkJCWNvbnN0IGpjb2wgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJyk7IAkKCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2godHIgPT4gewoJCQkJCQkJdHIuY2hpbGROb2Rlcy5mb3JFYWNoKHRkZCA9PiB7CgkJCQkJCQkJaWYgKHRkZC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0hPW51bGwpewoJCQkJCQkJCQl0ZGQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbaWxpZ10uY2hpbGROb2Rlc1tqY29sXS5jbGFzc0xpc3QudG9nZ2xlKCJjYWNow6llIik7CgkJCQkJCQl9fSk7CgkJCQkJfSk7CQkKCQkJCX07CgoJCQkJY29uc3QganVzdGV1bmVjYXNlID0gKHRkbWluaSkgPT4geyAvLyAyIGV0IDIKCQkJCWp1c3RlcmVtb250ZSh0ZG1pbmkpOwoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsJCQoJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikpIHsKCQkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKS5jaGVja2VkKSB7CQoJCQkJCQkJY2FzZWNhcm9saWduKGUpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQllLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKGxpZ25lID0+IHsKCQkJCQkJICBsaWduZS5jaGlsZE5vZGVzLmZvckVhY2goY29sb24gPT4gewoJCQkJCQkJY29sb24uY2xhc3NMaXN0LnRvZ2dsZSgiY2FjaMOpZSIpOwoJCQkJCQkgIH0pOwoJCQkJCQl9KTsgCgkJCQkJfX0gfSk7CQoJCQkJfSkgfTsKCQkJCQoJCQkJY29uc3QgdG91c2xlc8OpZ2FsaXRpb3MgPSAodGRtaW5pKSA9PiB7IC8vIDIgZXQgMQoJCQkJanVzdGVyZW1vbnRlKHRkbWluaSk7CgkJCQl0ZG1pbmkuZm9yRWFjaCh0ZCA9PiB7CgkJCQkJdGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewoJCQkJCQkiIiIqKHNvbW1lID8gcmF3IiIiaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKSkgewoJCQkJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJvbGlnbmUiKS5jaGVja2VkKSB7CQoJCQkJCQkJCWNhcm9saWduKGUpOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0b3VzbGVzw6lnYWxpdChlKSB9fTsKCQkJCQkJIiIiIDogcmF3IiIidG91c2xlc8OpZ2FsaXQoZSk7ICIiIikqcmF3IiIiCgkJCQl9KX0pIH07CgkJCQkKCQkJCWNvbnN0IGNhcm9saWduaW9zID0gKHRkbWluaSkgPT4geyAvLyAzIGV0IDEKCQkJCWp1c3RlcmVtb250ZSh0ZG1pbmkpOwoJCQkJdGRtaW5pLmZvckVhY2godGQgPT4gewoJCQkJCXRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcm9saWduZSIpKSB7CgkJCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2Fyb2xpZ25lIikuY2hlY2tlZCkgewoJCQkJCQkJY2Fyb2xpZ24oZSk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCWUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoImNhY2jDqWUiKX19OwoJCQkJfSkgfSkgfTsgCgkJCQkKCQkJCWNvbnN0IHRvdXRlZmZhY2VyID0gKHRkYmxldXMpID0+IHsKCQkJCQl0ZGJsZXVzLmZvckVhY2godGRibGV1ID0+IHsKCQkJCQkJdGRibGV1LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKCQkJCQkJCXZhciBncmFudGIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CgkJCQkJCQlmb3IobGV0IGdyYW5pPTA7IGdyYW5pPDk7Z3JhbmkrKyl7IAoJCQkJCQkJZm9yKGxldCBncmFuaj0wOyBncmFuajw5O2dyYW5qKyspeyAKCQkJCQkJCSBpZiAoZ3JhbnRiLmNoaWxkTm9kZXNbZ3JhbmldLmNoaWxkTm9kZXNbZ3JhbmpdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSE9bnVsbCkgewoJCQkJCQkJZm9yKGxldCBtaW5paT0wOyBtaW5paTwzO21pbmlpKyspeyAKCQkJCQkJCWZvcihsZXQgbWluaWo9MDsgbWluaWo8MzttaW5paisrKXsgCgkJCQkJCQlncmFudGIuY2hpbGROb2Rlc1tncmFuaV0uY2hpbGROb2Rlc1tncmFual0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbbWluaWldLmNoaWxkTm9kZXNbbWluaWpdLmNsYXNzTGlzdC5hZGQoImNhY2jDqWUiKTsKCQkJCQkJCQoJCQkJCQkJfX0gfSB9fTsKCQkJCQkJfSk7CgkJCQkJfSk7IH07CgkJCQkKCQkJCQoJCWxldCB0ZG1pbmkgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLm1pbmknKTsgCgkJLy8gL3BhckNhc2UgPSB0b3V0Vm9pciAjIGJpZG91aWxsZSDDoCBjaGFuZ2VyID8gL3RvdXRWb2lyID0gdHJ1ZSAvLy8gcGx1cyBoYXV0CiAgCQkiIiIqKHRvdXRWb2lyICYmIHBhckNhc2UgPyByYXciIiJqdXN0ZXJlbW9udGUodGRtaW5pKTsvKiAzIGV0IDIrMyAqLwoJCQkiIiIgOiByYXciIiIgbGV0IHRkYmxldXMgPSBfc3Vkb2t1LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLmluaScpOyB0b3V0ZWZmYWNlcih0ZGJsZXVzKTsgCgkJCQkJIiIiKihwYXJDYXNlID8gcmF3IiIianVzdGV1bmVjYXNlKHRkbWluaSk7IC8qIDIgZXQgMiAqLyAKCQkJCQkJCSIiIiA6ICh0b3V0Vm9pciA/IHJhdyIiInRvdXNsZXPDqWdhbGl0aW9zKHRkbWluaSk7IC8qIDMgZXQgMSArIDIgZXQgMyAqLyAiIiIgOiByYXciIiJjYXJvbGlnbmlvcyh0ZG1pbmkpOyAvKiAyIGV0IDEgKi8gIiIiKSkpKiByYXciIiIKCQkgIHJldHVybiBfc3Vkb2t1OwoJCX07CgkJLy8gc2lub24gOiByZXR1cm4gY3JlYXRlU3Vkb2t1SHRtbCguLi4pLl9zdWRva3U7CgkJcmV0dXJuIG1zZ2EoY3JlYXRlU3Vkb2t1SHRtbCgiIiIgKiIkSlByb3BhbCIqIiwgIioiJEpTdWRva3VpbmkiKiIiIikpOwoJCTwvc2NyaXB0PiIiIikKCWVuZAoJaHRtbHNwID0gaHRtbFN1ZG9rdVByb3BhbCAjIyBtaW5pIHZlcnNpb24KCWh0bWF0cCA9IGh0bWxTdWRva3VQcm9wYWwg4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uIAoJCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBGb25jdGlvbiBwcmljaXBhbGUgcXVpIHLDqXNvdXQgbidpbXBvcnRlIHF1ZWwgc3Vkb2t1IChtw6ptZSBmYXV4KSAjIyMjIyMjIyMjIyMjIyMjIyMjCiMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMKICBmdW5jdGlvbiByw6lzb3V0U3Vkb2t1TWF4KG1TOjpBcnJheXtJbnQsMn0sIGxlc1rDqXJvczo6U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0sIGRpY29yw6l6bGlnOjpEaWN0e0ludCwgU2V0e0ludH19LCBkaWNvcsOpemNvbDo6RGljdHtJbnQsIFNldHtJbnR9fSwgZGljb3LDqXpjYXI6OkRpY3R7SW50LCBTZXR7VHVwbGV7SW50LEludH19fSA7IHRvdXJzOjpJbnQgPSA4MSkgCgluYlRvdXJzVG90YWwgPSB0b3VycyAjIGxlIG5vbWJyZSBxdWkgY2UgcHJvZ3JhbW1lIGEgcsOpZWxsZW1lbnQgZmFpdCBwYXIgZXNzYWkKCSMgbGVzWsOpcm9zID0gU2V0KHZaw6lyb3MpICMjIGF2YW50IFNldChzaHVmZmxlISh2WsOpcm9zKSkgIyBTZXQgdW5lIGJvbm5lIF5eCglsaXN0ZWRlY2hvaXggPSBUdXBsZXtJbnQsSW50LEludCxJbnQsU2V0e0ludH19W10KCWxpc3RlZGFuY2llbm5lTWF0ID0gQXJyYXl7SW50LDJ9W10KCWxpc3RlZGVzWsOpcm9zID0gU2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX1bXQoJbGVaw6lyb8OgU3VwcHIgPSAoMCwwLDAsMDowLDA6MCkgIyBUdXBsZXtJbnQsSW50LEludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX0KCW5iQ2hvaXhmYWl0ID0gMAoJbWluQ2hvaXhkZXNaw6lyb3MgPSAxMAoJYWxsZXJBdUNob2l4U3VpdmFudCA9IGZhbHNlCgljaG9peFByw6ljw6lkZW50ID0gY2hvaXhBZmFpcmUgPSAoMCwwLDAsMCxTZXR7SW50fSgpKSAKCWxpc3RlZGFuY2llbkltcCA9IERpY3R7VHVwbGV7SW50LEludH0sIFNldHtJbnR9fVtdICMgc2kgZGljT2sgCglsaXN0ZWRpY29yw6l6bGlnID0gRGljdHtJbnQsIFNldHtJbnR9fVtdCglsaXN0ZWRpY29yw6l6Y29sID0gRGljdHtJbnQsIFNldHtJbnR9fVtdCglsaXN0ZWRpY29yw6l6Y2FyID0gRGljdHtJbnQsIFNldHtUdXBsZXtJbnQsSW50fX19W10gCgltSW1wID0gRGljdHtUdXBsZXtJbnQsSW50fSwgU2V0e0ludH19KCkKCcOnYU5hdmFuY2VQYXMgPSB0cnVlICMgUGVybWV0IGRlIHZvaXIgc2kgcmllbiBuZSBzZSByZW1wbGl0IGVuIHVuIHRvdXIKCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnQsSW50LFVuaXRSYW5nZXtJbnR9LFVuaXRSYW5nZXtJbnR9fX0oKQoJd2hpbGUgIWlzZW1wdHkobGVzWsOpcm9zKSAjICYmIG5iVG91cnNUb3RhbCA8IG5iVG91cnNNYXgKCQlpZiAhYWxsZXJBdUNob2l4U3VpdmFudAoJCQluYlRvdXJzVG90YWwgKz0gMQoJCQnDp2FOYXZhbmNlUGFzID0gdHJ1ZSAjIHJlc2V0IMOgIGNoYXF1ZSB0b3VyCgkJCW1pbkNob2l4ZGVzWsOpcm9zID0gMTAKCQkJZGlsbG8gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlsa28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGljY28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlja28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlra28gPSBEaWN0e0ludCwgRGljdHtJbnQsSW50fX0oKSAKCQkJZGlsY28gPSBEaWN0e0ludCxEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fX0oKQoJCQlkaWNsbyA9IERpY3R7SW50LERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fSxVbml0UmFuZ2V7SW50fX19fSgpCgkJCWRpa2NvID0gRGljdHtJbnQsIERpY3R7SW50LFR1cGxle0ludCxVbml0UmFuZ2V7SW50fX0gfX0oKQoJCQlkaWtsbyA9IERpY3R7SW50LCBEaWN0e0ludCxUdXBsZXtJbnQsVW5pdFJhbmdle0ludH19IH19KCkKCQkJZnVzaWJsZXNsaWcgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJZnVzaWJsZXNjb2wgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJZnVzaWJsZXNjYXIgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQkJdsOpcmlmbGlnbmUgPSBbIERpY3R7U2V0e0ludH0sIFNldHtJbnR9fSgpIGZvciBfID0gMTo5IF0KCQkJdsOpcmlmY29sID0gWyBEaWN0e1NldHtJbnR9LCBTZXR7SW50fX0oKSBmb3IgXyA9IDE6OSBdCgkJCXbDqXJpZmNhcnLDqSA9IFsgRGljdHtTZXR7SW50fSwgU2V0e1R1cGxle0ludCxJbnR9fSB9KCkgZm9yIF8gPSAxOjkgXQoJCQlmb3IgKGksaixrLGlpLGpqKSBpbiBsZXNaw6lyb3MKCQkJCWxpc3RlY2hpZmZyZSA9IGNoaWZmcmVQb3NzaWJsZShtUyxpLGosZ2V0IShtSW1wLChpLGopLFNldHtJbnR9KCkgKSxpaSxqaikgCgkJCQlzYWMhKGosaSxrLGlpLGpqLGxpc3RlY2hpZmZyZSxmdXNpYmxlc2NvbCxkaWNjbyxkaWNsbyxkaWNrbykKCQkJCXNhYyEoaSxqLGssaWksamosbGlzdGVjaGlmZnJlLGZ1c2libGVzbGlnLGRpbGxvLGRpbGNvLGRpbGtvKQoJCQkJc2FrIShpLGosayxpaSxqaixsaXN0ZWNoaWZmcmUsZnVzaWJsZXNjYXIsZGlrbG8sZGlrY28sZGlra28pCgkJCQlpZiBpc2VtcHR5KGxpc3RlY2hpZmZyZSkgfHwgcGFzQXNzZXpEZVByb3BhbCEoaSxqLGxpc3RlY2hpZmZyZSwgdsOpcmlmbGlnbmVbaV0sIHbDqXJpZmNvbFtqXSwgdsOpcmlmY2FycsOpW2tdLG1JbXApCgkJCQkJYWxsZXJBdUNob2l4U3VpdmFudCA9IHRydWUgIyBkb25jIG1hdXZhaXMgY2hvaXgKCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJCQkJYnJlYWsKCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVjaGlmZnJlKSA9PSAxICMgTCdpZMOpYWwsIHVuZSBzZXVsZSBwb3NzaWJpbGl0w6kKCQkJCQltU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXSAjIGxlIFNldCBlbiBsaXN0ZQoJCQkJCSMgbVNbaSxqXT1wb3AhKGxpc3RlY2hpZmZyZSkgIyMgbmUgZm9uY3Rpb25uZSBwYXMKCQkJCQlwdXNoIShsZXNaw6lyb3PDoFN1cHByLCAoaSxqLGssaWksamopKQoJCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaV0saikKCQkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pdLGkpCgkJCQkJZGVsZXRlIShkaWNvcsOpemNhcltrXSwoaSxqKSApCgkJCQkJaGFza2V5KGRpbGxvLGkpICYmIGRlbGV0ZSEoZGlsbG9baV0sIG1TW2ksal0pICMgdXRpbGUgZXQgc8O7cgoJCQkJCWhhc2tleShkaWNjbyxqKSAmJiBkZWxldGUhKGRpY2NvW2pdLCBtU1tpLGpdKQoJCQkJCWhhc2tleShkaWtrbyxrKSAmJiBkZWxldGUhKGRpa2tvW2tdLCBtU1tpLGpdKQoJCQkJCcOnYU5hdmFuY2VQYXMgPSBmYWxzZSAjIENhciBvbiBhIHLDqXVzc2kgw6AgcmVtcGxpcgoJCQkJZWxzZWlmIMOnYU5hdmFuY2VQYXMgJiYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPCBtaW5DaG9peGRlc1rDqXJvcwoJCQkJCW1pbkNob2l4ZGVzWsOpcm9zID0gbGVuZ3RoKGxpc3RlY2hpZmZyZSkKCQkJCQljaG9peEFmYWlyZSA9IChpLGosIDEsIG1pbkNob2l4ZGVzWsOpcm9zLCBsaXN0ZWNoaWZmcmUpIAoJCQkJCWxlWsOpcm/DoFN1cHByID0gKGksaixrLGlpLGpqKSAjIE9uIGdhcmRlIGxlcyBjZWxsdWxlcyBhdmVjIC4uLiAKCQkJCWVuZCAjIC4uLiBsZSBtb2lucyBkZSBjaG9peCDDoCBmYWlyZSwgc2kgw6dhIG4nYXZhbmNlIHBhcwoJCQllbmQKCQllbmQKCQkjIGlmIGFsbGVyQXVDaG9peFN1aXZhbnQgfHwgw6dhTmF2YW5jZVBhcyAmJiAoZEltcCA9PSBtSW1wKSAjIGVuIG1pZXV4IF5eCgkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCB8fCB1bmljbGshKGRpY2xvLGRpY2NvLGRpY2tvLGRpbGxvLGRpbGNvLGRpbGtvLGRpa2xvLGRpa2NvLGRpa2tvLG1TLG1JbXAsZGljb3LDqXpsaWcsZGljb3LDqXpjb2wsZGljb3LDqXpjYXIsbGVzWsOpcm9zw6BTdXBwcizDp2FOYXZhbmNlUGFzKQoJCQlpZiBhbGxlckF1Q2hvaXhTdWl2YW50ICMgU2kgbGUgY2hvaXggZW4gY291cnMgbidlc3QgcGFzIGJvbgoJCQkJaWYgaXNlbXB0eShsaXN0ZWRlY2hvaXgpICMgcGFzIGRlIGJvbCBoZWluCgkJCQkJIyBAaW5mbyAiMW1wICRuYlRvdXJzVG90YWwgJG5iQ2hvaXhmYWl0IgoJCQkJCXJldHVybiBpbXBvc3NpYmxlICMgZmF1eCBjYXIgdHJvcCBjb250cmFpbnQg4oaSIGV4OiAxMjM0NTY3OCs5ICMjLCAodG91cj1uYlRvdXJzLHR0PW5iVG91cnNUb3RhbCxlc3NhaT1lc3NhaSxub2l4PW5iQ2hvaXhmYWl0LHRvdXJzPWxpc3RlVG91cnMsY2hvaXg9bGlzdGVkZWNob2l4LCB6w6lyb3M9bGlzdGVkZXNaw6lyb3MsbWF0aHM9bGlzdGVkYW5jaWVubmVNYXQpIAoJCQkJZWxzZWlmIGNob2l4UHLDqWPDqWRlbnRbM10gPCBjaG9peFByw6ljw6lkZW50WzRdICMgQWxsZXIgYXUgc3VpdmFudAoJCQkJCSMjIHB1c2ghKGxpc3RlSGlzdG9NYXQgLCBjb3B5KG1TKSkgIyMgaGlzdG9pcmUgMSAKCQkJCQkjIyBwdXNoIShsaXN0ZUhpc3RvQ2hvaXggLCBjaG9peFByw6ljw6lkZW50KSAjIyBoaXN0b2lyZSAxIAoJCQkJCSMjIHB1c2ghKGxpc3RlSGlzdG9Ub3Vyc1RvdGFsICwgKG5iVG91cnMsIG5iVG91cnNUb3RhbCkpICMjIGhpMSAKCQkJCQkjIyBuYkhpc3RvVG90ICs9IDEgIyMgaGlzdG9pcmUgMQoJCQkJCShpLGosIGNob2l4LCBsLCBsYykgPSBjaG9peFByw6ljw6lkZW50CgkJCQkJY2hvaXhQcsOpY8OpZGVudCA9IChpLGosIGNob2l4KzEsIGwsIGxjKQoJCQkJCWxpc3RlZGVjaG9peFtuYkNob2l4ZmFpdF0gPSBjaG9peFByw6ljw6lkZW50CgkJCQkJbVMgPSBjb3B5KGxpc3RlZGFuY2llbm5lTWF0W25iQ2hvaXhmYWl0XSkKCQkJCQltSW1wID0gZGVlcGNvcHkobGlzdGVkYW5jaWVuSW1wW25iQ2hvaXhmYWl0XSkKCQkJCQlhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCQkJCQltU1tpLGpdID0gcG9wIShsYykKCQkJCQlsZXNaw6lyb3MgPSBjb3B5KGxpc3RlZGVzWsOpcm9zW25iQ2hvaXhmYWl0XSkKCQkJCQlkaWNvcsOpemxpZyA9IGRlZXBjb3B5KGxpc3RlZGljb3LDqXpsaWdbbmJDaG9peGZhaXRdKQoJCQkJCWRpY29yw6l6Y29sID0gZGVlcGNvcHkobGlzdGVkaWNvcsOpemNvbFtuYkNob2l4ZmFpdF0pCgkJCQkJZGljb3LDqXpjYXIgPSBkZWVwY29weShsaXN0ZWRpY29yw6l6Y2FyW25iQ2hvaXhmYWl0XSkKCQkJCWVsc2VpZiBsZW5ndGgobGlzdGVkZWNob2l4KSA8IDIgIyBwYXMgMiBib2wKCQkJCQkjIEBpbmZvICIyYmFsICRuYlRvdXJzVG90YWwgJG5iQ2hvaXhmYWl0IgoJCQkJCXJldHVybiBpbXBvc3NpYmxlCgkJCQllbHNlICMgSWwgZmF1dCByZXZlbmlyIGQndW4gY3JhbiBkYW5zIGxhIGxpc3RlIGhpc3RvcmlxdWUKCQkJCQltYXAocG9wISwobGlzdGVkZWNob2l4LGxpc3RlZGFuY2llbm5lTWF0LGxpc3RlZGFuY2llbkltcCwgbGlzdGVkZXNaw6lyb3MsbGlzdGVkaWNvcsOpemxpZyxsaXN0ZWRpY29yw6l6Y29sLGxpc3RlZGljb3LDqXpjYXIpKQoJCQkJCW5iQ2hvaXhmYWl0IC09IDEKCQkJCQljaG9peFByw6ljw6lkZW50ID0gbGlzdGVkZWNob2l4W25iQ2hvaXhmYWl0XQoJCQkJZW5kCgkJCWVsc2UgIyBOb3V2ZWF1IGNob2l4IMOgIGZhaXJlIGV0IMOgIGdhcmRlciBlbiBtw6ltb2lyZQoJCQkJcHVzaCEobGlzdGVkZWNob2l4LCBjaG9peEFmYWlyZSkgIyBpY2kgcGFzIGJlc29pbiBkZSBjb3BpZQoJCQkJcHVzaCEobGlzdGVkYW5jaWVubmVNYXQgLCBjb3B5KG1TKSkgIyBjb3BpZSBlbiBkdXIKCQkJCXB1c2ghKGxpc3RlZGFuY2llbkltcCAsIGRlZXBjb3B5KG1JbXApKSAjIGNvcGllIGVuIGR1cgoJCQkJZGVsZXRlIShsZXNaw6lyb3MsIGxlWsOpcm/DoFN1cHByKSAjIE9uIHJldGlyZSBjZXV4Li4uIGlkZW0gc2V0CgkJCQlwdXNoIShsaXN0ZWRlc1rDqXJvcyAsIGNvcHkobGVzWsOpcm9zKSkgIyBjb3BpZSBlbiBkdXIgYXVzc2kKCQkJCW5iQ2hvaXhmYWl0ICs9IDEKCgkJCQlpc3VwcHIgPSBsZVrDqXJvw6BTdXBwclsxXQoJCQkJanN1cHByID0gbGVaw6lyb8OgU3VwcHJbMl0KCQkJCWtzdXBwciA9IGxlWsOpcm/DoFN1cHByWzNdCgkJCQkjIyBtU1tjaG9peEFmYWlyZVsxOjJdLi4uXSA9IHBvcCEoY2hvaXhBZmFpcmVbNV0pCgkJCQltU1tpc3VwcHIsIGpzdXBwcl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoKCQkJCWRlbGV0ZSEoZGljb3LDqXpsaWdbaXN1cHByXSxqc3VwcHIpCgkJCQlkZWxldGUhKGRpY29yw6l6Y29sW2pzdXBwcl0saXN1cHByKQoJCQkJZGVsZXRlIShkaWNvcsOpemNhcltrc3VwcHJdLChpc3VwcHIsanN1cHByKSApCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6bGlnLCBkZWVwY29weShkaWNvcsOpemxpZykpCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6Y29sLCBkZWVwY29weShkaWNvcsOpemNvbCkpCgkJCQlwdXNoIShsaXN0ZWRpY29yw6l6Y2FyLCBkZWVwY29weShkaWNvcsOpemNhcikpCgoJCQkJY2hvaXhQcsOpY8OpZGVudCA9IGNob2l4QWZhaXJlCgkJCWVuZCAKCQllbHNlICMgIcOnYU5hdmFuY2VQYXMgJiYgIWFsbGVyQXVDaG9peFN1aXZhbnQgIyMgVG91dCB2YSBiaWVuIGljaQoJCQlzZXRkaWZmIShsZXNaw6lyb3MsIGxlc1rDqXJvc8OgU3VwcHIpICMgT24gcmV0aXJlIGNldXggcmVtcGxpcyAKCQkJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJZW5kCQoJZW5kCglyZXR1cm4gdG91dGVzdGJpZW5xdWlmaW5pdGJpZW4obVMsIG5iQ2hvaXhmYWl0LCBuYlRvdXJzVG90YWwpCiAgZW5kCiMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjCiMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjICMgIyAjIAogIGZ1bmN0aW9uIHLDqXNvdXRTdWRva3UoSlN1ZG9rdTo6VmVjdG9ye1ZlY3RvcntJbnR9fSA7IG5iVG91cnNNYXg6OkludCA9IDgxKSAKCW5iVG91cnNUb3RhbDo6SW50ID0gMAoJbVM6OkFycmF5e0ludCwyfSA9IGxpc3RlSlPDoG1hdHJpY2UoSlN1ZG9rdSkgIyBDb252ZXJ0aSBlbiB2cmFpZSBtYXRyaWNlCglsZXNaw6lyb3MgPSBTZXQoc2h1ZmZsZSEoWyhpLGopIGZvciBqIGluIDE6OSwgaSBpbiAxOjkgaWYgbVNbaSxqXT09MF0pKQoJbGlzdGVkZWNob2l4ID0gVHVwbGV7SW50LEludCxJbnQsSW50LFNldHtJbnR9fVtdCglsaXN0ZWRhbmNpZW5uZU1hdCA9IEFycmF5e0ludCwyfVtdCglsaXN0ZWRlc1rDqXJvcyA9IFNldHtUdXBsZXtJbnQsSW50fX1bXQoJbmJDaG9peGZhaXQgPSAwCgltaW5DaG9peGRlc1rDqXJvcyA9IDEwCglhbGxlckF1Q2hvaXhTdWl2YW50ID0gZmFsc2UKCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZSA9ICgwLDAsMCwwLFNldHtJbnR9KCkpIAoJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyBQZXJtZXQgZGUgdm9pciBzaSByaWVuIG5lIHNlIHJlbXBsaXQgZW4gdW4gdG91cgoJbGVzWsOpcm9zw6BTdXBwcj1TZXR7VHVwbGV7SW50LEludH19KCkKCWlmIHbDqXJpZlN1ZG9rdUJvbihtUykKCQl3aGlsZSAhaXNlbXB0eShsZXNaw6lyb3MpICYmIG5iVG91cnNUb3RhbCA8IG5iVG91cnNNYXgKCQkjIyBmb3IgbmJ0IGluIDE6bmJUb3Vyc01heCAjIyMgbWF1dmFpc2UgaWTDqWUKCQkJIyMgaXNlbXB0eShsZXNaw6lyb3MpICYmIChuYlRvdXJzVG90YWwgKz0gbmJ0IC0gMTsgYnJlYWspCgkJCWlmICFhbGxlckF1Q2hvaXhTdWl2YW50CgkJCQluYlRvdXJzVG90YWwgKz0gMQoJCQkJw6dhTmF2YW5jZVBhcyA9IHRydWUgIyByZXNldCDDoCBjaGFxdWUgdG91ciA/IGlkZW0gcG91ciBsZSByZXN0ZSA/CgkJCQltaW5DaG9peGRlc1rDqXJvcyA9IDEwCgkJCQlmb3IgKGksaikgaW4gbGVzWsOpcm9zCgkJCQkJbGlzdGVjaGlmZnJlID0gc2ltcGxlY2hpZmZyZVBvc3NpYmxlKG1TLGksaikgCgkJCQkJaWYgaXNlbXB0eShsaXN0ZWNoaWZmcmUpCgkJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSB0cnVlICMgZG9uYyBtYXV2YWlzIGNob2l4CgkJCQkJCWxlc1rDqXJvc8OgU3VwcHI9U2V0e1R1cGxle0ludCxJbnR9fSgpCgkJCQkJCWJyZWFrCgkJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWNoaWZmcmUpID09IDEgIyBMJ2lkw6lhbCwgdW5lIHNldWxlIHBvc3NpYmlsaXTDqQoJCQkJCQltU1tpLGpdPWNvbGxlY3QobGlzdGVjaGlmZnJlKVsxXSAjIyBhdmFudCBsZSBTZXQgZW4gbGlzdGUKCQkJCQkJIyBtU1tpLGpdPXBvcCEobGlzdGVjaGlmZnJlKSAjIyBuZSBmb25jdGlvbm5lIHBhcwoJCQkJCQlwdXNoIShsZXNaw6lyb3PDoFN1cHByLCAoaSxqKSkKCQkJCQkJw6dhTmF2YW5jZVBhcyA9IGZhbHNlICMgQ2FyIG9uIGEgcsOpdXNzaSDDoCByZW1wbGlyCgkJCQkJZWxzZWlmIMOnYU5hdmFuY2VQYXMgJiYgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPCBtaW5DaG9peGRlc1rDqXJvcwoJCQkJCQltaW5DaG9peGRlc1rDqXJvcyA9IGxlbmd0aChsaXN0ZWNoaWZmcmUpCgkJCQkJCWNob2l4QWZhaXJlID0gKGksaiwgMSwgbWluQ2hvaXhkZXNaw6lyb3MsIGxpc3RlY2hpZmZyZSkgIAoJCQkJCQllbmQgIyAuLi4gbGUgbW9pbnMgZGUgY2hvaXggw6AgZmFpcmUsIHNpIMOnYSBuJ2F2YW5jZSBwYXMKCQkJCWVuZAoJCQllbmQKCQkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCB8fCDDp2FOYXZhbmNlUGFzIAoJCQkJaWYgYWxsZXJBdUNob2l4U3VpdmFudCAjIFNpIGxlIGNob2l4IGVuIGNvdXJzIG4nZXN0IHBhcyBib24KCQkJCQlpZiBpc2VtcHR5KGxpc3RlZGVjaG9peCkgIyBwYXMgZGUgYm9sIGhlaW4KCQkJCQkJcmV0dXJuIGltcG9zc2libGUKCQkJCQllbHNlaWYgY2hvaXhQcsOpY8OpZGVudFszXSA8IGNob2l4UHLDqWPDqWRlbnRbNF0gIyBBbGxlciBhdSBzdWl2YW50IAoJCQkJCQkoaSxqLCBjaG9peCwgbCwgbGMpID0gY2hvaXhQcsOpY8OpZGVudAoJCQkJCQljaG9peFByw6ljw6lkZW50ID0gKGksaiwgY2hvaXgrMSwgbCwgbGMpCgkJCQkJCWxpc3RlZGVjaG9peFtuYkNob2l4ZmFpdF0gPSBjaG9peFByw6ljw6lkZW50CgkJCQkJCW1TID0gY29weShsaXN0ZWRhbmNpZW5uZU1hdFtuYkNob2l4ZmFpdF0pCgkJCQkJCWFsbGVyQXVDaG9peFN1aXZhbnQgPSBmYWxzZQoJCQkJCQltU1tpLGpdID0gcG9wIShsYykKCQkJCQkJbGVzWsOpcm9zID0gY29weShsaXN0ZWRlc1rDqXJvc1tuYkNob2l4ZmFpdF0pCgkJCQkJZWxzZWlmIGxlbmd0aChsaXN0ZWRlY2hvaXgpIDwgMiAjIHBhcyAyIGJvbAoJCQkJCQlyZXR1cm4gaW1wb3NzaWJsZQoJCQkJCWVsc2UgIyBJbCBmYXV0IHJldmVuaXIgZCd1biBjcmFuIGRhbnMgbGEgbGlzdGUgaGlzdG9yaXF1ZSAKCQkJCQkJbWFwKHBvcCEsKGxpc3RlZGVjaG9peCxsaXN0ZWRhbmNpZW5uZU1hdCwgbGlzdGVkZXNaw6lyb3MpKQoJCQkJCQluYkNob2l4ZmFpdCAtPSAxCgkJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBsaXN0ZWRlY2hvaXhbbmJDaG9peGZhaXRdCgkJCQkJZW5kCgkJCQllbHNlICMgTm91dmVhdSBjaG9peCDDoCBmYWlyZSBldCDDoCBnYXJkZXIgZW4gbcOpbW9pcmUgCgkJCQkJcHVzaCEobGlzdGVkZWNob2l4LCBjaG9peEFmYWlyZSkgIyBpY2kgcGFzIGJlc29pbiBkZSBjb3BpZQoJCQkJCXB1c2ghKGxpc3RlZGFuY2llbm5lTWF0ICwgY29weShtUykpICMgY29waWUgZW4gZHVyCgkJCQkJZGVsZXRlIShsZXNaw6lyb3MsIGNob2l4QWZhaXJlWzE6Ml0pICMgT24gcmV0aXJlIGNldXguLi4gaWRlbSBzZXQgPwoJCQkJCXB1c2ghKGxpc3RlZGVzWsOpcm9zICwgY29weShsZXNaw6lyb3MpKSAjIGNvcGllIGVuIGR1ciBhdXNzaSAKCQkJCQluYkNob2l4ZmFpdCArPSAxCgkJCQkJbVNbY2hvaXhBZmFpcmVbMToyXS4uLl0gPSBwb3AhKGNob2l4QWZhaXJlWzVdKQoJCQkJCWNob2l4UHLDqWPDqWRlbnQgPSBjaG9peEFmYWlyZQoJCQkJZW5kIAoJCQllbHNlICMgIcOnYU5hdmFuY2VQYXMgJiYgIWFsbGVyQXVDaG9peFN1aXZhbnQgIyMgVG91dCB2YSBiaWVuIGljaQoJCQkJc2V0ZGlmZiEobGVzWsOpcm9zLCBsZXNaw6lyb3PDoFN1cHByKSAjIE9uIHJldGlyZSBjZXV4IHJlbXBsaXMgCgkJCQlsZXNaw6lyb3PDoFN1cHByPVNldHtUdXBsZXtJbnQsSW50fX0oKQoJCQllbmQJCgkJZW5kCgllbHNlIHJldHVybiDDoGNvcnJpZ2VyCgllbmQKCWlmIG5iVG91cnNUb3RhbCA9PSBuYlRvdXJzTWF4IHx8IG5iVG91cnNUb3RhbCA+IG5iVG91cnNNYXgKCQltQ29waWUgPSBnZXQobGlzdGVkYW5jaWVubmVNYXQsIDEsIGNvcHkobVMpKQoJCXZaw6lyb3MgPSBTZXR7VHVwbGV7SW50LEludCxJbnQsVW5pdFJhbmdle0ludH0sVW5pdFJhbmdle0ludH19fSgpCgkJZGljb3LDqXpsaWcgPSBEaWN0e0ludCwgU2V0e0ludH19KCkKCQlkaWNvcsOpemNvbCA9IERpY3R7SW50LCBTZXR7SW50fX0oKQoJCWRpY29yw6l6Y2FyID0gRGljdHtJbnQsIFNldHtUdXBsZXtJbnQsSW50fX19KCkKCQlmb3IgaiBpbiAxOjksIGkgaW4gMTo5IAoJCQlpZiBtQ29waWVbaSxqXT09MAoJCQkJayA9IGtlbGNhcnLDqShpLGopCgkJCQlwdXNoISh2WsOpcm9zLCAoaSxqLGssY2FycihpKSxjYXJyKGopKSApCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6bGlnLGksU2V0e0ludH0oKSApLGopCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6Y29sLGosU2V0e0ludH0oKSApLGkpCgkJCQlwdXNoIShnZXQhKGRpY29yw6l6Y2FyLGssU2V0e1R1cGxle0ludCxJbnR9fSgpICksKGksaikgKQoJCQllbmQKCQllbmQgCgkJcmV0dXJuIHLDqXNvdXRTdWRva3VNYXgobUNvcGllLCB2WsOpcm9zLCBkaWNvcsOpemxpZywgZGljb3LDqXpjb2wsIGRpY29yw6l6Y2FyOyB0b3Vycz1uYlRvdXJzVG90YWwpIAoJZWxzZSByZXR1cm4gdG91dGVzdGJpZW5xdWlmaW5pdGJpZW4obVMsIG5iQ2hvaXhmYWl0LCBuYlRvdXJzVG90YWwpCgllbmQKICBlbmQKICByanMgPSByw6lzb3V0U3Vkb2t1ICMjIG1pbmkgdmVyc2lvbiAgICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjICMjCiAgcm1hdCA9IHLDqXNvdXRTdWRva3Ug4oiYIG1hdHJpY2XDoGxpc3RlSlMgIyMgbWluaSB2ZXJzaW9uICAgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMgIyMKIyBGaW4gZGUgbGEgZm9uY3Rpb24gcHJpbmNpcGFsZSA6IHLDqXNvdXRTdWRva3UgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICBmdW5jdGlvbiBzdWRva3VBbMOpYXRvaXJlRmluaSgpICMjIEfDqW7DqHJlIHVuIHN1ZG9rdSBhbMOpYXRvaXJlIGZpbmkgKGF1Y3VuIHZpZGUpCglyZXR1cm4gbGlzdGVKU8OgbWF0cmljZShyw6lzb3V0U3Vkb2t1KGpzdmQoKSlbMV0pCiAgZW5kCiAgZnVuY3Rpb24gc3Vkb2t1QWzDqWF0b2lyZSh4PTE5OjYyIDsgZnVuPXJhbmQsIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCkpI3JhbmQxOjgxCiAgIyBVbmUgZm9pcyBsZSBzdWRva3VBbMOpYXRvaXJlRmluaSwgb24gbGUgdmlkZSB1biBwZXUgZCd1biBub21icmUgeCBkZSBjZWxsdWxlcwoJaWYgIWlzYSh4LCBJbnQpICMgUGVybWV0IGRlIGNob2lzaXIgbGUgbm9tYnJlIGRlIHrDqXJvIG91IHVuIGludGVydmFsZQoJCXg9ZnVuKHgpCgllbmQKCXggPSAoMCA8PSB4IDwgODIpID8geCA6IDgxICMgUG91ciBjZXV4IGF1eCBncm9zIGRvaWd0cywgb3UgcXVpIHZvaXQgdHJvcCBncmFuZAoJbGlzdGUgPSBzaHVmZmxlIShbKGksaikgZm9yIGkgaW4gMTo5IGZvciBqIGluIDE6OV0pCglmb3IgKGksaikgaW4gbGlzdGVbMTp4XSAjIG5iQXBwcm94RGVaw6lyb3MKCQltYXR6w6lyb1tpLGpdID0gMAoJZW5kCglyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhtYXR6w6lybykKICBlbmQKCiAgZnVuY3Rpb24gdmlldXhTdWRva3UhKG5vdXZlYXU9c3Vkb2t1QWzDqWF0b2lyZSgpIDsgZMOpZmF1dD1mYWxzZSwgbcOpbW9pcmU9U3Vkb2t1TcOpbW8sIG1hdHrDqXJvPXN1ZG9rdUFsw6lhdG9pcmVGaW5pKCksIGlkTGllbj0ibGllbiIqc3RyaW5nKHJhbmQoSW50KSkpCiAgIyBPbiBwZXV0IHJldHJvdXZlciB1biB2aWV1eFN1ZG9rdSEgcG91ciBsZSBtZXR0cmUgYXUgbGlldSBkdSBzdWRva3UgaW5pdGlhbAogICMjIEV4ZW1wbGUgZGUgc3Vkb2t1IDoKICAjIHZpZXV4U3Vkb2t1IShbWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDMsMCw4LDVdLFswLDAsMSwwLDIsMCwwLDAsMF0sWzAsMCwwLDUsMCw3LDAsMCwwXSxbMCwwLDQsMCwwLDAsMSwwLDBdLFswLDksMCwwLDAsMCwwLDAsMF0sWzUsMCwwLDAsMCwwLDAsNywzXSxbMCwwLDIsMCwxLDAsMCwwLDBdLFswLDAsMCwwLDQsMCwwLDAsOV1dKQoJaWYgZMOpZmF1dD09dHJ1ZSAjIE3DqWdhbG9tYW5pZSAjIyBPbiByZXZpZW50IMOgIG1vbiBkw6lmYXV0IF5eCgkJbcOpbW9pcmVbMl0gPSBjb3B5KG3DqW1vaXJlWzRdKQoJZWxzZWlmIGlzYShub3V2ZWF1LCBJbnQpIHx8IGlzYShub3V2ZWF1LCBVbml0UmFuZ2V7SW50fSkKCQltw6ltb2lyZVsyXSA9IHN1ZG9rdUFsw6lhdG9pcmUobm91dmVhdSA7IG1hdHrDqXJvPW1hdHrDqXJvKQoJZWxzZWlmIG5vdXZlYXU9PW3DqW1vaXJlWzFdIAoJCW3DqW1vaXJlWzJdID0gc3Vkb2t1QWzDqWF0b2lyZSgpCgllbHNlIG3DqW1vaXJlWzJdID0gY29weShub3V2ZWF1KSAjIEFzdHVjZSBwb3VyIHNhdXZlciBsZSBzdWRva3UgZW4gY291cnMKCWVuZAoJcmV0dXJuIERvY3MuSFRNTCgiIiI8c2NyaXB0PgoJdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJNb2RpZmllckluaXQiKTsKCWZvcih2YXIgbmk9MDtuaTxlbGUubGVuZ3RoO25pKyspCgkJZWxlW25pXS5jaGVja2VkID0gZmFsc2U7CgoJZnVuY3Rpb24gZ29TdWRva3VJbmkoKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIk1vZGlmaWVySW5pdCIpWzFdLmNsaWNrKCk7Cgl9Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiJGlkTGllbiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZ29TdWRva3VJbmkpOwoJZ29TdWRva3VJbmkoKTsKCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIiNNb2RpZmllckluaXQiOwoJPC9zY3JpcHQ+PGg2IHN0eWxlPSJtYXJnaW4tdG9wOiAwOyI+IENpLWRlc3NvdXMsIGxlIGJvdXRvbsKg4pa2IHJlc3RvcmUgbGUgdmlldXggc3Vkb2t1IGVuIHN1ZG9rdSBpbml0aWFswqAhwqDwn6WzIDxhIGlkPSIkaWRMaWVuIiBocmVmPScjTW9kaWZpZXJJbml0Jz4gcmV0b3VywqBlbsKgaGF1dMKg4oaRIDwvYT4gPC9oNj4iIiIpCiAgZW5kCiAgdmlldXggPSB2cyA9IHZzISA9IHZTISA9IHZpZXV4U3Vkb2t1ISAjIyBtaW5pIHZlcnNpb24KICB2c2QoKSA9IHZpZXV4U3Vkb2t1IShkw6lmYXV0PXRydWUpICMjIFBvdXIgcmV2ZW5pciDDoCBsJ29yaWdpbmFsCiAgaW5pID0gZMOpZmF1dCA9IGRlZmF1dCA9IHZzZCAjIyBtaW5pIHZlcnNpb24KICBzdWRva3Vpbml0aWFsISgpID0gdmlldXhTdWRva3UhKFN1ZG9rdU3DqW1vWzNdKQogIHZpZXV4U3Vkb2t1IShub3V2ZWF1OjpBcnJheXtJbnQsMn0gOyBkw6lmYXV0PWZhbHNlLCBtw6ltb2lyZT1TdWRva3VNw6ltbywgbWF0esOpcm89c3Vkb2t1QWzDqWF0b2lyZUZpbmkoKSwgaWRMaWVuPSJsaWVuIipzdHJpbmcocmFuZChJbnQpKSkgPSB2aWV1eFN1ZG9rdSEobWF0cmljZcOgbGlzdGVKUyhub3V2ZWF1Jyk7IGTDqWZhdXQ9ZMOpZmF1dCwgbcOpbW9pcmU9bcOpbW9pcmUsIG1hdHrDqXJvPW1hdHrDqXJvLCBpZExpZW49aWRMaWVuKQoKICAjPSBEJ2F1dHJlcyBmb25jdGlvbnMgc2kgYmVzb2luIHBvdXIgdGVzdGVyIGV0IHJlcMOpcmVyIGRlcyBlcnJldXJzIDoKICBmdW5jdGlvbiBzdWRva3VBbHQobmJDaGlmZnJlc01heD1yYW5kKDI2OjgxKSwgbW9pbnNPSz10cnVlLCBuYmVzc2FpPTEpIAogICMgU29ydGUgZGUgc3Vkb2t1QWzDqWF0b2lyZSBtYWlzIHVuIHBldSBwbHVzIGZvaXJldXgsIGVuIGVmZmV0LCBpbCBuJ2VzdCBwYXMgZm9yY8OpbWVudCByw6lhbGlzYWJsZS4gQyfDqXRhaXQgc3VydG91dCBwb3VyIGZhaXJlIGRlcyB0ZXN0cy4KCW5iQ2hpZmZyZXMgPSAxCgkKCW1TOjpBcnJheXtJbnQsMn0gPSB6ZXJvcyhJbnQsIDksOSkgIyBNYXRyaWNlIGRlIHrDqXJvCglsZXNaw6lyb3MgPSBzaHVmZmxlIShbKGksaikgZm9yIGogaW4gMTo5LCBpIGluIDE6OV0pIyBGYXN0ICYgRnVyaW91cwoJCglmb3IgKGksaikgaW4gbGVzWsOpcm9zCgkJaWYgbmJDaGlmZnJlcyA+IG5iQ2hpZmZyZXNNYXgKCQkJcmV0dXJuIG1TCgkJZWxzZSAKCQlsaXN0ZWNoaWZmcmUgPSBzaW1wbGVjaGlmZnJlUG9zc2libGUobVMsaSxqKQoJCQlpZiBpc2VtcHR5KGxpc3RlY2hpZmZyZSkgIyMjIFBhcyBib24gc2lnbmUgXl4KCQkJCWlmIG1vaW5zT0sgfHwgbmJlc3NhaSA+IDI2CgkJCQkJcmV0dXJuIG1TCgkJCQllbHNlIAoJCQkJCXJldHVybiBzdWRva3VBbHQobmJDaGlmZnJlc01heCwgZmFsc2UsIG5iZXNzYWkrMSkKCQkJCWVuZAoJCQllbHNlICMgbGVuZ3RoKGxpc3RlY2hpZmZyZSkgPT0gMSAjIEwnaWTDqWFsLCB1bmUgc2V1bGUgcG9zc2liaWxpdMOpCgkJCQkjIG1TW2ksal09Y29sbGVjdChsaXN0ZWNoaWZmcmUpWzFdCgkJCQltU1tpLGpdPXBvcCEobGlzdGVjaGlmZnJlKQoJCQkJbmJDaGlmZnJlcyArPSAxCgkJCWVuZAoJCWVuZAoJZW5kCiAgZW5kCiAgc2FsdCA9IHN1ZG9rdUFsdCAjIyBtaW5pIHZlcnNpb24KICBmdW5jdGlvbiBibGluZHRlc3QobmJ0ZXN0PTEwMCA7IHRtYXg9ODEsIG5iesOpcm8gPSAocmFuZCwgNzo3NyksIHN1ZGY9c3Vkb2t1QWzDqWF0b2lyZUZpbmkpCiAgIyBQZXJtZXQgZGUgdGVzdGVyIGxhIHJhcGlkaXTDqSBldCBjZXJ0YWlucyBidWdzIGRlIG1hIGZvbmN0aW9uIHByaW5jaXBhbGUgcsOpc291dFN1ZG9rdS4gQydlc3QgZG9uYyB1bmUgZm9uY3Rpb24gcXVpIGVzdCB0ZWNobmlxdWUgZXQgcXVpIHNlcnQgc3VydG91dCBxdWFuZCBpbCB5IGEgZGVzIMOpdm9sdXRpb25zIGRlIGNldHRlIGZvbmN0aW9uLgoJbmJ6w6lyb2YoKSA9IGlzYShuYnrDqXJvLFR1cGxlKSA/IG5iesOpcm89bmJ6w6lyb1sxXShuYnrDqXJvWzJdKSA6IE5vdGhpbmcKCWZvciBpIGluIDE6bmJ0ZXN0CgkJc3VkaW5pID0gc3VkZigpCgkJbmJ6w6lyb2YoKQoJCXN1ZGFsw6lhID0gc3Vkb2t1QWzDqWF0b2lyZShuYnrDqXJvLCBmdW49aWRlbnRpdHksIG1hdHrDqXJvPWNvcHkoc3VkaW5pKSkKCQkjIHRyeSAKCQkjIAlyw6lzb3V0U3Vkb2t1KHN1ZGFsw6lhIDsgbmJUb3Vyc01heD10bWF4KQoJCSMgY2F0Y2ggZQoJCSMgCXJldHVybiAoImJ1ZyIsIGUsIHN1ZGFsw6lhKQoJCSMgZW5kCgkJc29sdWNlID0gcsOpc291dFN1ZG9rdShzdWRhbMOpYSA7IG5iVG91cnNNYXg9dG1heCkKCQlpZiBzb2x1Y2VbMV0gaXNhIFN0cmluZwoJCQkjIyBpZiBzdWRmPT1zdWRva3VBbMOpYXRvaXJlRmluaSB8fCBzb2x1Y2VbMV0gIT0gaW1wb3NzaWJsZVsxXQoJCSMgaWYgc29sdWNlWzFdID09IGltcG9zc2libGVbMV0KCQkjIGlmIHNvbHVjZVsxXSA9PSDDoGNvcnJpZ2VyWzFdCgkJCQlyZXR1cm4gbWF0cmljZcOgbGlzdGVKUyhzdWRpbmkpLCBpLCBuYnrDqXJvLCBzb2x1Y2UsIHN1ZGluaSwgIHJlcGxhY2UoInZpZXV4KCAkKG1hdHJpY2XDoGxpc3RlSlMoc3VkaW5pKSkgKSIsIiAiPT4iIiksIHN1ZGFsw6lhLCByZXBsYWNlKCJ2aWV1eCgkc3VkYWzDqWEpIiwiICI9PiIiKQoJCQkjIGVuZAoJCWVuZAoJZW5kCglyZXR1cm4gW1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMiwzLDAsMCwwLDEsNSwwXSxbNywwLDAsNCwwLDIsMCwwLDZdLFswLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCw3LDIsMCwwLDAsOCw0LDBdLFswLDEsNCwwLDAsMCw3LDksMF0sWzAsMCw3LDksMiw0LDMsMCwwXSxbMCwwLDAsMSw1LDcsMCwwLDBdXSwgIlRvdXQgdmEgYmllbi4uLiBwb3VyIGxlIG1vbWVudCDwn5GNIgoJIyByZXR1cm4gIlRvdXQgdmEgYmllbi4uLiBwb3VyIGxlIG1vbWVudCDwn5GNIgogIGVuZAogIGJ0ID0gdGVzdG1lID0gYmxpbmR0ZXN0ICMjIG1pbmkgdmVyc2lvbiA9IwogICMjIGV4ZW1wbGV0ZXN0ID0gYnQoMTAwLHN1ZGY9c2FsdCk7dmlldXgoZXhlbXBsZXRlc3RbMV0pCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCmVuZDsgbm90aGluZzsgIyBzdHlsw6lsw6BiYXNhdmVjYm9udXMhICMjIHZvaXIganVzdGUgZGFucyBsYSBjZWxsdWxlICNCb251cyBhdSBkZXNzdXMg4oaRCiMgVm9pbMOgICEgZmluIGRlIGxhIHBsdXBhcnQgZHUgY29kZSBkZSBjZSBwcm9ncmFtbWUgUGx1dG9rdS5qbKtjb2RlX2ZvbGRlZMPZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA5LTEyMzQ1Njc4OTAwOISnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDktMTIzNDU2Nzg5MDA4sHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXaBttiZWdpbgoJaWYgIWlzYSh2b2lyT3VQYXMsIFN0cmluZykgfHwgdm9pck91UGFzID09ICLwn6SrwqBDYWNow6llIgoJCU1hcmtkb3duLnBhcnNlKCAoIHN1ZG9rdVNvbHV0aW9uVnVlIGlzYSBTdHJpbmcgPyAKCQkiIyMjIyMg8J+kkCBDZWxhIGVzdCBjYWNow6kgcG91ciBsZSBtb21lbnQgY29tbWUgZGVtYW5kw6kg4pqhCk1hbGNoYW5jZSAhICIgOiAKCQkiIyMjIyMg8J+kkCBDZWxhIGVzdCBjYWNow6kgcG91ciBsZSBtb21lbnQgY29tbWUgZGVtYW5kw6kKQm9ubmUgY2hhbmNlICEgIiAKCQkpICogIlNpIGJlc29pbiwgY29jaGVyIGDwn6SrwqBDYWNow6llYCBwb3VyIHJldm9pciBjZXR0ZSBpbmZvcm1hdGlvbsKgOiAKCmBFbiB0b3VjaGFudCwgZW50cmV2b2lyIGxlcyBjaGlmZnJlc+KApmAgcGVybWV0IGVuIGNsaXF1YW50IGRlIGZhaXJlIGFwcGFyYcOudHJlIGxlIGNvbnRlbnXigKZcXApfKGNsaXF1ZXIgc3VyIGxlcyBjaGlmZnJlcyBlbiBibGV1IHBvdXIgdG91dCByZWZhaXJlIGRpc3BhcmHDrnRyZSlfIAoKICAgLSBg4oCmcGFywqBjaGlmZnJlYCBtb250cmUgc2kgbGUgY2hpZmZyZSBlc3QgcG9zc2libGUsIGVuIGNsaXF1YW50IHByw6ljaXPDqW1lbnTCoDogZHXCoDHCoGVuwqBoYXV0wqDDoMKgZ2F1Y2hlLCBhdSA5wqBlbsKgYmFzwqDDoMKgZHJvaXRlIGRlIGxhIGNhc2Ug4oaSwqBsZcKgNcKgZXN0IGRvbmMgYXUgY2VudHJlCiAgIC0gYOKApnBhcsKgY2FzZcKg8J+UomAgbW9udHJlIGxhIGwnZW5zZW1ibGXCoGRlcyBjaGlmZnJlcyBwb3NzaWJsZXMgcGFyIGNhc2UKICAgLSBg4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclClgIGZhaXQgbGUgY29tcHRlIGRlIGwnZW5zZW1ibGUuIExhIG91IGxlcyBjYXNlcyBhdmVjwqBg4pyUYCDDoCBsYSBwbGFjZSBkdcKgOSBvbnQgbGVzIHBsdXMgcGV0aXRzIG5vbWJyZSBkZSBwb3NzaWJpbGl0w6lzIGR1IHN1ZG9rdQogICAtIHNldWwgYOKApmRlwqBsYcKgc29sdXRpb27CoPCfmqlgIG1vbnRyZSAodW4gb3UpIGRlcyBjaGlmZnJlcyBkdSBzdWRva3UgZmluaQoKRCd1biBjb3VwIGBQb3VyIHRvdXRlcyBsZXMgY2FzZXMsIHZvaXIgbGVzIGNoaWZmcmVz4oCmYCBkZSBsYSBzb3VzLWNhdMOpZ29yaWUgY2hvaXNpZQoKRW5maW4sIGlsIHkgYSBkZXV4IG9wdGlvbnPCoDogIApgQ2Fyb2xpZ25lwqDimpRgIG1vbnRyZSBsZXMgY2FzZXMgbGnDqWVzIOKGksKgY2FycsOpLCBjb2xvbm5lLCBsaWduZcKgOyBcXApvdSBgQ29jaGVywqBpY2ksIHB1aXMgdG91Y2hlciBsZSBjaGlmZnJlIMOgIG1ldHRyZSBkYW5zIGxlIFN1ZG9rdcKgaW5pdGlhbGAiICkKCWVsc2VpZiBQcm9wYWxPdVNvbHVjZSA9PSAi4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqSIgIyB8fCBQcm9wYWxPdVNvbHVjZSBpc2EgTWlzc2luZwoJCWh0bWxTdWRva3Uoc3Vkb2t1U29sdXRpb25WdWUsYmluZEpTdWRva3UgOyB0b3V0Vm9pcj0gKHZvaXJPdVBhcz09IlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiKSApCgllbHNlIGh0bWxTdWRva3VQcm9wYWwoYmluZEpTdWRva3Usc3Vkb2t1U29sdXRpb25WdWUgOyB0b3V0Vm9pcj0gKHZvaXJPdVBhcz09IlBvdXIgdG91dGVzIGxlcyBjYXNlcywgdm9pciBsZXMgY2hpZmZyZXPigKYiKSwgcGFyQ2FzZT0gKFByb3BhbE91U29sdWNlID09IuKApnBhcsKgY2FzZcKg8J+UoiIpLCBzb21tZT0gKFByb3BhbE91U29sdWNlPT0i4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCkiKSkKCWVuZAplbmSrY29kZV9mb2xkZWTD2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNi0xMjM0NTY3ODkwMDSEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNLBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2gHvYmVnaW4gCglTdWRva3VNw6ltb1szXSA9IGJpbmRKU3Vkb2t1ICMgUG91ciBxdWUgbGUgc3Vkb2t1IGVuIGNvdXJzIChpbml0aWFsIG1vZGlmacOpKSByZXN0ZSBlbiBtw6ltb2lyZSBzaSBiZXNvaW4gLT4gUmV0b3VyIGluc3RhbnRhbsOpIDspIAoJc3Vkb2t1U29sdXRpb24gPSByw6lzb3V0U3Vkb2t1KGJpbmRKU3Vkb2t1KSAjIGNhbGN1bGUgbGEgc29sdXRpb24KCSMgc3Vkb2t1U29sdXRpb24gPSByw6lzb3V0U3Vkb2t1KGJpbmRKU3Vkb2t1OyBuYlRvdXJzTWF4PTApICMjIFBvdXIgcmFsZW50aXIg8J+QjPCfkKIKCXN1ZG9rdVNvbHV0aW9uVnVlID0gc3Vkb2t1U29sdXRpb25bMV0KCXN1ZG9rdVNvbHV0aW9uWzJdICMgTGEgcGV0aXRlIGV4cGxpY2F0aW9uIHNldWxlIDogImlsIGEgZmFsbHUgWFggY2hvaXguLi4iCmVuZCAjIyMgbWVzdXJhYmxlIGF2ZWMgIyMgdXNpbmcgQmVuY2htYXJrVG9vbHMgIyBAYmVuY2htYXJrIHLDqXNvdXRTdWRva3UoYmluZEpTdWRva3Upq2NvZGVfZm9sZGVkw9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDgtMTIzNDU2Nzg5MDA3hKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwOC0xMjM0NTY3ODkwMDewcnVubmluZ19kaXNhYmxlZMKkY29kZdoEpG1kIiIiJChAYmluZCB2b2lyT3VQYXMgQm9uZEphbWVzQm9uZChwdWNlcyhbIvCfpKvCoENhY2jDqWUiLCAiRW4gdG91Y2hhbnQsIGVudHJldm9pciBsZXMgY2hpZmZyZXPigKYiLCAiUG91ciB0b3V0ZXMgbGVzIGNhc2VzLCB2b2lyIGxlcyBjaGlmZnJlc+KApiJdLCLwn6SrwqBDYWNow6llIjsgaWRQdWNlcz0iQ2FjaGVyUsOpc3VsdGF0IiksICLwn6SrwqBDYWNow6llIikgKSAKCiQoaHRtbCI8ZGl2IHN0eWxlPSdtYXJnaW46IDJweDsgYm9yZGVyLWJvdHRvbTogbWVkaXVtIGRhc2hlZCAjNzc3Oyc+PC9kaXY+IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiQoQGJpbmQgUHJvcGFsT3VTb2x1Y2UgQm9uZEphbWVzQm9uZChwdWNlcyhbIuKApnBhcsKgY2hpZmZyZSIsICLigKZwYXLCoGNhc2XCoPCflKIiLCAi4oCmcGFywqB0b3RhbMKgKG1pbmltdW3CoD3CoOKclCkiLCAi4oCmZGXCoGxhwqBzb2x1dGlvbsKg8J+aqSJdLCAi4oCmcGFywqBjaGlmZnJlIjsgaWRQdWNlcz0iUG9zc2libGVzRXRTb2x1dGlvbiIsIGNsYXNzZT0icGFzbGEiICksICLigKZwYXLCoGNoaWZmcmUiKSApIAoKJChodG1sIjxkaXYgaWQ9J2RpdmVycycgY2xhc3M9J3Bhc2xhJyBzdHlsZT0nbWFyZ2luLXRvcDogOHB4OyBtYXJnaW4tbGVmdDogMSU7IHVzZXItc2VsZWN0OiBub25lOyBmb250LXN0eWxlOiBpdGFsaWM7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzc3Nyc+PHNwYW4gaWQ9J3B1Y2Fyb2xpZ25lJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjYXJvbGlnbmUnIG5hbWU9J2Nhcm9saWduZSc+PGxhYmVsIGZvcj0nY2Fyb2xpZ25lJyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDJweDsnPkNhcm9saWduZcKg4pqUPC9sYWJlbD48L3NwYW4+IikKJChodG1sIjxzcGFuIGlkPSdwdWNob2l4w6BtZXR0cmVlbmhhdXQnIHN0eWxlPSdtYXJnaW4tbGVmdDogNSUnPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2Nob2l4w6BtZXR0cmVlbmhhdXQnIG5hbWU9J2Nob2l4w6BtZXR0cmVlbmhhdXQnPjxsYWJlbCBmb3I9J2Nob2l4w6BtZXR0cmVlbmhhdXQnIHN0eWxlPSdtYXJnaW4tbGVmdDogMnB4Oyc+Q29jaGVywqBpY2ksIHB1aXMgdG91Y2hlciBsZSBjaGlmZnJlIMOgIG1ldHRyZSBkYW5zIGxlIFN1ZG9rdcKgaW5pdGlhbDwvbGFiZWw+PC9zcGFuPjwvZGl2PiIpIiIiIKtjb2RlX2ZvbGRlZMPZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDEwLTEyMzQ1Njc4OTAwOYSnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTAtMTIzNDU2Nzg5MDA5sHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXaJlZzdHlsw6lsw6BiYXNhdmVjYm9udXMgPSAjPSBzdHlsZSBDU1MgcG91ciBsZSBzdWRva3VIVE1MLCBsZSBjb2RlIHByaW5jaXBhbCBlc3QgZGFucyBsYSBjZWxsdWxlIGNhY2jDqWUgdG91dCBlbiBiYXMsIGp1c3RlIGFwcsOocyBsYSBjZWxsdWxlIHZpZGUgX2BFbnRlcsKgY2VsbMKgY29kZS4uLmBfIiA9IyBEb2NzLkhUTUwocmF3IiIiPHN0eWxlPiAvKiBQb3VyIGxlcyBib3V0b25zIGV0ICdjb2RlJyAqLwoJaW5wdXRbdHlwZT0iYnV0dG9uIiBpXSB7Y29sb3I6IGJsYWNrOyAvKi8gc291Y2kgT3DDqXJhIGV0IENocm9tZSBkYXJrIHNpZGUgLyovfQoJcGx1dG8tb3V0cHV0LnJpY2hfb3V0cHV0IGNvZGUge2JvcmRlcjogc29saWQgMXB4ICM5YjlmOWY7IC8qLyBjb250b3VyIGZpbiAvKi99Ci8qIGF1dHJlcyBiaWRvdWlsbGVzICovCgkjdGFpZGUsICN0ZXNmb290LCAjdmFfZXRfdmllbnQge3VzZXItc2VsZWN0OiBub25lO30KCSNzdWRva3VmaW5pLCAjY29waWVmaW5pZSB7Y3Vyc29yOiBwb2ludGVyO30gLyovIGRvaWd0IGV0IG5vbiBzb3VyaXMgLyovCglpbnB1dFt0eXBlPSJyYWRpbyIgaV0ge21hcmdpbjogM3B4IDNweCAzcHggMDt9CgkucGFzbGEsIC5tYWlzdGVzb3V7IC8qIHZpc2liaWxpdHk6IGhpZGRlbjsgKi8gZmlsdGVyOiBvcGFjaXR5KDYyJSkgYmx1cigycHgpO30KCXRyI2xpZ25lbm9udmlzaWJsZSB7Ym9yZGVyLXRvcDogaGlkZGVuO30KCXBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEgLnJ1bmNlbGwge2Rpc3BsYXk6IG5vbmU7fQoJLyogcGx1dG8tY2VsbDpub3QoLnNob3dfaW5wdXQpID4gcGx1dG8tcnVuYXJlYSwgKi8KCS8qICNhMjM0NTY3OC03NjU0LTMyMTAtYjAwOS0xMjM0NTY3ODkwMDggPiBwbHV0by1ydW5hcmVhLCAqLwoJI2EyMzQ1Njc4LTc2NTQtMzIxMC1iMDA2LTEyMzQ1Njc4OTAwNCA+IHBsdXRvLXJ1bmFyZWEgewoJICAgIGRpc3BsYXk6IGJsb2NrOwoJCWJhY2tncm91bmQtY29sb3I6IHVuc2V0OwoJICAgIG9wYWNpdHk6IDE7fQovKiBQb3VyIGxlIHN1ZG9rdSBpbml0aWFsICovCgl0YWJsZS5zdWRva29vbCB7CgkJYm9yZGVyOiBoaWRkZW47CgkJbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwoJCW1hcmdpbi1ibG9jay1lbmQ6IDA7fQoJdGFibGUuc3Vkb2tvb2wgdHIge2JvcmRlcjowO30KCXRhYmxlLnN1ZG9rb29sIHRyLnRyb2lzciB7Ym9yZGVyLXRvcDogdGhpY2sgc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZCB7CgkJYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY3Vyc29yLWNvbG9yLCAjNzc3KTsgCgkJcGFkZGluZzogMCAhaW1wb3J0YW50O30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLnRyb2lzZCB7Ym9yZGVyLWxlZnQ6IHRoaWNrIHNvbGlkIHZhcigtLWN1cnNvci1jb2xvciwgIzc3Nyk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQgaW5wdXQgewoJCXRleHQtYWxpZ246IGNlbnRlcjsKCQlmb250LXNpemU6IDE0cHQ7CgkJd2lkdGg6IDEwMCU7CgkJaGVpZ2h0OiAxMDAlOwoJCWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwoJCWJvcmRlcjowO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLmRhbWllcnsKCQliYWNrZ3JvdW5kLWNvbG9yOiM3Nzc3NzcyNjsgfSAvKiAjNzc3IG91ICM3Nzc3NzcgYWRvdWNpICovCi8qIFBvdXIgbGUgcsOpc3VsdGF0IG91IGFpZGUgKi8KCXRhYmxlLnN1ZG9rb29sIHRyIHRkIHsKCQl1c2VyLXNlbGVjdDogbm9uZTsKCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJZm9udC1zaXplOiAxNHB0OwoJCXdpZHRoOiAzOHB4OwoJCWhlaWdodDogMzhweDt9Cgl0YWJsZS5zdWRva29vbCB0ciB0ZC5pbmkgewoJCWZvbnQtd2VpZ2h0OiBib2xkOwoJCWNvbG9yOiB2YXIoLS1jbS12YXItY29sb3IsICNhZmI3ZDMpO30KCXRhYmxlLnN1ZG9rb29sIHRyIHRkLnZpZGUgewoJCWNvbG9yOiB2YXIoLS1jbS1wcm9wZXJ0eS1jb2xvciwgIzc3Nyk7fQoJdGFibGUuc3Vkb2tvb2wgdHIgdGQuY2FjaMOpZSB7CgkJY29sb3I6IHRyYW5zcGFyZW50O30KLypQb3VyIGxlIHLDqXN1bHRhdG1pbmkgb3UgYWlkZW1pbmkqLwoJdGFibGUuc3Vkb2tvb2xtaW5pIHsKCQlib3JkZXI6IGhpZGRlbiAhaW1wb3J0YW50OwoJCW1hcmdpbi1ibG9jay1zdGFydDogMDsKCQltYXJnaW4tYmxvY2stZW5kOiAwO30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciwKCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZCB7Ym9yZGVyOjAgIWltcG9ydGFudDt9Cgl0YWJsZS5zdWRva29vbG1pbmkgdHIgdGQgewoJCXVzZXItc2VsZWN0OiBub25lOwoJCXRleHQtYWxpZ246IGNlbnRlcjsKCQlmb250LXNpemU6IDcuNDk5OTlwdDsKCQl3aWR0aDogMTJweDsKCQloZWlnaHQ6IDExLjY3MTg3cHg7IAoJCQljb2xvcjogdmFyKC0tY20tcHJvcGVydHktY29sb3IsICM3NzcpO30KCXRhYmxlLnN1ZG9rb29sbWluaSB0ciB0ZC5jYWNow6llIHtjb2xvcjogdHJhbnNwYXJlbnQ7fQo8L3N0eWxlPiIiIik7IHBvdXJ2b2lycGx1dMO0dCA9IERvY3MuSFRNTChyYXciIiI8c2NyaXB0PgovLyBjb25zdCBwbHV0w7R0c3R5bMOpID0gYDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLi9oaWRlLXVpLmNzcyI+PHN0eWxlIGlkPSJjYWNow6ltb2lwbHV0w7R0Ij4KY29uc3QgcGx1dMO0dHN0eWzDqSA9IGA8c3R5bGUgaWQ9ImNhY2jDqW1vaXBsdXTDtHQiPgptYWluIHsKICAgIC8vIG1hcmdpbi10b3A6IDIwcHg7CiAgICBjdXJzb3I6IGF1dG87CgltYXJnaW46IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDsKICAgIC8vIHBhZGRpbmctYm90dG9tOiA0cmVtICFpbXBvcnRhbnQ7fQpuYXYsIGhlYWRlciwgcHJlYW1ibGUsCnBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEgLnJ1bmNlbGwsCmJvZHkgPiBoZWFkZXIsCnByZWFtYmxlID4gYnV0dG9uLCAKcGx1dG8tY2VsbCA+IGJ1dHRvbiwKcGx1dG8taW5wdXQgPiBidXR0b24sCmZvb3RlciwKcGx1dG8tcnVuYXJlYSwKI2hlbHBib3gtd3JhcHBlciB7CiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fQpwbHV0by1zaG91bGRlciB7Cgl2aXNpYmlsaXR5OmhpZGRlbjt9CnBsdXRvLWNlbGw6bm90KC5zaG93X2lucHV0KSA+IHBsdXRvLXJ1bmFyZWEsCnBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhIHsKICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7CgliYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDt9CgpAbWVkaWEgc2NyZWVuIGFuZCAoYW55LXBvaW50ZXI6IGZpbmUpIHsKICAgIHBsdXRvLWNlbGwgPiBwbHV0by1ydW5hcmVhIHsKICAgICAgICAvLyBvcGFjaXR5OiAwLjU7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAvKiB0byBtYWtlIGl0IGZlZWwgc21vb3RoOiAqLwogICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4yNXMgZWFzZS1pbi1vdXQ7CiAgICB9CiAgICBwbHV0by1jZWxsID4gcGx1dG8tcnVuYXJlYSA+IGJ1dHRvbjpob3ZlciA+IHNwYW4sCiAgICBwbHV0by1jZWxsOmhvdmVyID4gcGx1dG8tcnVuYXJlYSA+IHNwYW4gewogICAgICAgIC8vIC8qIGF2YW50ICovIG9wYWNpdHk6IDE7CiAgICAgICAgb3BhY2l0eTogMC41OwogICAgICAgIC8qIHRvIG1ha2UgaXQgZmVlbCBzbmFwcHk6ICovCiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlLWluLW91dDsKICAgIH0KICAvLyAgcGx1dG8tY2VsbCA+IHBsdXRvLXNob3VsZGVyID4gYnV0dG9uOmhvdmVyIHsKICAvLyAgICAgIG9wYWNpdHk6IDA7CiAgLy8gICAgICAvKiB0byBtYWtlIGl0IGZlZWwgc25hcHB5OiAqLwogIC8vICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlLWluLW91dDsKICAvLyAgfSAKfSAKPC9zdHlsZT5gOwpmdW5jdGlvbiBjb29sb3VwYXMoKSB7IAoJdmFyIEJOID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJOIik7CglpZiAoQk4uaW5uZXJIVE1MID09ICLwn5iJIikgeyBCTi5pbm5lckhUTUwgPSAi8J+YjiI7fSBlbHNlIHsgQk4uaW5uZXJIVE1MID0gIvCfmIkiO307Cn07Ci8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJCTiIpPy5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIGNvb2xvdXBhcyk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJCTiIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGNvb2xvdXBhcyk7Cgp2YXIgc3R5bMOpY2FjaMOpID0gaHRtbGA8c3BhbiBpZD0ic3R5bMOpIj4ke3BsdXTDtHRzdHlsw6l9PC9zcGFuPmA7Ci8vIHZhciBzdHlsw6ljYWNow6kgPSBodG1sYDxzcGFuIGlkPSJzdHlsw6kiPjwvc3Bhbj5gOyAvLyBGQVVYIGJpZG91aWxsZSDDoCBzdXBwcmltZXIgLy8vLwpmdW5jdGlvbiBzdHlsw6lvdXBhcygpIHsgCgl2YXIgc3R5bMOpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0eWzDqSIpOwoJdmFyIGNhY2jDqW1vaXBsdXTDtHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FjaMOpbW9pcGx1dMO0dCIpOwoJaWYgKGNhY2jDqW1vaXBsdXTDtHQpIHsgCgkJc3R5bMOpLmlubmVySFRNTCA9ICcnOwoJfSBlbHNlIHsKCQlzdHlsw6kuaW5uZXJIVE1MID0gcGx1dMO0dHN0eWzDqTsKCX07Cn07CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbHV0b3QiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHN0eWzDqW91cGFzKTsKcmV0dXJuIHN0eWzDqWNhY2jDqTsKPC9zY3JpcHQ+IiIiKTsgY2FsZXBpbiA9IERvY3MuSFRNTChyYXciPHNjcmlwdD5yZXR1cm4gaHRtbGA8YSBocmVmPSR7ZG9jdW1lbnQuVVJMLnNlYXJjaCgnLmh0bWwnKT4xID8gZG9jdW1lbnQuVVJMLnJlcGxhY2UoJ2h0bWwnLCAnamwnKSA6IGRvY3VtZW50LlVSTC5yZXBsYWNlKCdlZGl0JywgJ25vdGVib29rZmlsZScpfSB0YXJnZXQ9J19ibGFuaycgZG93bmxvYWQ+JHtkb2N1bWVudC50aXRsZS5yZXBsYWNlKCfwn46IICcsJycpLnJlcGxhY2UoJ+KAlCBQbHV0by5qbCcsJycpfTwvYT5gOzwvc2NyaXB0PiIpOyBjYWxld2ViID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PnJldHVybiBodG1sYDxhIGhyZWY9JHtkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEgPyBkb2N1bWVudC5VUkwgOiBkb2N1bWVudC5VUkwucmVwbGFjZSgnZWRpdCcsICdub3RlYm9va2V4cG9ydCcpfSB0YXJnZXQ9J19ibGFuaycgc3R5bGU9J2ZvbnQtd2VpZ2h0OiBub3JtYWw7JyBkb3dubG9hZD5IVE1MPC9hPmA7PC9zY3JpcHQ+Iik7IHBsdXRvb2psID0gRG9jcy5IVE1MKHJhdyI8c2NyaXB0PmlmIChkb2N1bWVudC5VUkwuc2VhcmNoKCcuaHRtbCcpPjEpIHsKCXJldHVybiBodG1sYDxlbT5QbHV0by5qbDwvZW0+YAogICAgfSBlbHNlIHsgcmV0dXJuIGh0bWxgPGEgaHJlZj0nLi8nIHRhcmdldD0nX2JsYW5rJyBzdHlsZT0nZm9udC13ZWlnaHQ6IG5vcm1hbDsnPjxlbT5QbHV0bzwvZW0+PC9hPjxlbT4uamw8L2VtPmB9PC9zY3JpcHQ+Iik7IHBvdXJnYXJkZXJsZXRlbXBzID0gRG9jcy5IVE1MKHJhdyIiIjxzY3JpcHQ+ZnVuY3Rpb24gZ8OpbsOpcmF0ZXVyRGVDb2RlQ2zDqSgpIHsKCXZhciBjb3B5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwb3VyLWTDqWZpbmlyLWxlLXN1ZG9rdS1pbml0aWFsIik7Cgl2YXIgcGFzdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWRva2luY2lwaXQiKTsKCWNvcHlUZXh0LnZhbHVlID0gJ3ZpZXV4U3Vkb2t1ISgnICsgcGFzdGV4dC5nZXRBdHRyaWJ1dGUoJ3N1ZGF0YScpICsgJyknOwoJY29weVRleHQuc2VsZWN0KCk7CgluYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb3B5VGV4dC52YWx1ZSk7IC8vIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsw6lnw6luIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBnw6luw6lyYXRldXJEZUNvZGVDbMOpKTsKCQp2YXIgZWRpdENTUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CmVkaXRDU1MuaWQgPSAidG91c2xlc3RlbXBzIjsKdmFyIHRvZ2dsw6kgPSAiMCI7CgpsZXQgdG91c2xlc3RlbXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicnVudGltZSIpOwovLyB0b3VzbGVzdGVtcHMuZm9yRWFjaCggZSA9PiB7IC8vIG5lIGZvbmN0aW9ubmUgcGFzIDonKApmb3IobGV0IGo9MDsgajwoT2JqZWN0LmtleXModG91c2xlc3RlbXBzKS5sZW5ndGgpOyBqKyspewoJdG91c2xlc3RlbXBzW2pdLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHsKCQkvLyBhbGVydChlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJvcGFxdWVvdXBhcyIpKTsKCQl2YXIgc3R5bMOpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3VzbGVzdGVtcHMiKTsKCQl0b2dnbMOpID0gKHRvZ2dsw6k9PSIwIikgPyAiMC43IiA6ICIwIiA7CgkJc3R5bMOpdC5pbm5lckhUTUwgPSAicGx1dG8tY2VsbCA+IHBsdXRvLXJ1bmFyZWEgeyBvcGFjaXR5OiAiKyB0b2dnbMOpICsgIjsgfSI7Cgl9KTsKfTsKcmV0dXJuIGVkaXRDU1M7Cjwvc2NyaXB0PiIiIik7IGJvbnVzZXRhc3R1Y2VzID0gbWQiIiIjIyMjICQoaHRtbCI8ZGl2IGlkPSdCb251cycgc3R5bGU9J3VzZXItc2VsZWN0OiBub25lOyBtYXJnaW4tdG9wOiAxN3B4ICFpbXBvcnRhbnQ7Jz5Cb251c8KgOiBsZSBzdWRva3UgZW4gY291cnMgcG91ciBwbHVzwqB0YXJkLi4uPC9kaXY+IikgCkplIGNvbnNlaWxsZSBkZSBnYXJkZXIgbGUgY29kZSBkdSBzdWRva3UgZW4gY291cnMgKGVuIGNsaXF1YW50LCBsYSBjb3BpZSBlc3QgYXV0b21hdGlxdWXCoOKcqCkgCiQoaHRtbCI8aW5wdXQgdHlwZT1idXR0b24gaWQ9J2Nsw6lnw6luJyB2YWx1ZT0nQ29waWVyIGxlIGNvZGUgw6AgZ2FyZGVyIDopJz48aW5wdXQgaWQ9J3BvdXItZMOpZmluaXItbGUtc3Vkb2t1LWluaXRpYWwnIHR5cGU9J3RleHQnIHN0eWxlPSdmb250LXNpemU6IHgtc21hbGw7IG1hcmdpbi1yaWdodDogNnB4OyBtYXgtd2lkdGg6IDM4cHg7IGJhY2tncm91bmQtY29sb3I6Izc3Nzc3NzI2OyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDAgOHB4IDhweCAwOyBmaWx0ZXI6IG9wYWNpdHkoODklKTsnIC8+IikgKipOb3RlKirCoDrCoMOgwqBjb2xsZXLCoGFpbGxldXJzIGRhbnMgdW4gYmxvYy1ub3RlcyBwYXIgZXhlbXBsZSAKCiMjIyMjIC4uLsOgIHJldHJvdXZlciBjb21tZSBkJ2F1dHJlcyB2aWV1eCBzdWRva3VzwqA6IAoKRW5zdWl0ZSwgZGFucyB1bmUgKG5vdXZlbGxlKSBzZXNzaW9uLCBjbGlxdWVyIGRhbnMgX2BFbnRlcsKgY2VsbMKgY29kZS4uLmBfIHRvdXQgZW4gYmFzwqDihpMgZXQgY29sbGVyIGxlIGNvZGUgcXVpIGZ1dCBnYXJkw6kgKGNmLiBub3RlIGNpLWRlc3N1cykuCkVuZmluLCBsYW5jZXIgbGUgY29kZSBhdmVjIGxlIGJvdXRvbsKg4pa2IHRvdXQgw6AgZHJvaXRlIChxdWkgY2xpZ25vdGUganVzdGVtZW50KS4gCkNlIHZpZXV4IHN1ZG9rdSBlc3QgcmVzdG9yw6kgZW4gcGxhY2UgZHUgUmV0b3VyIGluc3RhbnRhbsOpwqAhIChjZWxhIFtyZXRvdXJuZSBlbsKgaGF1dMKg4oaRXSgjTW9kaWZpZXJJbml0KSBkZSBsYSBwYWdlKSAKCQokKGh0bWwiPGRldGFpbHMgb3Blbj48c3VtbWFyeSBzdHlsZT0nbGlzdC1zdHlsZTogbm9uZTsnPjxoNiBpZD0nQm9udXNBc3R1Y2VzJyBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7dXNlci1zZWxlY3Q6IG5vbmU7Jz4gQXV0cmVzIHBldGl0ZXMgYXN0dWNlc8KgOjwvaDY+PC9zdW1tYXJ5PjxzdHlsZT5kZXRhaWxzW29wZW5dIHN1bW1hcnk6OmFmdGVyIHtjb250ZW50OiAnIChjbGlxdWVyIGljaSBwb3VyIGxlcyBjYWNoZXIpJzt9IHN1bW1hcnk6bm90KGRldGFpbHNbb3Blbl0gc3VtbWFyeSk6OmFmdGVyIHtjb250ZW50OiAnIChjbGlxdWVyIGljaSBwb3VyIGxlcyByZXZvaXIpJzt9PC9zdHlsZT4iKQogICAxLiBNb2RpZmllciBsZSBwcmVtaWVyIHN1ZG9rdSAow6AgdmlkZXIgc2kgYmVzb2luLCBncsOiY2UgYXUgcHJlbWllciBjaG9peCkgZXQgY29jaGVyIGVuc3VpdGUgY2UgcXVlIGwnb24gc291aGFpdGUgdm9pciBjb21tZSAqKmFpZGUgb3Ugc29sdXRpb24qKsKgOyBsZSBzdWRva3UgZHUgZGVzc291cyByw6lwb25kIGFpbnNpIGF1eCBvcmRyZXMuIENvY2hlciBg8J+kq8KgQ2FjaMOpZWAgcG91ciByZXZvaXIgZGVzIGluZGljYXRpb25zIHN1ciBsJ2VtcGxvaSBkZXMgY2FzZXMgCiAgIDIuIElsIGVzdCBwb3NzaWJsZSBkZSBib3VnZXIgYXZlYyBsZXMgZmzDqGNoZXMsIGFsbGVyIMOgIGxhIGxpZ25lIHN1aXZhbnRlIGF1dG9tYXRpcXVlbWVudCAow6AgbGEgX1tTbmFrZV0oaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT1TbmFrZSlfKS4gSWwgeSBhIGF1c3NpIGRlcyByYWNjb3VyY2lzLCBjb21tZSBgSGDCoD3CoGhhdXQsIGBWYCBvdSBgR2DCoD3CoGdhdWNoZSwgYERgIGBKYCBgTmDCoD3CoGRyb2l0ZSwgYEJgwqA9wqBiYXMuIE5pIGJlc29pbiBkZSBwYXbDqSBudW3DqXJpcXVlLCBuaSBkJ2FwcHV5ZXIgc3VyIF9NYWp1c2N1bGVfLCBsZXMgdG91Y2hlcyBzdWl2YW50ZXMgc29udCBpZGVuZGlxdWVzIGAxMjM0wqA1NjfCoDg5MGAgPSBgQVpFUsKgVFlVwqBJT1BgID0gYCbDqSInwqAoLcOowqBfw6fDoGAgCiAgIDMuIE9uIHBldXQgKipyZW1vbnRlciBsYSBzb2x1dGlvbioqIGF1IGxpZXUgZHUgcHJlbWllciBzdWRva3UgZW4gY2xpcXVhbnQgc3VyIGxlIHRleHRlIFtTdWRva3UgaW5pdGlhbMKg4qS04oCmXSgjdmFfZXRfdmllbnQpIGV0IHBvdXIgcmV2ZW5pciBhdSBzdWRva3UgaW5pdGlhbCBtb2RpZmlhYmxlIFvihqrCoENsaXF1ZXLigKZdKCNsaWduZW5vbnZpc2libGUpwqBzdXIgbGUgdGV4dGUgcXVpIGFwcGFyYWl0IGp1c3RlIGVuIGRlc3NvdXMgCiAgIDQuIFBvdXIgaW5mb3JtYXRpb24sIGxhIGZvbmN0aW9uICoqdmlldXhTdWRva3UhKiooKSwgb3UgKip2aWV1eCoqKCkgb3UgKip2cyoqKCksIHNhbnMgcGFyYW3DqHRyZSBwZXJtZXQgZGUgZ8OpbsOpcmVyIHVuIHN1ZG9rdSBhbMOpYXRvaXJlLiBFbiBtZXR0YW50IHVuIG5vbWJyZSwgcGFyIGV4ZW1wbGUgKip2aWV1eFN1ZG9rdSEoNjIqKinCoDogY2Ugc2VyYSBsZSB0b3RhbCBkZSBjYXNlcyB2aWRlcyBkdSBzdWRva3UgYWzDqWF0b2lyZSBjb25zdHJ1aXQuIEVuZmluLCBlbiBtZXR0YW50IHVuIGludGVydmFsbGUsIHNvdXMgbGEgZm9ybWUgKipkw6lidXTCoDrCoGZpbioqLCBwYXIgZXhlbXBsZSAqKnZpZXV4U3Vkb2t1ISoqKCoqMDo4MSoqKcKgOiB1biBub21icmUgYWzDqWF0b2lyZSBkYW5zIGNldCBpbnRlcnZhbGxlIHNlcmEgdXRpbGlzw6kuIFBvdXIgbGVzIHN1ZG9rdXMgYWzDqWF0b2lyZXMsIGxlIGZhaXQgZGUgcmVjbGlxdWVyIHN1ciBsZSBib3V0b27CoOKWtiBlbiBnw6luw6hyZSB1biBub3V2ZWF1IAogICA1LiBMZSBjb2RlIGRlIGNlIHByb2dyYW1tZSBlbiBbX0p1bGlhX10oaHR0cHM6Ly9mci53aWtpcGVkaWEub3JnL3dpa2kvSnVsaWFfKGxhbmdhZ2VfZGVfcHJvZ3JhbW1hdGlvbikpIGVzdCBvYnNlcnZhYmxlIGVuIGNsaXF1YW50IGQnYWJvcmQgc3VyICQoaHRtbCI8aW5wdXQgdHlwZT1idXR0b24gaWQ9J3BsdXRvdCcgdmFsdWU9J0NlY2nCoPCfk53wn6STJz4iKSBwb3VyIGJhc2N1bGVyIHN1ciBsJ2ludGVyZmFjZSBkZSAkcGx1dG9vamwsIHB1aXMgZW4gY2xpcXVhbnQgc3VyIGwnxZNpbCDwn5GBIMOgIGPDtHTDqSBkZSBjaGFxdWUgY2VsbHVsZS4gSWwgZXN0IGF1c3NpIHBvc3NpYmxlIGRlIHTDqWzDqWNoYXJnZXIgY2UgY2FsZXBpbiAkY2FsZXBpbiBvdSBlbiAkY2FsZXdlYgokKGh0bWwiPC9kZXRhaWxzPiIpCiRwb3Vydm9pcnBsdXTDtHQgCiRzdHlsw6lsw6BiYXNhdmVjYm9udXMKJHBvdXJnYXJkZXJsZXRlbXBzIiIiq2NvZGVfZm9sZGVkw9kkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMTEtMTIzNDU2Nzg5MDEwhKdjZWxsX2lk2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAxMS0xMjM0NTY3ODkwMTCwcnVubmluZ19kaXNhYmxlZMKkY29kZaCrY29kZV9mb2xkZWTC2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNC0xMjM0NTY3ODkwMDKEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA0LTEyMzQ1Njc4OTAwMrBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2gHHYmVnaW4gCglib3V0b25TdWRva3VJbml0aWFsICMgUmVtZXR0cmUgbGUgcHVjZSAiTW9kaWZpZXJJbml0IiBzdXIgUmV0b3VyIGluc3RhbnRhbsOpIDspCglzdWRva3Vpbml0aWFsISgpICMgdmlldXhTdWRva3UhKFN1ZG9rdU3DqW1vWzNdKSBQb3VyIHJlbXBsYWNlciBwYXIgY2VsdWkgbW9kaWZpw6kKCW1kIiIiICQoQGJpbmQgdmlkZXJPdXBhcyBwdWNlcyhbIlZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsIiwiUmV0b3VyIGluc3RhbnRhbsOpIDspIl0sIlJldG91ciBpbnN0YW50YW7DqSA7KSI7IGlkUHVjZXM9Ik1vZGlmaWVySW5pdCIpKSAkKGh0bWwiwqA8YSBocmVmPScjQm9udXMnIHN0eWxlPSdwYWRkaW5nLWxlZnQ6IDEwcHg7IGJvcmRlci1sZWZ0OiBtZWRpdW0gZGFzaGVkICM3Nzc7Jz5Cb251c8KgZW7CoGJhc8Kg4oaTPC9hPiIpwqBfOsKgYXN0dWNlc8KgK8KgdmlldXhTdWRva3UhXyIiIgplbmSrY29kZV9mb2xkZWTD2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNy0xMjM0NTY3ODkwMDaEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA3LTEyMzQ1Njc4OTAwNrBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2Wh2aWRlck91cGFzOyBtZCIiIiMjIyMgJHZhZXR2aWVudCBTdWRva3UgaW5pdGlhbMKg4qS0IChtb2RpZmlhYmxlKSBldCBzYSBzb2x1dGlvbsKgOiAkKGh0bWwiPC9zcGFuPiIpICIiIqtjb2RlX2ZvbGRlZMPZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAyLTEyMzQ1Njc4OTAwMYSnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDItMTIzNDU2Nzg5MDAxsHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXaA6ttZCIjIFLDqXNvdWRyZSB1biBTdWRva3UgcGFyIEFsZXhpc8KgJGNvb2wiICM9IHYxLjguNsKgamV1ZGnCoDA3LzA3LzIwMjLCoPCfmIkKClBvdXIgbGEgdnVlIEhUTUwgZXQgbGUgc3R5bGUgQ1NTLCBjZWxhIGVzdCBpbnNwaXLDqSBkdSBzdWRva3UgaHR0cHM6Ly9vYnNlcnZhYmxlaHEuY29tL0BmaWxpcGVybWxoL2lhLXN1ZG9rdS1wbGUxClBvdXIgbGUgSmF2YVNjcmlwdCwgbWVyY2kgw6AgKGNhc2Ugc3VpdmFudGUgaW5wdXQpIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNTU5NTczMiwgKHRvdWNoZXMgY2xhdmllcikgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ0MjEzMDM2CkV0IGJpZW4gc8O7ciBsZSBjYWxlcGluIGQnZXhlbXBsZSBkZSBGb25zICIzLiBJbnRlcmFjdGl2aXR5IgpQb3VyIGluZm8sIGxlIGNvZGUgcHJpbmNpcGFsIGVzdCBzdHlsw6lsw6BiYXNhdmVjYm9udXMhIG91IHBsdXTDtHQgY2FjaMOpIGp1c3RlIGFwcsOocyA6KQoKQ2UgInBsdXRva3UiIGVzdCB2aXNpYmxlIHN1csKgOiAKaHR0cHM6Ly9naXRodWIuY29tLzRMRC9wbHV0b2t1CgpQb3VyIGxlIHJlbGFuY2VyIHBvdXIgaW5mb8KgOiAKaHR0cHM6Ly9teWJpbmRlci5vcmcvdjIvZ2gvZm9uc3AvcGx1dG8tb24tYmluZGVyL0hFQUQ/dXJscGF0aD1wbHV0by9vcGVuP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vNExEL3BsdXRva3UvbWFpbi9QbHV0b2t1LmpsCk91IGNmLiBodHRwczovL2dpdGh1Yi5jb20vZm9uc3AvUGx1dG8uamwgZXQgaHR0cHM6Ly9naXRodWIuY29tL2ZvbnNwL3BsdXRvLW9uLWJpbmRlciA6IApodHRwczovL2JpbmRlci5wbHV0b2psLm9yZy9vcGVuP3VybD1odHRwczolMjUyRiUyNTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyNTJGNExEJTI1MkZwbHV0b2t1JTI1MkZtYWluJTI1MkZQbHV0b2t1LmpsIAoKPSOrY29kZV9mb2xkZWTD2SRhMjM0NTY3OC03NjU0LTMyMTAtYjAwNS0xMjM0NTY3ODkwMDWEp2NlbGxfaWTZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDA1LTEyMzQ1Njc4OTAwNbBydW5uaW5nX2Rpc2FibGVkwqRjb2Rl2cJiZWdpbgoJY2hvaXhTdWRva3UgPSAoIWlzYSh2aWRlck91cGFzLCBTdHJpbmcpIHx8IHZpZGVyT3VwYXMgIT0gIlZpZGVyIGxlIHN1ZG9rdSBpbml0aWFsIiAJCSAgPyAgMiAgOiAgMSAgKQoJQGJpbmQgYmluZEpTdWRva3UgQm9uZEphbWVzQm9uZChTdWRpbmkoU3Vkb2t1TcOpbW8sIGNob2l4U3Vkb2t1KSwgU3Vkb2t1TcOpbW9bM10pCmVuZKtjb2RlX2ZvbGRlZMPZJGEyMzQ1Njc4LTc2NTQtMzIxMC1iMDAzLTEyMzQ1Njc4OTAwM4SnY2VsbF9pZNkkYTIzNDU2NzgtNzY1NC0zMjEwLWIwMDMtMTIzNDU2Nzg5MDAzsHJ1bm5pbmdfZGlzYWJsZWTCpGNvZGXZyW1kIiIiUG91ciBjZXR0ZSBzZXNzaW9uLCBzaSBiZXNvaW4gZCd1biA6ICQoQGJpbmQgYm91dG9uU3Vkb2t1SW5pdGlhbCBodG1sIjxpbnB1dCB0eXBlPWJ1dHRvbiBzdHlsZT0nbWFyZ2luOiAwIDZweCAwIDZweCcgdmFsdWU9J/Cfk7cgaW5zdGFudGFuw6kgOyknPiIpICooc2nCoHN1ZG9rdcKgdmlkZcKg4oaSwqBzdWRva3XCoGFsw6lhdG9pcmUpKiIiIqtjb2RlX2ZvbGRlZMOrbm90ZWJvb2tfaWTZJDQ3ZTY4ODdjLTc0ZTEtMTFlZC0yMmYzLWIzNTlhNjYzZWFkN6tpbl90ZW1wX2RpcsI=";
window.pluto_preamble_html = undefined;
</script>
<!-- [automatically generated launch parameters can be inserted here] -->


    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/editor.js" type="module" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/warn_old_browsers.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/fonsp/Pluto.jl@0.17.7/frontend/common/SetupMathJax.js"></script>
    <script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg-full.js" async></script>
</head>

<body class="loading no-MÎ±Î¸Jax"></body>
</html>
